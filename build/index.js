/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={25167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataSnapshot:()=>Gs,Database:()=>Ks,OnDisconnect:()=>Vs,Query:()=>Hs,Reference:()=>zs,ServerValue:()=>Xs,enableLogging:()=>Ne,registerDatabase:()=>Zs});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function a(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function u(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}Object.create,Object.create;var p=function(e,t){if(!e)throw d(t)},d=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},f=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],o=0;o<e.length;o+=3){var i=e[o],s=o+1<e.length,a=s?e[o+1]:0,c=o+2<e.length,l=c?e[o+2]:0,u=i>>2,p=(3&i)<<4|a>>4,d=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(d=64)),n.push(r[u],r[p],r[d],r[f])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],r=0,n=0;r<e.length;){var o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var s=((7&o)<<18|(63&(i=e[r++]))<<12|(63&(a=e[r++]))<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{i=e[r++];var a=e[r++];t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],o=0;o<e.length;){var i=r[e.charAt(o++)],s=o<e.length?r[e.charAt(o)]:0,a=++o<e.length?r[e.charAt(o)]:64,c=++o<e.length?r[e.charAt(o)]:64;if(++o,null==i||null==s||null==a||null==c)throw Error();var l=i<<2|s>>4;if(n.push(l),64!==a){var u=s<<4&240|a>>2;if(n.push(u),64!==c){var p=a<<6&192|c;n.push(p)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){try{return h.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m(e){return y(void 0,e)}function y(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=y(e[r],t[r]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))}return e.prototype.wrapCallback=function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}},e}();function b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function w(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var E=function(e){function t(r,n,o){var i=e.call(this,n)||this;return i.code=r,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,_.prototype.create),i}return o(t,e),t}(Error),_=function(){function e(e,t,r){this.service=e,this.serviceName=t,this.errors=r}return e.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0]||{},o=this.service+"/"+e,i=this.errors[e],s=i?O(i,n):"Error",a=this.serviceName+": "+s+" ("+o+").",c=new E(o,a,n);return c},e}();function O(e,t){return e.replace(S,(function(e,r){var n=t[r];return null!=n?String(n):"<"+r+"?>"}))}var S=/\{\$([^}]+)}/g;function T(e){return JSON.parse(e)}function C(e){return JSON.stringify(e)}var A=function(e){var t={},r={},n={},o="";try{var i=e.split(".");t=T(g(i[0])||""),r=T(g(i[1])||""),o=i[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:o}};function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function k(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t,r){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=t.call(r,e[o],o,e));return n}var P=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var r=this.W_;if("string"==typeof e)for(var n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(n=16;n<80;n++){var o=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(o<<1|o>>>31)}var i,s,a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],u=this.chain_[3],p=this.chain_[4];for(n=0;n<80;n++)n<40?n<20?(i=u^c&(l^u),s=1518500249):(i=c^l^u,s=1859775393):n<60?(i=c&l|u&(c|l),s=2400959708):(i=c^l^u,s=3395469782),o=(a<<5|a>>>27)+i+p+s+r[n]&4294967295,p=u,u=l,l=4294967295&(c<<30|c>>>2),c=a,a=o;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=0,o=this.buf_,i=this.inbuf_;n<t;){if(0===i)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(o[i]=e.charCodeAt(n),++n,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;n<t;)if(o[i]=e[n],++n,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[n]=this.chain_[r]>>o&255,++n;return e},e}();function R(e,t){var r=new j(e,t);return r.subscribe.bind(r)}var j=function(){function e(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,r){var n,o=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(e,t){if("object"!=typeof e||null===e)return!1;for(var r=0,n=["next","error","complete"];r<n.length;r++){var o=n[r];if(o in e&&"function"==typeof e[o])return!0}return!1}(e)?e:{next:e,error:t,complete:r}).next&&(n.next=D),void 0===n.error&&(n.error=D),void 0===n.complete&&(n.complete=D);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(e){}})),this.observers.push(n),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function D(){}var L=function(e,t,r,n){var o;if(n<t?o="at least "+t:n>r&&(o=0===r?"none":"no more than "+r),o)throw new Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+o+".")};function F(e,t){return e+" failed: "+t+" argument "}function M(e,t,r,n){if((!n||r)&&"function"!=typeof r)throw new Error(F(e,t)+"must be a valid function.")}function B(e,t,r,n){if((!n||r)&&("object"!=typeof r||null===r))throw new Error(F(e,t)+"must be a valid context object.")}var U=function(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};function V(e){return e&&e._delegate?e._delegate:e}var q,G=function(){function e(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),H="[DEFAULT]",z=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=H);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new v;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=i({identifier:H,optional:!1},e),r=t.identifier,n=t.optional,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(n)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:H})}catch(e){}try{for(var n=c(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var i=l(o.value,2),s=i[0],a=i[1],u=this.normalizeInstanceIdentifier(s);try{var p=this.getOrInitializeService({instanceIdentifier:u});a.resolve(p)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=H),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(u(u([],l(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),l(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=H),this.instances.has(e)},e.prototype.initialize=function(e){var t,r;void 0===e&&(e={});var n=e.instanceIdentifier,o=void 0===n?H:n,i=e.options,s=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(o);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var p=c(this.instancesDeferred.entries()),d=p.next();!d.done;d=p.next()){var f=l(d.value,2),h=f[0],g=f[1];a===this.normalizeInstanceIdentifier(h)&&g.resolve(u)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,a),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var r,n;try{for(var o=c(this.onInitCallbacks),i=o.next();!i.done;i=o.next()){var s=i.value;try{s(e,t)}catch(e){}}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(e){var t,r=e.instanceIdentifier,n=e.options,o=void 0===n?{}:n,i=this.instances.get(r);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=r,t===H?void 0:t),options:o}),this.instances.set(r,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,i)}catch(e){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:H:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),K=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new z(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function W(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}var J,$=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(J||(J={}));var Y,Q={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},X=J.INFO,Z=((q={})[J.DEBUG]="log",q[J.VERBOSE]="log",q[J.INFO]="info",q[J.WARN]="warn",q[J.ERROR]="error",q),ee=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(t<e.logLevel)){var o=(new Date).toISOString(),i=Z[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[i].apply(console,W(["["+o+"]  "+e.name+":"],r))}},te=function(){function e(e){this.name=e,this._logLevel=X,this._logHandler=ee,this._userLogHandler=null,$.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in J))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Q[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,W([this,J.DEBUG],e)),this._logHandler.apply(this,W([this,J.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,W([this,J.VERBOSE],e)),this._logHandler.apply(this,W([this,J.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,W([this,J.INFO],e)),this._logHandler.apply(this,W([this,J.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,W([this,J.WARN],e)),this._logHandler.apply(this,W([this,J.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,W([this,J.ERROR],e)),this._logHandler.apply(this,W([this,J.ERROR],e))},e}();function re(e){$.forEach((function(t){t.setLogLevel(e)}))}var ne,oe=((Y={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Y["bad-app-name"]="Illegal App name: '{$appName}",Y["duplicate-app"]="Firebase App named '{$appName}' already exists",Y["app-deleted"]="Firebase App named '{$appName}' already deleted",Y["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Y["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Y),ie=new _("app","Firebase",oe),se="@firebase/app",ae="[DEFAULT]",ce=((ne={})[se]="fire-core",ne["@firebase/analytics"]="fire-analytics",ne["@firebase/app-check"]="fire-app-check",ne["@firebase/auth"]="fire-auth",ne["@firebase/database"]="fire-rtdb",ne["@firebase/functions"]="fire-fn",ne["@firebase/installations"]="fire-iid",ne["@firebase/messaging"]="fire-fcm",ne["@firebase/performance"]="fire-perf",ne["@firebase/remote-config"]="fire-rc",ne["@firebase/storage"]="fire-gcs",ne["@firebase/firestore"]="fire-fst",ne["fire-js"]="fire-js",ne["firebase-wrapper"]="fire-js-all",ne),le=new te("@firebase/app"),ue=function(){function e(e,t,r){var n=this;this.firebase_=r,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=m(e),this.container=new K(t.name),this._addComponent(new G("app",(function(){return n}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return n._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var r;void 0===t&&(t=ae),this.checkDestroyed_();var n=this.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(r=n.getComponent())||void 0===r?void 0:r.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=ae),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){le.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ie.create("app-deleted",{appName:this.name_})},e}();ue.prototype.name&&ue.prototype.options||ue.prototype.delete||console.log("dc");var pe=function e(){var t=function(e){var t={},r=new Map,n={__esModule:!0,initializeApp:function(r,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var i=o;void 0===i.name&&(i.name=ae);var s=i.name;if("string"!=typeof s||!s)throw ie.create("bad-app-name",{appName:String(s)});if(x(t,s))throw ie.create("duplicate-app",{appName:s});var a=new e(r,i,n);return t[s]=a,a},app:o,registerVersion:function(e,t,r){var n,o=null!==(n=ce[e])&&void 0!==n?n:e;r&&(o+="-"+r);var s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var c=['Unable to register library "'+o+'" with version "'+t+'":'];return s&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void le.warn(c.join(" "))}i(new G(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:re,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw ie.create("invalid-log-argument");!function(e,t){for(var r=function(r){var n=null;t&&t.level&&(n=Q[t.level]),r.userLogHandler=null===e?null:function(t,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var s=o.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=n?n:t.logLevel)&&e({level:J[r].toLowerCase(),message:s,args:o,type:t.name})}},n=0,o=$;n<o.length;n++)r(o[n])}(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:i,removeApp:function(e){delete t[e]},components:r,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(!x(t,e=e||ae))throw ie.create("no-app",{appName:e});return t[e]}function i(i){var s=i.name;if(r.has(s))return le.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===i.type?n[s]:null;if(r.set(s,i),"PUBLIC"===i.type){var a=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[s])throw ie.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==i.serviceProps&&y(a,i.serviceProps),n[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,i.multipleInstances?e:[])}}for(var c=0,l=Object.keys(t);c<l.length;c++){var u=l[c];t[u]._addComponent(i)}return"PUBLIC"===i.type?n[s]:null}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,n}(ue);return t.INTERNAL=i(i({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){y(t,e)},createSubscribe:R,ErrorFactory:_,deepExtend:y}),t}(),de=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var he=pe.initializeApp;pe.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w()&&le.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),he.apply(void 0,e)};var ge=pe;!function(e,t){e.INTERNAL.registerComponent(new G("platform-logger",(function(e){return new de(e)}),"PRIVATE")),e.registerVersion(se,"0.6.22",void 0),e.registerVersion("fire-js","")}(ge);const me=ge;e=r.hmd(e);var ye="";function ve(e){ye=e}var be,we=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),C(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:T(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),Ee=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return x(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),_e=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new we(t)}}catch(e){}return new Ee},Oe=_e("localStorage"),Se=_e("sessionStorage"),Te=new te("@firebase/database"),Ce=(be=1,function(){return be++}),Ae=function(e){var t=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319){var i=o-55296;n++,p(n<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(n)-56320)}o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):o<65536?(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}(e),r=new P;r.update(t);var n=r.digest();return h.encodeByteArray(n)},xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r="",n=0;n<e.length;n++){var o=e[n];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=xe.apply(null,o):r+="object"==typeof o?C(o):o,r+=" "}return r},Ie=null,ke=!0,Ne=function(e,t){p(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Te.logLevel=J.VERBOSE,Ie=Te.log.bind(Te),t&&Se.set("logging_enabled",!0)):"function"==typeof e?Ie=e:(Ie=null,Se.remove("logging_enabled"))},Pe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===ke&&(ke=!1,null===Ie&&!0===Se.get("logging_enabled")&&Ne(!0)),Ie){var r=xe.apply(null,e);Ie(r)}},Re=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];Pe.apply(void 0,u([e],l(t)))}},je=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE INTERNAL ERROR: "+xe.apply(void 0,u([],l(e)));Te.error(r)},De=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE FATAL ERROR: "+xe.apply(void 0,u([],l(e)));throw Te.error(r),new Error(r)},Le=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE WARNING: "+xe.apply(void 0,u([],l(e)));Te.warn(r)},Fe=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Me="[MIN_NAME]",Be="[MAX_NAME]",Ue=function(e,t){if(e===t)return 0;if(e===Me||t===Be)return-1;if(t===Me||e===Be)return 1;var r=Je(e),n=Je(t);return null!==r?null!==n?r-n==0?e.length-t.length:r-n:-1:null!==n?1:e<t?-1:1},Ve=function(e,t){return e===t?0:e<t?-1:1},qe=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+C(t))},Ge=function(e){if("object"!=typeof e||null===e)return C(e);var t=[];for(var r in e)t.push(r);t.sort();for(var n="{",o=0;o<t.length;o++)0!==o&&(n+=","),n+=C(t[o]),n+=":",n+=Ge(e[t[o]]);return n+"}"},He=function(e,t){var r=e.length;if(r<=t)return[e];for(var n=[],o=0;o<r;o+=t)o+t>r?n.push(e.substring(o,r)):n.push(e.substring(o,o+t));return n};function ze(e,t){for(var r in e)e.hasOwnProperty(r)&&t(r,e[r])}var Ke=function(e){p(!Fe(e),"Invalid JSON number");var t,r,n,o,i;0===e?(r=0,n=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(r=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,n=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,n=Math.round(e/Math.pow(2,-1074))));var s=[];for(i=52;i;i-=1)s.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(t?1:0),s.reverse();var a=s.join(""),c="";for(i=0;i<64;i+=8){var l=parseInt(a.substr(i,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},We=new RegExp("^-?(0*)\\d{1,10}$"),Je=function(e){if(We.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$e=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Le("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Ye=function(e,t){var r=setTimeout(e,t);return"object"==typeof r&&r.unref&&r.unref(),r},Qe=function(){function e(e,t){var r=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return r.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(r,n){setTimeout((function(){t.appCheck?t.getToken(e).then(r,n):r(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){Le('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Xe=function(){function e(e,t,r){var n=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(r,n){setTimeout((function(){t.auth_?t.getToken(e).then(r,n):r(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Le(e)},e}(),Ze=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),et=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tt="websocket",rt="long_polling",nt=function(){function e(e,t,r,n,o,i,s){void 0===o&&(o=!1),void 0===i&&(i=""),void 0===s&&(s=!1),this.secure=t,this.namespace=r,this.webSocketOnly=n,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oe.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oe.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ot(e,t,r){var n;if(p("string"==typeof t,"typeof type must == string"),p("object"==typeof r,"typeof params must == object"),t===tt)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rt)throw new Error("Unknown connection type: "+t);n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(r.ns=e.namespace);var o=[];return ze(r,(function(e,t){o.push(e+"="+t)})),n+o.join("&")}var it=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),x(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return m(this.counters_)},e}(),st={},at={};function ct(e){var t=e.toString();return st[t]||(st[t]=new it),st[t]}var lt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var n=function(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function(t){e[t]&&$e((function(){r.onMessage_(e[t])}))},n=0;n<e.length;++n)t(n);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==n(););},e}(),ut="start",pt="close",dt=function(){function e(e,t,r,n,o,i,s){var a=this;this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=n,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Re(e),this.stats_=ct(t),this.urlFn=function(e){return a.appCheckToken&&(e.ac=a.appCheckToken),ot(t,rt,e)}}return e.prototype.open=function(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new lt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,r=function(){document.body?t||(t=!0,e()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&r()})),window.attachEvent("onload",r))}}((function(){if(!r.isClosed_){r.scriptTagHolder=new ft((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l(e,5),o=n[0],i=n[1],s=n[2];if(n[3],n[4],r.incrementIncomingBytes_(e),r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,o===ut)r.id=i,r.password=s;else{if(o!==pt)throw new Error("Unrecognized command received: "+o);i?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(i,(function(){r.onClosed_()}))):r.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l(e,2),o=n[0],i=n[1];r.incrementIncomingBytes_(e),r.myPacketOrderer.handleResponse(o,i)}),(function(){r.onClosed_()}),r.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),r.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=r.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",r.transportSessionId&&(e.s=r.transportSessionId),r.lastSessionId&&(e.ls=r.lastSessionId),r.applicationId&&(e.p=r.applicationId),r.appCheckToken&&(e.ac=r.appCheckToken),"undefined"!=typeof location&&location.hostname&&et.test(location.hostname)&&(e.r="f");var t=r.urlFn(e);r.log_("Connecting via long-poll to "+t),r.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=C(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var r,n=(r=f(t),h.encodeByteArray(r,!0)),o=He(n,1840),i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=C(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ft=function(){function e(t,r,n,o){this.onDisconnect=n,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ce(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=e.createIFrame_();var i="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(i='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){Pe("frame writing exception"),e.stack&&Pe(e.stack),Pe(e)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Pe("No IE domain setting required")}catch(r){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),r="",n=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){var o=this.pendingSegs.shift();r=r+"&seg"+n+"="+o.seg+"&ts"+n+"="+o.ts+"&d"+n+"="+o.d,n++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var r=this;this.outstandingRequests.add(t);var n=function(){r.outstandingRequests.delete(t),r.newRequest_()},o=setTimeout(n,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(o),n()}))},e.prototype.addTag=function(e,t){var r=this;setTimeout((function(){try{if(!r.sendNewPolls)return;var n=r.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){var e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=function(){Pe("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))},e}(),ht=null;"undefined"!=typeof MozWebSocket?ht=MozWebSocket:"undefined"!=typeof WebSocket&&(ht=WebSocket);var gt=function(){function e(t,r,n,o,i,s,a){this.connId=t,this.applicationId=n,this.appCheckToken=o,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Re(this.connId),this.stats_=ct(r),this.connURL=e.connectionURL_(r,s,a,o),this.nodeAdmin=r.nodeAdmin}return e.connectionURL_=function(e,t,r,n){var o={v:"5"};return"undefined"!=typeof location&&location.hostname&&et.test(location.hostname)&&(o.r="f"),t&&(o.s=t),r&&(o.ls=r),n&&(o.ac=n),ot(e,tt,o)},e.prototype.open=function(e,t){var r=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oe.set("previous_websocket_failure",!0);try{var n;n={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new ht(this.connURL,[],n)}catch(e){this.log_("Error instantiating WebSocket.");var o=e.message||e.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==ht&&!e.forceDisallow_},e.previouslyFailed=function(){return Oe.isInMemoryStorage||!0===Oe.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Oe.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var r=T(t);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(p(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var r=this.extractFrameCount_(t);null!==r&&this.appendFrame_(r)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=C(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var r=He(t,16384);r.length>1&&this.sendString_(String(r.length));for(var n=0;n<r.length;n++)this.sendString_(r[n])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),mt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[dt,gt]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var r,n,o=gt&&gt.isAvailable(),i=o&&!gt.previouslyFailed();if(t.webSocketOnly&&(o||Le("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gt];else{var s=this.transports_=[];try{for(var a=c(e.ALL_TRANSPORTS),l=a.next();!l.done;l=a.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),yt=function(){function e(e,t,r,n,o,i,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=n,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Re("c:"+this.id+":"),this.transportManager_=new mt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(r,n)}),Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ye((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(r){e===t.conn_?t.onConnectionLost_(r):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(r){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(r):e===t.secondaryConn_?t.onSecondaryMessageReceived_(r):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=qe("t",e),r=qe("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=qe("t",e),r=qe("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=qe("t",e);if("d"in e){var r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?je("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):je("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,r=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.host=n,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Le("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Ye((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ye((function(){r.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),vt=function(){function e(){}return e.prototype.put=function(e,t,r,n){},e.prototype.merge=function(e,t,r,n){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,r){},e.prototype.onDisconnectMerge=function(e,t,r){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),bt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},p(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var n=u([],l(this.listeners_[e])),o=0;o<n.length;o++)n[o].callback.apply(n[o].context,t)},e.prototype.on=function(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});var n=this.getInitialEvent(e);n&&t.apply(r,n)},e.prototype.off=function(e,t,r){this.validateEventType_(e);for(var n=this.listeners_[e]||[],o=0;o<n.length;o++)if(n[o].callback===t&&(!r||r===n[o].context))return void n.splice(o,1)},e.prototype.validateEventType_=function(e){p(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),wt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||b()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return o(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return p("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(bt),Et=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var r=0,n=0;n<this.pieces_.length;n++)this.pieces_[n].length>0&&(this.pieces_[r]=this.pieces_[n],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function _t(){return new Et("")}function Ot(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function St(e){return e.pieces_.length-e.pieceNum_}function Tt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Et(e.pieces_,t)}function Ct(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function At(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function xt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Et(t,0)}function It(e,t){for(var r=[],n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Et)for(n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{var o=t.split("/");for(n=0;n<o.length;n++)o[n].length>0&&r.push(o[n])}return new Et(r,0)}function kt(e){return e.pieceNum_>=e.pieces_.length}function Nt(e,t){var r=Ot(e),n=Ot(t);if(null===r)return t;if(r===n)return Nt(Tt(e),Tt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Pt(e,t){for(var r=At(e,0),n=At(t,0),o=0;o<r.length&&o<n.length;o++){var i=Ue(r[o],n[o]);if(0!==i)return i}return r.length===n.length?0:r.length<n.length?-1:1}function Rt(e,t){if(St(e)!==St(t))return!1;for(var r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function jt(e,t){var r=e.pieceNum_,n=t.pieceNum_;if(St(e)>St(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}var Dt=function(e,t){this.errorPrefix_=t,this.parts_=At(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=U(this.parts_[r]);Lt(this)};function Lt(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ft(e))}function Ft(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Mt,Bt,Ut=function(e){function t(){var t,r,n=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",t="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,r&&document.addEventListener(r,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}return o(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return p("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(bt),Vt=1e3,qt=function(e){function t(r,n,o,i,s,a,c,l){var u=e.call(this)||this;if(u.repoInfo_=r,u.applicationId_=n,u.onDataUpdate_=o,u.onConnectStatus_=i,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.appCheckTokenProvider_=c,u.authOverride_=l,u.id=t.nextPersistentConnectionId_++,u.log_=Re("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Vt,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ut.getInstance().on("visible",u.onVisible_,u),-1===r.host.indexOf("fblocal")&&wt.getInstance().on("online",u.onOnline_,u),u}return o(t,e),t.prototype.sendRequest=function(e,t,r){var n=++this.requestNumber_,o={r:n,a:e,b:t};this.log_(C(o)),p(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[n]=r)},t.prototype.get=function(e){var t=this;this.initConnection_();var r=new v,n={p:e._path.toString(),q:e._queryObject},o={action:"g",request:n,onComplete:function(e){var o=e.d;"ok"===e.s?(t.onDataUpdate_(n.p,o,!1,null),r.resolve(o)):r.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var i=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[i];void 0!==e&&o===e&&(delete t.outstandingGets_[i],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+i+" timed out on connection"),r.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),r.promise},t.prototype.listen=function(e,t,r,n){this.initConnection_();var o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),p(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),p(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");var s={onComplete:n,hashFn:t,query:e,tag:r};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,r=this.outstandingGets_[e];this.sendRequest("g",r.request,(function(n){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),r.onComplete&&r.onComplete(n)}))},t.prototype.sendListen_=function(e){var r=this,n=e.query,o=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+o+" for "+i);var s={p:o};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;t.warnOnListenWarnings_(a,n),(r.listens.get(o)&&r.listens.get(o).get(i))===e&&(r.log_("listen response",s),"ok"!==c&&r.removeListen_(o,i),e.onComplete&&e.onComplete(c,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&x(e,"w")){var r=I(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var n='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Le("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+n+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=A(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var r=this.authToken_,n=(e=A(r).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",o={cred:r};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(n,o,(function(e){var n=e.s,o=e.d||"error";t.authToken_===r&&("ok"===n?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(n,o))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var r=t.s,n=t.d||"error";"ok"===r?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(r,n)}))},t.prototype.unlisten=function(e,t){var r=e._path.toString(),n=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+n),p(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);var o={p:e};n&&(o.q=r,o.t=n),this.sendRequest("n",o)},t.prototype.onDisconnectPut=function(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})},t.prototype.onDisconnectMerge=function(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,r,n){var o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(function(e){n&&setTimeout((function(){n(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,r,n){this.putInternal("p",e,t,r,n)},t.prototype.merge=function(e,t,r,n){this.putInternal("m",e,t,r,n)},t.prototype.putInternal=function(e,t,r,n,o){this.initConnection_();var i={p:t,d:r};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:n}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,(function(n){t.log_(r+" response",n),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),o&&o(n.s,n.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,(function(e){if("ok"!==e.s){var r=e.d;t.log_("reportStats","Error sending stats: "+r)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+C(e));var t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):je("Unrecognized action received from server: "+C(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;p(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return s(this,void 0,void 0,(function(){var e,r,n,o,i,s,c,u,d,f,h,g,m,y,v=this;return a(this,(function(a){switch(a.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,i=this.lastSessionId,s=!1,c=null,u=function(){c?c.close():(s=!0,n())},d=function(e){p(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:u,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return h=l.apply(void 0,[a.sent(),2]),g=h[0],m=h[1],s?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=m&&m.token,c=new yt(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,(function(e){Le(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),i)),[3,4];case 3:return y=a.sent(),this.log_("Failed to get token: "+y),s||(this.repoInfo_.nodeAdmin&&Le(y),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){Pe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){Pe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],k(this.interruptReasons_)&&(this.reconnectDelay_=Vt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var r;r=t?t.map((function(e){return Ge(e)})).join("$"):"default";var n=this.removeListen_(e,r);n&&n.onComplete&&n.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var r,n=new Et(e).toString();if(this.listens.has(n)){var o=this.listens.get(n);r=o.get(t),o.delete(t),0===o.size&&this.listens.delete(n)}else r=void 0;return r},t.prototype.onAuthRevoked_=function(e,t){Pe("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){Pe("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,r,n;this.tryAuth(),this.tryAppCheck();try{for(var o=c(this.listens.values()),i=o.next();!i.done;i=o.next()){var s=i.value;try{for(var a=(r=void 0,c(s.values())),l=a.next();!l.done;l=a.next()){var u=l.value;this.sendListen_(u)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var p=0;p<this.outstandingPuts_.length;p++)this.outstandingPuts_[p]&&this.sendPut_(p);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(p=0;p<this.outstandingGets_.length;p++)this.outstandingGets_[p]&&this.sendGet_(p)},t.prototype.sendConnectStats_=function(){var e={},t="js";e["sdk."+t+"."+ye.replace(/\./g,"-")]=1,b()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=wt.getInstance().currentlyOnline();return k(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(vt),Gt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,r){return new e(t,r)},e}(),Ht=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var r=new Gt(Me,e),n=new Gt(Me,t);return 0!==this.compare(r,n)},e.prototype.minPost=function(){return Gt.MIN},e}(),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Mt},set:function(e){Mt=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Ue(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw d("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Gt.MIN},t.prototype.maxPost=function(){return new Gt(Be,Mt)},t.prototype.makePost=function(e,t){return p("string"==typeof e,"KeyIndex indexValue must always be a string."),new Gt(e,Mt)},t.prototype.toString=function(){return".key"},t}(Ht),Kt=new zt,Wt=function(){function e(e,t,r,n,o){void 0===o&&(o=null),this.isReverse_=n,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!e.isEmpty();)if(e=e,i=t?r(e.key,t):1,n&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Jt=function(){function e(t,r,n,o,i){this.key=t,this.value=r,this.color=null!=n?n:e.RED,this.left=null!=o?o:Yt.EMPTY_NODE,this.right=null!=i?i:Yt.EMPTY_NODE}return e.prototype.copy=function(t,r,n,o,i){return new e(null!=t?t:this.key,null!=r?r:this.value,null!=n?n:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,r){var n=this,o=r(e,n.key);return(n=o<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Yt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var r,n;if(t(e,(r=this).key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===t(e,r.key)){if(r.right.isEmpty())return Yt.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),$t=function(){function e(){}return e.prototype.copy=function(e,t,r,n,o){return this},e.prototype.insert=function(e,t,r){return new Jt(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Yt=function(){function e(t,r){void 0===r&&(r=e.EMPTY_NODE),this.comparator_=t,this.root_=r}return e.prototype.insert=function(t,r){return new e(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Jt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jt.BLACK,null,null))},e.prototype.get=function(e){for(var t,r=this.root_;!r.isEmpty();){if(0===(t=this.comparator_(e,r.key)))return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,r=this.root_,n=null;!r.isEmpty();){if(0===(t=this.comparator_(e,r.key))){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Wt(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Wt(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Wt(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Wt(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new $t,e}();function Qt(e,t){return Ue(e.name,t.name)}function Xt(e,t){return Ue(e,t)}var Zt,er,tr,rr,nr,or=function(e){return"number"==typeof e?"number:"+Ke(e):"string:"+e},ir=function(e){if(e.isLeafNode()){var t=e.val();p("string"==typeof t||"number"==typeof t||"object"==typeof t&&x(t,".sv"),"Priority must be a string or number.")}else p(e===Bt||e.isEmpty(),"priority of unexpected type.");p(e===Bt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},sr=function(){function e(t,r){void 0===r&&(r=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=r,this.lazyHash_=null,p(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ir(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Zt},set:function(e){Zt=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return kt(t)?this:".priority"===Ot(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,r){var n=Ot(t);return null===n?r:r.isEmpty()&&".priority"!==n?this:(p(".priority"!==n||1===St(t),".priority must be the last token in a path"),this.updateImmediateChild(n,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(t),r)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+or(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ke(this.value_):this.value_,this.lazyHash_=Ae(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(p(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var r=typeof t.value_,n=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),i=e.VALUE_TYPE_ORDER.indexOf(n);return p(o>=0,"Unknown leaf type: "+r),p(i>=0,"Unknown leaf type: "+n),o===i?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),ar=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.compare=function(e,t){var r=e.node.getPriority(),n=t.node.getPriority(),o=r.compareTo(n);return 0===o?Ue(e.name,t.name):o},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Gt.MIN},t.prototype.maxPost=function(){return new Gt(Be,new sr("[PRIORITY-POST]",tr))},t.prototype.makePost=function(e,t){var r=er(e);return new Gt(t,new sr("[PRIORITY-POST]",r))},t.prototype.toString=function(){return".priority"},t}(Ht)),cr=Math.log(2),lr=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/cr,10)),this.current_=this.count-1;var r,n=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=e+1&n}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ur=function(e,t,r,n){e.sort(t);var o=function(t,n){var i,s,a=n-t;if(0===a)return null;if(1===a)return i=e[t],s=r?r(i):i,new Jt(s,i.node,Jt.BLACK,null,null);var c=parseInt(a/2,10)+t,l=o(t,c),u=o(c+1,n);return i=e[c],s=r?r(i):i,new Jt(s,i.node,Jt.BLACK,l,u)},i=function(t){for(var n=null,i=null,s=e.length,a=function(t,n){var i=s-t,a=s;s-=t;var l=o(i+1,a),u=e[i],p=r?r(u):u;c(new Jt(p,u.node,n,null,l))},c=function(e){n?(n.left=e,n=e):(i=e,n=e)},l=0;l<t.count;++l){var u=t.nextBitIsOne(),p=Math.pow(2,t.count-(l+1));u?a(p,Jt.BLACK):(a(p,Jt.BLACK),a(p,Jt.RED))}return i}(new lr(e.length));return new Yt(n||t,i)},pr={},dr=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return p(pr&&ar,"ChildrenNode.ts has not been loaded"),rr=rr||new e({".priority":pr},{".priority":ar})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=I(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yt?t:null},e.prototype.hasIndex=function(e){return x(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,r){p(t!==Kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,o=[],s=!1,a=r.getIterator(Gt.Wrap),c=a.getNext();c;)s=s||t.isDefinedOn(c.node),o.push(c),c=a.getNext();n=s?ur(o,t.getCompare()):pr;var l=t.toString(),u=i({},this.indexSet_);u[l]=t;var d=i({},this.indexes_);return d[l]=n,new e(d,u)},e.prototype.addToIndexes=function(t,r){var n=this;return new e(N(this.indexes_,(function(e,o){var i=I(n.indexSet_,o);if(p(i,"Missing index implementation for "+o),e===pr){if(i.isDefinedOn(t.node)){for(var s=[],a=r.getIterator(Gt.Wrap),c=a.getNext();c;)c.name!==t.name&&s.push(c),c=a.getNext();return s.push(t),ur(s,i.getCompare())}return pr}var l=r.get(t.name),u=e;return l&&(u=u.remove(new Gt(t.name,l))),u.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,r){return new e(N(this.indexes_,(function(e){if(e===pr)return e;var n=r.get(t.name);return n?e.remove(new Gt(t.name,n)):e})),this.indexSet_)},e}(),fr=function(){function e(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ir(this.priorityNode_),this.children_.isEmpty()&&p(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return nr||(nr=new e(new Yt(Xt),null,dr.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||nr},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?nr:t},e.prototype.getChild=function(e){var t=Ot(e);return null===t?this:this.getImmediateChild(t).getChild(Tt(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,r){if(p(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);var n=new Gt(t,r),o=void 0,i=void 0;r.isEmpty()?(o=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(n,this.children_)):(o=this.children_.insert(t,r),i=this.indexMap_.addToIndexes(n,this.children_));var s=o.isEmpty()?nr:this.priorityNode_;return new e(o,s,i)},e.prototype.updateChild=function(e,t){var r=Ot(e);if(null===r)return t;p(".priority"!==Ot(e)||1===St(e),".priority must be the last token in a path");var n=this.getImmediateChild(r).updateChild(Tt(e),t);return this.updateImmediateChild(r,n)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var r={},n=0,o=0,i=!0;if(this.forEachChild(ar,(function(s,a){r[s]=a.val(t),n++,i&&e.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):i=!1})),!t&&i&&o<2*n){var s=[];for(var a in r)s[a]=r[a];return s}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+or(this.getPriority().val())+":"),this.forEachChild(ar,(function(t,r){var n=r.hash();""!==n&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":Ae(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,r){var n=this.resolveIndex_(r);if(n){var o=n.getPredecessorKey(new Gt(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.minKey();return r&&r.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Gt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.maxKey();return r&&r.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Gt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var r=this.resolveIndex_(e);return r?r.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,(function(e){return e}));for(var n=this.children_.getIteratorFrom(e.name,Gt.Wrap),o=n.peek();null!=o&&t.compare(o,e)<0;)n.getNext(),o=n.peek();return n},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,(function(e){return e}));for(var n=this.children_.getReverseIteratorFrom(e.name,Gt.Wrap),o=n.peek();null!=o&&t.compare(o,e)>0;)n.getNext(),o=n.peek();return n},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hr?-1:0},e.prototype.withIndex=function(t){if(t===Kt||this.indexMap_.hasIndex(t))return this;var r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)},e.prototype.isIndexed=function(e){return e===Kt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var r=this.getIterator(ar),n=t.getIterator(ar),o=r.getNext(),i=n.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=r.getNext(),i=n.getNext()}return null===o&&null===i}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Kt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),hr=new(function(e){function t(){return e.call(this,new Yt(Xt),fr.EMPTY_NODE,dr.Default)||this}return o(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return fr.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fr));function gr(e,t){if(void 0===t&&(t=null),null===e)return fr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),p(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new sr(e,gr(t));if(e instanceof Array){var r=fr.EMPTY_NODE;return ze(e,(function(t,n){if(x(e,t)&&"."!==t.substring(0,1)){var o=gr(n);!o.isLeafNode()&&o.isEmpty()||(r=r.updateImmediateChild(t,o))}})),r.updatePriority(gr(t))}var n=[],o=!1;if(ze(e,(function(e,t){if("."!==e.substring(0,1)){var r=gr(t);r.isEmpty()||(o=o||!r.getPriority().isEmpty(),n.push(new Gt(e,r)))}})),0===n.length)return fr.EMPTY_NODE;var i=ur(n,Qt,(function(e){return e.name}),Xt);if(o){var s=ur(n,ar.getCompare());return new fr(i,gr(t),new dr({".priority":s},{".priority":ar}))}return new fr(i,gr(t),dr.Default)}Object.defineProperties(Gt,{MIN:{value:new Gt(Me,fr.EMPTY_NODE)},MAX:{value:new Gt(Be,hr)}}),zt.__EMPTY_NODE=fr.EMPTY_NODE,sr.__childrenNodeConstructor=fr,Bt=hr,tr=hr,function(e){er=e}(gr);var mr,yr,vr=function(e){function t(t){var r=e.call(this)||this;return r.indexPath_=t,p(!kt(t)&&".priority"!==Ot(t),"Can't create PathIndex with empty path or .priority key"),r}return o(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var r=this.extractChild(e.node),n=this.extractChild(t.node),o=r.compareTo(n);return 0===o?Ue(e.name,t.name):o},t.prototype.makePost=function(e,t){var r=gr(e),n=fr.EMPTY_NODE.updateChild(this.indexPath_,r);return new Gt(t,n)},t.prototype.maxPost=function(){var e=fr.EMPTY_NODE.updateChild(this.indexPath_,hr);return new Gt(Be,e)},t.prototype.toString=function(){return At(this.indexPath_,0).join("/")},t}(Ht),br=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.compare=function(e,t){var r=e.node.compareTo(t.node);return 0===r?Ue(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Gt.MIN},t.prototype.maxPost=function(){return Gt.MAX},t.prototype.makePost=function(e,t){var r=gr(e);return new Gt(t,r)},t.prototype.toString=function(){return".value"},t}(Ht)),wr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Er=(mr=0,yr=[],function(e){var t,r=e===mr;mr=e;var n=new Array(8);for(t=7;t>=0;t--)n[t]=wr.charAt(e%64),e=Math.floor(e/64);p(0===e,"Cannot push at time == 0");var o=n.join("");if(r){for(t=11;t>=0&&63===yr[t];t--)yr[t]=0;yr[t]++}else for(t=0;t<12;t++)yr[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=wr.charAt(yr[t]);return p(20===o.length,"nextPushId: Length should be 20."),o}),_r=function(e){if("2147483647"===e)return"-";var t=Je(e);if(null!=t)return""+(t+1);for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e.charAt(n);if(r.length<786)return r.push("-"),r.join("");for(var o=r.length-1;o>=0&&"z"===r[o];)o--;if(-1===o)return Be;var i=r[o],s=wr.charAt(wr.indexOf(i)+1);return r[o]=s,r.slice(0,o+1).join("")},Or=function(e){if("-2147483648"===e)return Me;var t=Je(e);if(null!=t)return""+(t-1);for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e.charAt(n);return"-"===r[r.length-1]?1===r.length?"2147483647":(delete r[r.length-1],r.join("")):(r[r.length-1]=wr.charAt(wr.indexOf(r[r.length-1])-1),r.join("")+"z".repeat(786-r.length))};function Sr(e){return{type:"value",snapshotNode:e}}function Tr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Cr(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ar(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}var xr=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,r,n,o,i){p(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(n).equals(r.getChild(n))&&s.isEmpty()===r.isEmpty()?e:(null!=i&&(r.isEmpty()?e.hasChild(t)?i.trackChildChange(Cr(t,s)):p(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(Tr(t,r)):i.trackChildChange(Ar(t,r,s))),e.isLeafNode()&&r.isEmpty()?e:e.updateImmediateChild(t,r).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ar,(function(e,n){t.hasChild(e)||r.trackChildChange(Cr(e,n))})),t.isLeafNode()||t.forEachChild(ar,(function(t,n){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(n)||r.trackChildChange(Ar(t,n,o))}else r.trackChildChange(Tr(t,n))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?fr.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Ir=function(){function e(t){this.indexedFilter_=new xr(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,r,n,o,i){return this.matches(new Gt(t,r))||(r=fr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,n,o,i)},e.prototype.updateFullNode=function(e,t,r){t.isLeafNode()&&(t=fr.EMPTY_NODE);var n=t.withIndex(this.index_);n=n.updatePriority(fr.EMPTY_NODE);var o=this;return t.forEachChild(ar,(function(e,t){o.matches(new Gt(e,t))||(n=n.updateImmediateChild(e,fr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,n,r)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),kr=function(){function e(e){this.rangedFilter_=new Ir(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,r,n,o,i){return this.rangedFilter_.matches(new Gt(t,r))||(r=fr.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,o,i):this.fullLimitUpdateChild_(e,t,r,o,i)},e.prototype.updateFullNode=function(e,t,r){var n;if(t.isLeafNode()||t.isEmpty())n=fr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){n=fr.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var s=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;n=n.updateImmediateChild(s.name,s.node),i++}}else{n=(n=t.withIndex(this.index_)).updatePriority(fr.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(o=void 0,this.reverse_){o=n.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(e,t){return u(t,e)}}else o=n.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();i=0;for(var p=!1;o.hasNext();)s=o.getNext(),!p&&l(a,s)<=0&&(p=!0),p&&i<this.limit_&&l(s,c)<=0?i++:n=n.updateImmediateChild(s.name,fr.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,r,n,o){var i;if(this.reverse_){var s=this.index_.getCompare();i=function(e,t){return s(t,e)}}else i=this.index_.getCompare();var a=e;p(a.numChildren()===this.limit_,"");var c=new Gt(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){for(var d=a.getImmediateChild(t),f=n.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||a.hasChild(f.name));)f=n.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:i(f,c);if(u&&!r.isEmpty()&&h>=0)return null!=o&&o.trackChildChange(Ar(t,r,d)),a.updateImmediateChild(t,r);null!=o&&o.trackChildChange(Cr(t,d));var g=a.updateImmediateChild(t,fr.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(Tr(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return r.isEmpty()?e:u&&i(l,c)>=0?(null!=o&&(o.trackChildChange(Cr(l.name,l.node)),o.trackChildChange(Tr(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,fr.EMPTY_NODE)):e},e}(),Nr=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ar}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return p(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return p(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Me},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return p(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return p(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Be},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return p(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ar},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Pr(e,t,r){var n=e.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=r?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function Rr(e,t,r){var n=e.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==r?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function jr(e,t){var r=e.copy();return r.index_=t,r}function Dr(e){var t,r={};return e.isDefault()||(e.index_===ar?t="$priority":e.index_===br?t="$value":e.index_===Kt?t="$key":(p(e.index_ instanceof vr,"Unrecognized index type!"),t=e.index_.toString()),r.orderBy=C(t),e.startSet_&&(r.startAt=C(e.indexStartValue_),e.startNameSet_&&(r.startAt+=","+C(e.indexStartName_))),e.endSet_&&(r.endAt=C(e.indexEndValue_),e.endNameSet_&&(r.endAt+=","+C(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?r.limitToFirst=e.limit_:r.limitToLast=e.limit_)),r}function Lr(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var r=e.viewFrom_;""===r&&(r=e.isViewFromLeft()?"l":"r"),t.vf=r}return e.index_!==ar&&(t.i=e.index_.toString()),t}var Fr=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=r,i.authTokenProvider_=n,i.appCheckTokenProvider_=o,i.log_=Re("p:rest:"),i.listens_={},i}return o(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(p(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,r,n,o){var i=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var a=t.getListenId_(e,n),c={};this.listens_[a]=c;var l=Dr(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var r=t;404===e&&(r=null,e=null),null===e&&i.onDataUpdate_(s,r,!1,n),I(i.listens_,a)===c&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,r){var n=t.getListenId_(e,r);delete this.listens_[n]},t.prototype.get=function(e){var t=this,r=Dr(e._queryParams),n=e._path.toString(),o=new v;return this.restRequest_(n+".json",r,(function(e,r){var i=r;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(n,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,r){var n=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var i=l(o,2),s=i[0],a=i[1];s&&s.accessToken&&(t.auth=s.accessToken),a&&a.token&&(t.ac=a.token);var c=(n.repoInfo_.secure?"https://":"http://")+n.repoInfo_.host+e+"?ns="+n.repoInfo_.namespace+function(e){for(var t=[],r=function(e,r){Array.isArray(r)?r.forEach((function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))},n=0,o=Object.entries(e);n<o.length;n++){var i=o[n];r(i[0],i[1])}return t.length?"&"+t.join("&"):""}(t);n.log_("Sending REST request for "+c);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(r&&4===u.readyState){n.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=T(u.responseText)}catch(e){Le("Failed to parse JSON response for "+c+": "+u.responseText)}r(null,e)}else 401!==u.status&&404!==u.status&&Le("Got unsuccessful REST response for "+c+" Status: "+u.status),r(u.status);r=null}},u.open("GET",c,!0),u.send()}))},t}(vt),Mr=function(){function e(){this.rootNode_=fr.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Br(){return{value:null,children:new Map}}function Ur(e,t,r){if(kt(t))e.value=r,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,r);else{var n=Ot(t);e.children.has(n)||e.children.set(n,Br()),Ur(e.children.get(n),t=Tt(t),r)}}function Vr(e,t){if(kt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(ar,(function(t,r){Ur(e,new Et(t),r)})),Vr(e,t)}if(e.children.size>0){var n=Ot(t);return t=Tt(t),e.children.has(n)&&Vr(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function qr(e,t,r){null!==e.value?r(t,e.value):function(e,t){e.children.forEach((function(e,r){t(r,e)}))}(e,(function(e,n){qr(n,new Et(t.toString()+"/"+e),r)}))}var Gr,Hr=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=i({},e);return this.last_&&ze(this.last_,(function(e,r){t[e]=t[e]-r})),this.last_=e,t},e}(),zr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Hr(e);var r=1e4+2e4*Math.random();Ye(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),r={},n=!1;ze(t,(function(t,o){o>0&&x(e.statsToReport_,t)&&(r[t]=o,n=!0)})),n&&this.server_.reportStats(r),Ye(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Kr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gr||(Gr={}));var Wr,Jr=function(){function e(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Gr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(kt(this.path)){if(null!=this.affectedTree.value)return p(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var r=this.affectedTree.subtree(new Et(t));return new e(_t(),r,this.revert)}return p(Ot(this.path)===t,"operationForChild called for unrelated child."),new e(Tt(this.path),this.affectedTree,this.revert)},e}(),$r=function(){function e(e,t){this.source=e,this.path=t,this.type=Gr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return kt(this.path)?new e(this.source,_t()):new e(this.source,Tt(this.path))},e}(),Yr=function(){function e(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Gr.OVERWRITE}return e.prototype.operationForChild=function(t){return kt(this.path)?new e(this.source,_t(),this.snap.getImmediateChild(t)):new e(this.source,Tt(this.path),this.snap)},e}(),Qr=function(){function e(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Gr.MERGE}return e.prototype.operationForChild=function(t){if(kt(this.path)){var r=this.children.subtree(new Et(t));return r.isEmpty()?null:r.value?new Yr(this.source,_t(),r.value):new e(this.source,_t(),r)}return p(Ot(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Tt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Xr=function(){function e(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(kt(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ot(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Zr=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function en(e,t,r,n,o,i){var s=n.filter((function(e){return e.type===r}));s.sort((function(t,r){return function(e,t,r){if(null==t.childName||null==r.childName)throw d("Should only compare child_ events.");var n=new Gt(t.childName,t.snapshotNode),o=new Gt(r.childName,r.snapshotNode);return e.index_.compare(n,o)}(e,t,r)})),s.forEach((function(r){var n=function(e,t,r){return"value"===t.type||"child_removed"===t.type||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,r,i);o.forEach((function(o){o.respondsTo(r.type)&&t.push(o.createEvent(n,e.query_))}))}))}function tn(e,t){return{eventCache:e,serverCache:t}}function rn(e,t,r,n){return tn(new Xr(t,r,n),e.serverCache)}function nn(e,t,r,n){return tn(e.eventCache,new Xr(t,r,n))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function sn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var an=function(){function e(e,t){void 0===t&&(Wr||(Wr=new Yt(Ve)),t=Wr),this.value=e,this.children=t}return e.fromObject=function(t){var r=new e(null);return ze(t,(function(e,t){r=r.set(new Et(e),t)})),r},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:_t(),value:this.value};if(kt(e))return null;var r=Ot(e),n=this.children.get(r);if(null!==n){var o=n.findRootMostMatchingPathAndValue(Tt(e),t);return null!=o?{path:It(new Et(r),o.path),value:o.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(kt(t))return this;var r=Ot(t),n=this.children.get(r);return null!==n?n.subtree(Tt(t)):new e(null)},e.prototype.set=function(t,r){if(kt(t))return new e(r,this.children);var n=Ot(t),o=(this.children.get(n)||new e(null)).set(Tt(t),r),i=this.children.insert(n,o);return new e(this.value,i)},e.prototype.remove=function(t){if(kt(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var r=Ot(t),n=this.children.get(r);if(n){var o=n.remove(Tt(t)),i=void 0;return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this},e.prototype.get=function(e){if(kt(e))return this.value;var t=Ot(e),r=this.children.get(t);return r?r.get(Tt(e)):null},e.prototype.setTree=function(t,r){if(kt(t))return r;var n,o=Ot(t),i=(this.children.get(o)||new e(null)).setTree(Tt(t),r);return n=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new e(this.value,n)},e.prototype.fold=function(e){return this.fold_(_t(),e)},e.prototype.fold_=function(e,t){var r={};return this.children.inorderTraversal((function(n,o){r[n]=o.fold_(It(e,n),t)})),t(e,this.value,r)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,_t(),t)},e.prototype.findOnPath_=function(e,t,r){var n=!!this.value&&r(t,this.value);if(n)return n;if(kt(e))return null;var o=Ot(e),i=this.children.get(o);return i?i.findOnPath_(Tt(e),It(t,o),r):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,_t(),t)},e.prototype.foreachOnPath_=function(t,r,n){if(kt(t))return this;this.value&&n(r,this.value);var o=Ot(t),i=this.children.get(o);return i?i.foreachOnPath_(Tt(t),It(r,o),n):new e(null)},e.prototype.foreach=function(e){this.foreach_(_t(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(r,n){n.foreach_(It(e,r),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,r){r.value&&e(t,r.value)}))},e}(),cn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new an(null))},e}();function ln(e,t,r){if(kt(t))return new cn(new an(r));var n=e.writeTree_.findRootMostValueAndPath(t);if(null!=n){var o=n.path,i=n.value,s=Nt(o,t);return i=i.updateChild(s,r),new cn(e.writeTree_.set(o,i))}var a=new an(r),c=e.writeTree_.setTree(t,a);return new cn(c)}function un(e,t,r){var n=e;return ze(r,(function(e,r){n=ln(n,It(t,e),r)})),n}function pn(e,t){if(kt(t))return cn.empty();var r=e.writeTree_.setTree(t,new an(null));return new cn(r)}function dn(e,t){return null!=fn(e,t)}function fn(e,t){var r=e.writeTree_.findRootMostValueAndPath(t);return null!=r?e.writeTree_.get(r.path).getChild(Nt(r.path,t)):null}function hn(e){var t=[],r=e.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(ar,(function(e,r){t.push(new Gt(e,r))})):e.writeTree_.children.inorderTraversal((function(e,r){null!=r.value&&t.push(new Gt(e,r.value))})),t}function gn(e,t){if(kt(t))return e;var r=fn(e,t);return new cn(null!=r?new an(r):e.writeTree_.subtree(t))}function mn(e){return e.writeTree_.isEmpty()}function yn(e,t){return vn(_t(),e.writeTree_,t)}function vn(e,t,r){if(null!=t.value)return r.updateChild(e,t.value);var n=null;return t.children.inorderTraversal((function(t,o){".priority"===t?(p(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):r=vn(It(e,t),o,r)})),r.getChild(e).isEmpty()||null===n||(r=r.updateChild(It(e,".priority"),n)),r}function bn(e,t){return kn(t,e)}function wn(e,t){if(e.snap)return jt(e.path,t);for(var r in e.children)if(e.children.hasOwnProperty(r)&&jt(It(e.path,r),t))return!0;return!1}function En(e){return e.visible}function _n(e,t,r){for(var n=cn.empty(),o=0;o<e.length;++o){var i=e[o];if(t(i)){var s=i.path,a=void 0;if(i.snap)jt(r,s)?n=ln(n,a=Nt(r,s),i.snap):jt(s,r)&&(a=Nt(s,r),n=ln(n,_t(),i.snap.getChild(a)));else{if(!i.children)throw d("WriteRecord should have .snap or .children");if(jt(r,s))n=un(n,a=Nt(r,s),i.children);else if(jt(s,r))if(kt(a=Nt(s,r)))n=un(n,_t(),i.children);else{var c=I(i.children,Ot(a));if(c){var l=c.getChild(Tt(a));n=ln(n,_t(),l)}}}}}return n}function On(e,t,r,n,o){if(n||o){var i=gn(e.visibleWrites,t);return!o&&mn(i)?r:o||null!=r||dn(i,_t())?yn(_n(e.allWrites,(function(e){return(e.visible||o)&&(!n||!~n.indexOf(e.writeId))&&(jt(e.path,t)||jt(t,e.path))}),t),r||fr.EMPTY_NODE):null}var s=fn(e.visibleWrites,t);if(null!=s)return s;var a=gn(e.visibleWrites,t);return mn(a)?r:null!=r||dn(a,_t())?yn(a,r||fr.EMPTY_NODE):null}function Sn(e,t,r,n){return On(e.writeTree,e.treePath,t,r,n)}function Tn(e,t){return function(e,t,r){var n=fr.EMPTY_NODE,o=fn(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ar,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(r){var i=gn(e.visibleWrites,t);return r.forEachChild(ar,(function(e,t){var r=yn(gn(i,new Et(e)),t);n=n.updateImmediateChild(e,r)})),hn(i).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return hn(gn(e.visibleWrites,t)).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}(e.writeTree,e.treePath,t)}function Cn(e,t,r,n){return function(e,t,r,n,o){p(n||o,"Either existingEventSnap or existingServerSnap must exist");var i=It(t,r);if(dn(e.visibleWrites,i))return null;var s=gn(e.visibleWrites,i);return mn(s)?o.getChild(r):yn(s,o.getChild(r))}(e.writeTree,e.treePath,t,r,n)}function An(e,t){return function(e,t){return fn(e.visibleWrites,t)}(e.writeTree,It(e.treePath,t))}function xn(e,t,r){return function(e,t,r,n){var o=It(t,r),i=fn(e.visibleWrites,o);return null!=i?i:n.isCompleteForChild(r)?yn(gn(e.visibleWrites,o),n.getNode().getImmediateChild(r)):null}(e.writeTree,e.treePath,t,r)}function In(e,t){return kn(It(e.treePath,t),e.writeTree)}function kn(e,t){return{treePath:e,writeTree:t}}var Nn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,r=e.childName;p("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),p(".priority"!==r,"Only non-priority child changes can be tracked.");var n=this.changeMap.get(r);if(n){var o=n.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,Ar(r,e.snapshotNode,n.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,Cr(r,n.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,Tr(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw d("Illegal combination of changes: "+e+" occurred after "+n);this.changeMap.set(r,Ar(r,e.snapshotNode,n.oldSnap))}}else this.changeMap.set(r,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Pn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,r){return null},e}()),Rn=function(){function e(e,t,r){void 0===r&&(r=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var r=null!=this.optCompleteServerCache_?new Xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xn(this.writes_,e,r)},e.prototype.getChildAfterChild=function(e,t,r){var n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sn(this.viewCache_),o=function(e,t,r,n,o,i){return function(e,t,r,n,o,i,s){var a,c=gn(e.visibleWrites,t),l=fn(c,_t());if(null!=l)a=l;else{if(null==r)return[];a=yn(c,r)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var u=[],p=s.getCompare(),d=i?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s),f=d.getNext();f&&u.length<o;)0!==p(f,n)&&u.push(f),f=d.getNext();return u}(e.writeTree,e.treePath,t,r,n,o,i)}(this.writes_,n,t,1,r,e);return 0===o.length?null:o[0]},e}();function jn(e,t,r,n,o,i){var s=t.eventCache;if(null!=An(n,r))return t;var a=void 0,c=void 0;if(kt(r))if(p(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=sn(t),u=Tn(n,l instanceof fr?l:fr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),u,i)}else{var d=Sn(n,sn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{var f=Ot(r);if(".priority"===f){p(1===St(r),"Can't have a priority with additional path components");var h=s.getNode(),g=Cn(n,r,h,c=t.serverCache.getNode());a=null!=g?e.filter.updatePriority(h,g):s.getNode()}else{var m=Tt(r),y=void 0;if(s.isCompleteForChild(f)){c=t.serverCache.getNode();var v=Cn(n,r,s.getNode(),c);y=null!=v?s.getNode().getImmediateChild(f).updateChild(m,v):s.getNode().getImmediateChild(f)}else y=xn(n,f,t.serverCache);a=null!=y?e.filter.updateChild(s.getNode(),f,y,m,o,i):s.getNode()}}return rn(t,a,s.isFullyInitialized()||kt(r),e.filter.filtersNodes())}function Dn(e,t,r,n,o,i,s,a){var c,l=t.serverCache,u=s?e.filter:e.filter.getIndexedFilter();if(kt(r))c=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var p=l.getNode().updateChild(r,n);c=u.updateFullNode(l.getNode(),p,null)}else{var d=Ot(r);if(!l.isCompleteForPath(r)&&St(r)>1)return t;var f=Tt(r),h=l.getNode().getImmediateChild(d).updateChild(f,n);c=".priority"===d?u.updatePriority(l.getNode(),h):u.updateChild(l.getNode(),d,h,f,Pn,null)}var g=nn(t,c,l.isFullyInitialized()||kt(r),u.filtersNodes());return jn(e,g,r,o,new Rn(o,g,i),a)}function Ln(e,t,r,n,o,i,s){var a,c,l=t.eventCache,u=new Rn(o,t,i);if(kt(r))c=e.filter.updateFullNode(t.eventCache.getNode(),n,s),a=rn(t,c,!0,e.filter.filtersNodes());else{var p=Ot(r);if(".priority"===p)c=e.filter.updatePriority(t.eventCache.getNode(),n),a=rn(t,c,l.isFullyInitialized(),l.isFiltered());else{var d=Tt(r),f=l.getNode().getImmediateChild(p),h=void 0;if(kt(d))h=n;else{var g=u.getCompleteChild(p);h=null!=g?".priority"===Ct(d)&&g.getChild(xt(d)).isEmpty()?g:g.updateChild(d,n):fr.EMPTY_NODE}a=f.equals(h)?t:rn(t,e.filter.updateChild(l.getNode(),p,h,d,u,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return a}function Fn(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,r){return r.foreach((function(e,r){t=t.updateChild(e,r)})),t}function Bn(e,t,r,n,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c,l=t;c=kt(r)?n:new an(null).setTree(r,n);var u=t.serverCache.getNode();return c.children.inorderTraversal((function(r,n){if(u.hasChild(r)){var c=Mn(0,t.serverCache.getNode().getImmediateChild(r),n);l=Dn(e,l,new Et(r),c,o,i,s,a)}})),c.children.inorderTraversal((function(r,n){var c=!t.serverCache.isCompleteForChild(r)&&void 0===n.value;if(!u.hasChild(r)&&!c){var p=Mn(0,t.serverCache.getNode().getImmediateChild(r),n);l=Dn(e,l,new Et(r),p,o,i,s,a)}})),l}var Un,Vn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var r,n=this.query_._queryParams,o=new xr(n.getIndex()),i=(r=n).loadsAllData()?new xr(r.getIndex()):r.hasLimit()?new kr(r):new Ir(r);this.processor_=function(e){return{filter:e}}(i);var s=t.serverCache,a=t.eventCache,c=o.updateFullNode(fr.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(fr.EMPTY_NODE,a.getNode(),null),u=new Xr(c,s.isFullyInitialized(),o.filtersNodes()),p=new Xr(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=tn(p,u),this.eventGenerator_=new Zr(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function qn(e,t){var r=sn(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!kt(t)&&!r.getImmediateChild(Ot(t)).isEmpty())?r.getChild(t):null}function Gn(e){return 0===e.eventRegistrations_.length}function Hn(e,t,r){var n=[];if(r){p(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(r,o);t&&n.push(t)}))}if(t){for(var i=[],s=0;s<e.eventRegistrations_.length;++s){var a=e.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}else i.push(a)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function zn(e,t,r,n){t.type===Gr.MERGE&&null!==t.source.queryId&&(p(sn(e.viewCache_),"We should always have a full cache before handling merges"),p(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,i,s=e.viewCache_,a=function(e,t,r,n,o){var i,s,a=new Nn;if(r.type===Gr.OVERWRITE){var c=r;c.source.fromUser?i=Ln(e,t,c.path,c.snap,n,o,a):(p(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!kt(c.path),i=Dn(e,t,c.path,c.snap,n,o,s,a))}else if(r.type===Gr.MERGE){var l=r;l.source.fromUser?i=function(e,t,r,n,o,i,s){var a=t;return n.foreach((function(n,c){var l=It(r,n);Fn(t,Ot(l))&&(a=Ln(e,a,l,c,o,i,s))})),n.foreach((function(n,c){var l=It(r,n);Fn(t,Ot(l))||(a=Ln(e,a,l,c,o,i,s))})),a}(e,t,l.path,l.children,n,o,a):(p(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),i=Bn(e,t,l.path,l.children,n,o,s,a))}else if(r.type===Gr.ACK_USER_WRITE){var u=r;i=u.revert?function(e,t,r,n,o,i){var s;if(null!=An(n,r))return t;var a=new Rn(n,t,o),c=t.eventCache.getNode(),l=void 0;if(kt(r)||".priority"===Ot(r)){var u=void 0;if(t.serverCache.isFullyInitialized())u=Sn(n,sn(t));else{var d=t.serverCache.getNode();p(d instanceof fr,"serverChildren would be complete if leaf node"),u=Tn(n,d)}u=u,l=e.filter.updateFullNode(c,u,i)}else{var f=Ot(r),h=xn(n,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=c.getImmediateChild(f)),(l=null!=h?e.filter.updateChild(c,f,h,Tt(r),a,i):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,fr.EMPTY_NODE,Tt(r),a,i):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Sn(n,sn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,i))}return s=t.serverCache.isFullyInitialized()||null!=An(n,_t()),rn(t,l,s,e.filter.filtersNodes())}(e,t,u.path,n,o,a):function(e,t,r,n,o,i,s){if(null!=An(o,r))return t;var a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=n.value){if(kt(r)&&c.isFullyInitialized()||c.isCompleteForPath(r))return Dn(e,t,r,c.getNode().getChild(r),o,i,a,s);if(kt(r)){var l=new an(null);return c.getNode().forEachChild(Kt,(function(e,t){l=l.set(new Et(e),t)})),Bn(e,t,r,l,o,i,a,s)}return t}var u=new an(null);return n.foreach((function(e,t){var n=It(r,e);c.isCompleteForPath(n)&&(u=u.set(e,c.getNode().getChild(n)))})),Bn(e,t,r,u,o,i,a,s)}(e,t,u.path,u.affectedTree,n,o,a)}else{if(r.type!==Gr.LISTEN_COMPLETE)throw d("Unknown operation type: "+r.type);i=function(e,t,r,n,o){var i=t.serverCache;return jn(e,nn(t,i.getNode(),i.isFullyInitialized()||kt(r),i.isFiltered()),r,n,Pn,o)}(e,t,r.path,n,a)}var f=a.getChanges();return function(e,t,r){var n=t.eventCache;if(n.isFullyInitialized()){var o=n.getNode().isLeafNode()||n.getNode().isEmpty(),i=on(e);(r.length>0||!e.eventCache.isFullyInitialized()||o&&!n.getNode().equals(i)||!n.getNode().getPriority().equals(i.getPriority()))&&r.push(Sr(on(t)))}}(t,i,f),{viewCache:i,changes:f}}(e.processor_,s,t,r,n);return o=e.processor_,i=a.viewCache,p(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),p(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),p(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Kn(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Kn(e,t,r,n){var o=n?[n]:e.eventRegistrations_;return function(e,t,r,n){var o=[],i=[];return t.forEach((function(t){var r;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((r=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:r}))})),en(e,o,"child_removed",t,n,r),en(e,o,"child_added",t,n,r),en(e,o,"child_moved",i,n,r),en(e,o,"child_changed",t,n,r),en(e,o,"value",t,n,r),o}(e.eventGenerator_,t,r,o)}var Wn,Jn=function(){this.views=new Map};function $n(e,t,r,n){var o,i,s=t.source.queryId;if(null!==s){var a=e.views.get(s);return p(null!=a,"SyncTree gave us an op for an invalid query."),zn(a,t,r,n)}var l=[];try{for(var u=c(e.views.values()),d=u.next();!d.done;d=u.next())a=d.value,l=l.concat(zn(a,t,r,n))}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return l}function Yn(e,t,r,n,o){var i=t._queryIdentifier,s=e.views.get(i);if(!s){var a=Sn(r,o?n:null),c=!1;a?c=!0:n instanceof fr?(a=Tn(r,n),c=!1):(a=fr.EMPTY_NODE,c=!1);var l=tn(new Xr(a,c,!1),new Xr(n,o,!1));return new Vn(t,l)}return s}function Qn(e){var t,r,n=[];try{for(var o=c(e.views.values()),i=o.next();!i.done;i=o.next()){var s=i.value;s.query._queryParams.loadsAllData()||n.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function Xn(e,t){var r,n,o=null;try{for(var i=c(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;o=o||qn(a,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}function Zn(e,t){if(t._queryParams.loadsAllData())return ro(e);var r=t._queryIdentifier;return e.views.get(r)}function eo(e,t){return null!=Zn(e,t)}function to(e){return null!=ro(e)}function ro(e){var t,r;try{for(var n=c(e.views.values()),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.query._queryParams.loadsAllData())return i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return null}var no=1,oo=function(e){this.listenProvider_=e,this.syncPointTree_=new an(null),this.pendingWriteTree_={visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function io(e,t,r,n,o){return function(e,t,r,n,o){p(n>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:o}),o&&(e.visibleWrites=ln(e.visibleWrites,t,r)),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n,o),o?po(e,new Yr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r)):[]}function so(e,t,r){void 0===r&&(r=!1);var n=function(e,t){for(var r=0;r<e.allWrites.length;r++){var n=e.allWrites[r];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t);if(function(e,t){var r=e.allWrites.findIndex((function(e){return e.writeId===t}));p(r>=0,"removeWrite called with nonexistent writeId.");var n=e.allWrites[r];e.allWrites.splice(r,1);for(var o=n.visible,i=!1,s=e.allWrites.length-1;o&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=r&&wn(a,n.path)?o=!1:jt(n.path,a.path)&&(i=!0)),s--}return!!o&&(i?(function(e){e.visibleWrites=_n(e.allWrites,En,_t()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(n.snap?e.visibleWrites=pn(e.visibleWrites,n.path):ze(n.children,(function(t){e.visibleWrites=pn(e.visibleWrites,It(n.path,t))})),!0))}(e.pendingWriteTree_,t)){var o=new an(null);return null!=n.snap?o=o.set(_t(),!0):ze(n.children,(function(e){o=o.set(new Et(e),!0)})),po(e,new Jr(n.path,o,r))}return[]}function ao(e,t,r){return po(e,new Yr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}function co(e,t,r,n){var o=t._path,i=e.syncPointTree_.get(o),s=[];if(i&&("default"===t._queryIdentifier||eo(i,t))){var a=function(e,t,r,n){var o,i,s=t._queryIdentifier,a=[],u=[],d=to(e);if("default"===s)try{for(var f=c(e.views.entries()),h=f.next();!h.done;h=f.next()){var g=l(h.value,2),m=g[0],y=g[1];u=u.concat(Hn(y,r,n)),Gn(y)&&(e.views.delete(m),y.query._queryParams.loadsAllData()||a.push(y.query))}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}else(y=e.views.get(s))&&(u=u.concat(Hn(y,r,n)),Gn(y)&&(e.views.delete(s),y.query._queryParams.loadsAllData()||a.push(y.query)));return d&&!to(e)&&a.push(new(p(Un,"Reference.ts has not been loaded"),Un)(t._repo,t._path)),{removed:a,events:u}}(i,t,r,n);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));var u=a.removed;s=a.events;var d=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(o,(function(e,t){return to(t)}));if(d&&!f){var h=e.syncPointTree_.subtree(o);if(!h.isEmpty())for(var g=function(e){return e.fold((function(e,t,r){if(t&&to(t))return[ro(t)];var n=[];return t&&(n=Qn(t)),ze(r,(function(e,t){n=n.concat(t)})),n}))}(h),m=0;m<g.length;++m){var y=g[m],v=y.query,b=go(e,y);e.listenProvider_.startListening(Eo(v),mo(e,v),b.hashFn,b.onComplete)}}!f&&u.length>0&&!n&&(d?e.listenProvider_.stopListening(Eo(t),null):u.forEach((function(t){var r=e.queryToTagMap.get(yo(t));e.listenProvider_.stopListening(Eo(t),r)}))),function(e,t){for(var r=0;r<t.length;++r){var n=t[r];if(!n._queryParams.loadsAllData()){var o=yo(n),i=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(i)}}}(e,u)}return s}function lo(e,t,r){var n=t._path,o=null,i=!1;e.syncPointTree_.foreachOnPath(n,(function(e,t){var r=Nt(e,n);o=o||Xn(t,r),i=i||to(t)}));var s,a=e.syncPointTree_.get(n);a?(i=i||to(a),o=o||Xn(a,_t())):(a=new Jn,e.syncPointTree_=e.syncPointTree_.set(n,a)),null!=o?s=!0:(s=!1,o=fr.EMPTY_NODE,e.syncPointTree_.subtree(n).foreachChild((function(e,t){var r=Xn(t,_t());r&&(o=o.updateImmediateChild(e,r))})));var c=eo(a,t);if(!c&&!t._queryParams.loadsAllData()){var l=yo(t);p(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var u=no++;e.queryToTagMap.set(l,u),e.tagToQueryMap.set(u,l)}var d=function(e,t,r,n,o,i){var s=Yn(e,t,n,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,r),function(e,t){var r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ar,(function(e,t){n.push(Tr(e,t))})),r.isFullyInitialized()&&n.push(Sr(r.getNode())),Kn(e,n,r.getNode(),t)}(s,r)}(a,t,r,bn(e.pendingWriteTree_,n),o,s);if(!c&&!i){var f=Zn(a,t);d=d.concat(function(e,t,r){var n=t._path,o=mo(e,t),i=go(e,r),s=e.listenProvider_.startListening(Eo(t),o,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(n);if(o)p(!to(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=a.fold((function(e,t,r){if(!kt(e)&&t&&to(t))return[ro(t).query];var n=[];return t&&(n=n.concat(Qn(t).map((function(e){return e.query})))),ze(r,(function(e,t){n=n.concat(t)})),n})),l=0;l<c.length;++l){var u=c[l];e.listenProvider_.stopListening(Eo(u),mo(e,u))}return s}(e,t,f))}return d}function uo(e,t,r){var n=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,r){var n=Xn(r,Nt(e,t));if(n)return n}));return On(n,t,o,r,!0)}function po(e,t){return fo(t,e.syncPointTree_,null,bn(e.pendingWriteTree_,_t()))}function fo(e,t,r,n){if(kt(e.path))return ho(e,t,r,n);var o=t.get(_t());null==r&&null!=o&&(r=Xn(o,_t()));var i=[],s=Ot(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){var l=r?r.getImmediateChild(s):null,u=In(n,s);i=i.concat(fo(a,c,l,u))}return o&&(i=i.concat($n(o,e,n,r))),i}function ho(e,t,r,n){var o=t.get(_t());null==r&&null!=o&&(r=Xn(o,_t()));var i=[];return t.children.inorderTraversal((function(t,o){var s=r?r.getImmediateChild(t):null,a=In(n,t),c=e.operationForChild(t);c&&(i=i.concat(ho(c,o,s,a)))})),o&&(i=i.concat($n(o,e,n,r))),i}function go(e,t){var r=t.query,n=mo(e,r);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||fr.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return n?function(e,t,r){var n=vo(e,r);if(n){var o=bo(n),i=o.path,s=o.queryId,a=Nt(i,t);return wo(e,i,new $r(Kr(s),a))}return[]}(e,r._path,n):function(e,t){return po(e,new $r({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,r._path);var o=function(e,t){var r="Unknown Error";"too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?r="Client doesn't have permission to access the desired data.":"unavailable"===e&&(r="The service is unavailable");var n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}(t,r);return co(e,r,null,o)}}}function mo(e,t){var r=yo(t);return e.queryToTagMap.get(r)}function yo(e){return e._path.toString()+"$"+e._queryIdentifier}function vo(e,t){return e.tagToQueryMap.get(t)}function bo(e){var t=e.indexOf("$");return p(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Et(e.substr(0,t))}}function wo(e,t,r){var n=e.syncPointTree_.get(t);return p(n,"Missing sync point for query tag that we're tracking"),$n(n,r,bn(e.pendingWriteTree_,t),null)}function Eo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(p(Wn,"Reference.ts has not been loaded"),Wn)(e._repo,e._path):e}var _o=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Oo=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var r=It(this.path_,t);return new e(this.syncTree_,r)},e.prototype.node=function(){return uo(this.syncTree_,this.path_)},e}(),So=function(e,t,r){return e&&"object"==typeof e?(p(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?To(e[".sv"],t,r):"object"==typeof e[".sv"]?Co(e[".sv"],t):void p(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},To=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:p(!1,"Unexpected server value: "+e)}},Co=function(e,t,r){e.hasOwnProperty("increment")||p(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var n=e.increment;"number"!=typeof n&&p(!1,"Unexpected increment value: "+n);var o=t.node();if(p(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return n;var i=o.getValue();return"number"!=typeof i?n:i+n},Ao=function(e,t,r,n){return Io(t,new Oo(r,e),n)},xo=function(e,t,r){return Io(e,new _o(t),r)};function Io(e,t,r){var n,o=e.getPriority().val(),i=So(o,t.getImmediateChild(".priority"),r);if(e.isLeafNode()){var s=e,a=So(s.getValue(),t,r);return a!==s.getValue()||i!==s.getPriority().val()?new sr(a,gr(i)):e}var c=e;return n=c,i!==c.getPriority().val()&&(n=n.updatePriority(new sr(i))),c.forEachChild(ar,(function(e,o){var i=Io(o,t.getImmediateChild(e),r);i!==o&&(n=n.updateImmediateChild(e,i))})),n}var ko=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t=null),void 0===r&&(r={children:{},childCount:0}),this.name=e,this.parent=t,this.node=r};function No(e,t){for(var r=t instanceof Et?t:new Et(t),n=e,o=Ot(r);null!==o;){var i=I(n.node.children,o)||{children:{},childCount:0};n=new ko(o,n,i),o=Ot(r=Tt(r))}return n}function Po(e){return e.node.value}function Ro(e,t){e.node.value=t,Mo(e)}function jo(e){return e.node.childCount>0}function Do(e,t){ze(e.node.children,(function(r,n){t(new ko(r,e,n))}))}function Lo(e,t,r,n){r&&!n&&t(e),Do(e,(function(e){Lo(e,t,!0,n)})),r&&n&&t(e)}function Fo(e){return new Et(null===e.parent?e.name:Fo(e.parent)+"/"+e.name)}function Mo(e){null!==e.parent&&function(e,t,r){var n=function(e){return void 0===Po(e)&&!jo(e)}(r),o=x(e.node.children,t);n&&o?(delete e.node.children[t],e.node.childCount--,Mo(e)):n||o||(e.node.children[t]=r.node,e.node.childCount++,Mo(e))}(e.parent,e.name,e)}var Bo=/[\[\].#$\/\u0000-\u001F\u007F]/,Uo=/[\[\].#$\u0000-\u001F\u007F]/,Vo=10485760,qo=function(e){return"string"==typeof e&&0!==e.length&&!Bo.test(e)},Go=function(e){return"string"==typeof e&&0!==e.length&&!Uo.test(e)},Ho=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Fe(e)||e&&"object"==typeof e&&x(e,".sv")},zo=function(e,t,r,n){n&&void 0===t||Ko(F(e,"value"),t,r)},Ko=function(e,t,r){var n=r instanceof Et?new Dt(r,e):r;if(void 0===t)throw new Error(e+"contains undefined "+Ft(n));if("function"==typeof t)throw new Error(e+"contains a function "+Ft(n)+" with contents = "+t.toString());if(Fe(t))throw new Error(e+"contains "+t.toString()+" "+Ft(n));if("string"==typeof t&&t.length>Vo/3&&U(t)>Vo)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Ft(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var o=!1,i=!1;if(ze(t,(function(t,r){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!qo(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ft(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=U(t),Lt(e)}(n,t),Ko(e,r,n),a=(s=n).parts_.pop(),s.byteLength_-=U(a),s.parts_.length>0&&(s.byteLength_-=1)})),o&&i)throw new Error(e+' contains ".value" child '+Ft(n)+" in addition to actual children.")}},Wo=function(e,t,r,n){if(!n||void 0!==t){var o=F(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var i=[];ze(t,(function(e,t){var n=new Et(e);if(Ko(o,t,It(r,n)),".priority"===Ct(n)&&!Ho(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(n)})),function(e,t){var r,n;for(r=0;r<t.length;r++)for(var o=At(n=t[r]),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!qo(o[i]))throw new Error(e+"contains an invalid key ("+o[i]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Pt);var s=null;for(r=0;r<t.length;r++){if(n=t[r],null!==s&&jt(s,n))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+n.toString());s=n}}(o,i)}},Jo=function(e,t,r){if(!r||void 0!==t){if(Fe(t))throw new Error(F(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ho(t))throw new Error(F(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$o=function(e,t,r){if(!r||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(F(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Yo=function(e,t,r,n){if(!(n&&void 0===r||qo(r)))throw new Error(F(e,t)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qo=function(e,t,r,n){if(!(n&&void 0===r||Go(r)))throw new Error(F(e,t)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xo=function(e,t){if(".info"===Ot(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zo=function(e,t){var r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!qo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Go(e)}(r))throw new Error(F(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(e,t,r,n){if((!n||void 0!==r)&&"boolean"!=typeof r)throw new Error(F(e,t)+"must be a boolean.")},ti=function(){this.eventLists_=[],this.recursionDepth_=0};function ri(e,t){for(var r=null,n=0;n<t.length;n++){var o=t[n],i=o.getPath();null===r||Rt(i,r.path)||(e.eventLists_.push(r),r=null),null===r&&(r={events:[],path:i}),r.events.push(o)}r&&e.eventLists_.push(r)}function ni(e,t,r){ri(e,r),ii(e,(function(e){return Rt(e,t)}))}function oi(e,t,r){ri(e,r),ii(e,(function(e){return jt(e,t)||jt(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var r=!0,n=0;n<e.eventLists_.length;n++){var o=e.eventLists_[n];o&&(t(o.path)?(si(e.eventLists_[n]),e.eventLists_[n]=null):r=!1)}r&&(e.eventLists_=[]),e.recursionDepth_--}function si(e){for(var t=0;t<e.events.length;t++){var r=e.events[t];if(null!==r){e.events[t]=null;var n=r.getEventRunner();Ie&&Pe("event: "+r.toString()),$e(n)}}}var ai="repo_interrupt",ci=function(){function e(e,t,r,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Br(),this.transactionQueueTree_=new ko,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function li(e){var t=e.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ui(e){return(t=(t={timestamp:li(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function pi(e,t,r,n,o){e.dataUpdateCount++;var i=new Et(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;var s=[];if(o)if(n){var a=N(r,(function(e){return gr(e)}));s=function(e,t,r,n){var o=vo(e,n);if(o){var i=bo(o),s=i.path,a=i.queryId,c=Nt(s,t),l=an.fromObject(r);return wo(e,s,new Qr(Kr(a),c,l))}return[]}(e.serverSyncTree_,i,a,o)}else{var c=gr(r);s=function(e,t,r,n){var o=vo(e,n);if(null!=o){var i=bo(o),s=i.path,a=i.queryId,c=Nt(s,t);return wo(e,s,new Yr(Kr(a),c,r))}return[]}(e.serverSyncTree_,i,c,o)}else if(n){var l=N(r,(function(e){return gr(e)}));s=function(e,t,r){var n=an.fromObject(r);return po(e,new Qr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,i,l)}else{var u=gr(r);s=ao(e.serverSyncTree_,i,u)}var p=i;s.length>0&&(p=Si(e,i)),oi(e.eventQueue_,p,s)}function di(e,t){fi(e,"connected",t),!1===t&&function(e){wi(e,"onDisconnectEvents");var t=ui(e),r=Br();qr(e.onDisconnect_,_t(),(function(n,o){var i=Ao(n,o,e.serverSyncTree_,t);Ur(r,n,i)}));var n=[];qr(r,_t(),(function(t,r){n=n.concat(ao(e.serverSyncTree_,t,r));var o=Ii(e,t);Si(e,o)})),e.onDisconnect_=Br(),oi(e.eventQueue_,_t(),n)}(e)}function fi(e,t,r){var n=new Et("/.info/"+t),o=gr(r);e.infoData_.updateSnapshot(n,o);var i=ao(e.infoSyncTree_,n,o);oi(e.eventQueue_,n,i)}function hi(e){return e.nextWriteId_++}function gi(e,t,r,n,o){wi(e,"set",{path:t.toString(),value:r,priority:n});var i=ui(e),s=gr(r,n),a=uo(e.serverSyncTree_,t),c=xo(s,a,i),l=hi(e),u=io(e.serverSyncTree_,t,c,l,!0);ri(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(function(r,n){var i="ok"===r;i||Le("set at "+t+" failed: "+r);var s=so(e.serverSyncTree_,l,!i);oi(e.eventQueue_,t,s),Ei(0,o,r,n)}));var p=Ii(e,t);Si(e,p),oi(e.eventQueue_,p,[])}function mi(e,t,r){e.server_.onDisconnectCancel(t.toString(),(function(n,o){"ok"===n&&Vr(e.onDisconnect_,t),Ei(0,r,n,o)}))}function yi(e,t,r,n){var o=gr(r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(r,i){"ok"===r&&Ur(e.onDisconnect_,t,o),Ei(0,n,r,i)}))}function vi(e,t,r){var n;n=".info"===Ot(t._path)?co(e.infoSyncTree_,t,r):co(e.serverSyncTree_,t,r),ni(e.eventQueue_,t._path,n)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function wi(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Pe.apply(void 0,u([n],l(t)))}function Ei(e,t,r,n){t&&$e((function(){if("ok"===r)t(null);else{var e=(r||"error").toUpperCase(),o=e;n&&(o+=": "+n);var i=new Error(o);i.code=e,t(i)}}))}function _i(e,t,r){return uo(e.serverSyncTree_,t,r)||fr.EMPTY_NODE}function Oi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||xi(e,t),Po(t)){var r=Ci(e,t);p(r.length>0,"Sending zero length transaction queue"),r.every((function(e){return 0===e.status}))&&function(e,t,r){for(var n=r.map((function(e){return e.currentWriteId})),o=_i(e,t,n),i=o,s=o.hash(),a=0;a<r.length;a++){var c=r[a];p(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Nt(t,c.path);i=i.updateChild(l,c.currentOutputSnapshotRaw)}var u=i.val(!0),d=t;e.server_.put(d.toString(),u,(function(n){wi(e,"transaction put response",{path:d.toString(),status:n});var o=[];if("ok"===n){for(var i=[],s=function(t){r[t].status=2,o=o.concat(so(e.serverSyncTree_,r[t].currentWriteId)),r[t].onComplete&&i.push((function(){return r[t].onComplete(null,!0,r[t].currentOutputSnapshotResolved)})),r[t].unwatcher()},a=0;a<r.length;a++)s(a);for(xi(e,No(e.transactionQueueTree_,t)),Oi(e,e.transactionQueueTree_),oi(e.eventQueue_,t,o),a=0;a<i.length;a++)$e(i[a])}else{if("datastale"===n)for(a=0;a<r.length;a++)3===r[a].status?r[a].status=4:r[a].status=0;else for(Le("transaction at "+d.toString()+" failed: "+n),a=0;a<r.length;a++)r[a].status=4,r[a].abortReason=n;Si(e,t)}}),s)}(e,Fo(t),r)}else jo(t)&&Do(t,(function(t){Oi(e,t)}))}function Si(e,t){var r=Ti(e,t),n=Fo(r);return function(e,t,r){if(0!==t.length){for(var n=[],o=[],i=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var a,c,l=t[s],u=Nt(r,l.path),d=!1;if(p(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,a=l.abortReason,o=o.concat(so(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,a="maxretry",o=o.concat(so(e.serverSyncTree_,l.currentWriteId,!0));else{var f=_i(e,l.path,i);l.currentInputSnapshot=f;var h=t[s].update(f.val());if(void 0!==h){Ko("transaction failed: Data returned ",h,l.path);var g=gr(h);"object"==typeof h&&null!=h&&x(h,".priority")||(g=g.updatePriority(f.getPriority()));var m=l.currentWriteId,y=ui(e),v=xo(g,f,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=hi(e),i.splice(i.indexOf(m),1),o=(o=o.concat(io(e.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally))).concat(so(e.serverSyncTree_,m,!0))}else d=!0,a="nodata",o=o.concat(so(e.serverSyncTree_,l.currentWriteId,!0))}oi(e.eventQueue_,r,o),o=[],d&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===a?n.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):n.push((function(){return t[s].onComplete(new Error(a),!1,null)}))))},a=0;a<t.length;a++)s(a);for(xi(e,e.transactionQueueTree_),a=0;a<n.length;a++)$e(n[a]);Oi(e,e.transactionQueueTree_)}}(e,Ci(e,r),n),n}function Ti(e,t){var r,n=e.transactionQueueTree_;for(r=Ot(t);null!==r&&void 0===Po(n);)n=No(n,r),r=Ot(t=Tt(t));return n}function Ci(e,t){var r=[];return Ai(e,t,r),r.sort((function(e,t){return e.order-t.order})),r}function Ai(e,t,r){var n=Po(t);if(n)for(var o=0;o<n.length;o++)r.push(n[o]);Do(t,(function(t){Ai(e,t,r)}))}function xi(e,t){var r=Po(t);if(r){for(var n=0,o=0;o<r.length;o++)2!==r[o].status&&(r[n]=r[o],n++);r.length=n,Ro(t,r.length>0?r:void 0)}Do(t,(function(t){xi(e,t)}))}function Ii(e,t){var r=Fo(Ti(e,t)),n=No(e.transactionQueueTree_,t);return function(e,t,r){for(var n=e.parent;null!==n;){if(t(n))return!0;n=n.parent}}(n,(function(t){ki(e,t)})),ki(e,n),Lo(n,(function(t){ki(e,t)})),r}function ki(e,t){var r=Po(t);if(r){for(var n=[],o=[],i=-1,s=0;s<r.length;s++)3===r[s].status||(1===r[s].status?(p(i===s-1,"All SENT items should be at beginning of queue."),i=s,r[s].status=3,r[s].abortReason="set"):(p(0===r[s].status,"Unexpected transaction status in abort"),r[s].unwatcher(),o=o.concat(so(e.serverSyncTree_,r[s].currentWriteId,!0)),r[s].onComplete&&n.push(r[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?Ro(t,void 0):r.length=i+1,oi(e.eventQueue_,Fo(t),o),s=0;s<n.length;s++)$e(n[s])}}var Ni=function(e,t){var r=Pi(e),n=r.namespace;"firebase.com"===r.domain&&De(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===r.domain||De("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Le("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===r.scheme||"wss"===r.scheme;return{repoInfo:new nt(r.host,r.secure,n,t,o,"",n!==r.subdomain),path:new Et(r.pathString)}},Pi=function(e){var t="",r="",n="",o="",i="",s=!0,a="https",l=443;if("string"==typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var p=e.indexOf("/");-1===p&&(p=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(p,d)),p<d&&(o=function(e){for(var t="",r=e.split("/"),n=0;n<r.length;n++)if(r[n].length>0){var o=r[n];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(e){}t+="/"+o}return t}(e.substring(p,d)));var f=function(e){var t,r,n={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=c(e.split("&")),i=o.next();!i.done;i=o.next()){var s=i.value;if(0!==s.length){var a=s.split("=");2===a.length?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Le("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(e.substring(Math.min(e.length,d)));(u=t.indexOf(":"))>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;var h=t.slice(0,u);if("localhost"===h.toLowerCase())r="localhost";else if(h.split(".").length<=2)r=h;else{var g=t.indexOf(".");n=t.substring(0,g).toLowerCase(),r=t.substring(g+1),i=n}"ns"in f&&(i=f.ns)}return{host:t,port:l,domain:r,subdomain:n,secure:s,scheme:a,pathString:o,namespace:i}},Ri=function(){function e(e,t,r,n){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=n}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+C(this.snapshot.exportVal())},e}(),ji=function(){function e(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Di=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return p(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new v;return mi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xo("OnDisconnect.remove",this._path);var e=new v;return yi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xo("OnDisconnect.set",this._path),zo("OnDisconnect.set",e,this._path,!1);var t=new v;return yi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xo("OnDisconnect.setWithPriority",this._path),zo("OnDisconnect.setWithPriority",e,this._path,!1),Jo("OnDisconnect.setWithPriority",t,!1);var r=new v;return function(e,t,r,n,o){var i=gr(r,n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(r,n){"ok"===r&&Ur(e.onDisconnect_,t,i),Ei(0,o,r,n)}))}(this._repo,this._path,e,t,r.wrapCallback((function(){}))),r.promise},e.prototype.update=function(e){Xo("OnDisconnect.update",this._path),Wo("OnDisconnect.update",e,this._path,!1);var t=new v;return function(e,t,r,n){if(k(r))return Pe("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,n,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),r,(function(o,i){"ok"===o&&ze(r,(function(r,n){var o=gr(n);Ur(e.onDisconnect_,It(t,r),o)})),Ei(0,n,o,i)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Fi=function(){function e(e,t,r,n){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=n}return Object.defineProperty(e.prototype,"key",{get:function(){return kt(this._path)?null:Ct(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Lr(this._queryParams),t=Ge(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Lr(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=V(t))instanceof e))return!1;var r=this._repo===t._repo,n=Rt(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return r&&n&&o},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",r=e.pieceNum_;r<e.pieces_.length;r++)""!==e.pieces_[r]&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}(this._path)},e}();function Mi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bi(e){var t=null,r=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===Kt){var n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Me)throw new Error(n);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==Be)throw new Error(n);if("string"!=typeof r)throw new Error(o)}}else if(e.getIndex()===ar){if(null!=t&&!Ho(t)||null!=r&&!Ho(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(p(e.getIndex()instanceof vr||e.getIndex()===br,"unknown index type."),null!=t&&"object"==typeof t||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ui(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vi=function(e){function t(t,r){return e.call(this,t,r,new Nr,!1)||this}return o(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=xt(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Fi),qi=function(){function e(e,t,r){this._node=e,this.ref=t,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var r=new Et(t),n=zi(this.ref,t);return new e(this._node.getChild(r),n,ar)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var r=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,o){return t(new e(o,zi(r.ref,n),ar))}))},e.prototype.hasChild=function(e){var t=new Et(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Gi(e,t){return(e=V(e))._checkNotDeleted("ref"),void 0!==t?zi(e._root,t):e._root}function Hi(e,t){(e=V(e))._checkNotDeleted("refFromURL");var r=Ni(t,e._repo.repoInfo_.nodeAdmin);Zo("refFromURL",r);var n=r.repoInfo;return e._repo.repoInfo_.isCustomHost()||n.host===e._repo.repoInfo_.host||De("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+e._repo.repoInfo_.host+")"),Gi(e,r.path.toString())}function zi(e,t){var r;return null===Ot((e=V(e))._path)?("child","path",!1,(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Qo("child","path",r,false)):Qo("child","path",t,!1),new Vi(e._repo,It(e._path,t))}function Ki(e,t){e=V(e),Xo("push",e._path),zo("push",t,e._path,!0);var r,n=li(e._repo),o=Er(n),i=zi(e,o),s=zi(e,o);return r=null!=t?Ji(s,t).then((function(){return s})):Promise.resolve(s),i.then=r.then.bind(r),i.catch=r.then.bind(r,void 0),i}function Wi(e){return Xo("remove",e._path),Ji(e,null)}function Ji(e,t){e=V(e),Xo("set",e._path),zo("set",t,e._path,!1);var r=new v;return gi(e._repo,e._path,t,null,r.wrapCallback((function(){}))),r.promise}function $i(e,t){e=V(e),Xo("setPriority",e._path),Jo("setPriority",t,!1);var r=new v;return gi(e._repo,It(e._path,".priority"),t,null,r.wrapCallback((function(){}))),r.promise}function Yi(e,t,r){if(Xo("setWithPriority",e._path),zo("setWithPriority",t,e._path,!1),Jo("setWithPriority",r,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var n=new v;return gi(e._repo,e._path,t,r,n.wrapCallback((function(){}))),n.promise}function Qi(e,t){Wo("update",t,e._path,!1);var r=new v;return function(e,t,r,n){wi(e,"update",{path:t.toString(),value:r});var o=!0,i=ui(e),s={};if(ze(r,(function(r,n){o=!1,s[r]=Ao(It(t,r),gr(n),e.serverSyncTree_,i)})),o)Pe("update() called with empty data.  Don't do anything."),Ei(0,n,"ok",void 0);else{var a=hi(e),c=function(e,t,r,n){!function(e,t,r,n){p(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=un(e.visibleWrites,t,r),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n);var o=an.fromObject(r);return po(e,new Qr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(e.serverSyncTree_,t,s,a);ri(e.eventQueue_,c),e.server_.merge(t.toString(),r,(function(r,o){var i="ok"===r;i||Le("update at "+t+" failed: "+r);var s=so(e.serverSyncTree_,a,!i),c=s.length>0?Si(e,t):t;oi(e.eventQueue_,c,s),Ei(0,n,r,o)})),ze(r,(function(r){var n=Ii(e,It(t,r));Si(e,n)})),oi(e.eventQueue_,t,[])}}(e._repo,e._path,t,r.wrapCallback((function(){}))),r.promise}function Xi(e){return function(e,t){var r=function(e,t){var r=t._path,n=null;e.syncPointTree_.foreachOnPath(r,(function(e,t){var o=Nt(e,r);n=n||Xn(t,o)}));var o=e.syncPointTree_.get(r);o?n=n||Xn(o,_t()):(o=new Jn,e.syncPointTree_=e.syncPointTree_.set(r,o));var i=null!=n,s=i?new Xr(n,!0,!1):null;return on(Yn(o,t,bn(e.pendingWriteTree_,t._path),i?s.getNode():fr.EMPTY_NODE,i).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var n=gr(r),o=ao(e.serverSyncTree_,t._path,n);return ni(e.eventQueue_,t._path,o),Promise.resolve(n)}),(function(r){return wi(e,"get for query "+C(t)+" failed: "+r),Promise.reject(new Error(r))}))}((e=V(e))._repo,e).then((function(t){return new qi(t,new Vi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var r=t._queryParams.getIndex();return new Ri("value",this,new qi(e.snapshotNode,new Vi(t._repo,t._path),r))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),es=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.createEvent=function(e,t){p(null!=e.childName,"Child events should have a childName.");var r=zi(new Vi(t._repo,t._path),e.childName),n=t._queryParams.getIndex();return new Ri(e.type,this,new qi(e.snapshotNode,r,n),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ts(e,t,r,n,o){var i;if("object"==typeof n&&(i=void 0,o=n),"function"==typeof n&&(i=n),o&&o.onlyOnce){var s=r,a=function(t,r){vi(e._repo,e,l),s(t,r)};a.userCallback=r.userCallback,a.context=r.context,r=a}var c=new Di(r,i||void 0),l="value"===t?new Zi(c):new es(t,c);return function(e,t,r){var n;n=".info"===Ot(t._path)?lo(e.infoSyncTree_,t,r):lo(e.serverSyncTree_,t,r),ni(e.eventQueue_,t._path,n)}(e._repo,e,l),function(){return vi(e._repo,e,l)}}function rs(e,t,r,n){return ts(e,"value",t,r,n)}function ns(e,t,r,n){return ts(e,"child_added",t,r,n)}function os(e,t,r,n){return ts(e,"child_changed",t,r,n)}function is(e,t,r,n){return ts(e,"child_moved",t,r,n)}function ss(e,t,r,n){return ts(e,"child_removed",t,r,n)}function as(e,t,r){var n=null,o=r?new Di(r):null;"value"===t?n=new Zi(o):t&&(n=new es(t,o)),vi(e._repo,e,n)}var cs=function(){},ls=function(e){function t(t,r){var n=e.call(this)||this;return n._value=t,n._key=r,n}return o(t,e),t.prototype._apply=function(e){zo("endAt",this._value,e._path,!0);var t=Rr(e._queryParams,this._value,this._key);if(Ui(t),Bi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(cs);function us(e,t){return Yo("endAt","key",t,!0),new ls(e,t)}var ps=function(e){function t(t,r){var n=e.call(this)||this;return n._value=t,n._key=r,n}return o(t,e),t.prototype._apply=function(e){zo("endBefore",this._value,e._path,!1);var t,r,n,o,i=(t=e._queryParams,r=this._value,n=this._key,t.index_===Kt?("string"==typeof r&&(r=Or(r)),o=Rr(t,r,n)):o=Rr(t,r,null==n?Me:Or(n)),o.endBeforeSet_=!0,o);if(Ui(i),Bi(i),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,i,e._orderByCalled)},t}(cs);function ds(e,t){return Yo("endBefore","key",t,!0),new ps(e,t)}var fs=function(e){function t(t,r){var n=e.call(this)||this;return n._value=t,n._key=r,n}return o(t,e),t.prototype._apply=function(e){zo("startAt",this._value,e._path,!0);var t=Pr(e._queryParams,this._value,this._key);if(Ui(t),Bi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(cs);function hs(e,t){return void 0===e&&(e=null),Yo("startAt","key",t,!0),new fs(e,t)}var gs=function(e){function t(t,r){var n=e.call(this)||this;return n._value=t,n._key=r,n}return o(t,e),t.prototype._apply=function(e){zo("startAfter",this._value,e._path,!1);var t,r,n,o,i=(t=e._queryParams,r=this._value,n=this._key,t.index_===Kt?("string"==typeof r&&(r=_r(r)),o=Pr(t,r,n)):o=Pr(t,r,null==n?Be:_r(n)),o.startAfterSet_=!0,o);if(Ui(i),Bi(i),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,i,e._orderByCalled)},t}(cs);function ms(e,t){return Yo("startAfter","key",t,!0),new gs(e,t)}var ys=function(e){function t(t){var r=e.call(this)||this;return r._limit=t,r}return o(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,(t=e._queryParams,r=this._limit,(n=t.copy()).limitSet_=!0,n.limit_=r,n.viewFrom_="l",n),e._orderByCalled);var t,r,n},t}(cs);function vs(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ys(e)}var bs=function(e){function t(t){var r=e.call(this)||this;return r._limit=t,r}return o(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,(t=e._queryParams,r=this._limit,(n=t.copy()).limitSet_=!0,n.limit_=r,n.viewFrom_="r",n),e._orderByCalled);var t,r,n},t}(cs);function ws(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bs(e)}var Es=function(e){function t(t){var r=e.call(this)||this;return r._path=t,r}return o(t,e),t.prototype._apply=function(e){Mi(e,"orderByChild");var t=new Et(this._path);if(kt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var r=new vr(t),n=jr(e._queryParams,r);return Bi(n),new Fi(e._repo,e._path,n,!0)},t}(cs);function _s(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qo("orderByChild","path",e,!1),new Es(e)}var Os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._apply=function(e){Mi(e,"orderByKey");var t=jr(e._queryParams,Kt);return Bi(t),new Fi(e._repo,e._path,t,!0)},t}(cs);function Ss(){return new Os}var Ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._apply=function(e){Mi(e,"orderByPriority");var t=jr(e._queryParams,ar);return Bi(t),new Fi(e._repo,e._path,t,!0)},t}(cs);function Cs(){return new Ts}var As=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._apply=function(e){Mi(e,"orderByValue");var t=jr(e._queryParams,br);return Bi(t),new Fi(e._repo,e._path,t,!0)},t}(cs);function xs(){return new As}var Is=function(e){function t(t,r){var n=e.call(this)||this;return n._value=t,n._key=r,n}return o(t,e),t.prototype._apply=function(e){if(zo("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ls(this._value,this._key)._apply(new fs(this._value,this._key)._apply(e))},t}(cs);function ks(e,t){return Yo("equalTo","key",t,!0),new Is(e,t)}function Ns(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=V(e);try{for(var s=c(n),a=s.next();!a.done;a=s.next()){var l=a.value;i=l._apply(i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}!function(e){p(!Un,"__referenceConstructor has already been defined"),Un=e}(Vi),function(e){p(!Wn,"__referenceConstructor has already been defined"),Wn=e}(Vi);var Ps={},Rs=!1;function js(e,t,r,n,o){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||De("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=Ni(i,o),c=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,i="http://"+l+"?ns="+c.namespace,c=(a=Ni(i,o)).repoInfo):s=!a.repoInfo.secure;var u=o&&s?new Ze(Ze.OWNER):new Xe(e.name,e.options,t);Zo("Invalid Firebase Database URL",a),kt(a.path)||De("Database URL must point to the root of a Firebase Database (not including a child path).");var p=function(e,t,r,n){var o=Ps[t.name];o||(o={},Ps[t.name]=o);var i=o[e.toURLString()];return i&&De("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ci(e,Rs,r,n),o[e.toURLString()]=i,i}(c,e,u,new Qe(e.name,r));return new Ds(p,e)}var Ds=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,r){if(e.stats_=ct(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Fr(e.repoInfo_,(function(t,r,n,o){pi(e,t,r,n,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return di(e,!0)}),0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{C(r)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new qt(e.repoInfo_,t,(function(t,r,n,o){pi(e,t,r,n,o)}),(function(t){di(e,t)}),(function(t){!function(e,t){ze(t,(function(t,r){fi(e,t,r)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}var n,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(n=function(){return new zr(e.stats_,e.server_)},o=e.repoInfo_.toString(),at[o]||(at[o]=n()),at[o]),e.infoData_=new Mr,e.infoSyncTree_=new oo({startListening:function(t,r,n,o){var i=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=ao(e.infoSyncTree_,t._path,s),setTimeout((function(){o("ok")}),0)),i},stopListening:function(){}}),fi(e,"connected",!1),e.serverSyncTree_=new oo({startListening:function(t,r,n,o){return e.server_.listen(t,n,r,(function(r,n){var i=o(r,n);oi(e.eventQueue_,t._path,i)})),[]},stopListening:function(t,r){e.server_.unlisten(t,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,_t())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,r;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(r=Ps[t])&&r[e.key]===e||De("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete r[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&De("Cannot call "+e+" on a deleted database.")},e}();function Ls(e){(e=V(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Fs(e){var t;(e=V(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Ms={".sv":"timestamp"},Bs=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Us(e,t,r){var n;if(e=V(e),Xo("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(n=null==r?void 0:r.applyLocally)||void 0===n||n,i=new v,s=rs(e,(function(){}));return function(t,r,n,o,s,a){wi(t,"transaction on "+r);var c={path:r,update:n,onComplete:function(t,r,n){var o=null;t?i.reject(t):(o=new qi(n,new Vi(e._repo,e._path),ar),i.resolve(new Bs(r,o)))},status:null,order:Ce(),applyLocally:a,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=_i(t,r,void 0);c.currentInputSnapshot=l;var u=c.update(l.val());if(void 0===u)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ko("transaction failed: Data returned ",u,c.path),c.status=0;var d=No(t.transactionQueueTree_,r),f=Po(d)||[];f.push(c),Ro(d,f);var h=void 0;"object"==typeof u&&null!==u&&x(u,".priority")?(h=I(u,".priority"),p(Ho(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(uo(t.serverSyncTree_,r)||fr.EMPTY_NODE).getPriority().val();var g=ui(t),m=gr(u,h),y=xo(m,l,g);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=hi(t);var v=io(t.serverSyncTree_,r,y,c.currentWriteId,c.applyLocally);oi(t.eventQueue_,r,v),Oi(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,o),i.promise}var Vs=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){L("OnDisconnect.cancel",0,1,arguments.length),M("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){L("OnDisconnect.remove",0,1,arguments.length),M("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){L("OnDisconnect.set",1,2,arguments.length),M("OnDisconnect.set","onComplete",t,!0);var r=this._delegate.set(e);return t&&r.then((function(){return t(null)}),(function(e){return t(e)})),r},e.prototype.setWithPriority=function(e,t,r){L("OnDisconnect.setWithPriority",2,3,arguments.length),M("OnDisconnect.setWithPriority","onComplete",r,!0);var n=this._delegate.setWithPriority(e,t);return r&&n.then((function(){return r(null)}),(function(e){return r(e)})),n},e.prototype.update=function(e,t){if(L("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,Le("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}M("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},e}(),qs=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return L("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Gs=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return L("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return L("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return L("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return L("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return L("DataSnapshot.child",0,1,arguments.length),t=String(t),Qo("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return L("DataSnapshot.hasChild",1,1,arguments.length),Qo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return L("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var r=this;return L("DataSnapshot.forEach",1,1,arguments.length),M("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(n){return t(new e(r._database,n))}))},e.prototype.hasChildren=function(){return L("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return L("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return L("DataSnapshot.ref",0,0,arguments.length),new zs(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Hs=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,r,n,o){var i,s=this;L("Query.on",2,4,arguments.length),M("Query.on","callback",r,!1);var a=e.getCancelAndContextArgs_("Query.on",n,o),c=function(e,t){r.call(a.context,new Gs(s.database,e),t)};c.userCallback=r,c.context=a.context;var l=null===(i=a.cancel)||void 0===i?void 0:i.bind(a.context);switch(t){case"value":return rs(this._delegate,c,l),r;case"child_added":return ns(this._delegate,c,l),r;case"child_removed":return ss(this._delegate,c,l),r;case"child_changed":return os(this._delegate,c,l),r;case"child_moved":return is(this._delegate,c,l),r;default:throw new Error(F("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,r){if(L("Query.off",0,3,arguments.length),$o("Query.off",e,!0),M("Query.off","callback",t,!0),B("Query.off","context",r,!0),t){var n=function(){};n.userCallback=t,n.context=r,as(this._delegate,e,n)}else as(this._delegate,e)},e.prototype.get=function(){var e=this;return Xi(this._delegate).then((function(t){return new Gs(e.database,t)}))},e.prototype.once=function(t,r,n,o){var i=this;L("Query.once",1,4,arguments.length),M("Query.once","callback",r,!0);var s=e.getCancelAndContextArgs_("Query.once",n,o),a=new v,c=function(e,t){var n=new Gs(i.database,e);r&&r.call(s.context,n,t),a.resolve(n)};c.userCallback=r,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),a.reject(e)};switch(t){case"value":rs(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ns(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ss(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":os(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":is(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(F("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},e.prototype.limitToFirst=function(t){return L("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ns(this._delegate,vs(t)))},e.prototype.limitToLast=function(t){return L("Query.limitToLast",1,1,arguments.length),new e(this.database,Ns(this._delegate,ws(t)))},e.prototype.orderByChild=function(t){return L("Query.orderByChild",1,1,arguments.length),new e(this.database,Ns(this._delegate,_s(t)))},e.prototype.orderByKey=function(){return L("Query.orderByKey",0,0,arguments.length),new e(this.database,Ns(this._delegate,Ss()))},e.prototype.orderByPriority=function(){return L("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ns(this._delegate,Cs()))},e.prototype.orderByValue=function(){return L("Query.orderByValue",0,0,arguments.length),new e(this.database,Ns(this._delegate,xs()))},e.prototype.startAt=function(t,r){return void 0===t&&(t=null),L("Query.startAt",0,2,arguments.length),new e(this.database,Ns(this._delegate,hs(t,r)))},e.prototype.startAfter=function(t,r){return void 0===t&&(t=null),L("Query.startAfter",0,2,arguments.length),new e(this.database,Ns(this._delegate,ms(t,r)))},e.prototype.endAt=function(t,r){return void 0===t&&(t=null),L("Query.endAt",0,2,arguments.length),new e(this.database,Ns(this._delegate,us(t,r)))},e.prototype.endBefore=function(t,r){return void 0===t&&(t=null),L("Query.endBefore",0,2,arguments.length),new e(this.database,Ns(this._delegate,ds(t,r)))},e.prototype.equalTo=function(t,r){return L("Query.equalTo",1,2,arguments.length),new e(this.database,Ns(this._delegate,ks(t,r)))},e.prototype.toString=function(){return L("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return L("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(L("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var r="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(r)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,r){var n={cancel:void 0,context:void 0};if(t&&r)n.cancel=t,M(e,"cancel",n.cancel,!0),n.context=r,B(e,"context",n.context,!0);else if(t)if("object"==typeof t&&null!==t)n.context=t;else{if("function"!=typeof t)throw new Error(F(e,"cancelOrContext")+" must either be a cancel callback or a context object.");n.cancel=t}return n},Object.defineProperty(e.prototype,"ref",{get:function(){return new zs(this.database,new Vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),zs=function(e){function t(t,r){var n=e.call(this,t,new Fi(r._repo,r._path,new Nr,!1))||this;return n.database=t,n._delegate=r,n}return o(t,e),t.prototype.getKey=function(){return L("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return L("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,zi(this._delegate,e))},t.prototype.getParent=function(){L("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return L("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){L("Reference.set",1,2,arguments.length),M("Reference.set","onComplete",t,!0);var r=Ji(this._delegate,e);return t&&r.then((function(){return t(null)}),(function(e){return t(e)})),r},t.prototype.update=function(e,t){if(L("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,Le("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("Reference.update",this._delegate._path),M("Reference.update","onComplete",t,!0);var o=Qi(this._delegate,e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},t.prototype.setWithPriority=function(e,t,r){L("Reference.setWithPriority",2,3,arguments.length),M("Reference.setWithPriority","onComplete",r,!0);var n=Yi(this._delegate,e,t);return r&&n.then((function(){return r(null)}),(function(e){return r(e)})),n},t.prototype.remove=function(e){L("Reference.remove",0,1,arguments.length),M("Reference.remove","onComplete",e,!0);var t=Wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,r){var n=this;L("Reference.transaction",1,3,arguments.length),M("Reference.transaction","transactionUpdate",e,!1),M("Reference.transaction","onComplete",t,!0),ei("Reference.transaction","applyLocally",r,!0);var o=Us(this._delegate,e,{applyLocally:r}).then((function(e){return new qs(e.committed,new Gs(n.database,e.snapshot))}));return t&&o.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),o},t.prototype.setPriority=function(e,t){L("Reference.setPriority",1,2,arguments.length),M("Reference.setPriority","onComplete",t,!0);var r=$i(this._delegate,e);return t&&r.then((function(){return t(null)}),(function(e){return t(e)})),r},t.prototype.push=function(e,r){var n=this;L("Reference.push",0,2,arguments.length),M("Reference.push","onComplete",r,!0);var o=Ki(this._delegate,e),i=o.then((function(e){return new t(n.database,e)}));r&&i.then((function(){return r(null)}),(function(e){return r(e)}));var s=new t(this.database,o);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s},t.prototype.onDisconnect=function(){return Xo("Reference.onDisconnect",this._delegate._path),new Vs(new Li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Hs),Ks=function(){function e(e,t){var r=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,r){void 0===r&&(r={}),function(e,t,r,n){void 0===n&&(n={}),(e=V(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&De("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)n.mockUserToken&&De('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ze(Ze.OWNER);else if(n.mockUserToken){var a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=i({iss:"https://securetoken.google.com/"+r,aud:r,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),h.encodeString(JSON.stringify(s),!1),""].join(".")}(n.mockUserToken,e.app.options.projectId);s=new Ze(a)}!function(e,t,r,n){e.repoInfo_=new nt(t+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),n&&(e.authTokenProvider_=n)}(o,t,r,s)}(this._delegate,e,t,r)},e.prototype.ref=function(e){if(L("database.ref",0,1,arguments.length),e instanceof zs){var t=Hi(this._delegate,e.toString());return new zs(this,t)}return t=Gi(this._delegate,e),new zs(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";L(t,1,1,arguments.length);var r=Hi(this._delegate,e);return new zs(this,r)},e.prototype.goOffline=function(){return L("database.goOffline",0,0,arguments.length),Ls(this._delegate)},e.prototype.goOnline=function(){return L("database.goOnline",0,0,arguments.length),Fs(this._delegate)},e.ServerValue={TIMESTAMP:Ms,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Ws=Object.freeze({__proto__:null,forceLongPolling:function(){gt.forceDisallow(),dt.forceAllow()},forceWebSockets:function(){dt.forceDisallow()},isWebSocketsAvailable:function(){return gt.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var r;t?(e.statsListener_||(e.statsListener_=new Hr(e.stats_)),r=e.statsListener_.get()):r=e.stats_.get();var n=Object.keys(r).reduce((function(e,t){return Math.max(t.length,e)}),0);ze(r,(function(e,t){for(var r=e,o=e.length;o<n+2;o++)r+=" ";console.log(r+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var r;e.stats_.incrementCounter(t),r=t,e.statsReporter_.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,r=e.url,n=e.version,o=e.customAuthImpl,i=e.namespace,s=e.nodeAdmin,a=void 0!==s&&s;ve(n);var c=new z("auth-internal",new K("database-standalone"));return c.setComponent(new G("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Ks(js(t,c,void 0,r,a),t),namespace:i}}}),Js=qt;qt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var $s=yt,Ys=nt,Qs=Object.freeze({__proto__:null,DataConnection:Js,RealTimeConnection:$s,hijackHash:function(e){var t=qt.prototype.put;return qt.prototype.put=function(r,n,o,i){void 0!==i&&(i=e()),t.call(this,r,n,o,i)},function(){qt.prototype.put=t}},ConnectionTarget:Ys,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Rs=e}(e)}}),Xs=Ks.ServerValue;function Zs(e){ve(e.SDK_VERSION);e.INTERNAL.registerComponent(new G("database",(function(e,t){var r=t.instanceIdentifier,n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ks(js(n,o,i,r),n)}),"PUBLIC").setServiceProps({Reference:zs,Query:Hs,Database:Ks,DataSnapshot:Gs,enableLogging:Ne,INTERNAL:Ws,ServerValue:Xs,TEST_ACCESS:Qs}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1")}Zs(me)},39803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79295);t.Operation=n.Operation;var o=r(43277);t.Service=o.Service;var i=r(71711);t.ServiceObject=i.ServiceObject;var s=r(19307);t.ApiError=s.ApiError,t.util=s.util},79295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(71711),o=r(31669);class i extends n.ServiceObject{constructor(e){const t={exists:!0,get:!0,getMetadata:{reqOpts:{name:e.id}}};(e=Object.assign({baseUrl:""},e)).methods=e.methods||t,super(e),this.completeListeners=0,this.hasActiveListeners=!1,this.listenForEvents_()}promise(){return new Promise(((e,t)=>{this.on("error",t).on("complete",(t=>{e([t])}))}))}listenForEvents_(){this.on("newListener",(e=>{"complete"===e&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))})),this.on("removeListener",(e=>{"complete"===e&&0==--this.completeListeners&&(this.hasActiveListeners=!1)}))}poll_(e){this.getMetadata(((t,r)=>{t||r.error?e(t||r.error):r.done?e(null,r):e(null)}))}async startPolling_(){if(this.hasActiveListeners)try{const e=await o.promisify(this.poll_.bind(this))();if(!e)return void setTimeout(this.startPolling_.bind(this),this.pollIntervalMs||500);this.emit("complete",e)}catch(e){this.emit("error",e)}}}t.Operation=i},71711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(37996),o=r(61021),i=r(28614),s=r(94470),a=r(19307);class c extends i.EventEmitter{constructor(e){super(),this.metadata={},this.baseUrl=e.baseUrl,this.parent=e.parent,this.id=e.id,this.createMethod=e.createMethod,this.methods=e.methods||{},this.interceptors=[],this.pollIntervalMs=e.pollIntervalMs,e.methods&&Object.getOwnPropertyNames(c.prototype).filter((t=>!/^request/.test(t)&&!/^getRequestInterceptors/.test(t)&&this[t]===c.prototype[t]&&!e.methods[t])).forEach((e=>{this[e]=void 0}))}create(e,t){const r=this,n=[this.id];"function"==typeof e&&(t=e),"object"==typeof e&&n.push(e),n.push((function(...e){const[n,o]=e;n||(r.metadata=o.metadata,e[1]=r),t(...e)})),this.createMethod.apply(null,n)}delete(e,t){const[r,n]=a.util.maybeOptionsOrCallback(e,t),o=r.ignoreNotFound;delete r.ignoreNotFound;const i="object"==typeof this.methods.delete&&this.methods.delete||{},l=s(!0,{method:"DELETE",uri:""},i.reqOpts,{qs:r});c.prototype.request.call(this,l,((e,...t)=>{e&&404===e.code&&o&&(e=null),n(e,...t)}))}exists(e,t){const[r,n]=a.util.maybeOptionsOrCallback(e,t);this.get(r,(e=>{e?404===e.code?n(null,!1):n(e):n(null,!0)}))}get(e,t){const r=this,[n,o]=a.util.maybeOptionsOrCallback(e,t),i=Object.assign({},n),s=i.autoCreate&&"function"==typeof this.create;function c(e,t,n){if(e)return 409===e.code?void r.get(i,o):void o(e,null,n);o(null,t,n)}delete i.autoCreate,this.getMetadata(i,((e,t)=>{if(e){if(404===e.code&&s){const e=[];return Object.keys(i).length>0&&e.push(i),e.push(c),void r.create(...e)}o(e,null,t)}else o(null,r,t)}))}getMetadata(e,t){const[r,n]=a.util.maybeOptionsOrCallback(e,t),o="object"==typeof this.methods.getMetadata&&this.methods.getMetadata||{},i=s(!0,{uri:""},o.reqOpts,{qs:r});c.prototype.request.call(this,i,((e,t,r)=>{this.metadata=t,n(e,this.metadata,r)}))}getRequestInterceptors(){const e=this.interceptors.filter((e=>"function"==typeof e.request)).map((e=>e.request));return this.parent.getRequestInterceptors().concat(e)}setMetadata(e,t,r){const[n,o]=a.util.maybeOptionsOrCallback(t,r),i="object"==typeof this.methods.setMetadata&&this.methods.setMetadata||{},l=s(!0,{},{method:"PATCH",uri:""},i.reqOpts,{json:e,qs:n});c.prototype.request.call(this,l,((e,t,r)=>{this.metadata=t,o(e,this.metadata,r)}))}request_(e,t){const r=0===(e=s(!0,{},e)).uri.indexOf("http"),n=[this.baseUrl,this.id||"",e.uri];r&&n.splice(0,n.indexOf(e.uri)),e.uri=n.filter((e=>e.trim())).map((e=>e.replace(/^\/*|\/*$/g,""))).join("/");const i=o(e.interceptors_),a=[].slice.call(this.interceptors);if(e.interceptors_=i.concat(a),e.shouldReturnStream)return this.parent.requestStream(e);this.parent.request(e,t)}request(e,t){this.request_(e,t)}requestStream(e){const t=s(!0,e,{shouldReturnStream:!0});return this.request_(t)}}t.ServiceObject=c,n.promisifyAll(c,{exclude:["getRequestInterceptors"]})},43277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(61021),o=r(94470),i=r(19307),s="{{projectId}}";class a{constructor(e,t={}){this.baseUrl=e.baseUrl,this.apiEndpoint=e.apiEndpoint,this.timeout=t.timeout,this.globalInterceptors=n(t.interceptors_),this.interceptors=[],this.packageJson=e.packageJson,this.projectId=t.projectId||s,this.projectIdRequired=!1!==e.projectIdRequired,this.providedUserAgent=t.userAgent;const r=o({},e,{projectIdRequired:this.projectIdRequired,projectId:this.projectId,authClient:t.authClient,credentials:t.credentials,keyFile:t.keyFilename,email:t.email,token:t.token});this.makeAuthenticatedRequest=i.util.makeAuthenticatedRequestFactory(r),this.authClient=this.makeAuthenticatedRequest.authClient,this.getCredentials=this.makeAuthenticatedRequest.getCredentials,process.env.FUNCTION_NAME&&this.interceptors.push({request:e=>(e.forever=!1,e)})}getRequestInterceptors(){return[].slice.call(this.globalInterceptors).concat(this.interceptors).filter((e=>"function"==typeof e.request)).map((e=>e.request))}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then((t=>e(null,t)),e)}async getProjectIdAsync(){const e=await this.authClient.getProjectId();return this.projectId===s&&e&&(this.projectId=e),this.projectId}request_(e,t){const r=0===(e=o(!0,{},e,{timeout:this.timeout})).uri.indexOf("http"),s=[this.baseUrl];this.projectIdRequired&&(s.push("projects"),s.push(this.projectId)),s.push(e.uri),r&&s.splice(0,s.indexOf(e.uri)),e.uri=s.map((e=>e.replace(/^\/*|\/*$/g,""))).join("/").replace(/\/:/g,":");const a=this.getRequestInterceptors();n(e.interceptors_).forEach((e=>{"function"==typeof e.request&&a.push(e.request)})),a.forEach((t=>{e=t(e)})),delete e.interceptors_;const c=this.packageJson;let l=i.util.getUserAgentFromPackageJson(c);if(this.providedUserAgent&&(l=`${this.providedUserAgent} ${l}`),e.headers=o({},e.headers,{"User-Agent":l,"x-goog-api-client":`gl-node/${process.versions.node} gccl/${c.version}`}),e.shouldReturnStream)return this.makeAuthenticatedRequest(e);this.makeAuthenticatedRequest(e,t)}request(e,t){a.prototype.request_.call(this,e,t)}requestStream(e){const t=o(!0,e,{shouldReturnStream:!0});return a.prototype.request_.call(this,t)}}t.Service=a},19307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(67644),o=r(3498),i=r(94470),s=r(22790),a=r(72971),c=r(92413),l=r(34904),u=r(25981),p={timeout:6e4,gzip:!0,forever:!0,pool:{maxSockets:1/0}};class d extends Error{constructor(e){if(super(),"object"!=typeof e)return void(this.message=e||"");const t=e;this.code=t.code,this.errors=t.errors,this.response=t.response;try{this.errors=JSON.parse(this.response.body).error.errors}catch(e){this.errors=t.errors}this.message=d.createMultiErrorMessage(t,this.errors),Error.captureStackTrace(this)}static createMultiErrorMessage(e,t){const r=new Set;e.message&&r.add(e.message),t&&t.length?t.forEach((({message:e})=>r.add(e))):e.response&&e.response.body?r.add(o.decode(e.response.body.toString())):e.message||r.add("A failure occurred during this request.");let n=Array.from(r);return n.length>1&&(n=n.map(((e,t)=>`    ${t+1}. ${e}`)),n.unshift("Multiple errors occurred during the request. Please see the `errors` array for complete details.\n"),n.push("\n")),n.join("\n")}}t.ApiError=d;class f extends Error{constructor(e){super();const t=e;this.errors=t.errors,this.name="PartialFailureError",this.response=t.response,this.message=d.createMultiErrorMessage(t,this.errors)}}t.PartialFailureError=f;class h{constructor(){this.ApiError=d,this.PartialFailureError=f}noop(){}handleResp(e,t,r,n){n=n||m.noop;const o=i(!0,{err:e||null},t&&m.parseHttpRespMessage(t),r&&m.parseHttpRespBody(r));!o.err&&t&&"object"==typeof o.body&&(o.resp.body=o.body),o.err&&t&&(o.err.response=t),n(o.err,o.body,o.resp)}parseHttpRespMessage(e){const t={resp:e};return(e.statusCode<200||e.statusCode>299)&&(t.err=new d({errors:new Array,code:e.statusCode,message:e.statusMessage,response:e})),t}parseHttpRespBody(e){const t={body:e};if("string"==typeof e)try{t.body=JSON.parse(e)}catch(r){t.body=e}return t.body&&t.body.error&&(t.err=new d(t.body.error)),t}makeWritableStream(e,t,r){r=r||m.noop;const n=new g;n.on("progress",(t=>e.emit("progress",t))),e.setWritable(n);const o=t.metadata||{},s=i(!0,{method:"POST",qs:{uploadType:"multipart"},timeout:0,maxRetries:0},t.request,{multipart:[{"Content-Type":"application/json",body:JSON.stringify(o)},{"Content-Type":o.contentType||"application/octet-stream",body:n}]});t.makeAuthenticatedRequest(s,{onAuthenticated(t,n){t?e.destroy(t):l.teenyRequest.defaults(p)(n,((t,n,o)=>{m.handleResp(t,n,o,((t,o)=>{t?e.destroy(t):(e.emit("response",n),r(o))}))}))}})}shouldRetryRequest(e){if(e){if(-1!==[408,429,500,502,503].indexOf(e.code))return!0;if(e.errors)for(const t of e.errors){const e=t.reason;if("rateLimitExceeded"===e)return!0;if("userRateLimitExceeded"===e)return!0;if(e&&e.includes("EAI_AGAIN"))return!0}}return!1}makeAuthenticatedRequestFactory(e){const t=i({},e);"{{projectId}}"===t.projectId&&delete t.projectId;const r=t.authClient||new s.GoogleAuth(t),n=function(t,n){let o;const s=i({},e);let a;n||(o=u(),s.stream=o);const c="object"==typeof n?n:void 0,l="function"==typeof n?n:void 0,p=(n,i)=>{const u=n,p=n&&n.message.indexOf("Could not load the default credentials")>-1;if(p&&(i=t),!n||p){let t=r._cachedProjectId;e.projectId&&"{{projectId}}"!==e.projectId&&(t=e.projectId);try{i=m.decorateRequest(i,t),n=null}catch(e){n=n||e}}n?o?o.destroy(n):(c&&c.onAuthenticated?c.onAuthenticated:l)(n):c&&c.onAuthenticated?c.onAuthenticated(null,i):a=m.makeRequest(i,s,((e,...t)=>{e&&401===e.code&&u&&(e=u),l(e,...t)}))};return s.customEndpoint?p(null,t):r.authorizeRequest(t).then((e=>{const r=i(!0,{},t,e);p(null,r)}),(e=>{p(e)})),o||{abort(){setImmediate((()=>{a&&(a.abort(),a=null)}))}}};return n.getCredentials=r.getCredentials.bind(r),n.authClient=r,n}makeRequest(e,t,r){const n={request:l.teenyRequest.defaults(p),retries:!1!==t.autoRetry?t.maxRetries||3:0,shouldRetryFn(e){const t=m.parseHttpRespMessage(e).err;return t&&m.shouldRetryRequest(t)}};if("number"==typeof e.maxRetries&&(n.retries=e.maxRetries),!t.stream)return a(e,n,((e,t,n)=>{m.handleResp(e,t,n,r)}));const o=t.stream;let i;return"GET"===(e.method||"GET").toUpperCase()?(i=a(e,n),o.setReadable(i)):(i=n.request(e),o.setWritable(i)),i.on("error",o.destroy.bind(o)).on("response",o.emit.bind(o,"response")).on("complete",o.emit.bind(o,"complete")),o.abort=i.abort,o}decorateRequest(e,t){return delete e.autoPaginate,delete e.autoPaginateVal,delete e.objectMode,null!==e.qs&&"object"==typeof e.qs&&(delete e.qs.autoPaginate,delete e.qs.autoPaginateVal,e.qs=n.replaceProjectIdToken(e.qs,t)),Array.isArray(e.multipart)&&(e.multipart=e.multipart.map((e=>n.replaceProjectIdToken(e,t)))),null!==e.json&&"object"==typeof e.json&&(delete e.json.autoPaginate,delete e.json.autoPaginateVal,e.json=n.replaceProjectIdToken(e.json,t)),e.uri=n.replaceProjectIdToken(e.uri,t),e}isCustomType(e,t){function r(e){return e.constructor&&e.constructor.name.toLowerCase()}const n=t.split("/"),o=n[0]&&n[0].toLowerCase(),i=n[1]&&n[1].toLowerCase();if(i&&r(e)!==i)return!1;let s=e;for(;;){if(r(s)===o)return!0;if(s=s.parent,!s)return!1}}getUserAgentFromPackageJson(e){return e.name.replace("@google-cloud","gcloud-node").replace("/","-")+"/"+e.version}maybeOptionsOrCallback(e,t){return"function"==typeof e?[{},e]:[e,t]}}t.Util=h;class g extends c.Transform{constructor(){super(...arguments),this.bytesRead=0}_transform(e,t,r){this.bytesRead+=e.length,this.emit("progress",{bytesWritten:this.bytesRead,contentLength:"*"}),this.push(e),r()}}const m=new h;t.util=m},64322:function(e,t,r){var n,o,i;o=[r(62100)],void 0===(i="function"==typeof(n=function(e){"use strict";var t,r=e.util,n=e.roots.firestore_v1||(e.roots.firestore_v1={});return n.firestore=((t={}).BundledQuery=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o,i,s;return t.prototype.parent="",t.prototype.structuredQuery=null,t.prototype.limitType=0,Object.defineProperty(t.prototype,"queryType",{get:r.oneOfGetter(o=["structuredQuery"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.firestore.BundledQuery)return e;var t=new n.firestore.BundledQuery;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".firestore.BundledQuery.structuredQuery: object expected");t.structuredQuery=n.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}switch(e.limitType){case"FIRST":case 0:t.limitType=0;break;case"LAST":case 1:t.limitType=1}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.parent="",r.limitType=t.enums===String?"FIRST":0),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=n.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs&&(r.queryType="structuredQuery")),null!=e.limitType&&e.hasOwnProperty("limitType")&&(r.limitType=t.enums===String?n.firestore.BundledQuery.LimitType[e.limitType]:e.limitType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.LimitType=(i={},(s=Object.create(i))[i[0]="FIRST"]="FIRST",s[i[1]="LAST"]="LAST",s),t}(),t.NamedQuery=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.bundledQuery=null,t.prototype.readTime=null,t.fromObject=function(e){if(e instanceof n.firestore.NamedQuery)return e;var t=new n.firestore.NamedQuery;if(null!=e.name&&(t.name=String(e.name)),null!=e.bundledQuery){if("object"!=typeof e.bundledQuery)throw TypeError(".firestore.NamedQuery.bundledQuery: object expected");t.bundledQuery=n.firestore.BundledQuery.fromObject(e.bundledQuery)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".firestore.NamedQuery.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.bundledQuery=null,r.readTime=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.bundledQuery&&e.hasOwnProperty("bundledQuery")&&(r.bundledQuery=n.firestore.BundledQuery.toObject(e.bundledQuery,t)),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.BundledDocumentMetadata=function(){function t(e){if(this.queries=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.readTime=null,t.prototype.exists=!1,t.prototype.queries=r.emptyArray,t.fromObject=function(e){if(e instanceof n.firestore.BundledDocumentMetadata)return e;var t=new n.firestore.BundledDocumentMetadata;if(null!=e.name&&(t.name=String(e.name)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".firestore.BundledDocumentMetadata.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.exists&&(t.exists=Boolean(e.exists)),e.queries){if(!Array.isArray(e.queries))throw TypeError(".firestore.BundledDocumentMetadata.queries: array expected");t.queries=[];for(var r=0;r<e.queries.length;++r)t.queries[r]=String(e.queries[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.queries=[]),t.defaults&&(r.name="",r.readTime=null,r.exists=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),null!=e.exists&&e.hasOwnProperty("exists")&&(r.exists=e.exists),e.queries&&e.queries.length){r.queries=[];for(var o=0;o<e.queries.length;++o)r.queries[o]=e.queries[o]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.BundleMetadata=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.id="",t.prototype.createTime=null,t.prototype.version=0,t.prototype.totalDocuments=0,t.prototype.totalBytes=r.Long?r.Long.fromBits(0,0,!0):0,t.fromObject=function(e){if(e instanceof n.firestore.BundleMetadata)return e;var t=new n.firestore.BundleMetadata;if(null!=e.id&&(t.id=String(e.id)),null!=e.createTime){if("object"!=typeof e.createTime)throw TypeError(".firestore.BundleMetadata.createTime: object expected");t.createTime=n.google.protobuf.Timestamp.fromObject(e.createTime)}return null!=e.version&&(t.version=e.version>>>0),null!=e.totalDocuments&&(t.totalDocuments=e.totalDocuments>>>0),null!=e.totalBytes&&(r.Long?(t.totalBytes=r.Long.fromValue(e.totalBytes)).unsigned=!0:"string"==typeof e.totalBytes?t.totalBytes=parseInt(e.totalBytes,10):"number"==typeof e.totalBytes?t.totalBytes=e.totalBytes:"object"==typeof e.totalBytes&&(t.totalBytes=new r.LongBits(e.totalBytes.low>>>0,e.totalBytes.high>>>0).toNumber(!0))),t},t.toObject=function(e,t){t||(t={});var o={};if(t.defaults)if(o.id="",o.createTime=null,o.version=0,o.totalDocuments=0,r.Long){var i=new r.Long(0,0,!0);o.totalBytes=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.totalBytes=t.longs===String?"0":0;return null!=e.id&&e.hasOwnProperty("id")&&(o.id=e.id),null!=e.createTime&&e.hasOwnProperty("createTime")&&(o.createTime=n.google.protobuf.Timestamp.toObject(e.createTime,t)),null!=e.version&&e.hasOwnProperty("version")&&(o.version=e.version),null!=e.totalDocuments&&e.hasOwnProperty("totalDocuments")&&(o.totalDocuments=e.totalDocuments),null!=e.totalBytes&&e.hasOwnProperty("totalBytes")&&("number"==typeof e.totalBytes?o.totalBytes=t.longs===String?String(e.totalBytes):e.totalBytes:o.totalBytes=t.longs===String?r.Long.prototype.toString.call(e.totalBytes):t.longs===Number?new r.LongBits(e.totalBytes.low>>>0,e.totalBytes.high>>>0).toNumber(!0):e.totalBytes),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.BundleElement=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.metadata=null,t.prototype.namedQuery=null,t.prototype.documentMetadata=null,t.prototype.document=null,Object.defineProperty(t.prototype,"elementType",{get:r.oneOfGetter(o=["metadata","namedQuery","documentMetadata","document"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.firestore.BundleElement)return e;var t=new n.firestore.BundleElement;if(null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".firestore.BundleElement.metadata: object expected");t.metadata=n.firestore.BundleMetadata.fromObject(e.metadata)}if(null!=e.namedQuery){if("object"!=typeof e.namedQuery)throw TypeError(".firestore.BundleElement.namedQuery: object expected");t.namedQuery=n.firestore.NamedQuery.fromObject(e.namedQuery)}if(null!=e.documentMetadata){if("object"!=typeof e.documentMetadata)throw TypeError(".firestore.BundleElement.documentMetadata: object expected");t.documentMetadata=n.firestore.BundledDocumentMetadata.fromObject(e.documentMetadata)}if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".firestore.BundleElement.document: object expected");t.document=n.google.firestore.v1.Document.fromObject(e.document)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=n.firestore.BundleMetadata.toObject(e.metadata,t),t.oneofs&&(r.elementType="metadata")),null!=e.namedQuery&&e.hasOwnProperty("namedQuery")&&(r.namedQuery=n.firestore.NamedQuery.toObject(e.namedQuery,t),t.oneofs&&(r.elementType="namedQuery")),null!=e.documentMetadata&&e.hasOwnProperty("documentMetadata")&&(r.documentMetadata=n.firestore.BundledDocumentMetadata.toObject(e.documentMetadata,t),t.oneofs&&(r.elementType="documentMetadata")),null!=e.document&&e.hasOwnProperty("document")&&(r.document=n.google.firestore.v1.Document.toObject(e.document,t),t.oneofs&&(r.elementType="document")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t),n.google=function(){var t,o,i,s,a,c,l,u,p,d={};return d.protobuf=((i={}).Timestamp=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.seconds=r.Long?r.Long.fromBits(0,0,!1):0,t.prototype.nanos=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.Timestamp)return e;var t=new n.google.protobuf.Timestamp;return null!=e.seconds&&(r.Long?(t.seconds=r.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new r.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(r.Long){var o=new r.Long(0,0,!1);n.seconds=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?r.Long.prototype.toString.call(e.seconds):t.longs===Number?new r.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FileDescriptorSet=function(){function t(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.file=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.FileDescriptorSet)return e;var t=new n.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=n.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var o=0;o<e.file.length;++o)r.file[o]=n.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FileDescriptorProto=function(){function t(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.package="",t.prototype.dependency=r.emptyArray,t.prototype.publicDependency=r.emptyArray,t.prototype.weakDependency=r.emptyArray,t.prototype.messageType=r.emptyArray,t.prototype.enumType=r.emptyArray,t.prototype.service=r.emptyArray,t.prototype.extension=r.emptyArray,t.prototype.options=null,t.prototype.sourceCodeInfo=null,t.prototype.syntax="",t.fromObject=function(e){if(e instanceof n.google.protobuf.FileDescriptorProto)return e;var t=new n.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=n.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=n.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=n.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=n.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=n.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=n.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var o=0;o<e.dependency.length;++o)r.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length)for(r.messageType=[],o=0;o<e.messageType.length;++o)r.messageType[o]=n.google.protobuf.DescriptorProto.toObject(e.messageType[o],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],o=0;o<e.enumType.length;++o)r.enumType[o]=n.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t);if(e.service&&e.service.length)for(r.service=[],o=0;o<e.service.length;++o)r.service[o]=n.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t);if(e.extension&&e.extension.length)for(r.extension=[],o=0;o<e.extension.length;++o)r.extension[o]=n.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=n.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],o=0;o<e.publicDependency.length;++o)r.publicDependency[o]=e.publicDependency[o];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],o=0;o<e.weakDependency.length;++o)r.weakDependency[o]=e.weakDependency[o];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.DescriptorProto=function(){function t(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.field=r.emptyArray,t.prototype.extension=r.emptyArray,t.prototype.nestedType=r.emptyArray,t.prototype.enumType=r.emptyArray,t.prototype.extensionRange=r.emptyArray,t.prototype.oneofDecl=r.emptyArray,t.prototype.options=null,t.prototype.reservedRange=r.emptyArray,t.prototype.reservedName=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.DescriptorProto)return e;var t=new n.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=n.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=n.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=n.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=n.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=n.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=n.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=n.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=n.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var o=0;o<e.field.length;++o)r.field[o]=n.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],o=0;o<e.nestedType.length;++o)r.nestedType[o]=n.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],o=0;o<e.enumType.length;++o)r.enumType[o]=n.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],o=0;o<e.extensionRange.length;++o)r.extensionRange[o]=n.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t);if(e.extension&&e.extension.length)for(r.extension=[],o=0;o<e.extension.length;++o)r.extension[o]=n.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],o=0;o<e.oneofDecl.length;++o)r.oneofDecl[o]=n.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],o=0;o<e.reservedRange.length;++o)r.reservedRange[o]=n.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],o=0;o<e.reservedName.length;++o)r.reservedName[o]=e.reservedName[o];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.ExtensionRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new n.google.protobuf.DescriptorProto.ExtensionRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ReservedRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.DescriptorProto.ReservedRange)return e;var t=new n.google.protobuf.DescriptorProto.ReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),i.FieldDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,o;return t.prototype.name="",t.prototype.number=0,t.prototype.label=1,t.prototype.type=1,t.prototype.typeName="",t.prototype.extendee="",t.prototype.defaultValue="",t.prototype.oneofIndex=0,t.prototype.jsonName="",t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.FieldDescriptorProto)return e;var t=new n.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=n.google.protobuf.FieldOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?n.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?n.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Type=(r={},(o=Object.create(r))[r[1]="TYPE_DOUBLE"]="TYPE_DOUBLE",o[r[2]="TYPE_FLOAT"]="TYPE_FLOAT",o[r[3]="TYPE_INT64"]="TYPE_INT64",o[r[4]="TYPE_UINT64"]="TYPE_UINT64",o[r[5]="TYPE_INT32"]="TYPE_INT32",o[r[6]="TYPE_FIXED64"]="TYPE_FIXED64",o[r[7]="TYPE_FIXED32"]="TYPE_FIXED32",o[r[8]="TYPE_BOOL"]="TYPE_BOOL",o[r[9]="TYPE_STRING"]="TYPE_STRING",o[r[10]="TYPE_GROUP"]="TYPE_GROUP",o[r[11]="TYPE_MESSAGE"]="TYPE_MESSAGE",o[r[12]="TYPE_BYTES"]="TYPE_BYTES",o[r[13]="TYPE_UINT32"]="TYPE_UINT32",o[r[14]="TYPE_ENUM"]="TYPE_ENUM",o[r[15]="TYPE_SFIXED32"]="TYPE_SFIXED32",o[r[16]="TYPE_SFIXED64"]="TYPE_SFIXED64",o[r[17]="TYPE_SINT32"]="TYPE_SINT32",o[r[18]="TYPE_SINT64"]="TYPE_SINT64",o),t.Label=function(){var e={},t=Object.create(e);return t[e[1]="LABEL_OPTIONAL"]="LABEL_OPTIONAL",t[e[2]="LABEL_REQUIRED"]="LABEL_REQUIRED",t[e[3]="LABEL_REPEATED"]="LABEL_REPEATED",t}(),t}(),i.OneofDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.OneofDescriptorProto)return e;var t=new n.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=n.google.protobuf.OneofOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.OneofOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.EnumDescriptorProto=function(){function t(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.value=r.emptyArray,t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.EnumDescriptorProto)return e;var t=new n.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=n.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=n.google.protobuf.EnumOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.value=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var o=0;o<e.value.length;++o)r.value[o]=n.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.EnumOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.EnumValueDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.number=0,t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.EnumValueDescriptorProto)return e;var t=new n.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=n.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.ServiceDescriptorProto=function(){function t(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.method=r.emptyArray,t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.ServiceDescriptorProto)return e;var t=new n.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=n.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=n.google.protobuf.ServiceOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var o=0;o<e.method.length;++o)r.method[o]=n.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.ServiceOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.MethodDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.inputType="",t.prototype.outputType="",t.prototype.options=null,t.prototype.clientStreaming=!1,t.prototype.serverStreaming=!1,t.fromObject=function(e){if(e instanceof n.google.protobuf.MethodDescriptorProto)return e;var t=new n.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=n.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FileOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o,i;return t.prototype.javaPackage="",t.prototype.javaOuterClassname="",t.prototype.javaMultipleFiles=!1,t.prototype.javaGenerateEqualsAndHash=!1,t.prototype.javaStringCheckUtf8=!1,t.prototype.optimizeFor=1,t.prototype.goPackage="",t.prototype.ccGenericServices=!1,t.prototype.javaGenericServices=!1,t.prototype.pyGenericServices=!1,t.prototype.deprecated=!1,t.prototype.ccEnableArenas=!1,t.prototype.objcClassPrefix="",t.prototype.csharpNamespace="",t.prototype.uninterpretedOption=r.emptyArray,t.prototype[".google.api.resourceDefinition"]=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.FileOptions)return e;var t=new n.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.resourceDefinition"]){if(!Array.isArray(e[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(t[".google.api.resourceDefinition"]=[],r=0;r<e[".google.api.resourceDefinition"].length;++r){if("object"!=typeof e[".google.api.resourceDefinition"][r])throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");t[".google.api.resourceDefinition"][r]=n.google.api.ResourceDescriptor.fromObject(e[".google.api.resourceDefinition"][r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.resourceDefinition"]=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!1,r.objcClassPrefix="",r.csharpNamespace=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?n.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r[".google.api.resourceDefinition"]=[],o=0;o<e[".google.api.resourceDefinition"].length;++o)r[".google.api.resourceDefinition"][o]=n.google.api.ResourceDescriptor.toObject(e[".google.api.resourceDefinition"][o],t);return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.OptimizeMode=(o={},(i=Object.create(o))[o[1]="SPEED"]="SPEED",i[o[2]="CODE_SIZE"]="CODE_SIZE",i[o[3]="LITE_RUNTIME"]="LITE_RUNTIME",i),t}(),i.MessageOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.messageSetWireFormat=!1,t.prototype.noStandardDescriptorAccessor=!1,t.prototype.deprecated=!1,t.prototype.mapEntry=!1,t.prototype.uninterpretedOption=r.emptyArray,t.prototype[".google.api.resource"]=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.MessageOptions)return e;var t=new n.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.resource"]){if("object"!=typeof e[".google.api.resource"])throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");t[".google.api.resource"]=n.google.api.ResourceDescriptor.fromObject(e[".google.api.resource"])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1,r[".google.api.resource"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r[".google.api.resource"]=n.google.api.ResourceDescriptor.toObject(e[".google.api.resource"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FieldOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o,i;return t.prototype.ctype=0,t.prototype.packed=!1,t.prototype.jstype=0,t.prototype.lazy=!1,t.prototype.deprecated=!1,t.prototype.weak=!1,t.prototype.uninterpretedOption=r.emptyArray,t.prototype[".google.api.fieldBehavior"]=r.emptyArray,t.prototype[".google.api.resourceReference"]=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.FieldOptions)return e;var t=new n.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.fieldBehavior"]){if(!Array.isArray(e[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(t[".google.api.fieldBehavior"]=[],r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:t[".google.api.fieldBehavior"][r]=0;break;case"OPTIONAL":case 1:t[".google.api.fieldBehavior"][r]=1;break;case"REQUIRED":case 2:t[".google.api.fieldBehavior"][r]=2;break;case"OUTPUT_ONLY":case 3:t[".google.api.fieldBehavior"][r]=3;break;case"INPUT_ONLY":case 4:t[".google.api.fieldBehavior"][r]=4;break;case"IMMUTABLE":case 5:t[".google.api.fieldBehavior"][r]=5;break;case"UNORDERED_LIST":case 6:t[".google.api.fieldBehavior"][r]=6}}if(null!=e[".google.api.resourceReference"]){if("object"!=typeof e[".google.api.resourceReference"])throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");t[".google.api.resourceReference"]=n.google.api.ResourceReference.fromObject(e[".google.api.resourceReference"])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.fieldBehavior"]=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1,r[".google.api.resourceReference"]=null),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?n.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?n.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length)for(r[".google.api.fieldBehavior"]=[],o=0;o<e[".google.api.fieldBehavior"].length;++o)r[".google.api.fieldBehavior"][o]=t.enums===String?n.google.api.FieldBehavior[e[".google.api.fieldBehavior"][o]]:e[".google.api.fieldBehavior"][o];return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r[".google.api.resourceReference"]=n.google.api.ResourceReference.toObject(e[".google.api.resourceReference"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.CType=(o={},(i=Object.create(o))[o[0]="STRING"]="STRING",i[o[1]="CORD"]="CORD",i[o[2]="STRING_PIECE"]="STRING_PIECE",i),t.JSType=function(){var e={},t=Object.create(e);return t[e[0]="JS_NORMAL"]="JS_NORMAL",t[e[1]="JS_STRING"]="JS_STRING",t[e[2]="JS_NUMBER"]="JS_NUMBER",t}(),t}(),i.OneofOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.uninterpretedOption=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.OneofOptions)return e;var t=new n.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.EnumOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.allowAlias=!1,t.prototype.deprecated=!1,t.prototype.uninterpretedOption=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.EnumOptions)return e;var t=new n.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.EnumValueOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.EnumValueOptions)return e;var t=new n.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.ServiceOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=r.emptyArray,t.prototype[".google.api.defaultHost"]="",t.prototype[".google.api.oauthScopes"]="",t.fromObject=function(e){if(e instanceof n.google.protobuf.ServiceOptions)return e;var t=new n.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.MethodOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=r.emptyArray,t.prototype[".google.api.http"]=null,t.prototype[".google.api.methodSignature"]=r.emptyArray,t.prototype[".google.longrunning.operationInfo"]=null,t.fromObject=function(e){if(e instanceof n.google.protobuf.MethodOptions)return e;var t=new n.google.protobuf.MethodOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=n.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=n.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}if(null!=e[".google.longrunning.operationInfo"]){if("object"!=typeof e[".google.longrunning.operationInfo"])throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");t[".google.longrunning.operationInfo"]=n.google.longrunning.OperationInfo.fromObject(e[".google.longrunning.operationInfo"])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r[".google.longrunning.operationInfo"]=null,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)r.uninterpretedOption[o]=n.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r[".google.longrunning.operationInfo"]=n.google.longrunning.OperationInfo.toObject(e[".google.longrunning.operationInfo"],t)),e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],o=0;o<e[".google.api.methodSignature"].length;++o)r[".google.api.methodSignature"][o]=e[".google.api.methodSignature"][o];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=n.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.UninterpretedOption=function(){function t(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=r.emptyArray,t.prototype.identifierValue="",t.prototype.positiveIntValue=r.Long?r.Long.fromBits(0,0,!0):0,t.prototype.negativeIntValue=r.Long?r.Long.fromBits(0,0,!1):0,t.prototype.doubleValue=0,t.prototype.stringValue=r.newBuffer([]),t.prototype.aggregateValue="",t.fromObject=function(e){if(e instanceof n.google.protobuf.UninterpretedOption)return e;var t=new n.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var o=0;o<e.name.length;++o){if("object"!=typeof e.name[o])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[o]=n.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[o])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(r.Long?(t.positiveIntValue=r.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new r.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(r.Long?(t.negativeIntValue=r.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new r.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?r.base64.decode(e.stringValue,t.stringValue=r.newBuffer(r.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},t.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.name=[]),t.defaults){if(o.identifierValue="",r.Long){var i=new r.Long(0,0,!0);o.positiveIntValue=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.positiveIntValue=t.longs===String?"0":0;r.Long?(i=new r.Long(0,0,!1),o.negativeIntValue=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.negativeIntValue=t.longs===String?"0":0,o.doubleValue=0,t.bytes===String?o.stringValue="":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=r.newBuffer(o.stringValue))),o.aggregateValue=""}if(e.name&&e.name.length){o.name=[];for(var s=0;s<e.name.length;++s)o.name[s]=n.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[s],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?r.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new r.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?r.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new r.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(o.stringValue=t.bytes===String?r.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(o.aggregateValue=e.aggregateValue),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.NamePart=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.namePart="",t.prototype.isExtension=!1,t.fromObject=function(e){if(e instanceof n.google.protobuf.UninterpretedOption.NamePart)return e;var t=new n.google.protobuf.UninterpretedOption.NamePart;return null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),i.SourceCodeInfo=function(){function t(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.location=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.SourceCodeInfo)return e;var t=new n.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=n.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var o=0;o<e.location.length;++o)r.location[o]=n.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Location=function(){function t(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=r.emptyArray,t.prototype.span=r.emptyArray,t.prototype.leadingComments="",t.prototype.trailingComments="",t.prototype.leadingDetachedComments=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.SourceCodeInfo.Location)return e;var t=new n.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),i.GeneratedCodeInfo=function(){function t(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.annotation=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.GeneratedCodeInfo)return e;var t=new n.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=n.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var o=0;o<e.annotation.length;++o)r.annotation[o]=n.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Annotation=function(){function t(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=r.emptyArray,t.prototype.sourceFile="",t.prototype.begin=0,t.prototype.end=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new n.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),i.Struct=function(){function t(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.fields=r.emptyObject,t.fromObject=function(e){if(e instanceof n.google.protobuf.Struct)return e;var t=new n.google.protobuf.Struct;if(e.fields){if("object"!=typeof e.fields)throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),o=0;o<r.length;++o){if("object"!=typeof e.fields[r[o]])throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields[r[o]]=n.google.protobuf.Value.fromObject(e.fields[r[o]])}}return t},t.toObject=function(e,t){t||(t={});var r,o={};if((t.objects||t.defaults)&&(o.fields={}),e.fields&&(r=Object.keys(e.fields)).length){o.fields={};for(var i=0;i<r.length;++i)o.fields[r[i]]=n.google.protobuf.Value.toObject(e.fields[r[i]],t)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.nullValue=null,t.prototype.numberValue=null,t.prototype.stringValue=null,t.prototype.boolValue=null,t.prototype.structValue=null,t.prototype.listValue=null,Object.defineProperty(t.prototype,"kind",{get:r.oneOfGetter(o=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.protobuf.Value)return e;var t=new n.google.protobuf.Value;switch(e.nullValue){case"NULL_VALUE":case 0:t.nullValue=0}if(null!=e.numberValue&&(t.numberValue=Number(e.numberValue)),null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.structValue){if("object"!=typeof e.structValue)throw TypeError(".google.protobuf.Value.structValue: object expected");t.structValue=n.google.protobuf.Struct.fromObject(e.structValue)}if(null!=e.listValue){if("object"!=typeof e.listValue)throw TypeError(".google.protobuf.Value.listValue: object expected");t.listValue=n.google.protobuf.ListValue.fromObject(e.listValue)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(r.nullValue=t.enums===String?n.google.protobuf.NullValue[e.nullValue]:e.nullValue,t.oneofs&&(r.kind="nullValue")),null!=e.numberValue&&e.hasOwnProperty("numberValue")&&(r.numberValue=t.json&&!isFinite(e.numberValue)?String(e.numberValue):e.numberValue,t.oneofs&&(r.kind="numberValue")),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs&&(r.kind="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs&&(r.kind="boolValue")),null!=e.structValue&&e.hasOwnProperty("structValue")&&(r.structValue=n.google.protobuf.Struct.toObject(e.structValue,t),t.oneofs&&(r.kind="structValue")),null!=e.listValue&&e.hasOwnProperty("listValue")&&(r.listValue=n.google.protobuf.ListValue.toObject(e.listValue,t),t.oneofs&&(r.kind="listValue")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.NullValue=(t={},(o=Object.create(t))[t[0]="NULL_VALUE"]="NULL_VALUE",o),i.ListValue=function(){function t(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.values=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.ListValue)return e;var t=new n.google.protobuf.ListValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.protobuf.ListValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.protobuf.ListValue.values: object expected");t.values[r]=n.google.protobuf.Value.fromObject(e.values[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var o=0;o<e.values.length;++o)r.values[o]=n.google.protobuf.Value.toObject(e.values[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Empty=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.fromObject=function(e){return e instanceof n.google.protobuf.Empty?e:new n.google.protobuf.Empty},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.DoubleValue=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.DoubleValue)return e;var t=new n.google.protobuf.DoubleValue;return null!=e.value&&(t.value=Number(e.value)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FloatValue=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.FloatValue)return e;var t=new n.google.protobuf.FloatValue;return null!=e.value&&(t.value=Number(e.value)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Int64Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=r.Long?r.Long.fromBits(0,0,!1):0,t.fromObject=function(e){if(e instanceof n.google.protobuf.Int64Value)return e;var t=new n.google.protobuf.Int64Value;return null!=e.value&&(r.Long?(t.value=r.Long.fromValue(e.value)).unsigned=!1:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new r.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(r.Long){var o=new r.Long(0,0,!1);n.value=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?r.Long.prototype.toString.call(e.value):t.longs===Number?new r.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber():e.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.UInt64Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=r.Long?r.Long.fromBits(0,0,!0):0,t.fromObject=function(e){if(e instanceof n.google.protobuf.UInt64Value)return e;var t=new n.google.protobuf.UInt64Value;return null!=e.value&&(r.Long?(t.value=r.Long.fromValue(e.value)).unsigned=!0:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new r.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0))),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(r.Long){var o=new r.Long(0,0,!0);n.value=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?r.Long.prototype.toString.call(e.value):t.longs===Number?new r.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0):e.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Int32Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.Int32Value)return e;var t=new n.google.protobuf.Int32Value;return null!=e.value&&(t.value=0|e.value),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.UInt32Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.UInt32Value)return e;var t=new n.google.protobuf.UInt32Value;return null!=e.value&&(t.value=e.value>>>0),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.BoolValue=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=!1,t.fromObject=function(e){if(e instanceof n.google.protobuf.BoolValue)return e;var t=new n.google.protobuf.BoolValue;return null!=e.value&&(t.value=Boolean(e.value)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=!1),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.StringValue=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value="",t.fromObject=function(e){if(e instanceof n.google.protobuf.StringValue)return e;var t=new n.google.protobuf.StringValue;return null!=e.value&&(t.value=String(e.value)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.value=""),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.BytesValue=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.value=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.protobuf.BytesValue)return e;var t=new n.google.protobuf.BytesValue;return null!=e.value&&("string"==typeof e.value?r.base64.decode(e.value,t.value=r.newBuffer(r.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=r.newBuffer(n.value)))),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?r.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Any=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type_url="",t.prototype.value=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.protobuf.Any)return e;var t=new n.google.protobuf.Any;return null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?r.base64.decode(e.value,t.value=r.newBuffer(r.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type_url="",t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=r.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?r.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.FieldMask=function(){function t(e){if(this.paths=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.paths=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.protobuf.FieldMask)return e;var t=new n.google.protobuf.FieldMask;if(e.paths){if(!Array.isArray(e.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");t.paths=[];for(var r=0;r<e.paths.length;++r)t.paths[r]=String(e.paths[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.paths=[]),e.paths&&e.paths.length){r.paths=[];for(var n=0;n<e.paths.length;++n)r.paths[n]=e.paths[n]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i.Duration=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.seconds=r.Long?r.Long.fromBits(0,0,!1):0,t.prototype.nanos=0,t.fromObject=function(e){if(e instanceof n.google.protobuf.Duration)return e;var t=new n.google.protobuf.Duration;return null!=e.seconds&&(r.Long?(t.seconds=r.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new r.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(r.Long){var o=new r.Long(0,0,!1);n.seconds=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?r.Long.prototype.toString.call(e.seconds):t.longs===Number?new r.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),i),d.firestore=((a={}).v1=((s={}).DocumentMask=function(){function t(e){if(this.fieldPaths=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.fieldPaths=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentMask)return e;var t=new n.google.firestore.v1.DocumentMask;if(e.fieldPaths){if(!Array.isArray(e.fieldPaths))throw TypeError(".google.firestore.v1.DocumentMask.fieldPaths: array expected");t.fieldPaths=[];for(var r=0;r<e.fieldPaths.length;++r)t.fieldPaths[r]=String(e.fieldPaths[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.fieldPaths=[]),e.fieldPaths&&e.fieldPaths.length){r.fieldPaths=[];for(var n=0;n<e.fieldPaths.length;++n)r.fieldPaths[n]=e.fieldPaths[n]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.Precondition=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.exists=null,t.prototype.updateTime=null,Object.defineProperty(t.prototype,"conditionType",{get:r.oneOfGetter(o=["exists","updateTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Precondition)return e;var t=new n.google.firestore.v1.Precondition;if(null!=e.exists&&(t.exists=Boolean(e.exists)),null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.Precondition.updateTime: object expected");t.updateTime=n.google.protobuf.Timestamp.fromObject(e.updateTime)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.exists&&e.hasOwnProperty("exists")&&(r.exists=e.exists,t.oneofs&&(r.conditionType="exists")),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(r.updateTime=n.google.protobuf.Timestamp.toObject(e.updateTime,t),t.oneofs&&(r.conditionType="updateTime")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.TransactionOptions=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.readOnly=null,t.prototype.readWrite=null,Object.defineProperty(t.prototype,"mode",{get:r.oneOfGetter(o=["readOnly","readWrite"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.TransactionOptions)return e;var t=new n.google.firestore.v1.TransactionOptions;if(null!=e.readOnly){if("object"!=typeof e.readOnly)throw TypeError(".google.firestore.v1.TransactionOptions.readOnly: object expected");t.readOnly=n.google.firestore.v1.TransactionOptions.ReadOnly.fromObject(e.readOnly)}if(null!=e.readWrite){if("object"!=typeof e.readWrite)throw TypeError(".google.firestore.v1.TransactionOptions.readWrite: object expected");t.readWrite=n.google.firestore.v1.TransactionOptions.ReadWrite.fromObject(e.readWrite)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.readOnly&&e.hasOwnProperty("readOnly")&&(r.readOnly=n.google.firestore.v1.TransactionOptions.ReadOnly.toObject(e.readOnly,t),t.oneofs&&(r.mode="readOnly")),null!=e.readWrite&&e.hasOwnProperty("readWrite")&&(r.readWrite=n.google.firestore.v1.TransactionOptions.ReadWrite.toObject(e.readWrite,t),t.oneofs&&(r.mode="readWrite")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.ReadWrite=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.retryTransaction=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.TransactionOptions.ReadWrite)return e;var t=new n.google.firestore.v1.TransactionOptions.ReadWrite;return null!=e.retryTransaction&&("string"==typeof e.retryTransaction?r.base64.decode(e.retryTransaction,t.retryTransaction=r.newBuffer(r.base64.length(e.retryTransaction)),0):e.retryTransaction.length&&(t.retryTransaction=e.retryTransaction)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.retryTransaction="":(n.retryTransaction=[],t.bytes!==Array&&(n.retryTransaction=r.newBuffer(n.retryTransaction)))),null!=e.retryTransaction&&e.hasOwnProperty("retryTransaction")&&(n.retryTransaction=t.bytes===String?r.base64.encode(e.retryTransaction,0,e.retryTransaction.length):t.bytes===Array?Array.prototype.slice.call(e.retryTransaction):e.retryTransaction),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ReadOnly=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.readTime=null,Object.defineProperty(t.prototype,"consistencySelector",{get:r.oneOfGetter(o=["readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.TransactionOptions.ReadOnly)return e;var t=new n.google.firestore.v1.TransactionOptions.ReadOnly;if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.TransactionOptions.ReadOnly.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(r.consistencySelector="readTime")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),s.Document=function(){function t(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.fields=r.emptyObject,t.prototype.createTime=null,t.prototype.updateTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Document)return e;var t=new n.google.firestore.v1.Document;if(null!=e.name&&(t.name=String(e.name)),e.fields){if("object"!=typeof e.fields)throw TypeError(".google.firestore.v1.Document.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),o=0;o<r.length;++o){if("object"!=typeof e.fields[r[o]])throw TypeError(".google.firestore.v1.Document.fields: object expected");t.fields[r[o]]=n.google.firestore.v1.Value.fromObject(e.fields[r[o]])}}if(null!=e.createTime){if("object"!=typeof e.createTime)throw TypeError(".google.firestore.v1.Document.createTime: object expected");t.createTime=n.google.protobuf.Timestamp.fromObject(e.createTime)}if(null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.Document.updateTime: object expected");t.updateTime=n.google.protobuf.Timestamp.fromObject(e.updateTime)}return t},t.toObject=function(e,t){t||(t={});var r,o={};if((t.objects||t.defaults)&&(o.fields={}),t.defaults&&(o.name="",o.createTime=null,o.updateTime=null),null!=e.name&&e.hasOwnProperty("name")&&(o.name=e.name),e.fields&&(r=Object.keys(e.fields)).length){o.fields={};for(var i=0;i<r.length;++i)o.fields[r[i]]=n.google.firestore.v1.Value.toObject(e.fields[r[i]],t)}return null!=e.createTime&&e.hasOwnProperty("createTime")&&(o.createTime=n.google.protobuf.Timestamp.toObject(e.createTime,t)),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(o.updateTime=n.google.protobuf.Timestamp.toObject(e.updateTime,t)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.Value=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.nullValue=null,t.prototype.booleanValue=null,t.prototype.integerValue=null,t.prototype.doubleValue=null,t.prototype.timestampValue=null,t.prototype.stringValue=null,t.prototype.bytesValue=null,t.prototype.referenceValue=null,t.prototype.geoPointValue=null,t.prototype.arrayValue=null,t.prototype.mapValue=null,Object.defineProperty(t.prototype,"valueType",{get:r.oneOfGetter(o=["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Value)return e;var t=new n.google.firestore.v1.Value;switch(e.nullValue){case"NULL_VALUE":case 0:t.nullValue=0}if(null!=e.booleanValue&&(t.booleanValue=Boolean(e.booleanValue)),null!=e.integerValue&&(r.Long?(t.integerValue=r.Long.fromValue(e.integerValue)).unsigned=!1:"string"==typeof e.integerValue?t.integerValue=parseInt(e.integerValue,10):"number"==typeof e.integerValue?t.integerValue=e.integerValue:"object"==typeof e.integerValue&&(t.integerValue=new r.LongBits(e.integerValue.low>>>0,e.integerValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.timestampValue){if("object"!=typeof e.timestampValue)throw TypeError(".google.firestore.v1.Value.timestampValue: object expected");t.timestampValue=n.google.protobuf.Timestamp.fromObject(e.timestampValue)}if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.bytesValue&&("string"==typeof e.bytesValue?r.base64.decode(e.bytesValue,t.bytesValue=r.newBuffer(r.base64.length(e.bytesValue)),0):e.bytesValue.length&&(t.bytesValue=e.bytesValue)),null!=e.referenceValue&&(t.referenceValue=String(e.referenceValue)),null!=e.geoPointValue){if("object"!=typeof e.geoPointValue)throw TypeError(".google.firestore.v1.Value.geoPointValue: object expected");t.geoPointValue=n.google.type.LatLng.fromObject(e.geoPointValue)}if(null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".google.firestore.v1.Value.arrayValue: object expected");t.arrayValue=n.google.firestore.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.mapValue){if("object"!=typeof e.mapValue)throw TypeError(".google.firestore.v1.Value.mapValue: object expected");t.mapValue=n.google.firestore.v1.MapValue.fromObject(e.mapValue)}return t},t.toObject=function(e,t){t||(t={});var o={};return null!=e.booleanValue&&e.hasOwnProperty("booleanValue")&&(o.booleanValue=e.booleanValue,t.oneofs&&(o.valueType="booleanValue")),null!=e.integerValue&&e.hasOwnProperty("integerValue")&&("number"==typeof e.integerValue?o.integerValue=t.longs===String?String(e.integerValue):e.integerValue:o.integerValue=t.longs===String?r.Long.prototype.toString.call(e.integerValue):t.longs===Number?new r.LongBits(e.integerValue.low>>>0,e.integerValue.high>>>0).toNumber():e.integerValue,t.oneofs&&(o.valueType="integerValue")),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs&&(o.valueType="doubleValue")),null!=e.referenceValue&&e.hasOwnProperty("referenceValue")&&(o.referenceValue=e.referenceValue,t.oneofs&&(o.valueType="referenceValue")),null!=e.mapValue&&e.hasOwnProperty("mapValue")&&(o.mapValue=n.google.firestore.v1.MapValue.toObject(e.mapValue,t),t.oneofs&&(o.valueType="mapValue")),null!=e.geoPointValue&&e.hasOwnProperty("geoPointValue")&&(o.geoPointValue=n.google.type.LatLng.toObject(e.geoPointValue,t),t.oneofs&&(o.valueType="geoPointValue")),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(o.arrayValue=n.google.firestore.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs&&(o.valueType="arrayValue")),null!=e.timestampValue&&e.hasOwnProperty("timestampValue")&&(o.timestampValue=n.google.protobuf.Timestamp.toObject(e.timestampValue,t),t.oneofs&&(o.valueType="timestampValue")),null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(o.nullValue=t.enums===String?n.google.protobuf.NullValue[e.nullValue]:e.nullValue,t.oneofs&&(o.valueType="nullValue")),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(o.stringValue=e.stringValue,t.oneofs&&(o.valueType="stringValue")),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(o.bytesValue=t.bytes===String?r.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs&&(o.valueType="bytesValue")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ArrayValue=function(){function t(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.values=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ArrayValue)return e;var t=new n.google.firestore.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.firestore.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.firestore.v1.ArrayValue.values: object expected");t.values[r]=n.google.firestore.v1.Value.fromObject(e.values[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var o=0;o<e.values.length;++o)r.values[o]=n.google.firestore.v1.Value.toObject(e.values[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.MapValue=function(){function t(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.fields=r.emptyObject,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.MapValue)return e;var t=new n.google.firestore.v1.MapValue;if(e.fields){if("object"!=typeof e.fields)throw TypeError(".google.firestore.v1.MapValue.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),o=0;o<r.length;++o){if("object"!=typeof e.fields[r[o]])throw TypeError(".google.firestore.v1.MapValue.fields: object expected");t.fields[r[o]]=n.google.firestore.v1.Value.fromObject(e.fields[r[o]])}}return t},t.toObject=function(e,t){t||(t={});var r,o={};if((t.objects||t.defaults)&&(o.fields={}),e.fields&&(r=Object.keys(e.fields)).length){o.fields={};for(var i=0;i<r.length;++i)o.fields[r[i]]=n.google.firestore.v1.Value.toObject(e.fields[r[i]],t)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.Firestore=function(){function t(t,r,n){e.rpc.Service.call(this,t,r,n)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,Object.defineProperty(t.prototype.getDocument=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.GetDocumentRequest,n.google.firestore.v1.Document,t,r)},"name",{value:"GetDocument"}),Object.defineProperty(t.prototype.listDocuments=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.ListDocumentsRequest,n.google.firestore.v1.ListDocumentsResponse,t,r)},"name",{value:"ListDocuments"}),Object.defineProperty(t.prototype.updateDocument=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.UpdateDocumentRequest,n.google.firestore.v1.Document,t,r)},"name",{value:"UpdateDocument"}),Object.defineProperty(t.prototype.deleteDocument=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.DeleteDocumentRequest,n.google.protobuf.Empty,t,r)},"name",{value:"DeleteDocument"}),Object.defineProperty(t.prototype.batchGetDocuments=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.BatchGetDocumentsRequest,n.google.firestore.v1.BatchGetDocumentsResponse,t,r)},"name",{value:"BatchGetDocuments"}),Object.defineProperty(t.prototype.beginTransaction=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.BeginTransactionRequest,n.google.firestore.v1.BeginTransactionResponse,t,r)},"name",{value:"BeginTransaction"}),Object.defineProperty(t.prototype.commit=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.CommitRequest,n.google.firestore.v1.CommitResponse,t,r)},"name",{value:"Commit"}),Object.defineProperty(t.prototype.rollback=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.RollbackRequest,n.google.protobuf.Empty,t,r)},"name",{value:"Rollback"}),Object.defineProperty(t.prototype.runQuery=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.RunQueryRequest,n.google.firestore.v1.RunQueryResponse,t,r)},"name",{value:"RunQuery"}),Object.defineProperty(t.prototype.partitionQuery=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.PartitionQueryRequest,n.google.firestore.v1.PartitionQueryResponse,t,r)},"name",{value:"PartitionQuery"}),Object.defineProperty(t.prototype.write=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.WriteRequest,n.google.firestore.v1.WriteResponse,t,r)},"name",{value:"Write"}),Object.defineProperty(t.prototype.listen=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.ListenRequest,n.google.firestore.v1.ListenResponse,t,r)},"name",{value:"Listen"}),Object.defineProperty(t.prototype.listCollectionIds=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.ListCollectionIdsRequest,n.google.firestore.v1.ListCollectionIdsResponse,t,r)},"name",{value:"ListCollectionIds"}),Object.defineProperty(t.prototype.batchWrite=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.BatchWriteRequest,n.google.firestore.v1.BatchWriteResponse,t,r)},"name",{value:"BatchWrite"}),Object.defineProperty(t.prototype.createDocument=function e(t,r){return this.rpcCall(e,n.google.firestore.v1.CreateDocumentRequest,n.google.firestore.v1.Document,t,r)},"name",{value:"CreateDocument"}),t}(),s.GetDocumentRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.name="",t.prototype.mask=null,t.prototype.transaction=null,t.prototype.readTime=null,Object.defineProperty(t.prototype,"consistencySelector",{get:r.oneOfGetter(o=["transaction","readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.GetDocumentRequest)return e;var t=new n.google.firestore.v1.GetDocumentRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.GetDocumentRequest.mask: object expected");t.mask=n.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.GetDocumentRequest.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.name="",o.mask=null),null!=e.name&&e.hasOwnProperty("name")&&(o.name=e.name),null!=e.mask&&e.hasOwnProperty("mask")&&(o.mask=n.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs&&(o.consistencySelector="transaction")),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(o.consistencySelector="readTime")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ListDocumentsRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.parent="",t.prototype.collectionId="",t.prototype.pageSize=0,t.prototype.pageToken="",t.prototype.orderBy="",t.prototype.mask=null,t.prototype.transaction=null,t.prototype.readTime=null,t.prototype.showMissing=!1,Object.defineProperty(t.prototype,"consistencySelector",{get:r.oneOfGetter(o=["transaction","readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListDocumentsRequest)return e;var t=new n.google.firestore.v1.ListDocumentsRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),null!=e.orderBy&&(t.orderBy=String(e.orderBy)),null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.ListDocumentsRequest.mask: object expected");t.mask=n.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.ListDocumentsRequest.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return null!=e.showMissing&&(t.showMissing=Boolean(e.showMissing)),t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.parent="",o.collectionId="",o.pageSize=0,o.pageToken="",o.orderBy="",o.mask=null,o.showMissing=!1),null!=e.parent&&e.hasOwnProperty("parent")&&(o.parent=e.parent),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(o.collectionId=e.collectionId),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(o.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(o.pageToken=e.pageToken),null!=e.orderBy&&e.hasOwnProperty("orderBy")&&(o.orderBy=e.orderBy),null!=e.mask&&e.hasOwnProperty("mask")&&(o.mask=n.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs&&(o.consistencySelector="transaction")),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(o.consistencySelector="readTime")),null!=e.showMissing&&e.hasOwnProperty("showMissing")&&(o.showMissing=e.showMissing),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ListDocumentsResponse=function(){function t(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.documents=r.emptyArray,t.prototype.nextPageToken="",t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListDocumentsResponse)return e;var t=new n.google.firestore.v1.ListDocumentsResponse;if(e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: array expected");t.documents=[];for(var r=0;r<e.documents.length;++r){if("object"!=typeof e.documents[r])throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: object expected");t.documents[r]=n.google.firestore.v1.Document.fromObject(e.documents[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.documents=[]),t.defaults&&(r.nextPageToken=""),e.documents&&e.documents.length){r.documents=[];for(var o=0;o<e.documents.length;++o)r.documents[o]=n.google.firestore.v1.Document.toObject(e.documents[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.CreateDocumentRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.parent="",t.prototype.collectionId="",t.prototype.documentId="",t.prototype.document=null,t.prototype.mask=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.CreateDocumentRequest)return e;var t=new n.google.firestore.v1.CreateDocumentRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.CreateDocumentRequest.document: object expected");t.document=n.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.CreateDocumentRequest.mask: object expected");t.mask=n.google.firestore.v1.DocumentMask.fromObject(e.mask)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.parent="",r.collectionId="",r.documentId="",r.document=null,r.mask=null),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(r.collectionId=e.collectionId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(r.documentId=e.documentId),null!=e.document&&e.hasOwnProperty("document")&&(r.document=n.google.firestore.v1.Document.toObject(e.document,t)),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=n.google.firestore.v1.DocumentMask.toObject(e.mask,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.UpdateDocumentRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.document=null,t.prototype.updateMask=null,t.prototype.mask=null,t.prototype.currentDocument=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.UpdateDocumentRequest)return e;var t=new n.google.firestore.v1.UpdateDocumentRequest;if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.document: object expected");t.document=n.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.updateMask){if("object"!=typeof e.updateMask)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.updateMask: object expected");t.updateMask=n.google.firestore.v1.DocumentMask.fromObject(e.updateMask)}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.mask: object expected");t.mask=n.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.currentDocument: object expected");t.currentDocument=n.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.document=null,r.updateMask=null,r.mask=null,r.currentDocument=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=n.google.firestore.v1.Document.toObject(e.document,t)),null!=e.updateMask&&e.hasOwnProperty("updateMask")&&(r.updateMask=n.google.firestore.v1.DocumentMask.toObject(e.updateMask,t)),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=n.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=n.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.DeleteDocumentRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.currentDocument=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DeleteDocumentRequest)return e;var t=new n.google.firestore.v1.DeleteDocumentRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.DeleteDocumentRequest.currentDocument: object expected");t.currentDocument=n.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.currentDocument=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=n.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BatchGetDocumentsRequest=function(){function t(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.database="",t.prototype.documents=r.emptyArray,t.prototype.mask=null,t.prototype.transaction=null,t.prototype.newTransaction=null,t.prototype.readTime=null,Object.defineProperty(t.prototype,"consistencySelector",{get:r.oneOfGetter(o=["transaction","newTransaction","readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BatchGetDocumentsRequest)return e;var t=new n.google.firestore.v1.BatchGetDocumentsRequest;if(null!=e.database&&(t.database=String(e.database)),e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.documents: array expected");t.documents=[];for(var o=0;o<e.documents.length;++o)t.documents[o]=String(e.documents[o])}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.mask: object expected");t.mask=n.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.newTransaction){if("object"!=typeof e.newTransaction)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.newTransaction: object expected");t.newTransaction=n.google.firestore.v1.TransactionOptions.fromObject(e.newTransaction)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.documents=[]),t.defaults&&(o.database="",o.mask=null),null!=e.database&&e.hasOwnProperty("database")&&(o.database=e.database),e.documents&&e.documents.length){o.documents=[];for(var i=0;i<e.documents.length;++i)o.documents[i]=e.documents[i]}return null!=e.mask&&e.hasOwnProperty("mask")&&(o.mask=n.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs&&(o.consistencySelector="transaction")),null!=e.newTransaction&&e.hasOwnProperty("newTransaction")&&(o.newTransaction=n.google.firestore.v1.TransactionOptions.toObject(e.newTransaction,t),t.oneofs&&(o.consistencySelector="newTransaction")),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(o.consistencySelector="readTime")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BatchGetDocumentsResponse=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.found=null,t.prototype.missing=null,t.prototype.transaction=r.newBuffer([]),t.prototype.readTime=null,Object.defineProperty(t.prototype,"result",{get:r.oneOfGetter(o=["found","missing"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BatchGetDocumentsResponse)return e;var t=new n.google.firestore.v1.BatchGetDocumentsResponse;if(null!=e.found){if("object"!=typeof e.found)throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.found: object expected");t.found=n.google.firestore.v1.Document.fromObject(e.found)}if(null!=e.missing&&(t.missing=String(e.missing)),null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(t.bytes===String?o.transaction="":(o.transaction=[],t.bytes!==Array&&(o.transaction=r.newBuffer(o.transaction))),o.readTime=null),null!=e.found&&e.hasOwnProperty("found")&&(o.found=n.google.firestore.v1.Document.toObject(e.found,t),t.oneofs&&(o.result="found")),null!=e.missing&&e.hasOwnProperty("missing")&&(o.missing=e.missing,t.oneofs&&(o.result="missing")),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BeginTransactionRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.database="",t.prototype.options=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BeginTransactionRequest)return e;var t=new n.google.firestore.v1.BeginTransactionRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.firestore.v1.BeginTransactionRequest.options: object expected");t.options=n.google.firestore.v1.TransactionOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.database="",r.options=null),null!=e.database&&e.hasOwnProperty("database")&&(r.database=e.database),null!=e.options&&e.hasOwnProperty("options")&&(r.options=n.google.firestore.v1.TransactionOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BeginTransactionResponse=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.transaction=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BeginTransactionResponse)return e;var t=new n.google.firestore.v1.BeginTransactionResponse;return null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.transaction="":(n.transaction=[],t.bytes!==Array&&(n.transaction=r.newBuffer(n.transaction)))),null!=e.transaction&&e.hasOwnProperty("transaction")&&(n.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.CommitRequest=function(){function t(e){if(this.writes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.database="",t.prototype.writes=r.emptyArray,t.prototype.transaction=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.CommitRequest)return e;var t=new n.google.firestore.v1.CommitRequest;if(null!=e.database&&(t.database=String(e.database)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.CommitRequest.writes: array expected");t.writes=[];for(var o=0;o<e.writes.length;++o){if("object"!=typeof e.writes[o])throw TypeError(".google.firestore.v1.CommitRequest.writes: object expected");t.writes[o]=n.google.firestore.v1.Write.fromObject(e.writes[o])}}return null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),t},t.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.writes=[]),t.defaults&&(o.database="",t.bytes===String?o.transaction="":(o.transaction=[],t.bytes!==Array&&(o.transaction=r.newBuffer(o.transaction)))),null!=e.database&&e.hasOwnProperty("database")&&(o.database=e.database),e.writes&&e.writes.length){o.writes=[];for(var i=0;i<e.writes.length;++i)o.writes[i]=n.google.firestore.v1.Write.toObject(e.writes[i],t)}return null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.CommitResponse=function(){function t(e){if(this.writeResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.writeResults=r.emptyArray,t.prototype.commitTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.CommitResponse)return e;var t=new n.google.firestore.v1.CommitResponse;if(e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.CommitResponse.writeResults: array expected");t.writeResults=[];for(var r=0;r<e.writeResults.length;++r){if("object"!=typeof e.writeResults[r])throw TypeError(".google.firestore.v1.CommitResponse.writeResults: object expected");t.writeResults[r]=n.google.firestore.v1.WriteResult.fromObject(e.writeResults[r])}}if(null!=e.commitTime){if("object"!=typeof e.commitTime)throw TypeError(".google.firestore.v1.CommitResponse.commitTime: object expected");t.commitTime=n.google.protobuf.Timestamp.fromObject(e.commitTime)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.writeResults=[]),t.defaults&&(r.commitTime=null),e.writeResults&&e.writeResults.length){r.writeResults=[];for(var o=0;o<e.writeResults.length;++o)r.writeResults[o]=n.google.firestore.v1.WriteResult.toObject(e.writeResults[o],t)}return null!=e.commitTime&&e.hasOwnProperty("commitTime")&&(r.commitTime=n.google.protobuf.Timestamp.toObject(e.commitTime,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.RollbackRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.database="",t.prototype.transaction=r.newBuffer([]),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.RollbackRequest)return e;var t=new n.google.firestore.v1.RollbackRequest;return null!=e.database&&(t.database=String(e.database)),null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.database="",t.bytes===String?n.transaction="":(n.transaction=[],t.bytes!==Array&&(n.transaction=r.newBuffer(n.transaction)))),null!=e.database&&e.hasOwnProperty("database")&&(n.database=e.database),null!=e.transaction&&e.hasOwnProperty("transaction")&&(n.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.RunQueryRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.parent="",t.prototype.structuredQuery=null,t.prototype.transaction=null,t.prototype.newTransaction=null,t.prototype.readTime=null,Object.defineProperty(t.prototype,"queryType",{get:r.oneOfGetter(o=["structuredQuery"]),set:r.oneOfSetter(o)}),Object.defineProperty(t.prototype,"consistencySelector",{get:r.oneOfGetter(o=["transaction","newTransaction","readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.RunQueryRequest)return e;var t=new n.google.firestore.v1.RunQueryRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.RunQueryRequest.structuredQuery: object expected");t.structuredQuery=n.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}if(null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.newTransaction){if("object"!=typeof e.newTransaction)throw TypeError(".google.firestore.v1.RunQueryRequest.newTransaction: object expected");t.newTransaction=n.google.firestore.v1.TransactionOptions.fromObject(e.newTransaction)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunQueryRequest.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.parent=""),null!=e.parent&&e.hasOwnProperty("parent")&&(o.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(o.structuredQuery=n.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs&&(o.queryType="structuredQuery")),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs&&(o.consistencySelector="transaction")),null!=e.newTransaction&&e.hasOwnProperty("newTransaction")&&(o.newTransaction=n.google.firestore.v1.TransactionOptions.toObject(e.newTransaction,t),t.oneofs&&(o.consistencySelector="newTransaction")),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(o.consistencySelector="readTime")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.RunQueryResponse=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.transaction=r.newBuffer([]),t.prototype.document=null,t.prototype.readTime=null,t.prototype.skippedResults=0,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.RunQueryResponse)return e;var t=new n.google.firestore.v1.RunQueryResponse;if(null!=e.transaction&&("string"==typeof e.transaction?r.base64.decode(e.transaction,t.transaction=r.newBuffer(r.base64.length(e.transaction)),0):e.transaction.length&&(t.transaction=e.transaction)),null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.RunQueryResponse.document: object expected");t.document=n.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunQueryResponse.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return null!=e.skippedResults&&(t.skippedResults=0|e.skippedResults),t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.document=null,t.bytes===String?o.transaction="":(o.transaction=[],t.bytes!==Array&&(o.transaction=r.newBuffer(o.transaction))),o.readTime=null,o.skippedResults=0),null!=e.document&&e.hasOwnProperty("document")&&(o.document=n.google.firestore.v1.Document.toObject(e.document,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(o.transaction=t.bytes===String?r.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),null!=e.skippedResults&&e.hasOwnProperty("skippedResults")&&(o.skippedResults=e.skippedResults),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.PartitionQueryRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.parent="",t.prototype.structuredQuery=null,t.prototype.partitionCount=r.Long?r.Long.fromBits(0,0,!1):0,t.prototype.pageToken="",t.prototype.pageSize=0,Object.defineProperty(t.prototype,"queryType",{get:r.oneOfGetter(o=["structuredQuery"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.PartitionQueryRequest)return e;var t=new n.google.firestore.v1.PartitionQueryRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.PartitionQueryRequest.structuredQuery: object expected");t.structuredQuery=n.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}return null!=e.partitionCount&&(r.Long?(t.partitionCount=r.Long.fromValue(e.partitionCount)).unsigned=!1:"string"==typeof e.partitionCount?t.partitionCount=parseInt(e.partitionCount,10):"number"==typeof e.partitionCount?t.partitionCount=e.partitionCount:"object"==typeof e.partitionCount&&(t.partitionCount=new r.LongBits(e.partitionCount.low>>>0,e.partitionCount.high>>>0).toNumber())),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),t},t.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.parent="",r.Long){var i=new r.Long(0,0,!1);o.partitionCount=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.partitionCount=t.longs===String?"0":0;o.pageToken="",o.pageSize=0}return null!=e.parent&&e.hasOwnProperty("parent")&&(o.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(o.structuredQuery=n.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs&&(o.queryType="structuredQuery")),null!=e.partitionCount&&e.hasOwnProperty("partitionCount")&&("number"==typeof e.partitionCount?o.partitionCount=t.longs===String?String(e.partitionCount):e.partitionCount:o.partitionCount=t.longs===String?r.Long.prototype.toString.call(e.partitionCount):t.longs===Number?new r.LongBits(e.partitionCount.low>>>0,e.partitionCount.high>>>0).toNumber():e.partitionCount),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(o.pageToken=e.pageToken),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(o.pageSize=e.pageSize),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.PartitionQueryResponse=function(){function t(e){if(this.partitions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.partitions=r.emptyArray,t.prototype.nextPageToken="",t.fromObject=function(e){if(e instanceof n.google.firestore.v1.PartitionQueryResponse)return e;var t=new n.google.firestore.v1.PartitionQueryResponse;if(e.partitions){if(!Array.isArray(e.partitions))throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: array expected");t.partitions=[];for(var r=0;r<e.partitions.length;++r){if("object"!=typeof e.partitions[r])throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: object expected");t.partitions[r]=n.google.firestore.v1.Cursor.fromObject(e.partitions[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.partitions=[]),t.defaults&&(r.nextPageToken=""),e.partitions&&e.partitions.length){r.partitions=[];for(var o=0;o<e.partitions.length;++o)r.partitions[o]=n.google.firestore.v1.Cursor.toObject(e.partitions[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.WriteRequest=function(){function t(e){if(this.writes=[],this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.database="",t.prototype.streamId="",t.prototype.writes=r.emptyArray,t.prototype.streamToken=r.newBuffer([]),t.prototype.labels=r.emptyObject,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.WriteRequest)return e;var t=new n.google.firestore.v1.WriteRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.streamId&&(t.streamId=String(e.streamId)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.WriteRequest.writes: array expected");t.writes=[];for(var o=0;o<e.writes.length;++o){if("object"!=typeof e.writes[o])throw TypeError(".google.firestore.v1.WriteRequest.writes: object expected");t.writes[o]=n.google.firestore.v1.Write.fromObject(e.writes[o])}}if(null!=e.streamToken&&("string"==typeof e.streamToken?r.base64.decode(e.streamToken,t.streamToken=r.newBuffer(r.base64.length(e.streamToken)),0):e.streamToken.length&&(t.streamToken=e.streamToken)),e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.WriteRequest.labels: object expected");t.labels={};var i=Object.keys(e.labels);for(o=0;o<i.length;++o)t.labels[i[o]]=String(e.labels[i[o]])}return t},t.toObject=function(e,t){t||(t={});var o,i={};if((t.arrays||t.defaults)&&(i.writes=[]),(t.objects||t.defaults)&&(i.labels={}),t.defaults&&(i.database="",i.streamId="",t.bytes===String?i.streamToken="":(i.streamToken=[],t.bytes!==Array&&(i.streamToken=r.newBuffer(i.streamToken)))),null!=e.database&&e.hasOwnProperty("database")&&(i.database=e.database),null!=e.streamId&&e.hasOwnProperty("streamId")&&(i.streamId=e.streamId),e.writes&&e.writes.length){i.writes=[];for(var s=0;s<e.writes.length;++s)i.writes[s]=n.google.firestore.v1.Write.toObject(e.writes[s],t)}if(null!=e.streamToken&&e.hasOwnProperty("streamToken")&&(i.streamToken=t.bytes===String?r.base64.encode(e.streamToken,0,e.streamToken.length):t.bytes===Array?Array.prototype.slice.call(e.streamToken):e.streamToken),e.labels&&(o=Object.keys(e.labels)).length)for(i.labels={},s=0;s<o.length;++s)i.labels[o[s]]=e.labels[o[s]];return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.WriteResponse=function(){function t(e){if(this.writeResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.streamId="",t.prototype.streamToken=r.newBuffer([]),t.prototype.writeResults=r.emptyArray,t.prototype.commitTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.WriteResponse)return e;var t=new n.google.firestore.v1.WriteResponse;if(null!=e.streamId&&(t.streamId=String(e.streamId)),null!=e.streamToken&&("string"==typeof e.streamToken?r.base64.decode(e.streamToken,t.streamToken=r.newBuffer(r.base64.length(e.streamToken)),0):e.streamToken.length&&(t.streamToken=e.streamToken)),e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.WriteResponse.writeResults: array expected");t.writeResults=[];for(var o=0;o<e.writeResults.length;++o){if("object"!=typeof e.writeResults[o])throw TypeError(".google.firestore.v1.WriteResponse.writeResults: object expected");t.writeResults[o]=n.google.firestore.v1.WriteResult.fromObject(e.writeResults[o])}}if(null!=e.commitTime){if("object"!=typeof e.commitTime)throw TypeError(".google.firestore.v1.WriteResponse.commitTime: object expected");t.commitTime=n.google.protobuf.Timestamp.fromObject(e.commitTime)}return t},t.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.writeResults=[]),t.defaults&&(o.streamId="",t.bytes===String?o.streamToken="":(o.streamToken=[],t.bytes!==Array&&(o.streamToken=r.newBuffer(o.streamToken))),o.commitTime=null),null!=e.streamId&&e.hasOwnProperty("streamId")&&(o.streamId=e.streamId),null!=e.streamToken&&e.hasOwnProperty("streamToken")&&(o.streamToken=t.bytes===String?r.base64.encode(e.streamToken,0,e.streamToken.length):t.bytes===Array?Array.prototype.slice.call(e.streamToken):e.streamToken),e.writeResults&&e.writeResults.length){o.writeResults=[];for(var i=0;i<e.writeResults.length;++i)o.writeResults[i]=n.google.firestore.v1.WriteResult.toObject(e.writeResults[i],t)}return null!=e.commitTime&&e.hasOwnProperty("commitTime")&&(o.commitTime=n.google.protobuf.Timestamp.toObject(e.commitTime,t)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ListenRequest=function(){function t(e){if(this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.database="",t.prototype.addTarget=null,t.prototype.removeTarget=null,t.prototype.labels=r.emptyObject,Object.defineProperty(t.prototype,"targetChange",{get:r.oneOfGetter(o=["addTarget","removeTarget"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListenRequest)return e;var t=new n.google.firestore.v1.ListenRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.addTarget){if("object"!=typeof e.addTarget)throw TypeError(".google.firestore.v1.ListenRequest.addTarget: object expected");t.addTarget=n.google.firestore.v1.Target.fromObject(e.addTarget)}if(null!=e.removeTarget&&(t.removeTarget=0|e.removeTarget),e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.ListenRequest.labels: object expected");t.labels={};for(var r=Object.keys(e.labels),o=0;o<r.length;++o)t.labels[r[o]]=String(e.labels[r[o]])}return t},t.toObject=function(e,t){t||(t={});var r,o={};if((t.objects||t.defaults)&&(o.labels={}),t.defaults&&(o.database=""),null!=e.database&&e.hasOwnProperty("database")&&(o.database=e.database),null!=e.addTarget&&e.hasOwnProperty("addTarget")&&(o.addTarget=n.google.firestore.v1.Target.toObject(e.addTarget,t),t.oneofs&&(o.targetChange="addTarget")),null!=e.removeTarget&&e.hasOwnProperty("removeTarget")&&(o.removeTarget=e.removeTarget,t.oneofs&&(o.targetChange="removeTarget")),e.labels&&(r=Object.keys(e.labels)).length){o.labels={};for(var i=0;i<r.length;++i)o.labels[r[i]]=e.labels[r[i]]}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ListenResponse=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.targetChange=null,t.prototype.documentChange=null,t.prototype.documentDelete=null,t.prototype.documentRemove=null,t.prototype.filter=null,Object.defineProperty(t.prototype,"responseType",{get:r.oneOfGetter(o=["targetChange","documentChange","documentDelete","documentRemove","filter"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListenResponse)return e;var t=new n.google.firestore.v1.ListenResponse;if(null!=e.targetChange){if("object"!=typeof e.targetChange)throw TypeError(".google.firestore.v1.ListenResponse.targetChange: object expected");t.targetChange=n.google.firestore.v1.TargetChange.fromObject(e.targetChange)}if(null!=e.documentChange){if("object"!=typeof e.documentChange)throw TypeError(".google.firestore.v1.ListenResponse.documentChange: object expected");t.documentChange=n.google.firestore.v1.DocumentChange.fromObject(e.documentChange)}if(null!=e.documentDelete){if("object"!=typeof e.documentDelete)throw TypeError(".google.firestore.v1.ListenResponse.documentDelete: object expected");t.documentDelete=n.google.firestore.v1.DocumentDelete.fromObject(e.documentDelete)}if(null!=e.documentRemove){if("object"!=typeof e.documentRemove)throw TypeError(".google.firestore.v1.ListenResponse.documentRemove: object expected");t.documentRemove=n.google.firestore.v1.DocumentRemove.fromObject(e.documentRemove)}if(null!=e.filter){if("object"!=typeof e.filter)throw TypeError(".google.firestore.v1.ListenResponse.filter: object expected");t.filter=n.google.firestore.v1.ExistenceFilter.fromObject(e.filter)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.targetChange&&e.hasOwnProperty("targetChange")&&(r.targetChange=n.google.firestore.v1.TargetChange.toObject(e.targetChange,t),t.oneofs&&(r.responseType="targetChange")),null!=e.documentChange&&e.hasOwnProperty("documentChange")&&(r.documentChange=n.google.firestore.v1.DocumentChange.toObject(e.documentChange,t),t.oneofs&&(r.responseType="documentChange")),null!=e.documentDelete&&e.hasOwnProperty("documentDelete")&&(r.documentDelete=n.google.firestore.v1.DocumentDelete.toObject(e.documentDelete,t),t.oneofs&&(r.responseType="documentDelete")),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=n.google.firestore.v1.ExistenceFilter.toObject(e.filter,t),t.oneofs&&(r.responseType="filter")),null!=e.documentRemove&&e.hasOwnProperty("documentRemove")&&(r.documentRemove=n.google.firestore.v1.DocumentRemove.toObject(e.documentRemove,t),t.oneofs&&(r.responseType="documentRemove")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.Target=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.query=null,t.prototype.documents=null,t.prototype.resumeToken=null,t.prototype.readTime=null,t.prototype.targetId=0,t.prototype.once=!1,Object.defineProperty(t.prototype,"targetType",{get:r.oneOfGetter(o=["query","documents"]),set:r.oneOfSetter(o)}),Object.defineProperty(t.prototype,"resumeType",{get:r.oneOfGetter(o=["resumeToken","readTime"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Target)return e;var t=new n.google.firestore.v1.Target;if(null!=e.query){if("object"!=typeof e.query)throw TypeError(".google.firestore.v1.Target.query: object expected");t.query=n.google.firestore.v1.Target.QueryTarget.fromObject(e.query)}if(null!=e.documents){if("object"!=typeof e.documents)throw TypeError(".google.firestore.v1.Target.documents: object expected");t.documents=n.google.firestore.v1.Target.DocumentsTarget.fromObject(e.documents)}if(null!=e.resumeToken&&("string"==typeof e.resumeToken?r.base64.decode(e.resumeToken,t.resumeToken=r.newBuffer(r.base64.length(e.resumeToken)),0):e.resumeToken.length&&(t.resumeToken=e.resumeToken)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.Target.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return null!=e.targetId&&(t.targetId=0|e.targetId),null!=e.once&&(t.once=Boolean(e.once)),t},t.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.targetId=0,o.once=!1),null!=e.query&&e.hasOwnProperty("query")&&(o.query=n.google.firestore.v1.Target.QueryTarget.toObject(e.query,t),t.oneofs&&(o.targetType="query")),null!=e.documents&&e.hasOwnProperty("documents")&&(o.documents=n.google.firestore.v1.Target.DocumentsTarget.toObject(e.documents,t),t.oneofs&&(o.targetType="documents")),null!=e.resumeToken&&e.hasOwnProperty("resumeToken")&&(o.resumeToken=t.bytes===String?r.base64.encode(e.resumeToken,0,e.resumeToken.length):t.bytes===Array?Array.prototype.slice.call(e.resumeToken):e.resumeToken,t.oneofs&&(o.resumeType="resumeToken")),null!=e.targetId&&e.hasOwnProperty("targetId")&&(o.targetId=e.targetId),null!=e.once&&e.hasOwnProperty("once")&&(o.once=e.once),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs&&(o.resumeType="readTime")),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.DocumentsTarget=function(){function t(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.documents=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Target.DocumentsTarget)return e;var t=new n.google.firestore.v1.Target.DocumentsTarget;if(e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.Target.DocumentsTarget.documents: array expected");t.documents=[];for(var r=0;r<e.documents.length;++r)t.documents[r]=String(e.documents[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.documents=[]),e.documents&&e.documents.length){r.documents=[];for(var n=0;n<e.documents.length;++n)r.documents[n]=e.documents[n]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.QueryTarget=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.parent="",t.prototype.structuredQuery=null,Object.defineProperty(t.prototype,"queryType",{get:r.oneOfGetter(o=["structuredQuery"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Target.QueryTarget)return e;var t=new n.google.firestore.v1.Target.QueryTarget;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.Target.QueryTarget.structuredQuery: object expected");t.structuredQuery=n.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.parent=""),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=n.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs&&(r.queryType="structuredQuery")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),s.TargetChange=function(){function t(e){if(this.targetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.targetChangeType=0,t.prototype.targetIds=r.emptyArray,t.prototype.cause=null,t.prototype.resumeToken=r.newBuffer([]),t.prototype.readTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.TargetChange)return e;var t=new n.google.firestore.v1.TargetChange;switch(e.targetChangeType){case"NO_CHANGE":case 0:t.targetChangeType=0;break;case"ADD":case 1:t.targetChangeType=1;break;case"REMOVE":case 2:t.targetChangeType=2;break;case"CURRENT":case 3:t.targetChangeType=3;break;case"RESET":case 4:t.targetChangeType=4}if(e.targetIds){if(!Array.isArray(e.targetIds))throw TypeError(".google.firestore.v1.TargetChange.targetIds: array expected");t.targetIds=[];for(var o=0;o<e.targetIds.length;++o)t.targetIds[o]=0|e.targetIds[o]}if(null!=e.cause){if("object"!=typeof e.cause)throw TypeError(".google.firestore.v1.TargetChange.cause: object expected");t.cause=n.google.rpc.Status.fromObject(e.cause)}if(null!=e.resumeToken&&("string"==typeof e.resumeToken?r.base64.decode(e.resumeToken,t.resumeToken=r.newBuffer(r.base64.length(e.resumeToken)),0):e.resumeToken.length&&(t.resumeToken=e.resumeToken)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.TargetChange.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.targetIds=[]),t.defaults&&(o.targetChangeType=t.enums===String?"NO_CHANGE":0,o.cause=null,t.bytes===String?o.resumeToken="":(o.resumeToken=[],t.bytes!==Array&&(o.resumeToken=r.newBuffer(o.resumeToken))),o.readTime=null),null!=e.targetChangeType&&e.hasOwnProperty("targetChangeType")&&(o.targetChangeType=t.enums===String?n.google.firestore.v1.TargetChange.TargetChangeType[e.targetChangeType]:e.targetChangeType),e.targetIds&&e.targetIds.length){o.targetIds=[];for(var i=0;i<e.targetIds.length;++i)o.targetIds[i]=e.targetIds[i]}return null!=e.cause&&e.hasOwnProperty("cause")&&(o.cause=n.google.rpc.Status.toObject(e.cause,t)),null!=e.resumeToken&&e.hasOwnProperty("resumeToken")&&(o.resumeToken=t.bytes===String?r.base64.encode(e.resumeToken,0,e.resumeToken.length):t.bytes===Array?Array.prototype.slice.call(e.resumeToken):e.resumeToken),null!=e.readTime&&e.hasOwnProperty("readTime")&&(o.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.TargetChangeType=function(){var e={},t=Object.create(e);return t[e[0]="NO_CHANGE"]="NO_CHANGE",t[e[1]="ADD"]="ADD",t[e[2]="REMOVE"]="REMOVE",t[e[3]="CURRENT"]="CURRENT",t[e[4]="RESET"]="RESET",t}(),t}(),s.ListCollectionIdsRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.parent="",t.prototype.pageSize=0,t.prototype.pageToken="",t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListCollectionIdsRequest)return e;var t=new n.google.firestore.v1.ListCollectionIdsRequest;return null!=e.parent&&(t.parent=String(e.parent)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.parent="",r.pageSize=0,r.pageToken=""),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ListCollectionIdsResponse=function(){function t(e){if(this.collectionIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.collectionIds=r.emptyArray,t.prototype.nextPageToken="",t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ListCollectionIdsResponse)return e;var t=new n.google.firestore.v1.ListCollectionIdsResponse;if(e.collectionIds){if(!Array.isArray(e.collectionIds))throw TypeError(".google.firestore.v1.ListCollectionIdsResponse.collectionIds: array expected");t.collectionIds=[];for(var r=0;r<e.collectionIds.length;++r)t.collectionIds[r]=String(e.collectionIds[r])}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.collectionIds=[]),t.defaults&&(r.nextPageToken=""),e.collectionIds&&e.collectionIds.length){r.collectionIds=[];for(var n=0;n<e.collectionIds.length;++n)r.collectionIds[n]=e.collectionIds[n]}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BatchWriteRequest=function(){function t(e){if(this.writes=[],this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.database="",t.prototype.writes=r.emptyArray,t.prototype.labels=r.emptyObject,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BatchWriteRequest)return e;var t=new n.google.firestore.v1.BatchWriteRequest;if(null!=e.database&&(t.database=String(e.database)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: array expected");t.writes=[];for(var r=0;r<e.writes.length;++r){if("object"!=typeof e.writes[r])throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: object expected");t.writes[r]=n.google.firestore.v1.Write.fromObject(e.writes[r])}}if(e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.BatchWriteRequest.labels: object expected");t.labels={};var o=Object.keys(e.labels);for(r=0;r<o.length;++r)t.labels[o[r]]=String(e.labels[o[r]])}return t},t.toObject=function(e,t){t||(t={});var r,o={};if((t.arrays||t.defaults)&&(o.writes=[]),(t.objects||t.defaults)&&(o.labels={}),t.defaults&&(o.database=""),null!=e.database&&e.hasOwnProperty("database")&&(o.database=e.database),e.writes&&e.writes.length){o.writes=[];for(var i=0;i<e.writes.length;++i)o.writes[i]=n.google.firestore.v1.Write.toObject(e.writes[i],t)}if(e.labels&&(r=Object.keys(e.labels)).length)for(o.labels={},i=0;i<r.length;++i)o.labels[r[i]]=e.labels[r[i]];return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.BatchWriteResponse=function(){function t(e){if(this.writeResults=[],this.status=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.writeResults=r.emptyArray,t.prototype.status=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.BatchWriteResponse)return e;var t=new n.google.firestore.v1.BatchWriteResponse;if(e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: array expected");t.writeResults=[];for(var r=0;r<e.writeResults.length;++r){if("object"!=typeof e.writeResults[r])throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: object expected");t.writeResults[r]=n.google.firestore.v1.WriteResult.fromObject(e.writeResults[r])}}if(e.status){if(!Array.isArray(e.status))throw TypeError(".google.firestore.v1.BatchWriteResponse.status: array expected");for(t.status=[],r=0;r<e.status.length;++r){if("object"!=typeof e.status[r])throw TypeError(".google.firestore.v1.BatchWriteResponse.status: object expected");t.status[r]=n.google.rpc.Status.fromObject(e.status[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.writeResults=[],r.status=[]),e.writeResults&&e.writeResults.length){r.writeResults=[];for(var o=0;o<e.writeResults.length;++o)r.writeResults[o]=n.google.firestore.v1.WriteResult.toObject(e.writeResults[o],t)}if(e.status&&e.status.length)for(r.status=[],o=0;o<e.status.length;++o)r.status[o]=n.google.rpc.Status.toObject(e.status[o],t);return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.StructuredQuery=function(){function t(e){if(this.from=[],this.orderBy=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.select=null,t.prototype.from=r.emptyArray,t.prototype.where=null,t.prototype.orderBy=r.emptyArray,t.prototype.startAt=null,t.prototype.endAt=null,t.prototype.offset=0,t.prototype.limit=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery)return e;var t=new n.google.firestore.v1.StructuredQuery;if(null!=e.select){if("object"!=typeof e.select)throw TypeError(".google.firestore.v1.StructuredQuery.select: object expected");t.select=n.google.firestore.v1.StructuredQuery.Projection.fromObject(e.select)}if(e.from){if(!Array.isArray(e.from))throw TypeError(".google.firestore.v1.StructuredQuery.from: array expected");t.from=[];for(var r=0;r<e.from.length;++r){if("object"!=typeof e.from[r])throw TypeError(".google.firestore.v1.StructuredQuery.from: object expected");t.from[r]=n.google.firestore.v1.StructuredQuery.CollectionSelector.fromObject(e.from[r])}}if(null!=e.where){if("object"!=typeof e.where)throw TypeError(".google.firestore.v1.StructuredQuery.where: object expected");t.where=n.google.firestore.v1.StructuredQuery.Filter.fromObject(e.where)}if(e.orderBy){if(!Array.isArray(e.orderBy))throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: array expected");for(t.orderBy=[],r=0;r<e.orderBy.length;++r){if("object"!=typeof e.orderBy[r])throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: object expected");t.orderBy[r]=n.google.firestore.v1.StructuredQuery.Order.fromObject(e.orderBy[r])}}if(null!=e.startAt){if("object"!=typeof e.startAt)throw TypeError(".google.firestore.v1.StructuredQuery.startAt: object expected");t.startAt=n.google.firestore.v1.Cursor.fromObject(e.startAt)}if(null!=e.endAt){if("object"!=typeof e.endAt)throw TypeError(".google.firestore.v1.StructuredQuery.endAt: object expected");t.endAt=n.google.firestore.v1.Cursor.fromObject(e.endAt)}if(null!=e.offset&&(t.offset=0|e.offset),null!=e.limit){if("object"!=typeof e.limit)throw TypeError(".google.firestore.v1.StructuredQuery.limit: object expected");t.limit=n.google.protobuf.Int32Value.fromObject(e.limit)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.from=[],r.orderBy=[]),t.defaults&&(r.select=null,r.where=null,r.limit=null,r.offset=0,r.startAt=null,r.endAt=null),null!=e.select&&e.hasOwnProperty("select")&&(r.select=n.google.firestore.v1.StructuredQuery.Projection.toObject(e.select,t)),e.from&&e.from.length){r.from=[];for(var o=0;o<e.from.length;++o)r.from[o]=n.google.firestore.v1.StructuredQuery.CollectionSelector.toObject(e.from[o],t)}if(null!=e.where&&e.hasOwnProperty("where")&&(r.where=n.google.firestore.v1.StructuredQuery.Filter.toObject(e.where,t)),e.orderBy&&e.orderBy.length)for(r.orderBy=[],o=0;o<e.orderBy.length;++o)r.orderBy[o]=n.google.firestore.v1.StructuredQuery.Order.toObject(e.orderBy[o],t);return null!=e.limit&&e.hasOwnProperty("limit")&&(r.limit=n.google.protobuf.Int32Value.toObject(e.limit,t)),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),null!=e.startAt&&e.hasOwnProperty("startAt")&&(r.startAt=n.google.firestore.v1.Cursor.toObject(e.startAt,t)),null!=e.endAt&&e.hasOwnProperty("endAt")&&(r.endAt=n.google.firestore.v1.Cursor.toObject(e.endAt,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.CollectionSelector=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.collectionId="",t.prototype.allDescendants=!1,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.CollectionSelector)return e;var t=new n.google.firestore.v1.StructuredQuery.CollectionSelector;return null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.allDescendants&&(t.allDescendants=Boolean(e.allDescendants)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.collectionId="",r.allDescendants=!1),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(r.collectionId=e.collectionId),null!=e.allDescendants&&e.hasOwnProperty("allDescendants")&&(r.allDescendants=e.allDescendants),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.Filter=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.compositeFilter=null,t.prototype.fieldFilter=null,t.prototype.unaryFilter=null,Object.defineProperty(t.prototype,"filterType",{get:r.oneOfGetter(o=["compositeFilter","fieldFilter","unaryFilter"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.Filter)return e;var t=new n.google.firestore.v1.StructuredQuery.Filter;if(null!=e.compositeFilter){if("object"!=typeof e.compositeFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.compositeFilter: object expected");t.compositeFilter=n.google.firestore.v1.StructuredQuery.CompositeFilter.fromObject(e.compositeFilter)}if(null!=e.fieldFilter){if("object"!=typeof e.fieldFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.fieldFilter: object expected");t.fieldFilter=n.google.firestore.v1.StructuredQuery.FieldFilter.fromObject(e.fieldFilter)}if(null!=e.unaryFilter){if("object"!=typeof e.unaryFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.unaryFilter: object expected");t.unaryFilter=n.google.firestore.v1.StructuredQuery.UnaryFilter.fromObject(e.unaryFilter)}return t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.compositeFilter&&e.hasOwnProperty("compositeFilter")&&(r.compositeFilter=n.google.firestore.v1.StructuredQuery.CompositeFilter.toObject(e.compositeFilter,t),t.oneofs&&(r.filterType="compositeFilter")),null!=e.fieldFilter&&e.hasOwnProperty("fieldFilter")&&(r.fieldFilter=n.google.firestore.v1.StructuredQuery.FieldFilter.toObject(e.fieldFilter,t),t.oneofs&&(r.filterType="fieldFilter")),null!=e.unaryFilter&&e.hasOwnProperty("unaryFilter")&&(r.unaryFilter=n.google.firestore.v1.StructuredQuery.UnaryFilter.toObject(e.unaryFilter,t),t.oneofs&&(r.filterType="unaryFilter")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.CompositeFilter=function(){function t(e){if(this.filters=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.op=0,t.prototype.filters=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.CompositeFilter)return e;var t=new n.google.firestore.v1.StructuredQuery.CompositeFilter;switch(e.op){case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"AND":case 1:t.op=1}if(e.filters){if(!Array.isArray(e.filters))throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: array expected");t.filters=[];for(var r=0;r<e.filters.length;++r){if("object"!=typeof e.filters[r])throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: object expected");t.filters[r]=n.google.firestore.v1.StructuredQuery.Filter.fromObject(e.filters[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.filters=[]),t.defaults&&(r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums===String?n.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[e.op]:e.op),e.filters&&e.filters.length){r.filters=[];for(var o=0;o<e.filters.length;++o)r.filters[o]=n.google.firestore.v1.StructuredQuery.Filter.toObject(e.filters[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Operator=function(){var e={},t=Object.create(e);return t[e[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",t[e[1]="AND"]="AND",t}(),t}(),t.FieldFilter=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.field=null,t.prototype.op=0,t.prototype.value=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.FieldFilter)return e;var t=new n.google.firestore.v1.StructuredQuery.FieldFilter;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.field: object expected");t.field=n.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}switch(e.op){case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"LESS_THAN":case 1:t.op=1;break;case"LESS_THAN_OR_EQUAL":case 2:t.op=2;break;case"GREATER_THAN":case 3:t.op=3;break;case"GREATER_THAN_OR_EQUAL":case 4:t.op=4;break;case"EQUAL":case 5:t.op=5;break;case"NOT_EQUAL":case 6:t.op=6;break;case"ARRAY_CONTAINS":case 7:t.op=7;break;case"IN":case 8:t.op=8;break;case"ARRAY_CONTAINS_ANY":case 9:t.op=9;break;case"NOT_IN":case 10:t.op=10}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.value: object expected");t.value=n.google.firestore.v1.Value.fromObject(e.value)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.field=null,r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0,r.value=null),null!=e.field&&e.hasOwnProperty("field")&&(r.field=n.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums===String?n.google.firestore.v1.StructuredQuery.FieldFilter.Operator[e.op]:e.op),null!=e.value&&e.hasOwnProperty("value")&&(r.value=n.google.firestore.v1.Value.toObject(e.value,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Operator=function(){var e={},t=Object.create(e);return t[e[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",t[e[1]="LESS_THAN"]="LESS_THAN",t[e[2]="LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",t[e[3]="GREATER_THAN"]="GREATER_THAN",t[e[4]="GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",t[e[5]="EQUAL"]="EQUAL",t[e[6]="NOT_EQUAL"]="NOT_EQUAL",t[e[7]="ARRAY_CONTAINS"]="ARRAY_CONTAINS",t[e[8]="IN"]="IN",t[e[9]="ARRAY_CONTAINS_ANY"]="ARRAY_CONTAINS_ANY",t[e[10]="NOT_IN"]="NOT_IN",t}(),t}(),t.UnaryFilter=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.op=0,t.prototype.field=null,Object.defineProperty(t.prototype,"operandType",{get:r.oneOfGetter(o=["field"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.UnaryFilter)return e;var t=new n.google.firestore.v1.StructuredQuery.UnaryFilter;switch(e.op){case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"IS_NAN":case 2:t.op=2;break;case"IS_NULL":case 3:t.op=3;break;case"IS_NOT_NAN":case 4:t.op=4;break;case"IS_NOT_NULL":case 5:t.op=5}if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.UnaryFilter.field: object expected");t.field=n.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums===String?n.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[e.op]:e.op),null!=e.field&&e.hasOwnProperty("field")&&(r.field=n.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t),t.oneofs&&(r.operandType="field")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Operator=function(){var e={},t=Object.create(e);return t[e[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",t[e[2]="IS_NAN"]="IS_NAN",t[e[3]="IS_NULL"]="IS_NULL",t[e[4]="IS_NOT_NAN"]="IS_NOT_NAN",t[e[5]="IS_NOT_NULL"]="IS_NOT_NULL",t}(),t}(),t.Order=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.field=null,t.prototype.direction=0,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.Order)return e;var t=new n.google.firestore.v1.StructuredQuery.Order;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.Order.field: object expected");t.field=n.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}switch(e.direction){case"DIRECTION_UNSPECIFIED":case 0:t.direction=0;break;case"ASCENDING":case 1:t.direction=1;break;case"DESCENDING":case 2:t.direction=2}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.field=null,r.direction=t.enums===String?"DIRECTION_UNSPECIFIED":0),null!=e.field&&e.hasOwnProperty("field")&&(r.field=n.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),null!=e.direction&&e.hasOwnProperty("direction")&&(r.direction=t.enums===String?n.google.firestore.v1.StructuredQuery.Direction[e.direction]:e.direction),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.FieldReference=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.fieldPath="",t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.FieldReference)return e;var t=new n.google.firestore.v1.StructuredQuery.FieldReference;return null!=e.fieldPath&&(t.fieldPath=String(e.fieldPath)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.fieldPath=""),null!=e.fieldPath&&e.hasOwnProperty("fieldPath")&&(r.fieldPath=e.fieldPath),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.Projection=function(){function t(e){if(this.fields=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.fields=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.StructuredQuery.Projection)return e;var t=new n.google.firestore.v1.StructuredQuery.Projection;if(e.fields){if(!Array.isArray(e.fields))throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: array expected");t.fields=[];for(var r=0;r<e.fields.length;++r){if("object"!=typeof e.fields[r])throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: object expected");t.fields[r]=n.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.fields[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.fields=[]),e.fields&&e.fields.length){r.fields=[];for(var o=0;o<e.fields.length;++o)r.fields[o]=n.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.fields[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.Direction=function(){var e={},t=Object.create(e);return t[e[0]="DIRECTION_UNSPECIFIED"]="DIRECTION_UNSPECIFIED",t[e[1]="ASCENDING"]="ASCENDING",t[e[2]="DESCENDING"]="DESCENDING",t}(),t}(),s.Cursor=function(){function t(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.values=r.emptyArray,t.prototype.before=!1,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Cursor)return e;var t=new n.google.firestore.v1.Cursor;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.firestore.v1.Cursor.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.firestore.v1.Cursor.values: object expected");t.values[r]=n.google.firestore.v1.Value.fromObject(e.values[r])}}return null!=e.before&&(t.before=Boolean(e.before)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),t.defaults&&(r.before=!1),e.values&&e.values.length){r.values=[];for(var o=0;o<e.values.length;++o)r.values[o]=n.google.firestore.v1.Value.toObject(e.values[o],t)}return null!=e.before&&e.hasOwnProperty("before")&&(r.before=e.before),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.Write=function(){function t(e){if(this.updateTransforms=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.update=null,t.prototype.delete=null,t.prototype.transform=null,t.prototype.updateMask=null,t.prototype.updateTransforms=r.emptyArray,t.prototype.currentDocument=null,Object.defineProperty(t.prototype,"operation",{get:r.oneOfGetter(o=["update","delete","transform"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.Write)return e;var t=new n.google.firestore.v1.Write;if(null!=e.update){if("object"!=typeof e.update)throw TypeError(".google.firestore.v1.Write.update: object expected");t.update=n.google.firestore.v1.Document.fromObject(e.update)}if(null!=e.delete&&(t.delete=String(e.delete)),null!=e.transform){if("object"!=typeof e.transform)throw TypeError(".google.firestore.v1.Write.transform: object expected");t.transform=n.google.firestore.v1.DocumentTransform.fromObject(e.transform)}if(null!=e.updateMask){if("object"!=typeof e.updateMask)throw TypeError(".google.firestore.v1.Write.updateMask: object expected");t.updateMask=n.google.firestore.v1.DocumentMask.fromObject(e.updateMask)}if(e.updateTransforms){if(!Array.isArray(e.updateTransforms))throw TypeError(".google.firestore.v1.Write.updateTransforms: array expected");t.updateTransforms=[];for(var r=0;r<e.updateTransforms.length;++r){if("object"!=typeof e.updateTransforms[r])throw TypeError(".google.firestore.v1.Write.updateTransforms: object expected");t.updateTransforms[r]=n.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(e.updateTransforms[r])}}if(null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.Write.currentDocument: object expected");t.currentDocument=n.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.updateTransforms=[]),t.defaults&&(r.updateMask=null,r.currentDocument=null),null!=e.update&&e.hasOwnProperty("update")&&(r.update=n.google.firestore.v1.Document.toObject(e.update,t),t.oneofs&&(r.operation="update")),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs&&(r.operation="delete")),null!=e.updateMask&&e.hasOwnProperty("updateMask")&&(r.updateMask=n.google.firestore.v1.DocumentMask.toObject(e.updateMask,t)),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=n.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),null!=e.transform&&e.hasOwnProperty("transform")&&(r.transform=n.google.firestore.v1.DocumentTransform.toObject(e.transform,t),t.oneofs&&(r.operation="transform")),e.updateTransforms&&e.updateTransforms.length){r.updateTransforms=[];for(var o=0;o<e.updateTransforms.length;++o)r.updateTransforms[o]=n.google.firestore.v1.DocumentTransform.FieldTransform.toObject(e.updateTransforms[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.DocumentTransform=function(){function t(e){if(this.fieldTransforms=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.document="",t.prototype.fieldTransforms=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentTransform)return e;var t=new n.google.firestore.v1.DocumentTransform;if(null!=e.document&&(t.document=String(e.document)),e.fieldTransforms){if(!Array.isArray(e.fieldTransforms))throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: array expected");t.fieldTransforms=[];for(var r=0;r<e.fieldTransforms.length;++r){if("object"!=typeof e.fieldTransforms[r])throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: object expected");t.fieldTransforms[r]=n.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(e.fieldTransforms[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.fieldTransforms=[]),t.defaults&&(r.document=""),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),e.fieldTransforms&&e.fieldTransforms.length){r.fieldTransforms=[];for(var o=0;o<e.fieldTransforms.length;++o)r.fieldTransforms[o]=n.google.firestore.v1.DocumentTransform.FieldTransform.toObject(e.fieldTransforms[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.FieldTransform=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.fieldPath="",t.prototype.setToServerValue=null,t.prototype.increment=null,t.prototype.maximum=null,t.prototype.minimum=null,t.prototype.appendMissingElements=null,t.prototype.removeAllFromArray=null,Object.defineProperty(t.prototype,"transformType",{get:r.oneOfGetter(o=["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentTransform.FieldTransform)return e;var t=new n.google.firestore.v1.DocumentTransform.FieldTransform;switch(null!=e.fieldPath&&(t.fieldPath=String(e.fieldPath)),e.setToServerValue){case"SERVER_VALUE_UNSPECIFIED":case 0:t.setToServerValue=0;break;case"REQUEST_TIME":case 1:t.setToServerValue=1}if(null!=e.increment){if("object"!=typeof e.increment)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.increment: object expected");t.increment=n.google.firestore.v1.Value.fromObject(e.increment)}if(null!=e.maximum){if("object"!=typeof e.maximum)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.maximum: object expected");t.maximum=n.google.firestore.v1.Value.fromObject(e.maximum)}if(null!=e.minimum){if("object"!=typeof e.minimum)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.minimum: object expected");t.minimum=n.google.firestore.v1.Value.fromObject(e.minimum)}if(null!=e.appendMissingElements){if("object"!=typeof e.appendMissingElements)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.appendMissingElements: object expected");t.appendMissingElements=n.google.firestore.v1.ArrayValue.fromObject(e.appendMissingElements)}if(null!=e.removeAllFromArray){if("object"!=typeof e.removeAllFromArray)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.removeAllFromArray: object expected");t.removeAllFromArray=n.google.firestore.v1.ArrayValue.fromObject(e.removeAllFromArray)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.fieldPath=""),null!=e.fieldPath&&e.hasOwnProperty("fieldPath")&&(r.fieldPath=e.fieldPath),null!=e.setToServerValue&&e.hasOwnProperty("setToServerValue")&&(r.setToServerValue=t.enums===String?n.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[e.setToServerValue]:e.setToServerValue,t.oneofs&&(r.transformType="setToServerValue")),null!=e.increment&&e.hasOwnProperty("increment")&&(r.increment=n.google.firestore.v1.Value.toObject(e.increment,t),t.oneofs&&(r.transformType="increment")),null!=e.maximum&&e.hasOwnProperty("maximum")&&(r.maximum=n.google.firestore.v1.Value.toObject(e.maximum,t),t.oneofs&&(r.transformType="maximum")),null!=e.minimum&&e.hasOwnProperty("minimum")&&(r.minimum=n.google.firestore.v1.Value.toObject(e.minimum,t),t.oneofs&&(r.transformType="minimum")),null!=e.appendMissingElements&&e.hasOwnProperty("appendMissingElements")&&(r.appendMissingElements=n.google.firestore.v1.ArrayValue.toObject(e.appendMissingElements,t),t.oneofs&&(r.transformType="appendMissingElements")),null!=e.removeAllFromArray&&e.hasOwnProperty("removeAllFromArray")&&(r.removeAllFromArray=n.google.firestore.v1.ArrayValue.toObject(e.removeAllFromArray,t),t.oneofs&&(r.transformType="removeAllFromArray")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.ServerValue=function(){var e={},t=Object.create(e);return t[e[0]="SERVER_VALUE_UNSPECIFIED"]="SERVER_VALUE_UNSPECIFIED",t[e[1]="REQUEST_TIME"]="REQUEST_TIME",t}(),t}(),t}(),s.WriteResult=function(){function t(e){if(this.transformResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.updateTime=null,t.prototype.transformResults=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.WriteResult)return e;var t=new n.google.firestore.v1.WriteResult;if(null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.WriteResult.updateTime: object expected");t.updateTime=n.google.protobuf.Timestamp.fromObject(e.updateTime)}if(e.transformResults){if(!Array.isArray(e.transformResults))throw TypeError(".google.firestore.v1.WriteResult.transformResults: array expected");t.transformResults=[];for(var r=0;r<e.transformResults.length;++r){if("object"!=typeof e.transformResults[r])throw TypeError(".google.firestore.v1.WriteResult.transformResults: object expected");t.transformResults[r]=n.google.firestore.v1.Value.fromObject(e.transformResults[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.transformResults=[]),t.defaults&&(r.updateTime=null),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(r.updateTime=n.google.protobuf.Timestamp.toObject(e.updateTime,t)),e.transformResults&&e.transformResults.length){r.transformResults=[];for(var o=0;o<e.transformResults.length;++o)r.transformResults[o]=n.google.firestore.v1.Value.toObject(e.transformResults[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.DocumentChange=function(){function t(e){if(this.targetIds=[],this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.document=null,t.prototype.targetIds=r.emptyArray,t.prototype.removedTargetIds=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentChange)return e;var t=new n.google.firestore.v1.DocumentChange;if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.DocumentChange.document: object expected");t.document=n.google.firestore.v1.Document.fromObject(e.document)}if(e.targetIds){if(!Array.isArray(e.targetIds))throw TypeError(".google.firestore.v1.DocumentChange.targetIds: array expected");t.targetIds=[];for(var r=0;r<e.targetIds.length;++r)t.targetIds[r]=0|e.targetIds[r]}if(e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentChange.removedTargetIds: array expected");for(t.removedTargetIds=[],r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.targetIds=[],r.removedTargetIds=[]),t.defaults&&(r.document=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=n.google.firestore.v1.Document.toObject(e.document,t)),e.targetIds&&e.targetIds.length){r.targetIds=[];for(var o=0;o<e.targetIds.length;++o)r.targetIds[o]=e.targetIds[o]}if(e.removedTargetIds&&e.removedTargetIds.length)for(r.removedTargetIds=[],o=0;o<e.removedTargetIds.length;++o)r.removedTargetIds[o]=e.removedTargetIds[o];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.DocumentDelete=function(){function t(e){if(this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.document="",t.prototype.removedTargetIds=r.emptyArray,t.prototype.readTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentDelete)return e;var t=new n.google.firestore.v1.DocumentDelete;if(null!=e.document&&(t.document=String(e.document)),e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentDelete.removedTargetIds: array expected");t.removedTargetIds=[];for(var r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.DocumentDelete.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.removedTargetIds=[]),t.defaults&&(r.document="",r.readTime=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),e.removedTargetIds&&e.removedTargetIds.length){r.removedTargetIds=[];for(var o=0;o<e.removedTargetIds.length;++o)r.removedTargetIds[o]=e.removedTargetIds[o]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.DocumentRemove=function(){function t(e){if(this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.document="",t.prototype.removedTargetIds=r.emptyArray,t.prototype.readTime=null,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.DocumentRemove)return e;var t=new n.google.firestore.v1.DocumentRemove;if(null!=e.document&&(t.document=String(e.document)),e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentRemove.removedTargetIds: array expected");t.removedTargetIds=[];for(var r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.DocumentRemove.readTime: object expected");t.readTime=n.google.protobuf.Timestamp.fromObject(e.readTime)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.removedTargetIds=[]),t.defaults&&(r.document="",r.readTime=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),e.removedTargetIds&&e.removedTargetIds.length){r.removedTargetIds=[];for(var o=0;o<e.removedTargetIds.length;++o)r.removedTargetIds[o]=e.removedTargetIds[o]}return null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=n.google.protobuf.Timestamp.toObject(e.readTime,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.ExistenceFilter=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.targetId=0,t.prototype.count=0,t.fromObject=function(e){if(e instanceof n.google.firestore.v1.ExistenceFilter)return e;var t=new n.google.firestore.v1.ExistenceFilter;return null!=e.targetId&&(t.targetId=0|e.targetId),null!=e.count&&(t.count=0|e.count),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.targetId=0,r.count=0),null!=e.targetId&&e.hasOwnProperty("targetId")&&(r.targetId=e.targetId),null!=e.count&&e.hasOwnProperty("count")&&(r.count=e.count),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s),a),d.api=((c={}).Http=function(){function t(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.rules=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.api.Http)return e;var t=new n.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=n.google.api.HttpRule.fromObject(e.rules[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.rules=[]),e.rules&&e.rules.length){r.rules=[];for(var o=0;o<e.rules.length;++o)r.rules[o]=n.google.api.HttpRule.toObject(e.rules[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),c.HttpRule=function(){function t(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.get=null,t.prototype.put=null,t.prototype.post=null,t.prototype.delete=null,t.prototype.patch=null,t.prototype.custom=null,t.prototype.selector="",t.prototype.body="",t.prototype.additionalBindings=r.emptyArray,Object.defineProperty(t.prototype,"pattern",{get:r.oneOfGetter(o=["get","put","post","delete","patch","custom"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.api.HttpRule)return e;var t=new n.google.api.HttpRule;if(null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=n.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.body&&(t.body=String(e.body)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=n.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs&&(r.pattern="get")),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs&&(r.pattern="put")),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs&&(r.pattern="post")),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs&&(r.pattern="delete")),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs&&(r.pattern="patch")),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=n.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs&&(r.pattern="custom")),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)r.additionalBindings[o]=n.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),c.CustomHttpPattern=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.kind="",t.prototype.path="",t.fromObject=function(e){if(e instanceof n.google.api.CustomHttpPattern)return e;var t=new n.google.api.CustomHttpPattern;return null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),c.FieldBehavior=function(){var e={},t=Object.create(e);return t[e[0]="FIELD_BEHAVIOR_UNSPECIFIED"]="FIELD_BEHAVIOR_UNSPECIFIED",t[e[1]="OPTIONAL"]="OPTIONAL",t[e[2]="REQUIRED"]="REQUIRED",t[e[3]="OUTPUT_ONLY"]="OUTPUT_ONLY",t[e[4]="INPUT_ONLY"]="INPUT_ONLY",t[e[5]="IMMUTABLE"]="IMMUTABLE",t[e[6]="UNORDERED_LIST"]="UNORDERED_LIST",t}(),c.ResourceDescriptor=function(){function t(e){if(this.pattern=[],this.style=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type="",t.prototype.pattern=r.emptyArray,t.prototype.nameField="",t.prototype.history=0,t.prototype.plural="",t.prototype.singular="",t.prototype.style=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.api.ResourceDescriptor)return e;var t=new n.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");t.pattern=[];for(var r=0;r<e.pattern.length;++r)t.pattern[r]=String(e.pattern[r])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case"HISTORY_UNSPECIFIED":case 0:t.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:t.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:t.history=2}if(null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),e.style){if(!Array.isArray(e.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");for(t.style=[],r=0;r<e.style.length;++r)switch(e.style[r]){default:case"STYLE_UNSPECIFIED":case 0:t.style[r]=0;break;case"DECLARATIVE_FRIENDLY":case 1:t.style[r]=1}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.pattern=[],r.style=[]),t.defaults&&(r.type="",r.nameField="",r.history=t.enums===String?"HISTORY_UNSPECIFIED":0,r.plural="",r.singular=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.pattern&&e.pattern.length){r.pattern=[];for(var o=0;o<e.pattern.length;++o)r.pattern[o]=e.pattern[o]}if(null!=e.nameField&&e.hasOwnProperty("nameField")&&(r.nameField=e.nameField),null!=e.history&&e.hasOwnProperty("history")&&(r.history=t.enums===String?n.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty("plural")&&(r.plural=e.plural),null!=e.singular&&e.hasOwnProperty("singular")&&(r.singular=e.singular),e.style&&e.style.length)for(r.style=[],o=0;o<e.style.length;++o)r.style[o]=t.enums===String?n.google.api.ResourceDescriptor.Style[e.style[o]]:e.style[o];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.History=function(){var e={},t=Object.create(e);return t[e[0]="HISTORY_UNSPECIFIED"]="HISTORY_UNSPECIFIED",t[e[1]="ORIGINALLY_SINGLE_PATTERN"]="ORIGINALLY_SINGLE_PATTERN",t[e[2]="FUTURE_MULTI_PATTERN"]="FUTURE_MULTI_PATTERN",t}(),t.Style=function(){var e={},t=Object.create(e);return t[e[0]="STYLE_UNSPECIFIED"]="STYLE_UNSPECIFIED",t[e[1]="DECLARATIVE_FRIENDLY"]="DECLARATIVE_FRIENDLY",t}(),t}(),c.ResourceReference=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type="",t.prototype.childType="",t.fromObject=function(e){if(e instanceof n.google.api.ResourceReference)return e;var t=new n.google.api.ResourceReference;return null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type="",r.childType=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.childType&&e.hasOwnProperty("childType")&&(r.childType=e.childType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),c),d.type=((l={}).LatLng=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.latitude=0,t.prototype.longitude=0,t.fromObject=function(e){if(e instanceof n.google.type.LatLng)return e;var t=new n.google.type.LatLng;return null!=e.latitude&&(t.latitude=Number(e.latitude)),null!=e.longitude&&(t.longitude=Number(e.longitude)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.latitude=0,r.longitude=0),null!=e.latitude&&e.hasOwnProperty("latitude")&&(r.latitude=t.json&&!isFinite(e.latitude)?String(e.latitude):e.latitude),null!=e.longitude&&e.hasOwnProperty("longitude")&&(r.longitude=t.json&&!isFinite(e.longitude)?String(e.longitude):e.longitude),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),l),d.rpc=((u={}).Status=function(){function t(e){if(this.details=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.code=0,t.prototype.message="",t.prototype.details=r.emptyArray,t.fromObject=function(e){if(e instanceof n.google.rpc.Status)return e;var t=new n.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".google.rpc.Status.details: array expected");t.details=[];for(var r=0;r<e.details.length;++r){if("object"!=typeof e.details[r])throw TypeError(".google.rpc.Status.details: object expected");t.details[r]=n.google.protobuf.Any.fromObject(e.details[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.details=[]),t.defaults&&(r.code=0,r.message=""),null!=e.code&&e.hasOwnProperty("code")&&(r.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),e.details&&e.details.length){r.details=[];for(var o=0;o<e.details.length;++o)r.details[o]=n.google.protobuf.Any.toObject(e.details[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),u),d.longrunning=((p={}).Operations=function(){function t(t,r,n){e.rpc.Service.call(this,t,r,n)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,Object.defineProperty(t.prototype.listOperations=function e(t,r){return this.rpcCall(e,n.google.longrunning.ListOperationsRequest,n.google.longrunning.ListOperationsResponse,t,r)},"name",{value:"ListOperations"}),Object.defineProperty(t.prototype.getOperation=function e(t,r){return this.rpcCall(e,n.google.longrunning.GetOperationRequest,n.google.longrunning.Operation,t,r)},"name",{value:"GetOperation"}),Object.defineProperty(t.prototype.deleteOperation=function e(t,r){return this.rpcCall(e,n.google.longrunning.DeleteOperationRequest,n.google.protobuf.Empty,t,r)},"name",{value:"DeleteOperation"}),Object.defineProperty(t.prototype.cancelOperation=function e(t,r){return this.rpcCall(e,n.google.longrunning.CancelOperationRequest,n.google.protobuf.Empty,t,r)},"name",{value:"CancelOperation"}),Object.defineProperty(t.prototype.waitOperation=function e(t,r){return this.rpcCall(e,n.google.longrunning.WaitOperationRequest,n.google.longrunning.Operation,t,r)},"name",{value:"WaitOperation"}),t}(),p.Operation=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var o;return t.prototype.name="",t.prototype.metadata=null,t.prototype.done=!1,t.prototype.error=null,t.prototype.response=null,Object.defineProperty(t.prototype,"result",{get:r.oneOfGetter(o=["error","response"]),set:r.oneOfSetter(o)}),t.fromObject=function(e){if(e instanceof n.google.longrunning.Operation)return e;var t=new n.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".google.longrunning.Operation.metadata: object expected");t.metadata=n.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if("object"!=typeof e.error)throw TypeError(".google.longrunning.Operation.error: object expected");t.error=n.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if("object"!=typeof e.response)throw TypeError(".google.longrunning.Operation.response: object expected");t.response=n.google.protobuf.Any.fromObject(e.response)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.metadata=null,r.done=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=n.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty("done")&&(r.done=e.done),null!=e.error&&e.hasOwnProperty("error")&&(r.error=n.google.rpc.Status.toObject(e.error,t),t.oneofs&&(r.result="error")),null!=e.response&&e.hasOwnProperty("response")&&(r.response=n.google.protobuf.Any.toObject(e.response,t),t.oneofs&&(r.result="response")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.GetOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.fromObject=function(e){if(e instanceof n.google.longrunning.GetOperationRequest)return e;var t=new n.google.longrunning.GetOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.ListOperationsRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.filter="",t.prototype.pageSize=0,t.prototype.pageToken="",t.fromObject=function(e){if(e instanceof n.google.longrunning.ListOperationsRequest)return e;var t=new n.google.longrunning.ListOperationsRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.filter="",r.pageSize=0,r.pageToken="",r.name=""),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.ListOperationsResponse=function(){function t(e){if(this.operations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.operations=r.emptyArray,t.prototype.nextPageToken="",t.fromObject=function(e){if(e instanceof n.google.longrunning.ListOperationsResponse)return e;var t=new n.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");t.operations=[];for(var r=0;r<e.operations.length;++r){if("object"!=typeof e.operations[r])throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");t.operations[r]=n.google.longrunning.Operation.fromObject(e.operations[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.operations=[]),t.defaults&&(r.nextPageToken=""),e.operations&&e.operations.length){r.operations=[];for(var o=0;o<e.operations.length;++o)r.operations[o]=n.google.longrunning.Operation.toObject(e.operations[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.CancelOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.fromObject=function(e){if(e instanceof n.google.longrunning.CancelOperationRequest)return e;var t=new n.google.longrunning.CancelOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.DeleteOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.fromObject=function(e){if(e instanceof n.google.longrunning.DeleteOperationRequest)return e;var t=new n.google.longrunning.DeleteOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.WaitOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.timeout=null,t.fromObject=function(e){if(e instanceof n.google.longrunning.WaitOperationRequest)return e;var t=new n.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if("object"!=typeof e.timeout)throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");t.timeout=n.google.protobuf.Duration.fromObject(e.timeout)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.timeout=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.timeout&&e.hasOwnProperty("timeout")&&(r.timeout=n.google.protobuf.Duration.toObject(e.timeout,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p.OperationInfo=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.responseType="",t.prototype.metadataType="",t.fromObject=function(e){if(e instanceof n.google.longrunning.OperationInfo)return e;var t=new n.google.longrunning.OperationInfo;return null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.responseType="",r.metadataType=""),null!=e.responseType&&e.hasOwnProperty("responseType")&&(r.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty("metadataType")&&(r.metadataType=e.metadataType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),p),d}(),n})?n.apply(t,o):n)||(e.exports=i)},92014:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"firestore":{"nested":{"admin":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.Admin.V1","go_package":"google.golang.org/genproto/googleapis/firestore/admin/v1;admin","java_multiple_files":true,"java_outer_classname":"OperationProto","java_package":"com.google.firestore.admin.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\Admin\\\\V1","ruby_package":"Google::Cloud::Firestore::Admin::V1","(google.api.resource_definition).type":"firestore.googleapis.com/CollectionGroup","(google.api.resource_definition).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}"},"nested":{"Field":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Field","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"},"fields":{"name":{"type":"string","id":1},"indexConfig":{"type":"IndexConfig","id":2}},"nested":{"IndexConfig":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"usesAncestorConfig":{"type":"bool","id":2},"ancestorField":{"type":"string","id":3},"reverting":{"type":"bool","id":4}}}}},"Index":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Index","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"},"fields":{"name":{"type":"string","id":1},"queryScope":{"type":"QueryScope","id":2},"fields":{"rule":"repeated","type":"IndexField","id":3},"state":{"type":"State","id":4}},"nested":{"IndexField":{"oneofs":{"valueMode":{"oneof":["order","arrayConfig"]}},"fields":{"fieldPath":{"type":"string","id":1},"order":{"type":"Order","id":2},"arrayConfig":{"type":"ArrayConfig","id":3}},"nested":{"Order":{"values":{"ORDER_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"ArrayConfig":{"values":{"ARRAY_CONFIG_UNSPECIFIED":0,"CONTAINS":1}}}},"QueryScope":{"values":{"QUERY_SCOPE_UNSPECIFIED":0,"COLLECTION":1,"COLLECTION_GROUP":2}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NEEDS_REPAIR":3}}}},"FirestoreAdmin":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"CreateIndex":{"requestType":"CreateIndexRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.http).body":"index","(google.api.method_signature)":"parent,index","(google.longrunning.operation_info).response_type":"Index","(google.longrunning.operation_info).metadata_type":"IndexOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","body":"index"}},{"(google.api.method_signature)":"parent,index"},{"(google.longrunning.operation_info)":{"response_type":"Index","metadata_type":"IndexOperationMetadata"}}]},"ListIndexes":{"requestType":"ListIndexesRequest","responseType":"ListIndexesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes"}},{"(google.api.method_signature)":"parent"}]},"GetIndex":{"requestType":"GetIndexRequest","responseType":"Index","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"DeleteIndex":{"requestType":"DeleteIndexRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"GetField":{"requestType":"GetFieldRequest","responseType":"Field","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}"}},{"(google.api.method_signature)":"name"}]},"UpdateField":{"requestType":"UpdateFieldRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.http).body":"field","(google.api.method_signature)":"field","(google.longrunning.operation_info).response_type":"Field","(google.longrunning.operation_info).metadata_type":"FieldOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","body":"field"}},{"(google.api.method_signature)":"field"},{"(google.longrunning.operation_info)":{"response_type":"Field","metadata_type":"FieldOperationMetadata"}}]},"ListFields":{"requestType":"ListFieldsRequest","responseType":"ListFieldsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields"}},{"(google.api.method_signature)":"parent"}]},"ExportDocuments":{"requestType":"ExportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:exportDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"ExportDocumentsResponse","(google.longrunning.operation_info).metadata_type":"ExportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:exportDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"ExportDocumentsResponse","metadata_type":"ExportDocumentsMetadata"}}]},"ImportDocuments":{"requestType":"ImportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:importDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"google.protobuf.Empty","(google.longrunning.operation_info).metadata_type":"ImportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:importDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"google.protobuf.Empty","metadata_type":"ImportDocumentsMetadata"}}]}}},"CreateIndexRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"index":{"type":"Index","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"ListIndexesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListIndexesResponse":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"nextPageToken":{"type":"string","id":2}}},"GetIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"DeleteIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"UpdateFieldRequest":{"fields":{"field":{"type":"Field","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"GetFieldRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Field"}}}},"ListFieldsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListFieldsResponse":{"fields":{"fields":{"rule":"repeated","type":"Field","id":1},"nextPageToken":{"type":"string","id":2}}},"ExportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"outputUriPrefix":{"type":"string","id":3}}},"ImportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"inputUriPrefix":{"type":"string","id":3}}},"LocationMetadata":{"fields":{}},"IndexOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"index":{"type":"string","id":3},"state":{"type":"OperationState","id":4},"progressDocuments":{"type":"Progress","id":5},"progressBytes":{"type":"Progress","id":6}}},"FieldOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"field":{"type":"string","id":3},"indexConfigDeltas":{"rule":"repeated","type":"IndexConfigDelta","id":4},"state":{"type":"OperationState","id":5},"progressDocuments":{"type":"Progress","id":6},"progressBytes":{"type":"Progress","id":7}},"nested":{"IndexConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1},"index":{"type":"Index","id":2}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}}}},"ExportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"outputUriPrefix":{"type":"string","id":7}}},"ImportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"inputUriPrefix":{"type":"string","id":7}}},"ExportDocumentsResponse":{"fields":{"outputUriPrefix":{"type":"string","id":1}}},"Progress":{"fields":{"estimatedWork":{"type":"int64","id":1},"completedWork":{"type":"int64","id":2}}},"OperationState":{"values":{"OPERATION_STATE_UNSPECIFIED":0,"INITIALIZING":1,"PROCESSING":2,"CANCELLING":3,"FINALIZING":4,"SUCCESSFUL":5,"FAILED":6,"CANCELLED":7}}}}}},"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1","go_package":"google.golang.org/genproto/googleapis/firestore/v1;firestore","java_multiple_files":true,"java_outer_classname":"WriteProto","java_package":"com.google.firestore.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1","ruby_package":"Google::Cloud::Firestore::V1"},"nested":{"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4},"orderBy":{"type":"string","id":6},"mask":{"type":"DocumentMask","id":7},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"RunQueryResponse":{"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2}}}}},"v1beta1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1Beta1","go_package":"google.golang.org/genproto/googleapis/firestore/v1beta1;firestore","java_multiple_files":true,"java_outer_classname":"WriteProto","java_package":"com.google.firestore.v1beta1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1beta1","ruby_package":"Google::Cloud::Firestore::V1beta1"},"nested":{"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4},"orderBy":{"type":"string","id":6},"mask":{"type":"DocumentMask","id":7},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"RunQueryResponse":{"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2}}}}}}},"api":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"FieldBehaviorProto","java_package":"com.google.api","objc_class_prefix":"GAPI"},"nested":{"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}}}},"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/latlng;latlng","java_multiple_files":true,"java_outer_classname":"LatLngProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}}}}}}}}')},38108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(71700);t.DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3,t.DEFAULT_BACKOFF_MAX_DELAY_MS=6e4,t.DEFAULT_BACKOFF_FACTOR=1.5,t.MAX_RETRY_ATTEMPTS=10,t.delayExecution=setTimeout,t.setTimeoutHandler=function(e){t.delayExecution=(t,r)=>(e(t,r),{hasRef:()=>{throw new Error("For tests only. Not Implemented")},ref:()=>{throw new Error("For tests only. Not Implemented")},refresh:()=>{throw new Error("For tests only. Not Implemented")},unref:()=>{throw new Error("For tests only. Not Implemented")},[Symbol.toPrimitive]:()=>{throw new Error("For tests only. Not Implemented")}})},t.ExponentialBackoff=class{constructor(e={}){this._retryCount=0,this.currentBaseMs=0,this.awaitingBackoffCompletion=!1,this.initialDelayMs=void 0!==e.initialDelayMs?e.initialDelayMs:t.DEFAULT_BACKOFF_INITIAL_DELAY_MS,this.backoffFactor=void 0!==e.backoffFactor?e.backoffFactor:t.DEFAULT_BACKOFF_FACTOR,this.maxDelayMs=void 0!==e.maxDelayMs?e.maxDelayMs:t.DEFAULT_BACKOFF_MAX_DELAY_MS,this.jitterFactor=void 0!==e.jitterFactor?e.jitterFactor:1}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>t.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&n.logger("ExponentialBackoff.backoffAndWait",null,`Backing off for ${e} ms (base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise((r=>{this.awaitingBackoffCompletion=!0,t.delayExecution((()=>{this.awaitingBackoffCompletion=!1,r()}),e)}))}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}},56307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42357),o=r(38108),i=r(35485),s=r(41922),a=r(48234),c=r(239),l=r(54048),u=r(71700),p=r(15168);t.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=500,t.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=1e4,t.DEFAULT_JITTER_FACTOR=.3;class d{constructor(e,t,r,n,o){this.ref=e,this.type=t,this.sendFn=r,this.errorFn=n,this.successFn=o,this.deferred=new a.Deferred,this.failedAttempts=0,this._backoffDuration=0}get promise(){return this.deferred.promise}get backoffDuration(){return this._backoffDuration}onError(e){++this.failedAttempts;try{const t=new h(e.code,e.message,this.ref,this.type,this.failedAttempts),r=this.errorFn(t);u.logger("BulkWriter.errorFn",null,"Ran error callback on error code:",e.code,", shouldRetry:",r," for document:",this.ref.path),r?(this.lastStatus=e.code,this.updateBackoffDuration(),this.sendFn(this)):this.deferred.reject(t)}catch(e){this.deferred.reject(e)}}updateBackoffDuration(){this.lastStatus===p.Status.RESOURCE_EXHAUSTED?this._backoffDuration=o.DEFAULT_BACKOFF_MAX_DELAY_MS:0===this._backoffDuration?this._backoffDuration=o.DEFAULT_BACKOFF_INITIAL_DELAY_MS:this._backoffDuration*=o.DEFAULT_BACKOFF_FACTOR}onSuccess(e){try{this.successFn(this.ref,e),this.deferred.resolve(e)}catch(e){this.deferred.reject(e)}}}class f extends c.WriteBatch{constructor(){super(...arguments),this.docPaths=new Set,this.pendingOps=[]}has(e){return this.docPaths.has(e.path)}async bulkCommit(e={}){var t;const r=null!==(t=null==e?void 0:e.requestTag)&&void 0!==t?t:a.requestTag(),n=Error().stack;let o;try{u.logger("BulkCommitBatch.bulkCommit",r,`Sending next batch with ${this._opCount} writes`);const e=a.getRetryCodes("batchWrite");o=await this._commit({retryCodes:e,methodName:"batchWrite",requestTag:r})}catch(e){const t=Array.from({length:this.pendingOps.length});o={writeResults:t.map((()=>({}))),status:t.map((()=>e))}}for(let e=0;e<(o.writeResults||[]).length;++e){const t=s.Timestamp.fromMillis(0),r=(o.status||[])[e];if(r.code===p.Status.OK){const r=s.Timestamp.fromProto(o.writeResults[e].updateTime||t);this.pendingOps[e].onSuccess(new c.WriteResult(r))}else{const t=new p.GoogleError(r.message||void 0);t.code=r.code,this.pendingOps[e].onError(a.wrapError(t,n))}}}processLastOperation(e){n(!this.docPaths.has(e.ref.path),"Batch should not contain writes to the same document"),this.docPaths.add(e.ref.path),this.pendingOps.push(e)}}class h extends Error{constructor(e,t,r,n,o){super(t),this.code=e,this.message=t,this.documentRef=r,this.operationType=n,this.failedAttempts=o}}t.BulkWriterError=h;class g{constructor(e,r){var n,s;if(this.firestore=e,this._maxBatchSize=20,this._bulkCommitBatch=new f(this.firestore),this._lastOp=Promise.resolve(),this._closing=!1,this._pendingOpsCount=0,this._bufferedOperations=[],this._maxPendingOpCount=500,this._successFn=()=>{},this._errorFn=e=>{const t="delete"===e.operationType&&e.code===p.Status.INTERNAL;return(a.getRetryCodes("batchWrite").includes(e.code)||t)&&e.failedAttempts<o.MAX_RETRY_ATTEMPTS},this.firestore._incrementBulkWritersCount(),function(e){if(l.validateOptional(e,{optional:!0}))return;const t="options";if(!a.isObject(e))throw new Error(`${l.invalidArgumentMessage(t,"bulkWriter() options argument")} Input is not an object.`);const r=e;if(void 0!==r.throttling&&"boolean"!=typeof r.throttling&&(void 0!==r.throttling.initialOpsPerSecond&&l.validateInteger("initialOpsPerSecond",r.throttling.initialOpsPerSecond,{minValue:1}),void 0!==r.throttling.maxOpsPerSecond&&(l.validateInteger("maxOpsPerSecond",r.throttling.maxOpsPerSecond,{minValue:1}),void 0!==r.throttling.initialOpsPerSecond&&r.throttling.initialOpsPerSecond>r.throttling.maxOpsPerSecond)))throw new Error(`${l.invalidArgumentMessage(t,"bulkWriter() options argument")} "maxOpsPerSecond" cannot be less than "initialOpsPerSecond".`)}(r),!1===(null==r?void 0:r.throttling))this._rateLimiter=new i.RateLimiter(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);else{let e=t.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT,o=t.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT;"boolean"!=typeof(null==r?void 0:r.throttling)&&(void 0!==(null===(n=null==r?void 0:r.throttling)||void 0===n?void 0:n.maxOpsPerSecond)&&(o=r.throttling.maxOpsPerSecond),void 0!==(null===(s=null==r?void 0:r.throttling)||void 0===s?void 0:s.initialOpsPerSecond)&&(e=r.throttling.initialOpsPerSecond),o<e&&(e=o),e<this._maxBatchSize&&(this._maxBatchSize=e)),this._rateLimiter=new i.RateLimiter(e,1.5,3e5,o)}}_getBufferedOperationsCount(){return this._bufferedOperations.length}_setMaxPendingOpCount(e){this._maxPendingOpCount=e}create(e,t){this._verifyNotClosed();const r=this._enqueue(e,"create",(r=>r.create(e,t)));return a.silencePromise(r),r}delete(e,t){this._verifyNotClosed();const r=this._enqueue(e,"delete",(r=>r.delete(e,t)));return a.silencePromise(r),r}set(e,t,r){this._verifyNotClosed();const n=this._enqueue(e,"set",(n=>n.set(e,t,r)));return a.silencePromise(n),n}update(e,t,...r){this._verifyNotClosed();const n=this._enqueue(e,"update",(n=>n.update(e,t,...r)));return a.silencePromise(n),n}onWriteResult(e){this._successFn=e}onWriteError(e){this._errorFn=e}flush(){return this._verifyNotClosed(),this._scheduleCurrentBatch(!0),this._lastOp}close(){this._verifyNotClosed(),this.firestore._decrementBulkWritersCount();const e=this.flush();return this._closing=!0,e}_verifyNotClosed(){if(this._closing)throw new Error("BulkWriter has already been closed.")}_scheduleCurrentBatch(e=!1){if(0===this._bulkCommitBatch._opCount)return;const t=this._bulkCommitBatch;this._bulkCommitBatch=new f(this.firestore);const r=t.pendingOps.reduce(((e,t)=>e.backoffDuration>t.backoffDuration?e:t)).backoffDuration,n=g._applyJitter(r),i=new a.Deferred;n>0?o.delayExecution((()=>i.resolve()),n):i.resolve(),i.promise.then((()=>this._sendBatch(t,e)))}async _sendBatch(e,t=!1){const r=a.requestTag();if(this._rateLimiter.tryMakeRequest(e._opCount))await e.bulkCommit({requestTag:r}),t&&this._scheduleCurrentBatch(t);else{const n=this._rateLimiter.getNextRequestDelayMs(e._opCount);u.logger("BulkWriter._sendBatch",r,`Backing off for ${n} seconds`),o.delayExecution((()=>this._sendBatch(e,t)),n)}}static _applyJitter(e){if(0===e)return 0;const r=t.DEFAULT_JITTER_FACTOR*(2*Math.random()-1);return Math.min(o.DEFAULT_BACKOFF_MAX_DELAY_MS,e+r*e)}_enqueue(e,t,r){const n=new d(e,t,this._sendFn.bind(this,r),this._errorFn.bind(this),this._successFn.bind(this));return this._lastOp=this._lastOp.then((()=>a.silencePromise(n.promise))),this._pendingOpsCount<this._maxPendingOpCount?(this._pendingOpsCount++,this._sendFn(r,n)):this._bufferedOperations.push((()=>{this._pendingOpsCount++,this._sendFn(r,n)})),n.promise.then((e=>(this._pendingOpsCount--,this._processBufferedOps(),e))).catch((e=>{throw this._pendingOpsCount--,this._processBufferedOps(),e}))}_processBufferedOps(){this._pendingOpsCount<this._maxPendingOpCount&&this._bufferedOperations.length>0&&this._bufferedOperations.shift()()}_sendFn(e,t){this._bulkCommitBatch.has(t.ref)&&this._scheduleCurrentBatch(),e(this._bulkCommitBatch),this._bulkCommitBatch.processLastOperation(t),this._bulkCommitBatch._opCount===this._maxBatchSize&&this._scheduleCurrentBatch()}}t.BulkWriter=g},189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64322),o=r(751),i=r(94190),s=r(41922),a=r(54048);var c=n.firestore.BundleElement;t.BundleBuilder=class{constructor(e){this.bundleId=e,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new s.Timestamp(0,0)}add(e,t){return a.validateMinNumberOfArguments("BundleBuilder.add",arguments,1),a.validateMaxNumberOfArguments("BundleBuilder.add",arguments,2),1===arguments.length?(function(e,t){if(!(t instanceof o.DocumentSnapshot))throw new Error(a.invalidArgumentMessage("documentOrName","DocumentSnapshot"))}(0,e),this.addBundledDocument(e)):(a.validateString("documentOrName",e),function(e,t){if(!(t instanceof i.QuerySnapshot))throw new Error(a.invalidArgumentMessage("querySnapshot","QuerySnapshot"))}(0,t),this.addNamedQuery(e,t)),this}addBundledDocument(e,t){const r=this.documents.get(e.id),n=null==r?void 0:r.metadata.queries;if(!r||s.Timestamp.fromProto(r.metadata.readTime)<e.readTime){const t=e.toDocumentProto();this.documents.set(e.id,{document:e.exists?t:void 0,metadata:{name:t.name,readTime:e.readTime.toProto().timestampValue,exists:e.exists}})}const o=this.documents.get(e.id);o.metadata.queries=n||[],t&&o.metadata.queries.push(t),e.readTime>this.latestReadTime&&(this.latestReadTime=e.readTime)}addNamedQuery(e,t){if(this.namedQueries.has(e))throw new Error(`Query name conflict: ${e} has already been added.`);this.namedQueries.set(e,{name:e,bundledQuery:t.query._toBundledQuery(),readTime:t.readTime.toProto().timestampValue});for(const r of t.docs)this.addBundledDocument(r,e);t.readTime>this.latestReadTime&&(this.latestReadTime=t.readTime)}elementToLengthPrefixedBuffer(e){const t=c.fromObject(e).toJSON(),r=Buffer.from(JSON.stringify(t),"utf-8"),n=Buffer.from(r.length.toString());return Buffer.concat([n,r])}build(){let e=Buffer.alloc(0);for(const t of this.namedQueries.values())e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({namedQuery:t})]);for(const t of this.documents.values()){const r=t.metadata;e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({documentMetadata:r})]);const n=t.document;n&&(e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({document:n})]))}const t={id:this.bundleId,createTime:this.latestReadTime.toProto().timestampValue,version:1,totalDocuments:this.documents.size,totalBytes:e.length};return e=Buffer.concat([this.elementToLengthPrefixedBuffer({metadata:t}),e]),e}}},92790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(82838),o=r(48234),i=r(71700),s=r(94190),a=r(74201),c=r(54048),l=r(37858);class u extends s.Query{constructor(e,t,r){super(e,s.QueryOptions.forCollectionGroupQuery(t,r))}async*getPartitions(e){var t;c.validateInteger("desiredPartitionCount",e,{minValue:1});const r=o.requestTag();let s;await this.firestore.initializeIfNeeded(r);let l=0;if(e>1){const o=this.orderBy(a.FieldPath.documentId()).toProto();o.partitionCount=e-1;const i=await this.firestore.requestStream("partitionQueryStream",o,r);i.resume();for await(const e of i){++l;const r=null!==(t=e.values)&&void 0!==t?t:[];yield new n.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,s,r),s=r}}i.logger("Firestore.getPartitions",r,"Received %d partitions",l),yield new n.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,s,void 0)}withConverter(e){return new u(this.firestore,this._queryOptions.collectionId,null!=e?e:l.defaultConverter())}}t.CollectionGroup=u},78719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(54048);function o(e,t){let r;if("string"==typeof e){const n=new Date(e),o=Math.floor(n.getTime()/1e3);let i=0;if(e.length>20){const t=e.substring(20,e.length-1),r=9-t.length;i=Number(t)*Math.pow(10,r)}if(isNaN(o)||isNaN(i))throw t=t||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${t}".`);r={seconds:o||void 0,nanos:i||void 0}}else void 0!==e&&(n.validateObject("timestampValue",e),r={seconds:e.seconds||void 0,nanos:e.nanos||void 0});return r}function i(e){if(e.valueType)return e.valueType;const t=[];if(void 0!==e.stringValue&&t.push("stringValue"),void 0!==e.booleanValue&&t.push("booleanValue"),void 0!==e.integerValue&&t.push("integerValue"),void 0!==e.doubleValue&&t.push("doubleValue"),void 0!==e.timestampValue&&t.push("timestampValue"),void 0!==e.referenceValue&&t.push("referenceValue"),void 0!==e.arrayValue&&t.push("arrayValue"),void 0!==e.nullValue&&t.push("nullValue"),void 0!==e.mapValue&&t.push("mapValue"),void 0!==e.geoPointValue&&t.push("geoPointValue"),void 0!==e.bytesValue&&t.push("bytesValue"),1!==t.length)throw new Error(`Unable to infer type value fom '${JSON.stringify(e)}'.`);return t[0]}function s(e){switch(i(e)){case"timestampValue":return{timestampValue:o(e.timestampValue)};case"bytesValue":return{bytesValue:(t=e.bytesValue,"string"==typeof t?Buffer.from(t,"base64"):t)};case"doubleValue":return{doubleValue:Number(e.doubleValue)};case"arrayValue":{const t=[];if(Array.isArray(e.arrayValue.values))for(const r of e.arrayValue.values)t.push(s(r));return{arrayValue:{values:t}}}case"mapValue":{const t={},r=e.mapValue.fields;if(r)for(const n of Object.keys(r))t[n]=s(e.mapValue.fields[n]);return{mapValue:{fields:t}}}default:return e}var t}t.timestampFromJson=o,t.detectValueType=i,t.valueFromJson=s,t.fieldsFromJson=function(e){const t={};for(const r of Object.keys(e))t[r]=s(e[r]);return t}},70121:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,r,n){this._type=e,this._document=t,this._oldIndex=r,this._newIndex=n}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(e){return this===e||e instanceof r&&this._type===e._type&&this._oldIndex===e._oldIndex&&this._newIndex===e._newIndex&&this._document.isEqual(e._document)}}t.DocumentChange=r},751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64063),o=r(42357),i=r(55199),s=r(74201),a=r(94190),c=r(37858),l=r(48234);t.DocumentSnapshotBuilder=class{constructor(e){this.ref=e}build(){return o(void 0!==this.fieldsProto==(void 0!==this.createTime),"Create time should be set iff document exists."),o(void 0!==this.fieldsProto==(void 0!==this.updateTime),"Update time should be set iff document exists."),this.fieldsProto?new p(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new u(this.ref,void 0,this.readTime)}};class u{constructor(e,t,r,n,o){this._fieldsProto=t,this._ref=e,this._serializer=e.firestore._serializer,this._readTime=r,this._createTime=n,this._updateTime=o}static fromObject(e,t){const r=e.firestore._serializer;return new u(e,r.encodeFields(t))}static fromUpdateMap(e,t){const r=e.firestore._serializer;function n(e,t,s,a){const c=s[a],u=a===s.length-1;if(void 0===e[c]){if(u){if(t instanceof i.FieldTransform)return l.isEmpty(e)?null:e;const n=r.encodeValue(t);return n&&(e[c]=n),e}{const r={mapValue:{fields:{}}},o=n(r.mapValue.fields,t,s,a+1);return o?(r.mapValue.fields=o,e[c]=r,e):l.isEmpty(e)?null:e}}return o(!u,"Can't merge current value into a nested object"),e[c].mapValue.fields=n(e[c].mapValue.fields,t,s,a+1),e}const s={};for(const[e,r]of t)n(s,r,e.toArray(),0);return new u(e,s)}get exists(){return void 0!==this._fieldsProto}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(void 0===this._readTime)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const e=this._fieldsProto;if(void 0!==e){if(this.ref._converter!==c.defaultConverter()){const e=new a.DocumentReference(this.ref.firestore,this.ref._path);return this.ref._converter.fromFirestore(new p(e,this._fieldsProto,this.readTime,this.createTime,this.updateTime))}{const t={};for(const r of Object.keys(e))t[r]=this._serializer.decodeValue(e[r]);return t}}}get(e){s.validateFieldPath("field",e);const t=this.protoField(e);if(void 0!==t)return this._serializer.decodeValue(t)}protoField(e){let t=this._fieldsProto;if(void 0===t)return;const r=s.FieldPath.fromArgument(e).toArray();for(;r.length>1;){if(t=t[r.shift()],!t||!t.mapValue)return;t=t.mapValue.fields}return t[r[0]]}toWriteProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}toDocumentProto(){var e,t;return{name:this._ref.formattedName,createTime:null===(e=this.createTime)||void 0===e?void 0:e.toProto().timestampValue,updateTime:null===(t=this.updateTime)||void 0===t?void 0:t.toProto().timestampValue,fields:this._fieldsProto}}isEqual(e){return this===e||e instanceof u&&this._ref.isEqual(e._ref)&&n(this._fieldsProto,e._fieldsProto)}}t.DocumentSnapshot=u;class p extends u{get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const e=super.data();if(!e)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return e}}t.QueryDocumentSnapshot=p;class d{constructor(e){this._sortedPaths=e,this._sortedPaths.sort(((e,t)=>e.compareTo(t)))}static fromUpdateMap(e){const t=[];return e.forEach(((e,r)=>{e instanceof i.FieldTransform&&!e.includeInDocumentMask||t.push(s.FieldPath.fromArgument(r))})),new d(t)}static fromFieldMask(e){const t=[];for(const r of e)t.push(s.FieldPath.fromArgument(r));return new d(t)}static fromObject(e){const t=[];return function e(r,n){let o=!0;for(const a of Object.keys(r)){o=!1;const c=new s.FieldPath(a),u=n?n.append(c):c,p=r[a];p instanceof i.FieldTransform?p.includeInDocumentMask&&t.push(u):l.isPlainObject(p)?e(p,u):void 0!==p&&t.push(u)}n&&o&&t.push(n)}(e),new d(t)}get isEmpty(){return 0===this._sortedPaths.length}static removeFromSortedArray(e,t){for(let r=0;r<e.length;){let n=!1;for(const o of t)if(e[r].isEqual(o)){e.splice(r,1),n=!0;break}n||++r}}removeFields(e){d.removeFromSortedArray(this._sortedPaths,e)}contains(e){for(const t of this._sortedPaths){const r=t.compareTo(e);if(0===r)return!0;if(r>0)return!1}return!1}applyTo(e){const t=(e=>{const t=this._sortedPaths.slice(0),r=(e,n)=>{let o=null;return Object.keys(e).forEach((i=>{const a=n?n.append(i):new s.FieldPath(i);if(this.contains(a))d.removeFromSortedArray(t,[a]),o=o||{},o[i]=e[i];else if(l.isObject(e[i])){const t=r(e[i],a);t&&(o=o||{},o[i]=t)}})),o};return{filteredData:r(e)||{},remainingPaths:t}})(e);if(0!==t.remainingPaths.length)throw new Error(`Input data is missing for field "${t.remainingPaths[0]}".`);return t.filteredData}toProto(){if(this.isEmpty)return{};const e=[];for(const t of this._sortedPaths)e.push(t.formattedName);return{fieldPaths:e}}}t.DocumentMask=d;class f{constructor(e,t){this.ref=e,this.transforms=t}static fromObject(e,t){const r=new Map;for(const e of Object.keys(t))r.set(new s.FieldPath(e),t[e]);return f.fromUpdateMap(e,r)}static fromUpdateMap(e,t){const r=new Map;function n(e,t,o){if(e instanceof i.FieldTransform&&e.includeInDocumentTransform){if(!o)throw new Error(`${e.methodName}() is not supported inside of array values.`);r.set(t,e)}else if(Array.isArray(e))for(let r=0;r<e.length;++r)n(e[r],t.append(String(r)),!1);else if(l.isPlainObject(e))for(const r of Object.keys(e))n(e[r],t.append(new s.FieldPath(r)),o)}return t.forEach(((e,t)=>{n(e,s.FieldPath.fromArgument(t),!0)})),new f(e,r)}get isEmpty(){return 0===this.transforms.size}get fields(){return Array.from(this.transforms.keys())}validate(){const e=!!this.ref.firestore._settings.ignoreUndefinedProperties;this.transforms.forEach((t=>t.validate(e)))}toProto(e){return Array.from(this.transforms,(([t,r])=>r.toProto(e,t)))}}t.DocumentTransform=f,t.Precondition=class{constructor(e){void 0!==e&&(this._exists=e.exists,this._lastUpdateTime=e.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const e={};return void 0!==this._lastUpdateTime?e.updateTime=this._lastUpdateTime.toProto().timestampValue:e.exists=this._exists,e}get isEmpty(){return void 0===this._exists&&!this._lastUpdateTime}}},55199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64063),o=r(93005),i=r(54048);class s{constructor(){}static delete(){return c.DELETE_SENTINEL}static serverTimestamp(){return l.SERVER_TIMESTAMP_SENTINEL}static increment(e){return i.validateMinNumberOfArguments("FieldValue.increment",arguments,1),new u(e)}static arrayUnion(...e){return i.validateMinNumberOfArguments("FieldValue.arrayUnion",e,1),new p(e)}static arrayRemove(...e){return i.validateMinNumberOfArguments("FieldValue.arrayRemove",e,1),new d(e)}isEqual(e){return this===e}}t.FieldValue=s;class a extends s{}t.FieldTransform=a;class c extends a{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}}t.DeleteTransform=c,c.DELETE_SENTINEL=new c;class l extends a{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(e,t){return{fieldPath:t.formattedName,setToServerValue:"REQUEST_TIME"}}}l.SERVER_TIMESTAMP_SENTINEL=new l;class u extends a{constructor(e){super(),this.operand=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){i.validateNumber("FieldValue.increment()",this.operand)}toProto(e,t){const r=e.encodeValue(this.operand);return{fieldPath:t.formattedName,increment:r}}isEqual(e){return this===e||e instanceof u&&this.operand===e.operand}}class p extends a{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(e){for(let t=0;t<this.elements.length;++t)f(t,this.elements[t],e)}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,appendMissingElements:r}}isEqual(e){return this===e||e instanceof p&&n(this.elements,e.elements)}}class d extends a{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(e){for(let t=0;t<this.elements.length;++t)f(t,this.elements[t],e)}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,removeAllFromArray:r}}isEqual(e){return this===e||e instanceof d&&n(this.elements,e.elements)}}function f(e,t,r){if(Array.isArray(t))throw new Error(`${i.invalidArgumentMessage(e,"array element")} Nested arrays are not supported.`);o.validateUserInput(e,t,"array element",{allowDeletes:"none",allowTransforms:!1,allowUndefined:r},void 0,0,!0)}},7998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(54048);class o{constructor(e,t){n.validateNumber("latitude",e,{minValue:-90,maxValue:90}),n.validateNumber("longitude",t,{minValue:-180,maxValue:180}),this._latitude=e,this._longitude=t}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(e){return this===e||e instanceof o&&this.latitude===e.latitude&&this.longitude===e.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(e){return new o(e.latitude||0,e.longitude||0)}}t.GeoPoint=o},18528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15168),o=r(92413),i=r(78835),s=r(38108),a=r(56307),c=r(189),l=r(78719),u=r(751),p=r(71700),d=r(74201),f=r(63642),h=r(94190),g=r(94190),m=r(93005),y=r(41922),v=r(64695),b=r(48234),w=r(54048),E=r(239),_=r(12818).interfaces["google.firestore.v1.Firestore"],O=r(92790);t.CollectionGroup=O.CollectionGroup;const S=r(81706);var T=r(94190);t.CollectionReference=T.CollectionReference,t.DocumentReference=T.DocumentReference,t.QuerySnapshot=T.QuerySnapshot,t.Query=T.Query;var C=r(56307);t.BulkWriter=C.BulkWriter;var A=r(751);t.DocumentSnapshot=A.DocumentSnapshot,t.QueryDocumentSnapshot=A.QueryDocumentSnapshot;var x=r(55199);t.FieldValue=x.FieldValue;var I=r(239);t.WriteBatch=I.WriteBatch,t.WriteResult=I.WriteResult;var k=r(64695);t.Transaction=k.Transaction;var N=r(41922);t.Timestamp=N.Timestamp;var P=r(70121);t.DocumentChange=P.DocumentChange;var R=r(74201);t.FieldPath=R.FieldPath;var j=r(7998);t.GeoPoint=j.GeoPoint;var D=r(82838);t.QueryPartition=D.QueryPartition;var L=r(71700);t.setLogFunction=L.setLogFunction;var F=r(15168);t.GrpcStatus=F.Status;const M=r(88225).i8;let B,U;p.setLibVersion(M),t.MAX_REQUEST_RETRIES=5;class V{constructor(t){this._settings={},this._settingsFrozen=!1,this._serializer=null,this._projectId=void 0,this.registeredListenersCount=0,this.bulkWritersCount=0;const r={libName:"gccl",libVersion:M};t&&t.firebaseVersion&&(r.libVersion+=" fire/"+t.firebaseVersion),this.validateAndApplySettings({...t,...r});const o=_.retry_params.default;this._backoffSettings={initialDelayMs:o.initial_retry_delay_millis,maxDelayMs:o.max_retry_delay_millis,backoffFactor:o.retry_delay_multiplier};const i=void 0===this._settings.maxIdleChannels?1:this._settings.maxIdleChannels;this._clientPool=new f.ClientPool(100,i,(()=>{var t;let r;if(!1===this._settings.ssl){const o=(null!==(t=this._settings.grpc)&&void 0!==t?t:n.grpc).credentials.createInsecure();r=new e.exports.v1({sslCreds:o,...this._settings})}else r=new e.exports.v1(this._settings);return p.logger("Firestore",null,"Initialized Firestore GAPIC Client"),r}),(e=>e.close())),p.logger("Firestore",null,"Initialized Firestore")}getBulkWriter(){return this._bulkWriter||(this._bulkWriter=this.bulkWriter()),this._bulkWriter}settings(e){if(w.validateObject("settings",e),w.validateString("settings.projectId",e.projectId,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const t={...this._settings,...e};this.validateAndApplySettings(t),this._settingsFrozen=!0}validateAndApplySettings(e){var t;void 0!==e.projectId&&(w.validateString("settings.projectId",e.projectId),this._projectId=e.projectId);let r=null;process.env.FIRESTORE_EMULATOR_HOST?(w.validateHost("FIRESTORE_EMULATOR_HOST",process.env.FIRESTORE_EMULATOR_HOST),e={...e,host:process.env.FIRESTORE_EMULATOR_HOST,ssl:!1},r=new i.URL(`http://${e.host}`)):void 0!==e.host&&(w.validateHost("settings.host",e.host),r=new i.URL(`http://${e.host}`)),null!==r&&((void 0!==e.servicePath&&e.servicePath!==r.hostname||void 0!==e.apiEndpoint&&e.apiEndpoint!==r.hostname)&&console.warn(`The provided host (${r.hostname}) in "settings" does not match the existing host (${null!==(t=e.servicePath)&&void 0!==t?t:e.apiEndpoint}). Using the provided host.`),e.servicePath=r.hostname,""!==r.port&&void 0===e.port&&(e.port=Number(r.port)),delete e.host,delete e.apiEndpoint),void 0!==e.ssl&&w.validateBoolean("settings.ssl",e.ssl),void 0!==e.maxIdleChannels&&w.validateInteger("settings.maxIdleChannels",e.maxIdleChannels,{minValue:0}),this._settings=e,this._serializer=new m.Serializer(this)}get projectId(){if(void 0===this._projectId)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get formattedName(){return`projects/${this.projectId}/databases/${d.DEFAULT_DATABASE_ID}`}doc(e){d.validateResourcePath("documentPath",e);const t=d.ResourcePath.EMPTY.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new g.DocumentReference(this,t)}collection(e){d.validateResourcePath("collectionPath",e);const t=d.ResourcePath.EMPTY.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new h.CollectionReference(this,t)}collectionGroup(e){if(-1!==e.indexOf("/"))throw new Error(`Invalid collectionId '${e}'. Collection IDs must not contain '/'.`);return new O.CollectionGroup(this,e,void 0)}batch(){return new E.WriteBatch(this)}bulkWriter(e){return new a.BulkWriter(this,e)}snapshot_(e,t,r){let n,o,i,s;if(void 0===r||"protobufJS"===r)n=e=>e,o=e=>e;else{if("json"!==r)throw new Error(`Unsupported encoding format. Expected "json" or "protobufJS", but was "${r}".`);n=l.timestampFromJson,o=l.fieldsFromJson}return"string"==typeof e?(i=new g.DocumentReference(this,d.QualifiedResourcePath.fromSlashSeparatedString(e)),s=new u.DocumentSnapshotBuilder(i)):(i=new g.DocumentReference(this,d.QualifiedResourcePath.fromSlashSeparatedString(e.name)),s=new u.DocumentSnapshotBuilder(i),s.fieldsProto=e.fields?o(e.fields):{},s.createTime=y.Timestamp.fromProto(n(e.createTime,"documentOrName.createTime")),s.updateTime=y.Timestamp.fromProto(n(e.updateTime,"documentOrName.updateTime"))),t&&(s.readTime=y.Timestamp.fromProto(n(t,"readTime"))),s.build()}bundle(e){return new c.BundleBuilder(e||b.autoId())}runTransaction(e,t){w.validateFunction("updateFunction",e);const r=b.requestTag();let n;t?(w.validateObject("transactionOptions",t),w.validateInteger("transactionOptions.maxAttempts",t.maxAttempts,{optional:!0,minValue:1}),n=t.maxAttempts||5):n=5;const o=new v.Transaction(this,r);return this.initializeIfNeeded(r).then((()=>o.runTransaction(e,n)))}listCollections(){return new g.DocumentReference(this,d.ResourcePath.EMPTY).listCollections()}getAll(...e){w.validateMinNumberOfArguments("Firestore.getAll",e,1);const{documents:t,fieldMask:r}=v.parseGetAllArguments(e),n=b.requestTag(),o=Error().stack;return this.initializeIfNeeded(n).then((()=>this.getAll_(t,r,n))).catch((e=>{throw b.wrapError(e,o)}))}getAll_(e,t,r,n){const o=new Set,i=new Map;for(const t of e)o.add(t.formattedName);const s={database:this.formattedName,transaction:n,documents:Array.from(o)};if(t){const e=t.map((e=>e.formattedName));s.mask={fieldPaths:e}}return this.requestStream("batchGetDocuments",s,r).then((t=>new Promise(((n,o)=>{t.on("error",(e=>{p.logger("Firestore.getAll_",r,"GetAll failed with error:",e),o(e)})).on("data",(e=>{try{let t;e.found?(p.logger("Firestore.getAll_",r,"Received document: %s",e.found.name),t=this.snapshot_(e.found,e.readTime)):(p.logger("Firestore.getAll_",r,"Document missing: %s",e.missing),t=this.snapshot_(e.missing,e.readTime));const n=t.ref.path;i.set(n,t)}catch(e){p.logger("Firestore.getAll_",r,"GetAll failed with exception:",e),o(e)}})).on("end",(()=>{p.logger("Firestore.getAll_",r,"Received %d results",i.size);const t=[];for(const r of e){const e=i.get(r.path);if(void 0!==e){const n=new u.DocumentSnapshotBuilder(r);n.fieldsProto=e._fieldsProto,n.readTime=e.readTime,n.createTime=e.createTime,n.updateTime=e.updateTime,t.push(n.build())}else o(new Error(`Did not receive document for "${r.path}".`))}n(t)})),t.resume()}))))}registerListener(){this.registeredListenersCount+=1}unregisterListener(){this.registeredListenersCount-=1}_incrementBulkWritersCount(){this.bulkWritersCount+=1}_decrementBulkWritersCount(){this.bulkWritersCount-=1}recursiveDelete(e,t){const r=null!=t?t:this.getBulkWriter();return new S.RecursiveDelete(this,r,e).run()}terminate(){return this.registeredListenersCount>0||this.bulkWritersCount>0?Promise.reject(`All onSnapshot() listeners must be unsubscribed, and all BulkWriter instances must be closed before terminating the client. There are ${this.registeredListenersCount} active listeners and ${this.bulkWritersCount} open BulkWriter instances.`):this._clientPool.terminate()}async initializeIfNeeded(e){if(this._settingsFrozen=!0,!1===this._settings.ssl&&(this._settings.customHeaders={Authorization:"Bearer owner",...this._settings.customHeaders}),void 0===this._projectId)try{this._projectId=await this._clientPool.run(e,(e=>e.getProjectId())),p.logger("Firestore.initializeIfNeeded",null,"Detected project ID: %s",this._projectId)}catch(e){return p.logger("Firestore.initializeIfNeeded",null,"Failed to detect project ID: %s",e),Promise.reject(e)}}createCallOptions(e,t){var r;const o={otherArgs:{headers:{"google-cloud-resource-prefix":this.formattedName,...this._settings.customHeaders,...null===(r=this._settings[e])||void 0===r?void 0:r.customHeaders}}};if(t){const r=b.getRetryParams(e);o.retry=new n.RetryOptions(t,r)}return o}async _retry(e,r,n){const o=new s.ExponentialBackoff;let i;for(let s=0;s<t.MAX_REQUEST_RETRIES;++s){i&&p.logger("Firestore._retry",r,"Retrying request that failed with error:",i);try{return await o.backoffAndWait(),await n()}catch(t){if(i=t,b.isPermanentRpcError(t,e))break}}return p.logger("Firestore._retry",r,"Request failed with error:",i),Promise.reject(i)}_initializeStream(e,t,r,n){const i=new o.PassThrough({objectMode:!0});i.pause();let s=!1;return new Promise(((o,a)=>{function c(){s||(s=!0,p.logger("Firestore._initializeStream",r,"Releasing stream"),o(i))}function l(){p.logger("Firestore._initializeStream",r,"Received stream end"),i.unpipe(e),o(i),t.resolve()}function u(e){s?(p.logger("Firestore._initializeStream",r,"Received stream error:",e),setImmediate((()=>{i.emit("error",e)}))):(p.logger("Firestore._initializeStream",r,"Received initial error:",e),a(e))}e.on("data",(()=>c())),e.on("error",(e=>u(e))),e.on("end",(()=>l())),e.on("close",(()=>l())),e.on("finish",(()=>l())),e.pipe(i),n&&(p.logger("Firestore._initializeStream",r,"Sending request: %j",n),e.write(n,"utf-8",(e=>{e?u(e):(p.logger("Firestore._initializeStream",r,"Marking stream as healthy"),c())})))}))}request(e,t,r,n){const o=this.createCallOptions(e,n);return this._clientPool.run(r,(async n=>{try{p.logger("Firestore.request",r,"Sending request: %j",t);const[i]=await n[e](t,o);return p.logger("Firestore.request",r,"Received response: %j",i),i}catch(e){return p.logger("Firestore.request",r,"Received error:",e),Promise.reject(e)}}))}requestStream(e,t,r){const n=this.createCallOptions(e),i="listen"===e;return this._retry(e,r,(()=>{const s=new b.Deferred;return this._clientPool.run(r,(async a=>{p.logger("Firestore.requestStream",r,"Sending request: %j",t);try{const c=i?a[e](n):a[e](t,n),l=new o.Transform({objectMode:!0,transform:(e,t,n)=>{p.logger("Firestore.requestStream",r,"Received response: %j",e),n()}});c.pipe(l);const u=new b.Deferred,d=await this._initializeStream(c,u,r,i?t:void 0);return d.on("end",(()=>c.end())),s.resolve(d),u.promise}catch(e){s.reject(e)}})),s.promise}))}}t.Firestore=V,t.default=V;const q=e.exports;e.exports=V,e.exports=Object.assign(e.exports,q),Object.defineProperty(e.exports,"v1beta1",{get:()=>(U||(U=r(76427)),U)}),Object.defineProperty(e.exports,"v1",{get:()=>(B||(B=r(91320)),B)})},71700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31669),o=r(54048);let i,s=null;t.logger=function(e,t,r,...o){if(t=t||"#####",s){const a=n.format(r,...o),c=(new Date).toISOString();s(`Firestore (${i}) ${c} ${t} [${e}]: `+a)}},t.setLogFunction=function(e){null!==e&&o.validateFunction("logger",e),s=e},t.setLibVersion=function(e){i=e}},71602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(78719),o=r(74201);var i;function s(e){const t=n.detectValueType(e);switch(t){case"nullValue":return i.NULL;case"integerValue":case"doubleValue":return i.NUMBER;case"stringValue":return i.STRING;case"booleanValue":return i.BOOLEAN;case"arrayValue":return i.ARRAY;case"timestampValue":return i.TIMESTAMP;case"geoPointValue":return i.GEO_POINT;case"bytesValue":return i.BLOB;case"referenceValue":return i.REF;case"mapValue":return i.OBJECT;default:throw new Error("Unexpected value type: "+t)}}function a(e,t){return e<t?-1:e>t?1:0}!function(e){e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER",e[e.TIMESTAMP=3]="TIMESTAMP",e[e.STRING=4]="STRING",e[e.BLOB=5]="BLOB",e[e.REF=6]="REF",e[e.GEO_POINT=7]="GEO_POINT",e[e.ARRAY=8]="ARRAY",e[e.OBJECT=9]="OBJECT"}(i||(i={})),t.primitiveComparator=a,t.compare=function e(t,r){const n=s(t),c=a(n,s(r));if(0!==c)return c;switch(n){case i.NULL:return 0;case i.BOOLEAN:return a(t.booleanValue,r.booleanValue);case i.STRING:return a(t.stringValue,r.stringValue);case i.NUMBER:return function(e,t){let r,n;return r=void 0!==e.integerValue?Number(e.integerValue):Number(e.doubleValue),n=void 0!==t.integerValue?Number(t.integerValue):Number(t.doubleValue),function(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(r,n)}(t,r);case i.TIMESTAMP:return function(e,t){const r=a(e.seconds||0,t.seconds||0);return 0!==r?r:a(e.nanos||0,t.nanos||0)}(t.timestampValue,r.timestampValue);case i.BLOB:return function(e,t){if(!(e instanceof Buffer&&t instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(e,t)}(t.bytesValue,r.bytesValue);case i.REF:return function(e,t){const r=o.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue),n=o.QualifiedResourcePath.fromSlashSeparatedString(t.referenceValue);return r.compareTo(n)}(t,r);case i.GEO_POINT:return function(e,t){return a(e.latitude||0,t.latitude||0)||a(e.longitude||0,t.longitude||0)}(t.geoPointValue,r.geoPointValue);case i.ARRAY:return function(t,r){for(let n=0;n<t.length&&n<r.length;n++){const o=e(t[n],r[n]);if(0!==o)return o}return a(t.length,r.length)}(t.arrayValue.values||[],r.arrayValue.values||[]);case i.OBJECT:return function(t,r){const n=Object.keys(t),o=Object.keys(r);n.sort(),o.sort();for(let i=0;i<n.length&&i<o.length;i++){const s=a(n[i],o[i]);if(0!==s)return s;const c=n[i],l=e(t[c],r[c]);if(0!==l)return l}return a(n.length,o.length)}(t.mapValue.fields||{},r.mapValue.fields||{});default:throw new Error(`Encountered unknown type order: ${n}`)}}},74201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48234),o=r(54048);t.DEFAULT_DATABASE_ID="(default)";const i=/^projects\/([^/]*)\/databases\/([^/]*)(?:\/documents\/)?([\s\S]*)$/,s=/^[_a-zA-Z][_a-zA-Z0-9]*$/,a=/^[^*~/[\]]+$/;class c{constructor(e){this.segments=e}get size(){return this.segments.length}append(e){return e instanceof c?this.construct(this.segments.concat(e.segments)):this.construct(this.segments.concat(this.split(e)))}parent(){return 0===this.segments.length?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(e){if(e.segments.length<this.segments.length)return!1;for(let t=0;t<this.segments.length;t++)if(this.segments[t]!==e.segments[t])return!1;return!0}compareTo(e){const t=Math.min(this.segments.length,e.segments.length);for(let r=0;r<t;r++){if(this.segments[r]<e.segments[r])return-1;if(this.segments[r]>e.segments[r])return 1}return this.segments.length<e.segments.length?-1:this.segments.length>e.segments.length?1:0}toArray(){return this.segments.slice()}popLast(){return this.segments.pop(),this.construct(this.segments)}isEqual(e){return this===e||0===this.compareTo(e)}}class l extends c{constructor(...e){super(e)}get isDocument(){return this.segments.length>0&&this.segments.length%2==0}get isCollection(){return this.segments.length%2==1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(e){return new l(...e)}split(e){return e.split("/").filter((e=>e.length>0))}toQualifiedResourcePath(e){return new u(e,t.DEFAULT_DATABASE_ID,...this.segments)}}t.ResourcePath=l,l.EMPTY=new l;class u extends l{constructor(e,t,...r){super(...r),this.projectId=e,this.databaseId=t}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(e){const t=i.exec(e);if(t){const e=t[1],r=t[2],n=t[3];return new u(e,r).append(n)}throw new Error(`Resource name '${e}' is not valid.`)}append(e){return super.append(e)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(e){return new u(this.projectId,this.databaseId,...e)}toQualifiedResourcePath(){return this}compareTo(e){if(e instanceof u){if(this.projectId<e.projectId)return-1;if(this.projectId>e.projectId)return 1;if(this.databaseId<e.databaseId)return-1;if(this.databaseId>e.databaseId)return 1}return super.compareTo(e)}toProto(){return{referenceValue:this.formattedName}}}t.QualifiedResourcePath=u,t.validateResourcePath=function(e,t){if("string"!=typeof t||""===t)throw new Error(`${o.invalidArgumentMessage(e,"resource path")} Path must be a non-empty string.`);if(t.indexOf("//")>=0)throw new Error(`${o.invalidArgumentMessage(e,"resource path")} Paths must not contain //.`)};class p extends c{constructor(...e){if(Array.isArray(e[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");o.validateMinNumberOfArguments("FieldPath",e,1);for(let t=0;t<e.length;++t)if(o.validateString(t,e[t]),0===e[t].length)throw new Error(`Element at index ${t} should not be an empty string.`);super(e)}static documentId(){return p._DOCUMENT_ID}static fromArgument(e){return e instanceof p?e:new p(...e.split("."))}get formattedName(){return this.segments.map((e=>s.test(e)?e:"`"+e.replace("\\","\\\\").replace("`","\\`")+"`")).join(".")}toString(){return this.formattedName}split(e){return e.split(".")}construct(e){return new p(...e)}isEqual(e){return super.isEqual(e)}}t.FieldPath=p,p._DOCUMENT_ID=new p("__name__"),t.validateFieldPath=function(e,t){if(!(t instanceof p)){if(void 0===t)throw new Error(o.invalidArgumentMessage(e,"field path")+" The path cannot be omitted.");if(n.isObject(t)&&"FieldPath"===t.constructor.name)throw new Error(o.customObjectMessage(e,t));if("string"!=typeof t)throw new Error(`${o.invalidArgumentMessage(e,"field path")} Paths can only be specified as strings or via a FieldPath object.`);if(t.indexOf("..")>=0)throw new Error(`${o.invalidArgumentMessage(e,"field path")} Paths must not contain ".." in them.`);if(t.startsWith(".")||t.endsWith("."))throw new Error(`${o.invalidArgumentMessage(e,"field path")} Paths must not start or end with ".".`);if(!a.test(t))throw new Error(`${o.invalidArgumentMessage(e,"field path")} Paths can't be empty and must not contain\n    "*~/[]".`)}}},63642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42357),o=r(71700),i=r(48234);t.CLIENT_TERMINATED_ERROR_MSG="The client has already been terminated",t.ClientPool=class{constructor(e,t,r,n=(()=>Promise.resolve())){this.concurrentOperationLimit=e,this.maxIdleClients=t,this.clientFactory=r,this.clientDestructor=n,this.activeClients=new Map,this.failedClients=new Set,this.terminated=!1,this.terminateDeferred=new i.Deferred}acquire(e){let t=null,r=-1;for(const[e,n]of this.activeClients)!this.failedClients.has(e)&&n>r&&n<this.concurrentOperationLimit&&(t=e,r=n);return t?o.logger("ClientPool.acquire",e,"Re-using existing client with %s remaining operations",this.concurrentOperationLimit-r):(o.logger("ClientPool.acquire",e,"Creating a new client"),t=this.clientFactory(),r=0,n(!this.activeClients.has(t),"The provided client factory returned an existing instance")),this.activeClients.set(t,r+1),t}async release(e,t){const r=this.activeClients.get(t)||0;n(r>0,"No active requests"),this.activeClients.set(t,r-1),this.terminated&&0===this.opCount&&this.terminateDeferred.resolve(),this.shouldGarbageCollectClient(t)&&(this.activeClients.delete(t),this.failedClients.delete(t),await this.clientDestructor(t),o.logger("ClientPool.release",e,"Garbage collected 1 client"))}shouldGarbageCollectClient(e){if(0!==this.activeClients.get(e))return!1;if(this.failedClients.has(e))return!0;let t=0;for(const[,e]of this.activeClients)t+=this.concurrentOperationLimit-e;return t>this.maxIdleClients*this.concurrentOperationLimit}get size(){return this.activeClients.size}get opCount(){let e=0;return this.activeClients.forEach((t=>e+=t)),e}run(e,r){if(this.terminated)return Promise.reject(new Error(t.CLIENT_TERMINATED_ERROR_MSG));const n=this.acquire(e);return r(n).catch((async t=>{var r;return(null===(r=t.message)||void 0===r?void 0:r.match(/RST_STREAM/))&&this.failedClients.add(n),await this.release(e,n),Promise.reject(t)})).then((async t=>(await this.release(e,n),t)))}async terminate(){this.terminated=!0,this.opCount>0&&(o.logger("ClientPool.terminate",null,"Waiting for %s pending operations to complete before terminating",this.opCount),await this.terminateDeferred.promise);for(const[e]of this.activeClients)this.activeClients.delete(e),await this.clientDestructor(e)}}},82838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(94190),o=r(74201),i=r(93005);t.QueryPartition=class{constructor(e,t,r,n,o){this._firestore=e,this._collectionId=t,this._converter=r,this._startAt=n,this._endBefore=o,this._serializer=new i.Serializer(e)}get startAt(){return this._startAt&&!this._memoizedStartAt&&(this._memoizedStartAt=this._startAt.map((e=>this._serializer.decodeValue(e)))),this._memoizedStartAt}get endBefore(){return this._endBefore&&!this._memoizedEndBefore&&(this._memoizedEndBefore=this._endBefore.map((e=>this._serializer.decodeValue(e)))),this._memoizedEndBefore}toQuery(){let e=n.QueryOptions.forCollectionGroupQuery(this._collectionId,this._converter);return e=e.with({fieldOrders:[new n.FieldOrder(o.FieldPath.documentId())]}),void 0!==this._startAt&&(e=e.with({startAt:{before:!0,values:this._startAt}})),void 0!==this._endBefore&&(e=e.with({endAt:{before:!0,values:this._endBefore}})),new n.Query(this._firestore,e)}}},35485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42357),o=r(71700);t.RateLimiter=class{constructor(e,t,r,n,o=Date.now()){this.initialCapacity=e,this.multiplier=t,this.multiplierMillis=r,this.maximumCapacity=n,this.startTimeMillis=o,this.availableTokens=e,this.lastRefillTimeMillis=o,this.previousCapacity=e}tryMakeRequest(e,t=Date.now()){return this.refillTokens(t),e<=this.availableTokens&&(this.availableTokens-=e,!0)}getNextRequestDelayMs(e,t=Date.now()){if(this.refillTokens(t),e<this.availableTokens)return 0;const r=this.calculateCapacity(t);if(r<e)return-1;const n=e-this.availableTokens;return Math.ceil(1e3*n/r)}refillTokens(e){if(!(e>=this.lastRefillTimeMillis))throw new Error("Request time should not be before the last token refill time.");{const t=e-this.lastRefillTimeMillis,r=this.calculateCapacity(e),n=Math.floor(t*r/1e3);n>0&&(this.availableTokens=Math.min(r,this.availableTokens+n),this.lastRefillTimeMillis=e)}}calculateCapacity(e){n(e>=this.startTimeMillis,"startTime cannot be after currentTime");const t=e-this.startTimeMillis,r=Math.min(Math.floor(Math.pow(this.multiplier,Math.floor(t/this.multiplierMillis))*this.initialCapacity),this.maximumCapacity);return r!==this.previousCapacity&&o.logger("RateLimiter.calculateCapacity",null,`New request capacity: ${r} operations per second.`),this.previousCapacity=r,r}}},81706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42357),o=r(18528),i=r(48234),s=r(15168),a=r(94190);t.REFERENCE_NAME_MIN_ID="__id-9223372036854775808__",t.MAX_PENDING_OPS=5e3,t.RecursiveDelete=class{constructor(e,t,r){this.firestore=e,this.writer=t,this.ref=r,this.errorCount=0,this.documentsPending=!0,this.completionDeferred=new i.Deferred,this.streamInProgress=!1,this.pendingOpsCount=0,this.errorStack=""}run(){return n(this.documentsPending,"The recursive delete operation has already been completed."),this.errorStack=Error().stack,this.writer._verifyNotClosed(),this.setupStream(),this.completionDeferred.promise}setupStream(){const e=t.MAX_PENDING_OPS,r=this.getAllDescendants((this.ref,o.CollectionReference,this.ref),e);this.streamInProgress=!0;let n=0;r.on("error",(e=>{e.code=s.Status.UNAVAILABLE,e.stack="Failed to fetch children documents: "+e.stack,this.lastError=e,this.onQueryEnd()})).on("data",(e=>{n++,this.lastDocumentSnap=e,this.deleteRef(e.ref)})).on("end",(()=>{this.streamInProgress=!1,n<e?this.onQueryEnd():0===this.pendingOpsCount&&this.setupStream()}))}getAllDescendants(e,r){let n=e._resourcePath;e instanceof o.CollectionReference&&(n=n.popLast());const i=e instanceof o.CollectionReference?e.id:e.parent.id;let s=new o.Query(this.firestore,a.QueryOptions.forKindlessAllDescendants(n,i,!1));if(s=s.select(o.FieldPath.documentId()).limit(r),e instanceof o.CollectionReference){const e=String.fromCharCode(0),r=i+"/"+t.REFERENCE_NAME_MIN_ID,n=i+e+"/"+t.REFERENCE_NAME_MIN_ID;s=s.where(o.FieldPath.documentId(),">=",r).where(o.FieldPath.documentId(),"<",n)}return this.lastDocumentSnap&&(s=s.startAfter(this.lastDocumentSnap)),s.stream()}onQueryEnd(){this.documentsPending=!1,this.ref instanceof o.DocumentReference&&this.writer.delete(this.ref).catch((e=>this.incrementErrorCount(e))),this.writer.flush().then((async()=>{var e;if(void 0===this.lastError)this.completionDeferred.resolve();else{let t=new s.GoogleError(`${this.errorCount} `+(1!==this.errorCount?"deletes":"delete")+" failed. The last delete failed with: ");void 0!==this.lastError.code&&(t.code=this.lastError.code),t=i.wrapError(t,this.errorStack),this.completionDeferred.reject(this.lastError.stack?i.wrapError(t,null!==(e=this.lastError.stack)&&void 0!==e?e:""):t)}}))}deleteRef(e){this.pendingOpsCount++,this.writer.delete(e).catch((e=>{this.incrementErrorCount(e)})).then((()=>{this.pendingOpsCount--,this.documentsPending&&!this.streamInProgress&&this.pendingOpsCount<1e3&&this.setupStream()}))}incrementErrorCount(e){this.errorCount++,this.lastError=e}}},94190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(92413),o=r(64063),i=r(751),s=r(70121),a=r(71700),c=r(71602),l=r(74201),u=r(93005),p=r(41922),d=r(37858),f=r(48234),h=r(54048),g=r(7757),m=r(239),y={asc:"ASCENDING",desc:"DESCENDING"},v={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class b{constructor(e,t,r=d.defaultConverter()){this._firestore=e,this._path=t,this._converter=r}get formattedName(){const e=this.firestore.projectId;return this._path.toQualifiedResourcePath(e).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get _resourcePath(){return this._path}get parent(){return new C(this._firestore,this._path.parent(),this._converter)}get(){return this._firestore.getAll(this).then((([e])=>e))}collection(e){l.validateResourcePath("collectionPath",e);const t=this._path.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new C(this._firestore,t)}listCollections(){const e=f.requestTag();return this.firestore.initializeIfNeeded(e).then((()=>{const t={parent:this.formattedName,pageSize:Math.pow(2,16)-1};return this._firestore.request("listCollectionIds",t,e).then((e=>{const t=[];e.sort();for(const r of e)t.push(this.collection(r));return t}))}))}create(e){return new m.WriteBatch(this._firestore).create(this,e).commit().then((([e])=>e))}delete(e){return new m.WriteBatch(this._firestore).delete(this,e).commit().then((([e])=>e))}set(e,t){return new m.WriteBatch(this._firestore).set(this,e,t).commit().then((([e])=>e))}update(e,...t){return h.validateMinNumberOfArguments("DocumentReference.update",arguments,1),new m.WriteBatch(this._firestore).update(this,e,...t).commit().then((([e])=>e))}onSnapshot(e,t){return h.validateFunction("onNext",e),h.validateFunction("onError",t,{optional:!0}),new g.DocumentWatch(this.firestore,this).onSnapshot(((t,r,n)=>{for(const t of n())if(t.ref.path===this.path)return void e(t);const o=new b(this._firestore,this._path,this._converter),s=new i.DocumentSnapshotBuilder(o);s.readTime=t,e(s.build())}),t||console.error)}isEqual(e){return this===e||e instanceof b&&this._firestore===e._firestore&&this._path.isEqual(e._path)&&this._converter===e._converter}toProto(){return{referenceValue:this.formattedName}}withConverter(e){return new b(this.firestore,this._path,null!=e?e:d.defaultConverter())}}t.DocumentReference=b;class w{constructor(e,t="ASCENDING"){this.field=e,this.direction=t}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}t.FieldOrder=w;class E{constructor(e,t,r,n){this.serializer=e,this.field=t,this.op=r,this.value=n}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":return!0;default:return!1}}toProto(){return"number"==typeof this.value&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"EQUAL"===this.op?"IS_NAN":"IS_NOT_NAN"}}:null===this.value?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"EQUAL"===this.op?"IS_NULL":"IS_NOT_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}}class _{constructor(e,t,r,n,o){this._query=e,this._readTime=t,this._size=r,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=n,this._changes=o}get query(){return this._query}get docs(){return this._materializedDocs||(this._materializedDocs=this._docs(),this._docs=null),this._materializedDocs}get empty(){return 0===this._size}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges||(this._materializedChanges=this._changes(),this._changes=null),this._materializedChanges}forEach(e,t){h.validateFunction("callback",e);for(const r of this.docs)e.call(t,r)}isEqual(e){return this===e||e instanceof _&&this._size===e._size&&!!this._query.isEqual(e._query)&&(this._materializedDocs&&!this._materializedChanges?k(this.docs,e.docs)&&k(this.docChanges(),e.docChanges()):k(this.docChanges(),e.docChanges())&&k(this.docs,e.docs))}}var O;t.QuerySnapshot=_,function(e){e[e.First=0]="First",e[e.Last=1]="Last"}(O||(O={}));class S{constructor(e,t,r,n,o,i,s,a,c,l,u,p,d=!1,f=!0){this.parentPath=e,this.collectionId=t,this.converter=r,this.allDescendants=n,this.fieldFilters=o,this.fieldOrders=i,this.startAt=s,this.endAt=a,this.limit=c,this.limitType=l,this.offset=u,this.projection=p,this.kindless=d,this.requireConsistency=f}static forCollectionGroupQuery(e,t=d.defaultConverter()){return new S(l.ResourcePath.EMPTY,e,t,!0,[],[])}static forCollectionQuery(e,t=d.defaultConverter()){return new S(e.parent(),e.id,t,!1,[],[])}static forKindlessAllDescendants(e,t,r=!0){let n=new S(e,t,d.defaultConverter(),!0,[],[]);return n=n.with({kindless:!0,requireConsistency:r}),n}with(e){return new S(N(e.parentPath,this.parentPath),N(e.collectionId,this.collectionId),this.converter,N(e.allDescendants,this.allDescendants),N(e.fieldFilters,this.fieldFilters),N(e.fieldOrders,this.fieldOrders),N(e.startAt,this.startAt),N(e.endAt,this.endAt),N(e.limit,this.limit),N(e.limitType,this.limitType),N(e.offset,this.offset),N(e.projection,this.projection),N(e.kindless,this.kindless),N(e.requireConsistency,this.requireConsistency))}withConverter(e){return new S(this.parentPath,this.collectionId,e,this.allDescendants,this.fieldFilters,this.fieldOrders,this.startAt,this.endAt,this.limit,this.limitType,this.offset,this.projection)}hasFieldOrders(){return this.fieldOrders.length>0}isEqual(e){return this===e||e instanceof S&&this.parentPath.isEqual(e.parentPath)&&this.collectionId===e.collectionId&&this.converter===e.converter&&this.allDescendants===e.allDescendants&&this.limit===e.limit&&this.offset===e.offset&&o(this.fieldFilters,e.fieldFilters)&&o(this.fieldOrders,e.fieldOrders)&&o(this.startAt,e.startAt)&&o(this.endAt,e.endAt)&&o(this.projection,e.projection)&&this.kindless===e.kindless&&this.requireConsistency===e.requireConsistency}}t.QueryOptions=S;class T{constructor(e,t){this._firestore=e,this._queryOptions=t,this._serializer=new u.Serializer(e),this._allowUndefined=!!this._firestore._settings.ignoreUndefinedProperties}static _extractFieldValues(e,t){const r=[];for(const n of t)if(l.FieldPath.documentId().isEqual(n.field))r.push(e.ref);else{const t=e.get(n.field);if(void 0===t)throw new Error(`Field "${n.field}" is missing in the provided DocumentSnapshot. Please provide a document that contains values for all specified orderBy() and where() constraints.`);r.push(t)}return r}get firestore(){return this._firestore}where(e,t,r){if(l.validateFieldPath("fieldPath",e),t=x("opStr",t,r),I("value",r,this._allowUndefined),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const n=l.FieldPath.fromArgument(e);if(l.FieldPath.documentId().isEqual(n)){if("array-contains"===t||"array-contains-any"===t)throw new Error(`Invalid Query. You can't perform '${t}' queries on FieldPath.documentId().`);if("in"===t||"not-in"===t){if(!Array.isArray(r)||0===r.length)throw new Error(`Invalid Query. A non-empty array is required for '${t}' filters.`);r=r.map((e=>this.validateReference(e)))}else r=this.validateReference(r)}const o=new E(this._serializer,n,v[t],r),i=this._queryOptions.with({fieldFilters:this._queryOptions.fieldFilters.concat(o)});return new T(this._firestore,i)}select(...e){const t=[];if(0===e.length)t.push({fieldPath:l.FieldPath.documentId().formattedName});else for(let r=0;r<e.length;++r)l.validateFieldPath(r,e[r]),t.push({fieldPath:l.FieldPath.fromArgument(e[r]).formattedName});const r=this._queryOptions.with({projection:{fields:t}});return new T(this._firestore,r)}orderBy(e,t){if(l.validateFieldPath("fieldPath",e),t=A("directionStr",t),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const r=new w(l.FieldPath.fromArgument(e),y[t||"asc"]),n=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(r)});return new T(this._firestore,n)}limit(e){h.validateInteger("limit",e);const t=this._queryOptions.with({limit:e,limitType:O.First});return new T(this._firestore,t)}limitToLast(e){h.validateInteger("limitToLast",e);const t=this._queryOptions.with({limit:e,limitType:O.Last});return new T(this._firestore,t)}offset(e){h.validateInteger("offset",e);const t=this._queryOptions.with({offset:e});return new T(this._firestore,t)}isEqual(e){return this===e||e instanceof T&&this._queryOptions.isEqual(e._queryOptions)}createImplicitOrderBy(e){if(1!==e.length||!(e[0]instanceof i.DocumentSnapshot||e[0]instanceof b))return this._queryOptions.fieldOrders;const t=this._queryOptions.fieldOrders.slice();if(0===t.length)for(const e of this._queryOptions.fieldFilters)if(e.isInequalityFilter()){t.push(new w(e.field));break}if(!t.find((e=>l.FieldPath.documentId().isEqual(e.field)))){const e=0===t.length?y.ASC:t[t.length-1].direction;t.push(new w(l.FieldPath.documentId(),e))}return t}createCursor(e,t,r){let n;if(n=1===t.length&&t[0]instanceof i.DocumentSnapshot?T._extractFieldValues(t[0],e):t,n.length>e.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const o={values:[],before:r};for(let t=0;t<n.length;++t){let r=n[t];l.FieldPath.documentId().isEqual(e[t].field)&&(r=this.validateReference(r)),I(t,r,this._allowUndefined),o.values.push(this._serializer.encodeValue(r))}return o}validateReference(e){const t=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let r;if("string"==typeof e){const n=t.append(e);if(this._queryOptions.allDescendants){if(!n.isDocument)throw new Error(`When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in a valid document path, but '${e}' is not because it contains an odd number of segments.`)}else if(-1!==e.indexOf("/"))throw new Error(`When querying a collection and ordering by FieldPath.documentId(), the corresponding value must be a plain document ID, but '${e}' contains a slash.`);r=new b(this._firestore,t.append(e),this._queryOptions.converter)}else{if(!(e instanceof b))throw new Error(`The corresponding value for FieldPath.documentId() must be a string or a DocumentReference, but was "${e}".`);if(r=e,!t.isPrefixOf(r._path))throw new Error(`"${r.path}" is not part of the query result set and cannot be used as a query boundary.`)}if(!this._queryOptions.allDescendants&&0!==r._path.parent().compareTo(t))throw new Error(`Only a direct child can be used as a query boundary. Found: "${r.path}".`);return r}startAt(...e){h.validateMinNumberOfArguments("Query.startAt",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),n=this._queryOptions.with({fieldOrders:t,startAt:r});return new T(this._firestore,n)}startAfter(...e){h.validateMinNumberOfArguments("Query.startAfter",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),n=this._queryOptions.with({fieldOrders:t,startAt:r});return new T(this._firestore,n)}endBefore(...e){h.validateMinNumberOfArguments("Query.endBefore",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),n=this._queryOptions.with({fieldOrders:t,endAt:r});return new T(this._firestore,n)}endAt(...e){h.validateMinNumberOfArguments("Query.endAt",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),n=this._queryOptions.with({fieldOrders:t,endAt:r});return new T(this._firestore,n)}get(){return this._get()}_get(e){const t=[],r=Error().stack;return new Promise(((n,o)=>{let i;this._stream(e).on("error",(e=>{o(f.wrapError(e,r))})).on("data",(e=>{i=e.readTime,e.document&&t.push(e.document)})).on("end",(()=>{this._queryOptions.limitType===O.Last&&t.reverse(),n(new _(this,i,t.length,(()=>t),(()=>{const e=[];for(let r=0;r<t.length;++r)e.push(new s.DocumentChange("added",t[r],-1,r));return e})))}))}))}stream(){if(this._queryOptions.limitType===O.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.get() instead.");const e=this._stream(),t=new n.Transform({objectMode:!0,transform(e,t,r){r(void 0,e.document)}});return e.pipe(t),e.on("error",(e=>t.destroy(e))),t}toCursor(e){if(e)return e.before?{before:!0,values:e.values}:{values:e.values}}toProto(e){const t=this.firestore.projectId,r=this._queryOptions.parentPath.toQualifiedResourcePath(t),n=this.toStructuredQuery();if(this._queryOptions.limitType===O.Last){if(!this._queryOptions.hasFieldOrders())throw new Error("limitToLast() queries require specifying at least one orderBy() clause.");n.orderBy=this._queryOptions.fieldOrders.map((e=>{const t="DESCENDING"===e.direction?"ASCENDING":"DESCENDING";return new w(e.field,t).toProto()})),n.startAt=this._queryOptions.endAt?this.toCursor({values:this._queryOptions.endAt.values,before:!this._queryOptions.endAt.before}):void 0,n.endAt=this._queryOptions.startAt?this.toCursor({values:this._queryOptions.startAt.values,before:!this._queryOptions.startAt.before}):void 0}const o={parent:r.formattedName,structuredQuery:n};return e instanceof Uint8Array?o.transaction=e:e instanceof p.Timestamp&&(o.readTime=e.toProto().timestampValue),o}_toBundledQuery(){const e=this.firestore.projectId,t=this._queryOptions.parentPath.toQualifiedResourcePath(e),r=this.toStructuredQuery(),n={parent:t.formattedName,structuredQuery:r};return this._queryOptions.limitType===O.First?n.limitType="FIRST":this._queryOptions.limitType===O.Last&&(n.limitType="LAST"),n}toStructuredQuery(){const e={from:[{}]};if(this._queryOptions.allDescendants&&(e.from[0].allDescendants=!0),this._queryOptions.kindless||(e.from[0].collectionId=this._queryOptions.collectionId),1===this._queryOptions.fieldFilters.length)e.where=this._queryOptions.fieldFilters[0].toProto();else if(this._queryOptions.fieldFilters.length>1){const t=[];for(const e of this._queryOptions.fieldFilters)t.push(e.toProto());e.where={compositeFilter:{op:"AND",filters:t}}}return this._queryOptions.hasFieldOrders()&&(e.orderBy=this._queryOptions.fieldOrders.map((e=>e.toProto()))),e.startAt=this.toCursor(this._queryOptions.startAt),e.endAt=this.toCursor(this._queryOptions.endAt),this._queryOptions.limit&&(e.limit={value:this._queryOptions.limit}),e.offset=this._queryOptions.offset,e.select=this._queryOptions.projection,e}_stream(e){const t=f.requestTag();let r=null;const o=new n.Transform({objectMode:!0,transform:(e,t,n)=>{const o=p.Timestamp.fromProto(e.readTime);if(e.document){const t=this.firestore.snapshot_(e.document,e.readTime),s=new i.DocumentSnapshotBuilder(t.ref.withConverter(this._queryOptions.converter));s.fieldsProto=t._fieldsProto,s.readTime=t.readTime,s.createTime=t.createTime,s.updateTime=t.updateTime,r=s.build(),n(void 0,{document:r,readTime:o})}else n(void 0,{readTime:o})}});return this.firestore.initializeIfNeeded(t).then((async()=>{let n,i=this.toProto(e);do{n=new f.Deferred;const s=await this._firestore.requestStream("runQuery",i,t);s.on("error",(c=>{s.unpipe(o),e||f.isPermanentRpcError(c,"runQuery")?(a.logger("Query._stream",t,"Query failed with stream error:",c),o.destroy(c),n.resolve(!1)):(a.logger("Query._stream",t,"Query failed with retryable stream error:",c),r&&(i=this._queryOptions.requireConsistency?this.startAfter(r).toProto(r.readTime):this.startAfter(r).toProto()),n.resolve(!0))})),s.on("end",(()=>{n.resolve(!1)})),s.resume(),s.pipe(o)}while(await n.promise)})).catch((e=>o.destroy(e))),o}onSnapshot(e,t){return h.validateFunction("onNext",e),h.validateFunction("onError",t,{optional:!0}),new g.QueryWatch(this.firestore,this,this._queryOptions.converter).onSnapshot(((t,r,n,o)=>{e(new _(this,t,r,n,o))}),t||console.error)}comparator(){return(e,t)=>{const r=this._queryOptions.hasFieldOrders()?this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction:"ASCENDING",n=this._queryOptions.fieldOrders.concat(new w(l.FieldPath.documentId(),r));for(const r of n){let n;if(l.FieldPath.documentId().isEqual(r.field))n=e.ref._path.compareTo(t.ref._path);else{const o=e.protoField(r.field),i=t.protoField(r.field);if(void 0===o||void 0===i)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");n=c.compare(o,i)}if(0!==n)return("ASCENDING"===r.direction?1:-1)*n}return 0}}withConverter(e){return new T(this.firestore,this._queryOptions.withConverter(null!=e?e:d.defaultConverter()))}}t.Query=T;class C extends T{constructor(e,t,r){super(e,S.forCollectionQuery(t,r))}get _resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return this._queryOptions.parentPath.isDocument?new b(this.firestore,this._queryOptions.parentPath):null}get path(){return this._resourcePath.relativeName}listDocuments(){const e=f.requestTag();return this.firestore.initializeIfNeeded(e).then((()=>{const t={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId).formattedName,collectionId:this.id,showMissing:!0,pageSize:Math.pow(2,16)-1,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",t,e).then((e=>e.map((e=>{const t=l.QualifiedResourcePath.fromSlashSeparatedString(e.name);return this.doc(t.id)}))))}))}doc(e){0===arguments.length?e=f.autoId():l.validateResourcePath("documentPath",e);const t=this._resourcePath.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new b(this.firestore,t,this._queryOptions.converter)}add(e){const t=this._queryOptions.converter.toFirestore(e);m.validateDocumentData("data",t,!1,this._allowUndefined);const r=this.doc();return r.create(e).then((()=>r))}isEqual(e){return this===e||e instanceof C&&super.isEqual(e)}withConverter(e){return new C(this.firestore,this._resourcePath,null!=e?e:d.defaultConverter())}}function A(e,t){return t="string"==typeof t?t.toLowerCase():t,h.validateEnumValue(e,t,Object.keys(y),{optional:!0}),t}function x(e,t,r){if("="===t&&(t="=="),h.validateEnumValue(e,t,Object.keys(v)),"number"==typeof r&&isNaN(r)&&"=="!==t&&"!="!==t)throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on NaN.");if(null===r&&"=="!==t&&"!="!==t)throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on Null.");return t}function I(e,t,r){u.validateUserInput(e,t,"query constraint",{allowDeletes:"none",allowTransforms:!1,allowUndefined:r})}function k(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!e[r].isEqual(t[r]))return!1;return!0}function N(...e){return e.find((e=>void 0!==e))}t.CollectionReference=C,t.validateQueryOrder=A,t.validateQueryOperator=x,t.validateDocumentReference=function(e,t){if(!(t instanceof b))throw new Error(h.invalidArgumentMessage(e,"DocumentReference"));return t}},93005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(78719),o=r(55199),i=r(7998),s=r(18528),a=r(74201),c=r(41922),l=r(48234),u=r(54048);function p(e){return"object"==typeof e&&null!==e&&e.constructor&&"Moment"===e.constructor.name&&"function"==typeof e.toDate}t.Serializer=class{constructor(e){this.createReference=t=>e.doc(t),this.createInteger=t=>e._settings.useBigInt?BigInt(t):Number(t),this.allowUndefined=!!e._settings.ignoreUndefinedProperties}encodeFields(e){const t={};for(const r of Object.keys(e)){const n=this.encodeValue(e[r]);n&&(t[r]=n)}return t}encodeValue(e){if(e instanceof o.FieldTransform)return null;if("string"==typeof e)return{stringValue:e};if("boolean"==typeof e)return{booleanValue:e};if("number"==typeof e)return Number.isSafeInteger(e)?{integerValue:e}:{doubleValue:e};if("bigint"==typeof e)return{integerValue:e.toString()};if(e instanceof Date){const t=c.Timestamp.fromDate(e);return{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}if(p(e)){const t=c.Timestamp.fromDate(e.toDate());return{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}if(null===e)return{nullValue:"NULL_VALUE"};if(e instanceof Buffer||e instanceof Uint8Array)return{bytesValue:e};if(l.isObject(e)){const t=e.toProto;if("function"==typeof t)return t.bind(e)()}if(Array.isArray(e)){const t={arrayValue:{}};if(e.length>0){t.arrayValue.values=[];for(let r=0;r<e.length;++r){const n=this.encodeValue(e[r]);n&&t.arrayValue.values.push(n)}}return t}if("object"==typeof e&&l.isPlainObject(e)){const t={mapValue:{}};return!l.isEmpty(e)&&(t.mapValue.fields=this.encodeFields(e),l.isEmpty(t.mapValue.fields))?null:t}if(void 0===e&&this.allowUndefined)return null;throw new Error(`Cannot encode value: ${e}`)}decodeValue(e){switch(n.detectValueType(e)){case"stringValue":return e.stringValue;case"booleanValue":return e.booleanValue;case"integerValue":return this.createInteger(e.integerValue);case"doubleValue":return e.doubleValue;case"timestampValue":return c.Timestamp.fromProto(e.timestampValue);case"referenceValue":{const t=a.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue);return this.createReference(t.relativeName)}case"arrayValue":{const t=[];if(Array.isArray(e.arrayValue.values))for(const r of e.arrayValue.values)t.push(this.decodeValue(r));return t}case"nullValue":return null;case"mapValue":{const t={},r=e.mapValue.fields;if(r)for(const e of Object.keys(r))t[e]=this.decodeValue(r[e]);return t}case"geoPointValue":return i.GeoPoint.fromProto(e.geoPointValue);case"bytesValue":return e.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(e))}}},t.validateUserInput=function e(t,r,n,d,f,h,g){if(f&&f.size>20)throw new Error(`${u.invalidArgumentMessage(t,n)} Input object is deeper than 20 levels or contains a cycle.`);h=h||0,g=g||!1;const m=f?` (found in field "${f}")`:"";if(Array.isArray(r))for(let o=0;o<r.length;++o)e(t,r[o],n,d,f?f.append(String(o)):new a.FieldPath(String(o)),h+1,!0);else if(l.isPlainObject(r))for(const o of Object.keys(r))e(t,r[o],n,d,f?f.append(new a.FieldPath(o)):new a.FieldPath(o),h+1,g);else if(void 0===r){if(d.allowUndefined&&0===h)throw new Error(`${u.invalidArgumentMessage(t,n)} "undefined" values are only ignored inside of objects.`);if(!d.allowUndefined)throw new Error(`${u.invalidArgumentMessage(t,n)} Cannot use "undefined" as a Firestore value${m}. If you want to ignore undefined values, enable \`ignoreUndefinedProperties\`.`)}else if(r instanceof o.DeleteTransform){if(g)throw new Error(`${u.invalidArgumentMessage(t,n)} ${r.methodName}() cannot be used inside of an array${m}.`);if("none"===d.allowDeletes)throw new Error(`${u.invalidArgumentMessage(t,n)} ${r.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${m}.`);if("root"===d.allowDeletes)if(0===h);else if(1!==h||1!==(null==f?void 0:f.size))throw new Error(`${u.invalidArgumentMessage(t,n)} ${r.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${m}.`)}else if(r instanceof o.FieldTransform){if(g)throw new Error(`${u.invalidArgumentMessage(t,n)} ${r.methodName}() cannot be used inside of an array${m}.`);if(!d.allowTransforms)throw new Error(`${u.invalidArgumentMessage(t,n)} ${r.methodName}() can only be used in set(), create() or update()${m}.`)}else{if(r instanceof a.FieldPath)throw new Error(`${u.invalidArgumentMessage(t,n)} Cannot use object of type "FieldPath" as a Firestore value${m}.`);if(r instanceof s.DocumentReference);else if(r instanceof i.GeoPoint);else if(r instanceof c.Timestamp||r instanceof Date);else if(p(r));else if(r instanceof Buffer||r instanceof Uint8Array);else if(null===r);else if("object"==typeof r)throw new Error(u.customObjectMessage(t,r,f))}}},41922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(54048),o=1e6,i=-62135596800;class s{constructor(e,t){n.validateInteger("seconds",e,{minValue:i,maxValue:253402300799}),n.validateInteger("nanoseconds",t,{minValue:0,maxValue:999999999}),this._seconds=e,this._nanoseconds=t}static now(){return s.fromMillis(Date.now())}static fromDate(e){return s.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*o);return new s(t,r)}static fromProto(e){return new s(Number(e.seconds||0),e.nanos||0)}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(1e3*this._seconds+Math.round(this._nanoseconds/o))}toMillis(){return 1e3*this._seconds+Math.floor(this._nanoseconds/o)}isEqual(e){return this===e||e instanceof s&&this._seconds===e.seconds&&this._nanoseconds===e.nanoseconds}toProto(){const e={};return this.seconds&&(e.seconds=this.seconds.toString()),this.nanoseconds&&(e.nanos=this.nanoseconds),{timestampValue:e}}valueOf(){const e=this.seconds-i;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}t.Timestamp=s},64695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15168),o=r(38108),i=r(71700),s=r(74201),a=r(94190),c=r(48234),l=r(54048),u="Firestore transactions require all reads to be executed before all writes.";function p(e){let t,r;if(Array.isArray(e[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");e.length>0&&c.isPlainObject(e[e.length-1])?(r=e.pop(),t=e):t=e;for(let e=0;e<t.length;++e)a.validateDocumentReference(e,t[e]);return function(e,t,r){if(!l.validateOptional(t,{optional:!0})){if(!c.isObject(t))throw new Error(`${l.invalidArgumentMessage(e,"read option")} Input is not an object.'`);const r=t;if(void 0!==r.fieldMask){if(!Array.isArray(r.fieldMask))throw new Error(`${l.invalidArgumentMessage(e,"read option")} "fieldMask" is not an array.`);for(let t=0;t<r.fieldMask.length;++t)try{s.validateFieldPath(t,r.fieldMask[t])}catch(t){throw new Error(`${l.invalidArgumentMessage(e,"read option")} "fieldMask" is not valid: ${t.message}`)}}}}("options",r),{fieldMask:r&&r.fieldMask?r.fieldMask.map((e=>s.FieldPath.fromArgument(e))):null,documents:t}}function d(e){if(void 0!==e.code)switch(e.code){case n.Status.ABORTED:case n.Status.CANCELLED:case n.Status.UNKNOWN:case n.Status.DEADLINE_EXCEEDED:case n.Status.INTERNAL:case n.Status.UNAVAILABLE:case n.Status.UNAUTHENTICATED:case n.Status.RESOURCE_EXHAUSTED:return!0;case n.Status.INVALID_ARGUMENT:return!!e.message.match(/transaction has expired/);default:return!1}return!1}t.Transaction=class{constructor(e,t){this._firestore=e,this._writeBatch=e.batch(),this._requestTag=t,this._backoff=new o.ExponentialBackoff}get(e){if(!this._writeBatch.isEmpty)throw new Error(u);if(e instanceof a.DocumentReference)return this._firestore.getAll_([e],null,this._requestTag,this._transactionId).then((e=>Promise.resolve(e[0])));if(e instanceof a.Query)return e._get(this._transactionId);throw new Error('Value for argument "refOrQuery" must be a DocumentReference or a Query.')}getAll(...e){if(!this._writeBatch.isEmpty)throw new Error(u);l.validateMinNumberOfArguments("Transaction.getAll",e,1);const{documents:t,fieldMask:r}=p(e);return this._firestore.getAll_(t,r,this._requestTag,this._transactionId)}create(e,t){return this._writeBatch.create(e,t),this}set(e,t,r){return this._writeBatch.set(e,t,r),this}update(e,t,...r){return l.validateMinNumberOfArguments("Transaction.update",arguments,2),this._writeBatch.update(e,t,...r),this}delete(e,t){return this._writeBatch.delete(e,t),this}begin(){const e={database:this._firestore.formattedName};return this._transactionId&&(e.options={readWrite:{retryTransaction:this._transactionId}}),this._firestore.request("beginTransaction",e,this._requestTag).then((e=>{this._transactionId=e.transaction}))}commit(){return this._writeBatch._commit({transactionId:this._transactionId,requestTag:this._requestTag}).then((()=>{}))}rollback(){const e={database:this._firestore.formattedName,transaction:this._transactionId};return this._firestore.request("rollback",e,this._requestTag)}async runTransaction(e,t){let r,n;for(let o=0;o<t;++o)try{n&&(i.logger("Firestore.runTransaction",this._requestTag,"Retrying transaction after error:",n),await this.rollback()),this._writeBatch._reset(),await this.maybeBackoff(n),await this.begin();const t=e(this);if(!(t instanceof Promise))throw new Error("You must return a Promise in your transaction()-callback.");return r=await t,await this.commit(),r}catch(e){if(i.logger("Firestore.runTransaction",this._requestTag,"Rolling back transaction after callback error:",e),n=e,!this._transactionId||!d(e))break}return i.logger("Firestore.runTransaction",this._requestTag,"Transaction not eligible for retry, returning error: %s",n),await this.rollback(),Promise.reject(n)}async maybeBackoff(e){e&&e.code===n.Status.RESOURCE_EXHAUSTED&&this._backoff.resetToMax(),await this._backoff.backoffAndWait()}},t.parseGetAllArguments=p},37858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={toFirestore:e=>e,fromFirestore:e=>e.data()};t.defaultConverter=function(){return r}},48234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(76417),o=r(15168),i=r(12818),s=o.constructSettings("google.firestore.v1.Firestore",i,{},o.Status);function a(){let e="";for(;e.length<20;)n.randomBytes(40).forEach((t=>{e.length<20&&t<=247&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(t%62))}));return e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){var t,r,n;return null!==(n=null===(r=null===(t=s[e])||void 0===t?void 0:t.retry)||void 0===r?void 0:r.retryCodes)&&void 0!==n?n:[]}t.Deferred=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},t.autoId=a,t.requestTag=function(){return a().substr(0,5)},t.isObject=c,t.isPlainObject=function(e){return c(e)&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e)||"Object"===e.constructor.name)},t.isEmpty=function(e){return 0===Object.keys(e).length},t.isFunction=function(e){return"function"==typeof e},t.isPermanentRpcError=function(e,t){return void 0!==e.code&&-1===l(t).indexOf(e.code)},t.getRetryCodes=l,t.getRetryParams=function(e){var t,r,n;return null!==(n=null===(r=null===(t=s[e])||void 0===t?void 0:t.retry)||void 0===r?void 0:r.backoffSettings)&&void 0!==n?n:o.createDefaultBackoffSettings()},t.silencePromise=function(e){return e.then((()=>{}),(()=>{}))},t.wrapError=function(e,t){return e.stack+="\nCaused by: "+t,e}},95101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15168),o=r(92014),i=r(38773),s=r(15168),a=r(88225).i8;t.FirestoreAdminClient=class{constructor(e){var t,r;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const s=this.constructor,c=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||s.servicePath,l=(null==e?void 0:e.port)||s.port,u=null!==(t=null==e?void 0:e.clientConfig)&&void 0!==t?t:{},p=null!==(r=null==e?void 0:e.fallback)&&void 0!==r?r:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);e=Object.assign({servicePath:c,port:l,clientConfig:u,fallback:p},e),c===s.servicePath||"scopes"in e||(e.scopes=s.scopes),this._gaxModule=e.fallback?n.fallback:n,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,c===s.servicePath&&(this.auth.defaultScopes=s.scopes);const d=[`gax/${this._gaxModule.version}`,`gapic/${a}`];"undefined"!=typeof process&&"versions"in process?d.push(`gl-node/${process.versions.node}`):d.push(`gl-web/${this._gaxModule.version}`),e.fallback||d.push(`grpc/${this._gaxGrpc.grpcVersion}`),e.libName&&e.libVersion&&d.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(o),this.pathTemplates={collectionGroupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}"),databasePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"),indexPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}")},this.descriptors.page={listIndexes:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","fields")};const f=this._gaxModule.protobuf.Root.fromJSON(o);this.operationsClient=this._gaxModule.lro({auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0}).operationsClient(e);const h=f.lookup(".google.firestore.admin.v1.Index"),g=f.lookup(".google.firestore.admin.v1.IndexOperationMetadata"),m=f.lookup(".google.firestore.admin.v1.Field"),y=f.lookup(".google.firestore.admin.v1.FieldOperationMetadata"),v=f.lookup(".google.firestore.admin.v1.ExportDocumentsResponse"),b=f.lookup(".google.firestore.admin.v1.ExportDocumentsMetadata"),w=f.lookup(".google.protobuf.Empty"),E=f.lookup(".google.firestore.admin.v1.ImportDocumentsMetadata");this.descriptors.longrunning={createIndex:new this._gaxModule.LongrunningDescriptor(this.operationsClient,h.decode.bind(h),g.decode.bind(g)),updateField:new this._gaxModule.LongrunningDescriptor(this.operationsClient,m.decode.bind(m),y.decode.bind(y)),exportDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,v.decode.bind(v),b.decode.bind(b)),importDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,w.decode.bind(w),E.decode.bind(E))},this._defaults=this._gaxGrpc.constructSettings("google.firestore.admin.v1.FirestoreAdmin",i,e.clientConfig||{},{"x-goog-api-client":d.join(" ")}),this.innerApiCalls={}}initialize(){if(this.firestoreAdminStub)return this.firestoreAdminStub;this.firestoreAdminStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.admin.v1.FirestoreAdmin"):this._protos.google.firestore.admin.v1.FirestoreAdmin,this._opts);const e=["createIndex","listIndexes","getIndex","deleteIndex","getField","updateField","listFields","exportDocuments","importDocuments"];for(const t of e){const e=this.firestoreAdminStub.then((e=>(...r)=>this._terminated?Promise.reject("The client has already been closed."):e[t].apply(e,r)),(e=>()=>{throw e})),r=this.descriptors.page[t]||this.descriptors.longrunning[t]||void 0,n=this._gaxModule.createApiCall(e,this._defaults[t],r);this.innerApiCalls[t]=n}return this.firestoreAdminStub}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getIndex(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.getIndex(e,o,r)}deleteIndex(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.deleteIndex(e,o,r)}getField(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.getField(e,o,r)}createIndex(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.createIndex(e,o,r)}async checkCreateIndexProgress(e){const t=new s.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new n.Operation(r,this.descriptors.longrunning.createIndex,n.createDefaultBackoffSettings())}updateField(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({"field.name":e.field.name||""}),this.initialize(),this.innerApiCalls.updateField(e,o,r)}async checkUpdateFieldProgress(e){const t=new s.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new n.Operation(r,this.descriptors.longrunning.updateField,n.createDefaultBackoffSettings())}exportDocuments(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.exportDocuments(e,o,r)}async checkExportDocumentsProgress(e){const t=new s.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new n.Operation(r,this.descriptors.longrunning.exportDocuments,n.createDefaultBackoffSettings())}importDocuments(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.importDocuments(e,o,r)}async checkImportDocumentsProgress(e){const t=new s.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new n.Operation(r,this.descriptors.longrunning.importDocuments,n.createDefaultBackoffSettings())}listIndexes(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listIndexes(e,o,r)}listIndexesStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listIndexes.createStream(this.innerApiCalls.listIndexes,e,r)}listIndexesAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listIndexes.asyncIterate(this.innerApiCalls.listIndexes,e,r)}listFields(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listFields(e,o,r)}listFieldsStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listFields.createStream(this.innerApiCalls.listFields,e,r)}listFieldsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listFields.asyncIterate(this.innerApiCalls.listFields,e,r)}collectionGroupPath(e,t,r){return this.pathTemplates.collectionGroupPathTemplate.render({project:e,database:t,collection:r})}matchProjectFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).project}matchDatabaseFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).database}matchCollectionFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).collection}databasePath(e,t){return this.pathTemplates.databasePathTemplate.render({project:e,database:t})}matchProjectFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).project}matchDatabaseFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).database}fieldPath(e,t,r,n){return this.pathTemplates.fieldPathTemplate.render({project:e,database:t,collection:r,field:n})}matchProjectFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).project}matchDatabaseFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).database}matchCollectionFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).collection}matchFieldFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).field}indexPath(e,t,r,n){return this.pathTemplates.indexPathTemplate.render({project:e,database:t,collection:r,index:n})}matchProjectFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).project}matchDatabaseFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).database}matchCollectionFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).collection}matchIndexFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).index}close(){return this.initialize(),this._terminated?Promise.resolve():this.firestoreAdminStub.then((e=>{this._terminated=!0,e.close()}))}}},38773:e=>{"use strict";e.exports=JSON.parse('{"interfaces":{"google.firestore.admin.v1.FirestoreAdmin":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"deadline_exceeded_internal_unavailable":["DEADLINE_EXCEEDED","INTERNAL","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"CreateIndex":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListIndexes":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"GetIndex":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"DeleteIndex":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"GetField":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"UpdateField":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListFields":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"ExportDocuments":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ImportDocuments":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},35034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15168),o=r(92014),i=r(12818),s=r(88225).i8;t.FirestoreClient=class{constructor(e){var t,r;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const a=this.constructor,c=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||a.servicePath,l=(null==e?void 0:e.port)||a.port,u=null!==(t=null==e?void 0:e.clientConfig)&&void 0!==t?t:{},p=null!==(r=null==e?void 0:e.fallback)&&void 0!==r?r:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);e=Object.assign({servicePath:c,port:l,clientConfig:u,fallback:p},e),c===a.servicePath||"scopes"in e||(e.scopes=a.scopes),this._gaxModule=e.fallback?n.fallback:n,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,c===a.servicePath&&(this.auth.defaultScopes=a.scopes);const d=[`gax/${this._gaxModule.version}`,`gapic/${s}`];"undefined"!=typeof process&&"versions"in process?d.push(`gl-node/${process.versions.node}`):d.push(`gl-web/${this._gaxModule.version}`),e.fallback||d.push(`grpc/${this._gaxGrpc.grpcVersion}`),e.libName&&e.libVersion&&d.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(o),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(n.StreamType.SERVER_STREAMING),runQuery:new this._gaxModule.StreamDescriptor(n.StreamType.SERVER_STREAMING),write:new this._gaxModule.StreamDescriptor(n.StreamType.BIDI_STREAMING),listen:new this._gaxModule.StreamDescriptor(n.StreamType.BIDI_STREAMING)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1.Firestore",i,e.clientConfig||{},{"x-goog-api-client":d.join(" ")}),this.innerApiCalls={}}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1.Firestore"):this._protos.google.firestore.v1.Firestore,this._opts);const e=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const t of e){const e=this.firestoreStub.then((e=>(...r)=>this._terminated?Promise.reject("The client has already been closed."):e[t].apply(e,r)),(e=>()=>{throw e})),r=this.descriptors.page[t]||this.descriptors.stream[t]||void 0,n=this._gaxModule.createApiCall(e,this._defaults[t],r);this.innerApiCalls[t]=n}return this.firestoreStub}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.getDocument(e,o,r)}updateDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({"document.name":e.document.name||""}),this.initialize(),this.innerApiCalls.updateDocument(e,o,r)}deleteDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.deleteDocument(e,o,r)}beginTransaction(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.beginTransaction(e,o,r)}commit(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.commit(e,o,r)}rollback(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.rollback(e,o,r)}batchWrite(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.batchWrite(e,o,r)}createDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.createDocument(e,o,r)}batchGetDocuments(e,t){return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.batchGetDocuments(e,t)}runQuery(e,t){return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.runQuery(e,t)}write(e){return this.initialize(),this.innerApiCalls.write({},e)}listen(e){return this.initialize(),this.innerApiCalls.listen({},e)}listDocuments(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listDocuments(e,o,r)}listDocumentsStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,e,r)}listDocumentsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,e,r)}partitionQuery(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.partitionQuery(e,o,r)}partitionQueryStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,e,r)}partitionQueryAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,e,r)}listCollectionIds(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listCollectionIds(e,o,r)}listCollectionIdsStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,e,r)}listCollectionIdsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,e,r)}close(){return this.initialize(),this._terminated?Promise.resolve():this.firestoreStub.then((e=>{this._terminated=!0,e.close()}))}}},12818:e=>{"use strict";e.exports=JSON.parse('{"interfaces":{"google.firestore.v1.Firestore":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"deadline_exceeded_resource_exhausted_internal_unavailable":["DEADLINE_EXCEEDED","RESOURCE_EXHAUSTED","INTERNAL","UNAVAILABLE"],"resource_exhausted_unavailable":["RESOURCE_EXHAUSTED","UNAVAILABLE"],"resource_exhausted_aborted_unavailable":["RESOURCE_EXHAUSTED","ABORTED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"GetDocument":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"ListDocuments":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"UpdateDocument":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"},"DeleteDocument":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BatchGetDocuments":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BeginTransaction":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"Commit":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"},"Rollback":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"RunQuery":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"PartitionQuery":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"Write":{"timeout_millis":86400000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Listen":{"timeout_millis":86400000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"ListCollectionIds":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BatchWrite":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_aborted_unavailable","retry_params_name":"default"},"CreateDocument":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"}}}}}')},91320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(95101);t.FirestoreAdminClient=n.FirestoreAdminClient;const o=r(35034);t.FirestoreClient=o.FirestoreClient;const i=e.exports;e.exports=o.FirestoreClient,e.exports=Object.assign(e.exports,i)},82780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15168),o=r(92014),i=r(46074),s=r(88225).i8;t.FirestoreClient=class{constructor(e){var t,r;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const a=this.constructor,c=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||a.servicePath,l=(null==e?void 0:e.port)||a.port,u=null!==(t=null==e?void 0:e.clientConfig)&&void 0!==t?t:{},p=null!==(r=null==e?void 0:e.fallback)&&void 0!==r?r:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);e=Object.assign({servicePath:c,port:l,clientConfig:u,fallback:p},e),c===a.servicePath||"scopes"in e||(e.scopes=a.scopes),this._gaxModule=e.fallback?n.fallback:n,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,c===a.servicePath&&(this.auth.defaultScopes=a.scopes);const d=[`gax/${this._gaxModule.version}`,`gapic/${s}`];"undefined"!=typeof process&&"versions"in process?d.push(`gl-node/${process.versions.node}`):d.push(`gl-web/${this._gaxModule.version}`),e.fallback||d.push(`grpc/${this._gaxGrpc.grpcVersion}`),e.libName&&e.libVersion&&d.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(o),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(n.StreamType.SERVER_STREAMING),runQuery:new this._gaxModule.StreamDescriptor(n.StreamType.SERVER_STREAMING),write:new this._gaxModule.StreamDescriptor(n.StreamType.BIDI_STREAMING),listen:new this._gaxModule.StreamDescriptor(n.StreamType.BIDI_STREAMING)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1beta1.Firestore",i,e.clientConfig||{},{"x-goog-api-client":d.join(" ")}),this.innerApiCalls={}}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1beta1.Firestore"):this._protos.google.firestore.v1beta1.Firestore,this._opts);const e=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const t of e){const e=this.firestoreStub.then((e=>(...r)=>this._terminated?Promise.reject("The client has already been closed."):e[t].apply(e,r)),(e=>()=>{throw e})),r=this.descriptors.page[t]||this.descriptors.stream[t]||void 0,n=this._gaxModule.createApiCall(e,this._defaults[t],r);this.innerApiCalls[t]=n}return this.firestoreStub}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.getDocument(e,o,r)}updateDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({"document.name":e.document.name||""}),this.initialize(),this.innerApiCalls.updateDocument(e,o,r)}deleteDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.deleteDocument(e,o,r)}beginTransaction(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.beginTransaction(e,o,r)}commit(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.commit(e,o,r)}rollback(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.rollback(e,o,r)}batchWrite(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.batchWrite(e,o,r)}createDocument(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.createDocument(e,o,r)}batchGetDocuments(e,t){return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({database:e.database||""}),this.initialize(),this.innerApiCalls.batchGetDocuments(e,t)}runQuery(e,t){return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.runQuery(e,t)}write(e){return this.initialize(),this.innerApiCalls.write({},e)}listen(e){return this.initialize(),this.innerApiCalls.listen({},e)}listDocuments(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listDocuments(e,o,r)}listDocumentsStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,e,r)}listDocumentsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,e,r)}partitionQuery(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.partitionQuery(e,o,r)}partitionQueryStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,e,r)}partitionQueryAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,e,r)}listCollectionIds(e,t,r){let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),this.initialize(),this.innerApiCalls.listCollectionIds(e,o,r)}listCollectionIdsStream(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""});const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,e,r)}listCollectionIdsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=n.routingHeader.fromParams({parent:e.parent||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,e,r)}close(){return this.initialize(),this._terminated?Promise.resolve():this.firestoreStub.then((e=>{this._terminated=!0,e.close()}))}}},46074:e=>{"use strict";e.exports=JSON.parse('{"interfaces":{"google.firestore.v1beta1.Firestore":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"GetDocument":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListDocuments":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"UpdateDocument":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"DeleteDocument":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BatchGetDocuments":{"timeout_millis":300000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BeginTransaction":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"Commit":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Rollback":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"RunQuery":{"timeout_millis":300000,"retry_codes_name":"idempotent","retry_params_name":"default"},"PartitionQuery":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Write":{"timeout_millis":86400000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Listen":{"timeout_millis":86400000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListCollectionIds":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BatchWrite":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"CreateDocument":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},76427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(82780);t.FirestoreClient=n.FirestoreClient;const o=e.exports;e.exports=n.FirestoreClient,e.exports=Object.assign(e.exports,o)},54048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(78835),o=r(48234);function i(e,t,r){if(!a(t,r)&&"string"!=typeof t)throw new Error(s(e,"string"))}function s(e,t){return`${l(e)} is not a valid ${t}.`}function a(e,t){return void 0===e&&void 0!==t&&!0===t.optional}function c(e,t){return`${e} ${t}`+(1===e?"":"s")}function l(e){return"string"==typeof e?`Value for argument "${e}"`:`Element at index ${e}`}t.customObjectMessage=function(e,t,r){const n=r?` (found in field "${r}")`:"";if(!o.isObject(t))return`${s(e,"Firestore document")} Input is not a plain JavaScript object${n}.`;{const r=t.constructor.name;switch(r){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${s(e,"Firestore document")} Detected an object of type "${r}" that doesn't match the expected instance${n}. Please ensure that the Firestore types you are using are from the same NPM package.)`;case"Object":return`${s(e,"Firestore document")} Invalid use of type "${typeof t}" as a Firestore argument${n}.`;default:return`${s(e,"Firestore document")} Couldn't serialize object of type "${r}"${n}. Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).`}}},t.validateFunction=function(e,t,r){if(!a(t,r)&&!o.isFunction(t))throw new Error(s(e,"function"))},t.validateObject=function(e,t,r){if(!a(t,r)&&!o.isObject(t))throw new Error(s(e,"object"))},t.validateString=i,t.validateHost=function(e,t,r){if(!a(t,r)){i(e,t);const r=`http://${t}/`;let o;try{o=new n.URL(r)}catch(t){throw new Error(s(e,"host"))}if(""!==o.search||"/"!==o.pathname||""!==o.username)throw new Error(s(e,"host"))}},t.validateBoolean=function(e,t,r){if(!a(t,r)&&"boolean"!=typeof t)throw new Error(s(e,"boolean"))},t.validateNumber=function(e,t,r){const n=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,o=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!a(t,r)){if("number"!=typeof t||isNaN(t))throw new Error(s(e,"number"));if(t<n||t>o)throw new Error(`${l(e)} must be within [${n}, ${o}] inclusive, but was: ${t}`)}},t.validateInteger=function(e,t,r){const n=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,o=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!a(t,r)){if("number"!=typeof t||isNaN(t)||t%1!=0)throw new Error(s(e,"integer"));if(t<n||t>o)throw new Error(`${l(e)} must be within [${n}, ${o}] inclusive, but was: ${t}`)}},t.invalidArgumentMessage=s,t.validateOptional=a,t.validateMinNumberOfArguments=function(e,t,r){if(t.length<r)throw new Error(`Function "${e}()" requires at least ${c(r,"argument")}.`)},t.validateMaxNumberOfArguments=function(e,t,r){if(t.length>r)throw new Error(`Function "${e}()" accepts at most ${c(r,"argument")}.`)},t.validateEnumValue=function(e,t,r,n){if(!a(t,n)){const n=[];for(const e of r){if(e===t)return;n.push(e)}throw new Error(`${l(e)} is invalid. Acceptable values are: ${n.join(", ")}`)}}},7757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42357),o=r(44977),i=r(15168),s=r(38108),a=r(751),c=r(70121),l=r(71700),u=r(74201),p=r(41922),d=r(37858),f=r(48234);t.WATCH_IDLE_TIMEOUT_MS=12e4;const h={},g=(e,t)=>(n(e===t,"Document watches only support one document."),0),m=()=>{};class y{constructor(e,t=d.defaultConverter()){this._converter=t,this.isActive=!0,this.currentStream=null,this.resumeToken=void 0,this.docMap=new Map,this.changeMap=new Map,this.current=!1,this.hasPushed=!1,this.firestore=e,this.backoff=new s.ExponentialBackoff,this.requestTag=f.requestTag(),this.onNext=m,this.onError=m}onSnapshot(e,t){return n(this.onNext===m,"onNext should not already be defined."),n(this.onError===m,"onError should not already be defined."),n(void 0===this.docTree,"docTree should not already be defined."),this.onNext=e,this.onError=t,this.docTree=o(this.getComparator()),this.initStream(),this.firestore.registerListener(),()=>{l.logger("Watch.onSnapshot",this.requestTag,"Unsubscribe called"),this.onNext=()=>{},this.onError=()=>{},this.shutdown()}}currentSize(){const e=this.extractCurrentChanges(p.Timestamp.now());return this.docMap.size+e.adds.length-e.deletes.length}extractCurrentChanges(e){const t=[],r=[],n=[];return this.changeMap.forEach(((o,i)=>{o===h?this.docMap.has(i)&&t.push(i):this.docMap.has(i)?(o.readTime=e,n.push(o.build())):(o.readTime=e,r.push(o.build()))})),{deletes:t,adds:r,updates:n}}resetDocs(){l.logger("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach((e=>{this.changeMap.set(e.ref.path,h)})),this.current=!1}closeStream(e){this.isActive&&(l.logger("Watch.closeStream",this.requestTag,"Invoking onError: ",e),this.onError(e)),this.shutdown()}maybeReopenStream(e){this.isActive&&!this.isPermanentWatchError(e)?(l.logger("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error:",e),this.changeMap.clear(),this.isResourceExhaustedError(e)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(e)}resetIdleTimeout(){this.idleTimeoutHandle&&clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=s.delayExecution((()=>{var e;l.logger("Watch.resetIdleTimeout",this.requestTag,"Resetting stream after idle timeout"),null===(e=this.currentStream)||void 0===e||e.end(),this.currentStream=null;const t=new i.GoogleError("Watch stream idle timeout");t.code=i.Status.UNKNOWN,this.maybeReopenStream(t)}),t.WATCH_IDLE_TIMEOUT_MS)}resetStream(){l.logger("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then((async()=>{if(!this.isActive)return void l.logger("Watch.initStream",this.requestTag,"Not initializing inactive stream");await this.firestore.initializeIfNeeded(this.requestTag);const e={};return e.database=this.firestore.formattedName,e.addTarget=this.getTarget(this.resumeToken),this.firestore.requestStream("listen",e,this.requestTag).then((e=>{if(!this.isActive)return l.logger("Watch.initStream",this.requestTag,"Closing inactive stream"),void e.emit("end");l.logger("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=e,this.resetIdleTimeout(),this.currentStream.on("data",(e=>{this.resetIdleTimeout(),this.onData(e)})).on("error",(t=>{this.currentStream===e&&(this.currentStream=null,this.maybeReopenStream(t))})).on("end",(()=>{if(this.currentStream===e){this.currentStream=null;const e=new i.GoogleError("Stream ended unexpectedly");e.code=i.Status.UNKNOWN,this.maybeReopenStream(e)}})),this.currentStream.resume()}))})).catch((e=>{this.closeStream(e)}))}onData(e){if(e.targetChange){l.logger("Watch.onData",this.requestTag,"Processing target change");const t=e.targetChange,r=!t.targetIds||0===t.targetIds.length;if("NO_CHANGE"===t.targetChangeType)r&&t.readTime&&this.current&&this.pushSnapshot(p.Timestamp.fromProto(t.readTime),t.resumeToken);else if("ADD"===t.targetChangeType)1!==t.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if("REMOVE"===t.targetChangeType){let e=i.Status.INTERNAL,r="internal error";t.cause&&(e=t.cause.code,r=t.cause.message),this.closeStream(new Error("Error "+e+": "+r))}else"RESET"===t.targetChangeType?this.resetDocs():"CURRENT"===t.targetChangeType?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(t)));t.resumeToken&&this.affectsTarget(t.targetIds,1)&&this.backoff.reset()}else if(e.documentChange){l.logger("Watch.onData",this.requestTag,"Processing change event");const t=e.documentChange.targetIds||[],r=e.documentChange.removedTargetIds||[];let n=!1,o=!1;for(let e=0;e<t.length;e++)1===t[e]&&(n=!0);for(let e=0;e<r.length;e++)1===r[e]&&(o=!0);const i=e.documentChange.document,s=i.name,c=u.QualifiedResourcePath.fromSlashSeparatedString(s).relativeName;if(n){l.logger("Watch.onData",this.requestTag,"Received document change");const e=this.firestore.doc(c),t=new a.DocumentSnapshotBuilder(e.withConverter(this._converter));t.fieldsProto=i.fields||{},t.createTime=p.Timestamp.fromProto(i.createTime),t.updateTime=p.Timestamp.fromProto(i.updateTime),this.changeMap.set(c,t)}else o&&(l.logger("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(c,h))}else if(e.documentDelete||e.documentRemove){l.logger("Watch.onData",this.requestTag,"Processing remove event");const t=(e.documentDelete||e.documentRemove).document,r=u.QualifiedResourcePath.fromSlashSeparatedString(t).relativeName;this.changeMap.set(r,h)}else e.filter?(l.logger("Watch.onData",this.requestTag,"Processing filter update"),e.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(e)))}affectsTarget(e,t){if(void 0===e||0===e.length)return!0;for(const r of e)if(r===t)return!0;return!1}pushSnapshot(e,t){const r=this.computeSnapshot(e);if(!this.hasPushed||r.length>0){l.logger("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(r.length),this.docTree.length);const t=this.docTree;this.onNext(e,t.length,(()=>t.keys),(()=>r)),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=t}deleteDoc(e){n(this.docMap.has(e),"Document to delete does not exist");const t=this.docMap.get(e),r=this.docTree.find(t),o=r.index;return this.docTree=r.remove(),this.docMap.delete(e),new c.DocumentChange("removed",t,o,-1)}addDoc(e){const t=e.ref.path;n(!this.docMap.has(t),"Document to add already exists"),this.docTree=this.docTree.insert(e,null);const r=this.docTree.find(e).index;return this.docMap.set(t,e),new c.DocumentChange("added",e,-1,r)}modifyDoc(e){const t=e.ref.path;if(n(this.docMap.has(t),"Document to modify does not exist"),!this.docMap.get(t).updateTime.isEqual(e.updateTime)){const r=this.deleteDoc(t),n=this.addDoc(e);return new c.DocumentChange("modified",e,r.oldIndex,n.newIndex)}return null}computeSnapshot(e){const t=this.extractCurrentChanges(e),r=[];return t.deletes.sort(((e,t)=>this.getComparator()(this.docMap.get(e),this.docMap.get(t)))),t.deletes.forEach((e=>{const t=this.deleteDoc(e);r.push(t)})),t.adds.sort(this.getComparator()),t.adds.forEach((e=>{const t=this.addDoc(e);r.push(t)})),t.updates.sort(this.getComparator()),t.updates.forEach((e=>{const t=this.modifyDoc(e);t&&r.push(t)})),n(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),r}isPermanentWatchError(e){if(void 0===e.code)return l.logger("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",e),!1;switch(e.code){case i.Status.ABORTED:case i.Status.CANCELLED:case i.Status.UNKNOWN:case i.Status.DEADLINE_EXCEEDED:case i.Status.RESOURCE_EXHAUSTED:case i.Status.INTERNAL:case i.Status.UNAVAILABLE:case i.Status.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(e){return e.code===i.Status.RESOURCE_EXHAUSTED}shutdown(){var e;this.isActive&&(this.isActive=!1,this.idleTimeoutHandle&&(clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=void 0),this.firestore.unregisterListener()),null===(e=this.currentStream)||void 0===e||e.end(),this.currentStream=null}}t.DocumentWatch=class extends y{constructor(e,t){super(e,t._converter),this.ref=t}getComparator(){return g}getTarget(e){return{documents:{documents:[this.ref.formattedName]},targetId:1,resumeToken:e}}},t.QueryWatch=class extends y{constructor(e,t,r){super(e,r),this.query=t,this.comparator=t.comparator()}getComparator(){return this.query.comparator()}getTarget(e){return{query:this.query.toProto(),targetId:1,resumeToken:e}}}},239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(751),o=r(71700),i=r(74201),s=r(94190),a=r(93005),c=r(41922),l=r(48234),u=r(54048),p=r(15168);class d{constructor(e){this._writeTime=e}get writeTime(){return this._writeTime}isEqual(e){return this===e||e instanceof d&&this._writeTime.isEqual(e._writeTime)}}function f(e,t,r){if("object"!=typeof t||null===t)throw new Error("Input is not an object.");const n=t;let o=0;if(void 0!==n.exists){if(++o,!r)throw new Error(`${u.invalidArgumentMessage(e,"precondition")} "exists" is not an allowed precondition.`);if("boolean"!=typeof n.exists)throw new Error(`${u.invalidArgumentMessage(e,"precondition")} "exists" is not a boolean.'`)}if(void 0!==n.lastUpdateTime&&(++o,!(n.lastUpdateTime instanceof c.Timestamp)))throw new Error(`${u.invalidArgumentMessage(e,"precondition")} "lastUpdateTime" is not a Firestore Timestamp.`);if(o>1)throw new Error(`${u.invalidArgumentMessage(e,"precondition")} Input specifies more than one precondition.`)}function h(e,t,r){u.validateOptional(t,r)||f(e,t,!1)}function g(e,t,r){if(!u.validateOptional(t,r)){if(!l.isObject(t))throw new Error(`${u.invalidArgumentMessage(e,"set() options argument")} Input is not an object.`);const r=t;if("merge"in r&&"boolean"!=typeof r.merge)throw new Error(`${u.invalidArgumentMessage(e,"set() options argument")} "merge" is not a boolean.`);if("mergeFields"in r){if(!Array.isArray(r.mergeFields))throw new Error(`${u.invalidArgumentMessage(e,"set() options argument")} "mergeFields" is not an array.`);for(let t=0;t<r.mergeFields.length;++t)try{i.validateFieldPath(t,r.mergeFields[t])}catch(t){throw new Error(`${u.invalidArgumentMessage(e,"set() options argument")} "mergeFields" is not valid: ${t.message}`)}}if("merge"in r&&"mergeFields"in r)throw new Error(`${u.invalidArgumentMessage(e,"set() options argument")} You cannot specify both "merge" and "mergeFields".`)}}function m(e,t,r,n){if(!l.isPlainObject(t))throw new Error(u.customObjectMessage(e,t));a.validateUserInput(e,t,"Firestore document",{allowDeletes:r?"all":"none",allowTransforms:!0,allowUndefined:n})}function y(e,t,r,n){a.validateUserInput(e,t,"Firestore value",{allowDeletes:"root",allowTransforms:!0,allowUndefined:r},n)}t.WriteResult=d,t.WriteBatch=class{constructor(e){this._ops=[],this._committed=!1,this._firestore=e,this._serializer=new a.Serializer(e),this._allowUndefined=!!e._settings.ignoreUndefinedProperties}get _opCount(){return this._ops.length}get isEmpty(){return 0===this._ops.length}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create(e,t){const r=s.validateDocumentReference("documentRef",e),o=r._converter.toFirestore(t);m("data",o,!1,this._allowUndefined),this.verifyNotCommitted();const i=n.DocumentTransform.fromObject(r,o);i.validate();const a=new n.Precondition({exists:!1});return this._ops.push({docPath:e.path,op:()=>{const e=n.DocumentSnapshot.fromObject(r,o).toWriteProto();return i.isEmpty||(e.updateTransforms=i.toProto(this._serializer)),e.currentDocument=a.toProto(),e}}),this}delete(e,t){const r=s.validateDocumentReference("documentRef",e);var o,i;o=t,i={optional:!0},u.validateOptional(o,i)||f("precondition",o,!0),this.verifyNotCommitted();const a=new n.Precondition(t);return this._ops.push({docPath:e.path,op:()=>{const e={delete:r.formattedName};return a.isEmpty||(e.currentDocument=a.toProto()),e}}),this}set(e,t,r){g("options",r,{optional:!0});const o=r&&!0===r.merge,i=r&&r.mergeFields,a=s.validateDocumentReference("documentRef",e);let c,l;c=o||i?a._converter.toFirestore(t,r):a._converter.toFirestore(t),m("data",c,!(!i&&!o),this._allowUndefined),this.verifyNotCommitted(),i&&(l=n.DocumentMask.fromFieldMask(r.mergeFields),c=l.applyTo(c));const u=n.DocumentTransform.fromObject(e,c);return u.validate(),this._ops.push({docPath:e.path,op:()=>{const t=n.DocumentSnapshot.fromObject(e,c);i?l.removeFields(u.fields):o&&(l=n.DocumentMask.fromObject(c));const r=t.toWriteProto();return u.isEmpty||(r.updateTransforms=u.toProto(this._serializer)),(i||o)&&(r.updateMask=l.toProto()),r}}),this}update(e,t,...r){u.validateMinNumberOfArguments("WriteBatch.update",arguments,2),s.validateDocumentReference("documentRef",e),this.verifyNotCommitted();const a=new Map;let c=new n.Precondition({exists:!0});const p="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if("string"==typeof t||t instanceof i.FieldPath){const e=1,s=[t,...r];try{for(let t=0;t<s.length;t+=2)if(t===s.length-1){const r=s[t];h(t+e,r),c=new n.Precondition(r)}else{const r=s[t];i.validateFieldPath(t+e,r),u.validateMinNumberOfArguments("update",s,t+1);const n=i.FieldPath.fromArgument(r);y(t+e,s[t+1],this._allowUndefined,n),a.set(n,s[t+1])}}catch(e){throw o.logger("WriteBatch.update",null,"Varargs validation failed:",e),new Error(`${p} ${e.message}`)}}else try{!function(e,t,r){if(!l.isPlainObject(t))throw new Error(u.customObjectMessage(e,t));if(0===Object.keys(t).length)throw new Error("At least one field must be updated.");y(e,t,r)}("dataOrField",t,this._allowUndefined),u.validateMaxNumberOfArguments("update",arguments,3);const e=t;Object.entries(e).forEach((([e,t])=>{void 0!==t&&(i.validateFieldPath(e,e),a.set(i.FieldPath.fromArgument(e),t))})),r.length>0&&(h("preconditionOrValues",r[0]),c=new n.Precondition(r[0]))}catch(e){throw o.logger("WriteBatch.update",null,"Non-varargs validation failed:",e),new Error(`${p} ${e.message}`)}!function(e,t){const r=[];t.forEach(((e,t)=>{r.push(t)})),r.sort(((e,t)=>e.compareTo(t)));for(let e=1;e<r.length;++e)if(r[e-1].isPrefixOf(r[e]))throw new Error(`${u.invalidArgumentMessage("dataOrField","update map")} Field "${r[e-1]}" was specified multiple times.`)}(0,a);const d=n.DocumentTransform.fromUpdateMap(e,a);d.validate();const f=n.DocumentMask.fromUpdateMap(a);return this._ops.push({docPath:e.path,op:()=>{const t=n.DocumentSnapshot.fromUpdateMap(e,a).toWriteProto();return t.updateMask=f.toProto(),d.isEmpty||(t.updateTransforms=d.toProto(this._serializer)),t.currentDocument=c.toProto(),t}}),this}commit(){const e=Error().stack,t=[p.Status.ABORTED,...l.getRetryCodes("commit")];return this._commit({retryCodes:t}).then((e=>(e.writeResults||[]).map((t=>new d(c.Timestamp.fromProto(t.updateTime||e.commitTime)))))).catch((t=>{throw l.wrapError(t,e)}))}async _commit(e){var t;this._committed=!0;const r=null!==(t=null==e?void 0:e.requestTag)&&void 0!==t?t:l.requestTag();await this._firestore.initializeIfNeeded(r);const n={database:this._firestore.formattedName,writes:this._ops.map((e=>e.op()))};return(null==e?void 0:e.transactionId)&&(n.transaction=e.transactionId),o.logger("WriteBatch.commit",r,"Sending %d writes",n.writes.length),this._firestore.request((null==e?void 0:e.methodName)||"commit",n,r,null==e?void 0:e.retryCodes)}_reset(){this._ops.splice(0),this._committed=!1}},t.validateSetOptions=g,t.validateDocumentData=m,t.validateFieldValue=y},88225:e=>{"use strict";e.exports={i8:"4.11.1"}},76995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStream=t.paginator=t.Paginator=void 0;const n=r(61021),o=r(94470),i=r(36529);Object.defineProperty(t,"ResourceStream",{enumerable:!0,get:function(){return i.ResourceStream}});class s{extend(e,t){(t=n(t)).forEach((t=>{const r=e.prototype[t];e.prototype[t+"_"]=r,e.prototype[t]=function(...e){const t=a.parseArguments_(e);return a.run_(t,r.bind(this))}}))}streamify(e){return function(...t){const r=a.parseArguments_(t),n=this[e+"_"]||this[e];return a.runAsStream_(r,n.bind(this))}}parseArguments_(e){let t,r,n=!0,i=-1,s=-1;const a=e[0],c=e[e.length-1];"function"==typeof a?r=a:t=a,"function"==typeof c&&(r=c),"object"==typeof t&&(t=o(!0,{},t),t.maxResults&&"number"==typeof t.maxResults?s=t.maxResults:"number"==typeof t.pageSize&&(s=t.pageSize),t.maxApiCalls&&"number"==typeof t.maxApiCalls&&(i=t.maxApiCalls,delete t.maxApiCalls),-1===s&&!1!==t.autoPaginate||(n=!1));const l={query:t||{},autoPaginate:n,maxApiCalls:i,maxResults:s,callback:r};return l.streamOptions=o(!0,{},l.query),delete l.streamOptions.autoPaginate,delete l.streamOptions.maxResults,delete l.streamOptions.pageSize,l}run_(e,t){const r=e.query,n=e.callback;if(!e.autoPaginate)return t(r,n);const o=new Array,i=new Promise(((r,n)=>{a.runAsStream_(e,t).on("error",n).on("data",(e=>o.push(e))).on("end",(()=>r(o)))}));if(!n)return i.then((e=>[e]));i.then((e=>n(null,e)),(e=>n(e)))}runAsStream_(e,t){return new i.ResourceStream(e,t)}}t.Paginator=s;const a=new s;t.paginator=a},36529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStream=void 0;const n=r(92413);class o extends n.Transform{constructor(e,t){super(Object.assign({objectMode:!0},e.streamOptions)),this._ended=!1,this._maxApiCalls=-1===e.maxApiCalls?1/0:e.maxApiCalls,this._nextQuery=e.query,this._reading=!1,this._requestFn=t,this._requestsMade=0,this._resultsToSend=-1===e.maxResults?1/0:e.maxResults}end(...e){return this._ended=!0,super.end(...e)}_read(){if(!this._reading){this._reading=!0;try{this._requestFn(this._nextQuery,((e,t,r)=>{if(e)return void this.destroy(e);this._nextQuery=r,this._resultsToSend!==1/0&&(t=t.splice(0,this._resultsToSend),this._resultsToSend-=t.length);let n=!0;for(const e of t){if(this._ended)break;n=this.push(e)}const o=!this._nextQuery||this._resultsToSend<1,i=++this._requestsMade>=this._maxApiCalls;(o||i)&&this.end(),n&&!this._ended&&setImmediate((()=>this._read())),this._reading=!1}))}catch(e){this.destroy(e)}}}}t.ResourceStream=o},67644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(92413);t.replaceProjectIdToken=function e(t,r){if(Array.isArray(t)&&(t=t.map((t=>e(t,r)))),!(null===t||"object"!=typeof t||t instanceof Buffer||t instanceof n.Stream||"function"!=typeof t.hasOwnProperty))for(const n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n],r));if("string"==typeof t&&t.indexOf("{{projectId}}")>-1){if(!r||"{{projectId}}"===r)throw new o;t=t.replace(/{{projectId}}/g,r)}return t};class o extends Error{constructor(){super(...arguments),this.message='Sorry, we cannot connect to Cloud Services without a project\n    ID. You may specify one with an environment variable named\n    "GOOGLE_CLOUD_PROJECT".'.replace(/ +/g," ")}}t.MissingProjectIdError=o},37996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callbackifyAll=t.callbackify=t.promisifyAll=t.promisify=void 0,t.promisify=function(e,t){if(e.promisified_)return e;t=t||{};const r=Array.prototype.slice,n=function(){let n;for(n=arguments.length-1;n>=0;n--){const t=arguments[n];if(void 0!==t){if("function"!=typeof t)break;return e.apply(this,arguments)}}const o=r.call(arguments,0,n+1);let i=Promise;return this&&this.Promise&&(i=this.Promise),new i(((n,i)=>{o.push(((...e)=>{const o=r.call(e),s=o.shift();if(s)return i(s);t.singular&&1===o.length?n(o[0]):n(o)})),e.apply(this,o)}))};return n.promisified_=!0,n},t.promisifyAll=function(e,r){const n=r&&r.exclude||[];Object.getOwnPropertyNames(e.prototype).filter((t=>!n.includes(t)&&"function"==typeof e.prototype[t]&&!/(^_|(Stream|_)|promise$)|^constructor$/.test(t))).forEach((n=>{const o=e.prototype[n];o.promisified_||(e.prototype[n]=t.promisify(o,r))}))},t.callbackify=function(e){if(e.callbackified_)return e;const t=function(){if("function"!=typeof arguments[arguments.length-1])return e.apply(this,arguments);const t=Array.prototype.pop.call(arguments);e.apply(this,arguments).then((e=>{e=Array.isArray(e)?e:[e],t(null,...e)}),(e=>t(e)))};return t.callbackified_=!0,t},t.callbackifyAll=function(e,r){const n=r&&r.exclude||[];Object.getOwnPropertyNames(e.prototype).filter((t=>!n.includes(t)&&"function"==typeof e.prototype[t]&&!/^_|(Stream|_)|^constructor$/.test(t))).forEach((r=>{const n=e.prototype[r];n.callbackified_||(e.prototype[r]=t.callbackify(n))}))}},87567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AclRoleAccessorMethods=t.Acl=void 0;const n=r(37996),o=r(61021);class i{constructor(){this.owners={},this.readers={},this.writers={},this.owners={},this.readers={},this.writers={},i.roles.forEach(this._assignAccessMethods.bind(this))}_assignAccessMethods(e){const t=i.accessMethods,r=i.entities;this[e.toLowerCase()+"s"]=r.reduce(((r,n)=>{const o="-"===n.charAt(n.length-1);return t.forEach((t=>{let i=t+n[0].toUpperCase()+n.substr(1);o&&(i=i.replace("-","")),r[i]=(r,i,s)=>{let a;"function"==typeof i&&(s=i,i={}),o?a=n+r:(a=n,s=r);const c=[i=Object.assign({entity:a,role:e},i)];return"function"==typeof s&&c.push(s),this[t].apply(this,c)}})),r}),{})}}t.AclRoleAccessorMethods=i,i.accessMethods=["add","delete"],i.entities=["allAuthenticatedUsers","allUsers","domain-","group-","project-","user-"],i.roles=["OWNER","READER","WRITER"];class s extends i{constructor(e){super(),this.pathPrefix=e.pathPrefix,this.request_=e.request}add(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"POST",uri:"",qs:r,json:{entity:e.entity,role:e.role.toUpperCase()}},((e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)}))}delete(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"DELETE",uri:"/"+encodeURIComponent(e.entity),qs:r},((e,r)=>{t(e,r)}))}get(e,t){const r="object"==typeof e?e:null,n="function"==typeof e?e:t;let i="";const s={};r&&(i="/"+encodeURIComponent(r.entity),r.generation&&(s.generation=r.generation),r.userProject&&(s.userProject=r.userProject)),this.request({uri:i,qs:s},((e,t)=>{if(e)return void n(e,null,t);let r;r=t.items?o(t.items).map(this.makeAclObject_):this.makeAclObject_(t),n(null,r,t)}))}update(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"PUT",uri:"/"+encodeURIComponent(e.entity),qs:r,json:{role:e.role.toUpperCase()}},((e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)}))}makeAclObject_(e){const t={entity:e.entity,role:e.role};return e.projectTeam&&(t.projectTeam=e.projectTeam),t}request(e,t){e.uri=this.pathPrefix+e.uri,this.request_(e,t)}}t.Acl=s,n.promisifyAll(s,{exclude:["request"]})},78204:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bucket=t.BucketActionToHTTPMethod=void 0;const n=r(39803),o=r(76995),i=r(37996),s=r(61021),a=r(94470),c=r(35747),l=r(80983),u=r(85622),p=r(80406),d=r(31669),f=r(3513),h=r(87567),g=r(49245),m=r(639),y=r(49176),v=r(63536);var b;!function(e){e.list="GET"}(b=t.BucketActionToHTTPMethod||(t.BucketActionToHTTPMethod={}));class w extends n.ServiceObject{constructor(e,t,r){r=r||{},t=t.replace(/^gs:\/\//,"").replace(/\/+$/,"");const n={},i=r.userProject;"string"==typeof i&&(n.userProject=i);const s={create:{reqOpts:{qs:n}},delete:{reqOpts:{qs:n}},exists:{reqOpts:{qs:n}},get:{reqOpts:{qs:n}},getMetadata:{reqOpts:{qs:n}},setMetadata:{reqOpts:{qs:n}}};super({parent:e,baseUrl:"/b",id:t,createMethod:e.createBucket.bind(e),methods:s}),this.name=t,this.storage=e,this.userProject=r.userProject,this.acl=new h.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.acl.default=new h.Acl({request:this.request.bind(this),pathPrefix:"/defaultObjectAcl"}),this.iam=new m.Iam(this),this.getFilesStream=o.paginator.streamify("getFiles")}addLifecycleRule(e,t,r){let n;"function"==typeof t?r=t:t&&(n=t),n=n||{};const o=s(e).map((e=>{if("object"==typeof e.action)return e;const t={condition:{}};t.action={type:e.action.charAt(0).toUpperCase()+e.action.slice(1)},e.storageClass&&(t.action.storageClass=e.storageClass);for(const r in e.condition)e.condition[r]instanceof Date?t.condition[r]=e.condition[r].toISOString().replace(/T.+$/,""):t.condition[r]=e.condition[r];return t}));!1!==n.append?this.getMetadata(((e,t)=>{if(e)return void r(e);const n=s(t.lifecycle&&t.lifecycle.rule);this.setMetadata({lifecycle:{rule:n.concat(o)}},r)})):this.setMetadata({lifecycle:{rule:o}},r)}combine(e,t,r,o){if(!Array.isArray(e)||0===e.length)throw new Error("You must provide at least one source file.");if(!t)throw new Error("A destination file must be specified.");let i={};"function"==typeof r?o=r:r&&(i=r);const s=e=>e instanceof g.File?e:this.file(e);e=e.map(s);const a=s(t);if(o=o||n.util.noop,!a.metadata.contentType){const e=l.contentType(a.name);e&&(a.metadata.contentType=e)}a.request({method:"POST",uri:"/compose",json:{destination:{contentType:a.metadata.contentType},sourceObjects:e.map((e=>{const t={name:e.name};return e.metadata&&e.metadata.generation&&(t.generation=e.metadata.generation),t}))},qs:i},((e,t)=>{e?o(e,null,t):o(null,a,t)}))}createChannel(e,t,r,n){if("string"!=typeof e)throw new Error("An ID is required to create a channel.");if("string"!=typeof t.address)throw new Error("An address is required to create a channel.");let o={};"function"==typeof r?n=r:r&&(o=r),this.request({method:"POST",uri:"/o/watch",json:Object.assign({id:e,type:"web_hook"},t),qs:o},((t,r)=>{if(t)return void n(t,null,r);const o=r.resourceId,i=this.storage.channel(e,o);i.metadata=r,n(null,i,r)}))}createNotification(e,t,r){let o={};if("function"==typeof t?r=t:t&&(o=t),null!==e&&"object"==typeof e&&n.util.isCustomType(e,"pubsub/topic")&&(e=e.name),"string"!=typeof e)throw new Error("A valid topic name is required.");const i=Object.assign({topic:e},o);0!==i.topic.indexOf("projects")&&(i.topic="projects/{{projectId}}/topics/"+i.topic),i.topic="//pubsub.googleapis.com/"+i.topic,i.payloadFormat||(i.payloadFormat="JSON_API_V1");const s={};i.userProject&&(s.userProject=i.userProject,delete i.userProject),this.request({method:"POST",uri:"/notificationConfigs",json:f(i),qs:s},((e,t)=>{if(e)return void r(e,null,t);const n=this.notification(t.id);n.metadata=t,r(null,n,t)}))}deleteFiles(e,t){let r={};"function"==typeof e?t=e:e&&(r=e);const n=[];this.getFiles(r).then((([e])=>{const t=p(10),o=e.map((e=>t((()=>(e=>e.delete(r).catch((e=>{if(!r.force)throw e;n.push(e)})))(e)))));return Promise.all(o)})).then((()=>t(n.length>0?n:null)),t)}deleteLabels(e,t){let r=new Array;"function"==typeof e?t=e:e&&(r=s(e));const n=e=>{const r=e.reduce(((e,t)=>(e[t]=null,e)),{});this.setLabels(r,t)};0===r.length?this.getLabels(((e,r)=>{e?t(e):n(Object.keys(r))})):n(r)}disableRequesterPays(e){this.setMetadata({billing:{requesterPays:!1}},e||n.util.noop)}enableLogging(e,t){if(!e||"function"==typeof e||void 0===e.prefix)throw new Error("A configuration object with a prefix is required.");const r=e.bucket?e.bucket.id||e.bucket:this.id;(async()=>{let n;try{const[t]=await this.iam.getPolicy();t.bindings.push({members:["group:cloud-storage-analytics@google.com"],role:"roles/storage.objectCreator"}),await this.iam.setPolicy(t),[n]=await this.setMetadata({logging:{logBucket:r,logObjectPrefix:e.prefix}})}catch(e){return void t(e)}t(null,n)})()}enableRequesterPays(e){this.setMetadata({billing:{requesterPays:!0}},e||n.util.noop)}file(e,t){if(!e)throw Error("A file name must be specified.");return new g.File(this,e,t)}getFiles(e,t){let r="object"==typeof e?e:{};t||(t=e),r=Object.assign({},r),r.directory&&(r.prefix=`${r.directory}/`.replace(/\/*$/,"/"),delete r.directory),this.request({uri:"/o",qs:r},((e,n)=>{if(e)return void t(e,null,null,n);const o=s(n.items).map((e=>{const t={};r.versions&&(t.generation=e.generation),e.kmsKeyName&&(t.kmsKeyName=e.kmsKeyName);const n=this.file(e.name,t);return n.metadata=e,n}));let i=null;n.nextPageToken&&(i=Object.assign({},r,{pageToken:n.nextPageToken})),t(null,o,i,n)}))}getLabels(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.getMetadata(r,((e,r)=>{e?t(e,null):t(null,r.labels||{})}))}getNotifications(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.request({uri:"/notificationConfigs",qs:r},((e,r)=>{if(e)return void t(e,null,r);const n=s(r.items).map((e=>{const t=this.notification(e.id);return t.metadata=e,t}));t(null,n,r)}))}getSignedUrl(e,t){const r=b[e.action];if(!r)throw new Error("The action is not provided or invalid.");const n={method:r,expires:e.expires,version:e.version,cname:e.cname,extensionHeaders:e.extensionHeaders||{},queryParams:e.queryParams||{}};this.signer||(this.signer=new v.URLSigner(this.storage.authClient,this)),this.signer.getSignedUrl(n).then((e=>t(null,e)),t)}lock(e,t){const r=typeof e;if("number"!==r&&"string"!==r)throw new Error("A metageneration must be provided.");this.request({method:"POST",uri:"/lockRetentionPolicy",qs:{ifMetagenerationMatch:e}},t)}makePrivate(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,r.private=!0;const n={predefinedAcl:"projectPrivate"};r.userProject&&(n.userProject=r.userProject);const o=a({},r.metadata,{acl:null});this.setMetadata(o,n).then((()=>r.includeFiles?d.promisify(this.makeAllFilesPublicPrivate_).call(this,r):[])).then((e=>t(null,e)),t)}makePublic(e,t){t="function"==typeof e?e:t;const r=a(!0,{public:!0},"object"==typeof e?e:{});this.acl.add({entity:"allUsers",role:"READER"}).then((()=>this.acl.default.add({entity:"allUsers",role:"READER"}))).then((()=>r.includeFiles?d.promisify(this.makeAllFilesPublicPrivate_).call(this,r):[])).then((e=>t(null,e)),t)}notification(e){if(!e)throw new Error("You must supply a notification ID.");return new y.Notification(this,e)}removeRetentionPeriod(e){this.setMetadata({retentionPolicy:null},e)}request(e,t){return!this.userProject||e.qs&&e.qs.userProject||(e.qs=a(e.qs,{userProject:this.userProject})),super.request(e,t)}setLabels(e,t,r){const o="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||n.util.noop,this.setMetadata({labels:e},o,r)}setRetentionPeriod(e,t){this.setMetadata({retentionPolicy:{retentionPeriod:e}},t)}setCorsConfiguration(e,t){this.setMetadata({cors:e},t)}setStorageClass(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,e=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+"_"+r)).toUpperCase(),this.setMetadata({storageClass:e},n,r)}setUserProject(e){this.userProject=e,["create","delete","exists","get","getMetadata","setMetadata"].forEach((t=>{const r=this.methods[t];"object"==typeof r&&("object"==typeof r.reqOpts?a(r.reqOpts.qs,{userProject:e}):r.reqOpts={qs:{userProject:e}})}))}upload(e,t,r){if(global.GCLOUD_SANDBOX_ENV)return;let n,o="object"==typeof t?t:{};if(r="function"==typeof t?t:r,o=Object.assign({metadata:{}},o),o.destination instanceof g.File)n=o.destination;else if(null!==o.destination&&"string"==typeof o.destination)n=this.file(o.destination,{encryptionKey:o.encryptionKey,kmsKeyName:o.kmsKeyName});else{const t=u.basename(e);n=this.file(t,{encryptionKey:o.encryptionKey,kmsKeyName:o.kmsKeyName})}function i(){const t=n.createWriteStream(o);o.onUploadProgress&&t.on("progress",o.onUploadProgress),c.createReadStream(e).on("error",r).pipe(t).on("error",r).on("finish",(()=>{r(null,n,n.metadata)}))}null!==o.resumable&&"boolean"==typeof o.resumable?i():c.stat(e,((e,t)=>{e?r(e):(t.size<=5e6&&(o.resumable=!1),i())}))}makeAllFilesPublicPrivate_(e,t){const r=[],n=[],o="object"==typeof e?e:{};t="function"==typeof e?e:t,this.getFiles(o).then((([e])=>{const t=p(10),i=e.map((e=>t((()=>(async e=>{try{await(o.public?e.makePublic():e.makePrivate(o)),n.push(e)}catch(e){if(!o.force)throw e;r.push(e)}})(e)))));return Promise.all(i)})).then((()=>t(r.length>0?r:null,n)),(e=>t(e,n)))}getId(){return this.id}}t.Bucket=w,o.paginator.extend(w,"getFiles"),i.promisifyAll(w,{exclude:["request","file","notification"]})},69090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;const n=r(39803),o=r(37996);class i extends n.ServiceObject{constructor(e,t,r){super({parent:e,baseUrl:"/channels",id:"",methods:{}});const n=this.metadata;n.id=t,n.resourceId=r}stop(e){e=e||n.util.noop,this.request({method:"POST",uri:"/stop",json:this.metadata},((t,r)=>{e(t,r)}))}}t.Channel=i,o.promisifyAll(i)},49245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.File=t.STORAGE_POST_POLICY_BASE_URL=t.ActionToHTTPMethod=void 0;const n=r(39803),o=r(37996),i=r(97023),s=r(10031),a=r(76417),c=r(93271),l=r(94470),u=r(35747),p=r(63075),d=r(13893),f=r(57678),h=r(12087),g=r(4850),m=r(45033),y=r(92413),v=r(65573),b=r(20071),w=r(78761),E=r(78204),_=r(87567),O=r(63536),S=r(25981),T=r(7710),C=r(96343),A=r(72047);var x;!function(e){e.read="GET",e.write="PUT",e.delete="DELETE",e.resumable="POST"}(x=t.ActionToHTTPMethod||(t.ActionToHTTPMethod={}));class I extends Error{constructor(){super(...arguments),this.name="ResumableUploadError"}}t.STORAGE_POST_POLICY_BASE_URL="https://storage.googleapis.com";const k=/^gs:\/\/([a-z0-9_.-]+)\/(.+)$/;class N extends Error{}class P extends n.ServiceObject{constructor(e,t,r={}){const n={};let o;null!==r.generation&&(o="string"==typeof r.generation?Number(r.generation):r.generation,isNaN(o)||(n.generation=o));const i=r.userProject||e.userProject;"string"==typeof i&&(n.userProject=i);const s={delete:{reqOpts:{qs:n}},exists:{reqOpts:{qs:n}},get:{reqOpts:{qs:n}},getMetadata:{reqOpts:{qs:n}},setMetadata:{reqOpts:{qs:n}}};if(super({parent:e,baseUrl:"/o",id:encodeURIComponent(t),methods:s}),this.bucket=e,this.storage=e.parent,null!==r.generation){let e;e="string"==typeof r.generation?Number(r.generation):r.generation,isNaN(e)||(this.generation=e)}this.kmsKeyName=r.kmsKeyName,this.userProject=i,this.name=t,r.encryptionKey&&this.setEncryptionKey(r.encryptionKey),this.acl=new _.Acl({request:this.request.bind(this),pathPrefix:"/acl"})}copy(e,t,r){const o=new Error("Destination file should have a name.");if(!e)throw o;let i,s,a,c={};if("function"==typeof t?r=t:t&&(c=t),c=l(!0,{},c),r=r||n.util.noop,"string"==typeof e){const t=k.exec(e);null!==t&&3===t.length?(i=this.storage.bucket(t[1]),s=t[2]):(i=this.bucket,s=e)}else if(e instanceof E.Bucket)i=e,s=this.name;else{if(!(e instanceof P))throw o;i=e.bucket,s=e.name,a=e}const u={};void 0!==this.generation&&(u.sourceGeneration=this.generation),void 0!==c.token&&(u.rewriteToken=c.token),void 0!==c.userProject&&(u.userProject=c.userProject,delete c.userProject),void 0!==c.predefinedAcl&&(u.destinationPredefinedAcl=c.predefinedAcl,delete c.predefinedAcl),a=a||i.file(s);const p={};if(void 0!==this.encryptionKey&&(p["x-goog-copy-source-encryption-algorithm"]="AES256",p["x-goog-copy-source-encryption-key"]=this.encryptionKeyBase64,p["x-goog-copy-source-encryption-key-sha256"]=this.encryptionKeyHash),void 0!==a.encryptionKey?this.setEncryptionKey(a.encryptionKey):void 0!==c.destinationKmsKeyName?(u.destinationKmsKeyName=c.destinationKmsKeyName,delete c.destinationKmsKeyName):void 0!==a.kmsKeyName&&(u.destinationKmsKeyName=a.kmsKeyName),u.destinationKmsKeyName){this.kmsKeyName=u.destinationKmsKeyName;const e=this.interceptors.indexOf(this.encryptionKeyInterceptor);e>-1&&this.interceptors.splice(e,1)}this.request({method:"POST",uri:`/rewriteTo/b/${i.name}/o/${encodeURIComponent(a.name)}`,qs:u,json:c,headers:p},((e,t)=>{if(e)r(e,null,t);else{if(t.rewriteToken){const e={token:t.rewriteToken};return u.userProject&&(e.userProject=u.userProject),u.destinationKmsKeyName&&(e.destinationKmsKeyName=u.destinationKmsKeyName),void this.copy(a,e,r)}r(null,a,t)}}))}createReadStream(e={}){const t="number"==typeof(e=Object.assign({decompress:!0},e)).start||"number"==typeof e.end,r=e.end<0;let o;const i=v(new y.PassThrough);let a=!0,c=!0,l=!1;"string"==typeof e.validation?(e.validation=e.validation.toLowerCase(),c="crc32c"===e.validation,l="md5"===e.validation):!1===e.validation&&(c=!1);const u=!t&&(c||l);if(t){if("string"==typeof e.validation||!0===e.validation)throw new Error("Cannot use validation with file ranges (start/end).");c=!1,l=!1}return i.on("reading",(()=>{const d={alt:"media"};this.generation&&(d.generation=this.generation),e.userProject&&(d.userProject=e.userProject);const f={"Accept-Encoding":"gzip","Cache-Control":"no-store"};if(t){const t="number"==typeof e.start?e.start:"0",n="number"==typeof e.end?e.end:"";f.Range=`bytes=${r?n:`${t}-${n}`}`}const h={forever:!1,uri:"",headers:f,qs:d},m={};this.requestStream(h).on("error",(e=>{i.destroy(e)})).on("response",(e=>{i.emit("response",e),n.util.handleResp(null,e,null,y)})).resume();const y=(t,r,n)=>{if(t)return void s(n).then((e=>{t.message=e,i.destroy(t)}));n.on("error",b);const d=n.toJSON().headers;a="gzip"===d["content-encoding"];const f=[];u&&("string"==typeof d["x-goog-hash"]&&d["x-goog-hash"].split(",").forEach((e=>{const t=e.indexOf("="),r=e.substr(0,t),n=e.substr(t+1);m[r]=n})),o=p({crc32c:c,md5:l}),f.push(o)),a&&e.decompress&&f.push(w.createGunzip()),1===f.length?n=n.pipe(f[0]):f.length>1&&(n=n.pipe(g.obj(f))),n.on("error",b).on("end",b).pipe(i,{end:!1})};let v=!1;const b=async r=>{if(v)return;if(v=!0,r)return void i.destroy(r);if(t||!u)return void i.end();if(!a){try{await this.getMetadata({userProject:e.userProject})}catch(e){return void i.destroy(e)}if("gzip"===this.metadata.contentEncoding)return void i.end()}let n=c||l;if(c&&m.crc32c&&(n=!o.test("crc32c",m.crc32c.substr(4))),l&&m.md5&&(n=!o.test("md5",m.md5)),l&&!m.md5){const e=new N(["MD5 verification was specified, but is not available for the","requested object. MD5 is not available for composite objects."].join(" "));e.code="MD5_NOT_AVAILABLE",i.destroy(e)}else if(n){const e=new N(["The downloaded data did not match the data from the server.","To be sure the content is the same, you should download the","file again."].join(" "));e.code="CONTENT_DOWNLOAD_MISMATCH",i.destroy(e)}else i.end()}})),i}createResumableUpload(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,m.createURI({authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,configPath:r.configPath,file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:r.metadata,offset:r.offset,origin:r.origin,predefinedAcl:r.predefinedAcl,private:r.private,public:r.public,userProject:r.userProject||this.userProject},t)}createWriteStream(e={}){if((e=Object.assign({metadata:{}},e)).contentType&&(e.metadata.contentType=e.contentType),!e.metadata.contentType||"auto"===e.metadata.contentType){const t=d.getType(this.name);t&&(e.metadata.contentType=t)}let t=e.gzip;"auto"===t&&(t=i(e.metadata.contentType)),t&&(e.metadata.contentEncoding="gzip");let r=!0,n=!1;"string"==typeof e.validation?(e.validation=e.validation.toLowerCase(),r="crc32c"===e.validation,n="md5"===e.validation):!1===e.validation&&(r=!1);const o=p({crc32c:r,md5:n}),s=S();s.on("progress",(e=>{a.emit("progress",e)}));const a=v(g([t?w.createGzip():new y.PassThrough,o,s]));return a.on("writing",(()=>{if(!1===e.resumable)return void this.startSimpleUpload_(s,e);if(e.configPath)return void this.startResumableUpload_(s,e);const t=b.config||h.tmpdir();u.access(t,u.constants.W_OK,(r=>{r?u.mkdir(t,{mode:448},(r=>{if(r)if(e.resumable){const e=new I(["A resumable upload could not be performed. The directory,",`${t}, is not writable. You may try another upload,`,"this time setting `options.resumable` to `false`."].join(" "));a.destroy(e)}else this.startSimpleUpload_(s,e);else this.startResumableUpload_(s,e)})):this.startResumableUpload_(s,e)}))})),s.on("response",a.emit.bind(a,"response")),s.on("prefinish",(()=>{a.cork()})),s.on("complete",(()=>{const e=this.metadata;let t=r||n;r&&e.crc32c&&(t=!o.test("crc32c",e.crc32c.substr(4))),n&&e.md5Hash&&(t=!o.test("md5",e.md5Hash)),t?this.delete((t=>{let r,o;t?(r="FILE_NO_UPLOAD_DELETE",o=["The uploaded data did not match the data from the server. As a","precaution, we attempted to delete the file, but it was not","successful. To be sure the content is the same, you should try","removing the file manually, then uploading the file again.","\n\nThe delete attempt failed with this message:","\n\n  "+t.message].join(" ")):n&&!e.md5Hash?(r="MD5_NOT_AVAILABLE",o=["MD5 verification was specified, but is not available for the","requested object. MD5 is not available for composite objects."].join(" ")):(r="FILE_NO_UPLOAD",o=["The uploaded data did not match the data from the server. As a","precaution, the file has been deleted. To be sure the content","is the same, you should try uploading the file again."].join(" "));const i=new N(o);i.code=r,i.errors=[t],s.destroy(i)})):a.uncork()})),a}deleteResumableCache(){m.upload({bucket:this.bucket.name,file:this.name,generation:this.generation}).deleteConfig()}download(e,t){let r;"function"==typeof e?(t=e,r={}):r=e,t=f(t);const n=r.destination;delete r.destination;const o=this.createReadStream(r);n?o.on("error",t).pipe(u.createWriteStream(n)).on("error",t).on("finish",t):s.buffer(o).then((e=>null==t?void 0:t(null,e))).catch(t)}setEncryptionKey(e){return this.encryptionKey=e,this.encryptionKeyBase64=Buffer.from(e).toString("base64"),this.encryptionKeyHash=a.createHash("sha256").update(this.encryptionKeyBase64,"base64").digest("base64"),this.encryptionKeyInterceptor={request:e=>(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryptionKeyBase64,e.headers["x-goog-encryption-key-sha256"]=this.encryptionKeyHash,e)},this.interceptors.push(this.encryptionKeyInterceptor),this}getExpirationDate(e){this.getMetadata(((t,r,n)=>{if(t)e(t,null,n);else if(r.retentionExpirationTime)e(null,new Date(r.retentionExpirationTime),n);else{const t=new Error("An expiration time is not available.");e(t,null,n)}}))}getSignedPolicy(e,t){const r=T.normalize(e,t),n=r.options,o=r.callback;this.generateSignedPostPolicyV2(n,o)}generateSignedPostPolicyV2(e,t){const r=T.normalize(e,t);let n=r.options;const o=r.callback,i=new Date(n.expires);if(isNaN(i.getTime()))throw new Error("The expiration date provided was invalid.");if(i.valueOf()<Date.now())throw new Error("An expiration date cannot be in the past.");n=Object.assign({},n);const s=[["eq","$key",this.name],{bucket:this.bucket.name}];if(Array.isArray(n.equals)&&(Array.isArray(n.equals[0])||(n.equals=[n.equals]),n.equals.forEach((e=>{if(!Array.isArray(e)||2!==e.length)throw new Error("Equals condition must be an array of 2 elements.");s.push(["eq",e[0],e[1]])}))),Array.isArray(n.startsWith)&&(Array.isArray(n.startsWith[0])||(n.startsWith=[n.startsWith]),n.startsWith.forEach((e=>{if(!Array.isArray(e)||2!==e.length)throw new Error("StartsWith condition must be an array of 2 elements.");s.push(["starts-with",e[0],e[1]])}))),n.acl&&s.push({acl:n.acl}),n.successRedirect&&s.push({success_action_redirect:n.successRedirect}),n.successStatus&&s.push({success_action_status:n.successStatus}),n.contentLengthRange){const e=n.contentLengthRange.min,t=n.contentLengthRange.max;if("number"!=typeof e||"number"!=typeof t)throw new Error("ContentLengthRange must have numeric min & max fields.");s.push(["content-length-range",e,t])}const a={expiration:i.toISOString(),conditions:s},c=JSON.stringify(a),l=Buffer.from(c).toString("base64");this.storage.authClient.sign(l).then((e=>{o(null,{string:c,base64:l,signature:e})}),(e=>{o(new O.SigningError(e.message))}))}generateSignedPostPolicyV4(e,r){const n=T.normalize(e,r);let o=n.options;const i=n.callback,s=new Date(o.expires);if(isNaN(s.getTime()))throw new Error("The expiration date provided was invalid.");if(s.valueOf()<Date.now())throw new Error("An expiration date cannot be in the past.");if(s.valueOf()-Date.now()>6048e5)throw new Error("Max allowed expiration is seven days (604800 seconds).");o=Object.assign({},o);let a=Object.assign({},o.fields);const l=new Date,u=c.format(l,"YYYYMMDD[T]HHmmss[Z]",!0),p=c.format(l,"YYYYMMDD",!0);(async()=>{const{client_email:e}=await this.storage.authClient.getCredentials(),r=`${e}/${p}/auto/storage/goog4_request`;a={...a,bucket:this.bucket.name,key:this.name,"x-goog-date":u,"x-goog-credential":r,"x-goog-algorithm":"GOOG4-RSA-SHA256"};const n=o.conditions||[];Object.entries(a).forEach((([e,t])=>{e.startsWith("x-ignore-")||n.push({[e]:t})})),delete a.bucket;const i=c.format(s,"YYYY-MM-DD[T]HH:mm:ss[Z]",!0),l={conditions:n,expiration:i},d=T.unicodeJSONStringify(l),f=Buffer.from(d).toString("base64");try{const e=await this.storage.authClient.sign(f),r=Buffer.from(e,"base64").toString("hex");let n;return a.policy=f,a["x-goog-signature"]=r,n=o.virtualHostedStyle?`https://${this.bucket.name}.storage.googleapis.com/`:o.bucketBoundHostname?`${o.bucketBoundHostname}/`:`${t.STORAGE_POST_POLICY_BASE_URL}/${this.bucket.name}/`,{url:n,fields:a}}catch(e){throw new O.SigningError(e.message)}})().then((e=>i(null,e)),i)}getSignedUrl(e,t){const r=x[e.action];if(!r)throw new Error("The action is not provided or invalid.");const n=T.objectKeyToLowercase(e.extensionHeaders||{});"resumable"===e.action&&(n["x-goog-resumable"]="start");const o=Object.assign({},e.queryParams);"string"==typeof e.responseType&&(o["response-content-type"]=e.responseType),"string"==typeof e.promptSaveAs&&(o["response-content-disposition"]='attachment; filename="'+e.promptSaveAs+'"'),"string"==typeof e.responseDisposition&&(o["response-content-disposition"]=e.responseDisposition),this.generation&&(o.generation=this.generation.toString());const i={method:r,expires:e.expires,accessibleAt:e.accessibleAt,extensionHeaders:n,queryParams:o,contentMd5:e.contentMd5,contentType:e.contentType};e.cname&&(i.cname=e.cname),e.version&&(i.version=e.version),e.virtualHostedStyle&&(i.virtualHostedStyle=e.virtualHostedStyle),this.signer||(this.signer=new O.URLSigner(this.storage.authClient,this.bucket,this)),this.signer.getSignedUrl(i).then((e=>t(null,e)),t)}isPublic(e){C.request({method:"HEAD",url:`http://${this.bucket.name}.storage.googleapis.com/${encodeURIComponent(this.name)}`}).then((()=>e(null,!0)),(t=>{"403"===t.code?e(null,!1):e(t)}))}makePrivate(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t;const n={predefinedAcl:r.strict?"private":"projectPrivate"};r.userProject&&(n.userProject=r.userProject);const o=l({},r.metadata,{acl:null});this.setMetadata(o,n,t)}makePublic(e){e=e||n.util.noop,this.acl.add({entity:"allUsers",role:"READER"},((t,r,n)=>{e(t,n)}))}publicUrl(){return`${this.storage.apiEndpoint}/${this.bucket.name}/${this.name}`}move(e,t,r){const o="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||n.util.noop,this.copy(e,o,((e,t,n)=>{if(e)return e.message="file#copy failed with an error - "+e.message,void r(e,null,n);this.name!==t.name||this.bucket.name!==t.bucket.name?this.delete(o,((e,o)=>{if(e)return e.message="file#delete failed with an error - "+e.message,void r(e,t,o);r(null,t,n)})):r(null,t,n)}))}rename(e,t,r){const o="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||n.util.noop,this.move(e,o,r)}request(e,t){return this.parent.request.call(this,e,t)}rotateEncryptionKey(e,t){t="function"==typeof e?e:t;let r={};"string"==typeof e||e instanceof Buffer?r={encryptionKey:e}:"object"==typeof e&&(r=e);const n=this.bucket.file(this.id,r);this.copy(n,t)}save(e,t,r){r="function"==typeof t?t:r;const o="object"==typeof t?t:{},i=!1===o.resumable,s=A((async t=>{await new Promise(((r,s)=>{const a=this.createWriteStream(o).on("error",(e=>i&&n.util.shouldRetryRequest(e)?s(e):t(e))).on("finish",(()=>r()));o.onUploadProgress&&a.on("progress",o.onUploadProgress),a.end(e)}))}),{retries:3});return r?s.then((()=>{if(r)return r()})).catch(r):s}setStorageClass(e,t,r){r="function"==typeof t?t:r;const n=l(!0,{},"object"==typeof t?t:{});n.storageClass=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+"_"+r)).toUpperCase(),this.copy(this,n,((e,t,n)=>{e?r(e,n):(this.metadata=t.metadata,r(null,n))}))}setUserProject(e){this.bucket.setUserProject.call(this,e)}startResumableUpload_(e,t){t=Object.assign({metadata:{}},t);const r=m.upload({authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,configPath:t.configPath,customRequestOptions:this.getRequestInterceptors().reduce(((e,t)=>t(e)),{}),file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:t.metadata,offset:t.offset,predefinedAcl:t.predefinedAcl,private:t.private,public:t.public,uri:t.uri,userProject:t.userProject||this.userProject});r.on("response",(t=>{e.emit("response",t)})).on("metadata",(e=>{this.metadata=e})).on("finish",(()=>{e.emit("complete")})).on("progress",(t=>e.emit("progress",t))),e.setWritable(r)}startSimpleUpload_(e,t){t=Object.assign({metadata:{}},t);const r=`${this.storage.apiEndpoint}/upload/storage/v1/b/${this.bucket.name}/o`,o={qs:{name:this.name},uri:r};void 0!==this.generation&&(o.qs.ifGenerationMatch=this.generation),void 0!==this.kmsKeyName&&(o.qs.kmsKeyName=this.kmsKeyName),"number"==typeof t.timeout&&(o.timeout=t.timeout),(t.userProject||this.userProject)&&(o.qs.userProject=t.userProject||this.userProject),t.predefinedAcl?o.qs.predefinedAcl=t.predefinedAcl:t.private?o.qs.predefinedAcl="private":t.public&&(o.qs.predefinedAcl="publicRead"),n.util.makeWritableStream(e,{makeAuthenticatedRequest:t=>{this.request(t,((t,r,n)=>{t?e.destroy(t):(this.metadata=r,e.emit("response",n),e.emit("complete"))}))},metadata:t.metadata,request:o})}}t.File=P,o.promisifyAll(P,{exclude:["publicUrl","request","save","setEncryptionKey"]})},21695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HmacKey=void 0;const n=r(39803);class o extends n.ServiceObject{constructor(e,t,r){super({parent:e,id:t,baseUrl:`/projects/${r&&r.projectId||e.projectId}/hmacKeys`,methods:{delete:!0,get:!0,getMetadata:!0,setMetadata:{reqOpts:{method:"PUT"}}}})}}t.HmacKey=o},639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Iam=void 0;const n=r(37996),o=r(61021),i=r(7710);class s{constructor(e){this.request_=e.request.bind(e),this.resourceId_="buckets/"+e.getId()}getPolicy(e,t){const{options:r,callback:n}=i.normalize(e,t),o={};r.userProject&&(o.userProject=r.userProject),null!==r.requestedPolicyVersion&&void 0!==r.requestedPolicyVersion&&(o.optionsRequestedPolicyVersion=r.requestedPolicyVersion),this.request_({uri:"/iam",qs:o},n)}setPolicy(e,t,r){if(null===e||"object"!=typeof e)throw new Error("A policy object is required.");const{options:n,callback:o}=i.normalize(t,r);this.request_({method:"PUT",uri:"/iam",json:Object.assign({resourceId:this.resourceId_},e),qs:n},o)}testPermissions(e,t,r){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Permissions are required.");const{options:n,callback:s}=i.normalize(t,r),a=o(e),c=Object.assign({permissions:a},n);this.request_({uri:"/iam/testPermissions",qs:c,useQuerystring:!0},((e,t)=>{if(e)return void s(e,null,t);const r=o(t.permissions),n=a.reduce(((e,t)=>(e[t]=r.indexOf(t)>-1,e)),{});s(null,n,t)}))}}t.Iam=s,n.promisifyAll(s)},20690:(e,t,r)=>{"use strict";r(78204),r(69090),r(49245),r(21695),r(639),r(49176);var n=r(57260);Object.defineProperty(t,"Ke",{enumerable:!0,get:function(){return n.Storage}})},49176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notification=void 0;const n=r(39803),o=r(37996);class i extends n.ServiceObject{constructor(e,t){super({parent:e,baseUrl:"/notificationConfigs",id:t.toString(),createMethod:e.createNotification.bind(e),methods:{create:!0,exists:!0}})}delete(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.request({method:"DELETE",uri:"",qs:r},t||n.util.noop)}get(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t;const n=r.autoCreate;delete r.autoCreate;const o=(e,n,o)=>{if(e)return 409===e.code?void this.get(r,t):void t(e,null,o);t(null,n,o)};this.getMetadata(r,((e,i)=>{if(e){if(404===e.code&&n){const e=[];return Object.keys(r).length>0&&e.push(r),e.push(o),void this.create.apply(this,e)}t(e,null,i)}else t(null,this,i)}))}getMetadata(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.request({uri:"",qs:r},((e,r)=>{e?t(e,null,r):(this.metadata=r,t(null,this.metadata,r))}))}}t.Notification=i,o.promisifyAll(i)},63536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningError=t.URLSigner=t.PATH_STYLED_HOST=void 0;const n=r(76417),o=r(93271),i=r(78835),s=r(7710);t.PATH_STYLED_HOST="https://storage.googleapis.com",t.URLSigner=class{constructor(e,t,r){this.bucket=t,this.file=r,this.authClient=e}getSignedUrl(e){const r=this.parseExpires(e.expires),n=e.method,o=this.parseAccessibleAt(e.accessibleAt);if(r<o)throw new Error("An expiration date cannot be before accessible date.");let a;const c=e.virtualHostedStyle||!1;e.cname?a=e.cname:c&&(a=`https://${this.bucket.name}.storage.googleapis.com`);const l=Object.assign({},e,{method:n,expiration:r,accessibleAt:new Date(1e3*o),bucket:this.bucket.name,file:this.file?s.encodeURI(this.file.name,!1):void 0});a&&(l.cname=a);const u=e.version||"v2";let p;if("v2"===u)p=this.getSignedUrlV2(l);else{if("v4"!==u)throw new Error(`Invalid signed URL version: ${u}. Supported versions are 'v2' and 'v4'.`);p=this.getSignedUrlV4(l)}return p.then((r=>{r=Object.assign(r,e.queryParams);const n=new i.URL(l.cname||t.PATH_STYLED_HOST);return n.pathname=this.getResourcePath(!!l.cname,this.bucket.name,l.file),n.search=s.qsStringify(r),n.href}))}getSignedUrlV2(e){const t=this.getCanonicalHeaders(e.extensionHeaders||{}),r=this.getResourcePath(!1,e.bucket,e.file),n=[e.method,e.contentMd5||"",e.contentType||"",e.expiration,t+r].join("\n");return(async()=>{const t=this.authClient;try{const r=await t.sign(n);return{GoogleAccessId:(await t.getCredentials()).client_email,Expires:e.expiration,Signature:r}}catch(e){const t=new a(e.message);throw t.stack=e.stack,t}})()}getSignedUrlV4(e){e.accessibleAt=e.accessibleAt?e.accessibleAt:new Date;const r=e.expiration-.001*e.accessibleAt.valueOf();if(r>604800)throw new Error("Max allowed expiration is seven days (604800 seconds).");const s=Object.assign({},e.extensionHeaders),c=new i.URL(e.cname||t.PATH_STYLED_HOST);let l;s.host=c.host,e.contentMd5&&(s["content-md5"]=e.contentMd5),e.contentType&&(s["content-type"]=e.contentType);const u=s["x-goog-content-sha256"];if(u){if("string"!=typeof u||!/[A-Fa-f0-9]{40}/.test(u))throw new Error("The header X-Goog-Content-SHA256 must be a hexadecimal string.");l=u}const p=Object.keys(s).map((e=>e.toLowerCase())).sort().join(";"),d=this.getCanonicalHeaders(s),f=`${o.format(e.accessibleAt,"YYYYMMDD",!0)}/auto/storage/goog4_request`;return(async()=>{const t=`${(await this.authClient.getCredentials()).client_email}/${f}`,i=o.format(e.accessibleAt?e.accessibleAt:new Date,"YYYYMMDD[T]HHmmss[Z]",!0),s={"X-Goog-Algorithm":"GOOG4-RSA-SHA256","X-Goog-Credential":t,"X-Goog-Date":i,"X-Goog-Expires":r.toString(10),"X-Goog-SignedHeaders":p,...e.queryParams||{}},c=this.getCanonicalQueryParams(s),u=this.getCanonicalRequest(e.method,this.getResourcePath(!!e.cname,e.bucket,e.file),c,d,p,l),h=n.createHash("sha256").update(u).digest("hex"),g=["GOOG4-RSA-SHA256",i,f,h].join("\n");try{const e=await this.authClient.sign(g),t=Buffer.from(e,"base64").toString("hex");return Object.assign({},s,{"X-Goog-Signature":t})}catch(e){const t=new a(e.message);throw t.stack=e.stack,t}})()}getCanonicalHeaders(e){return s.objectEntries(e).map((([e,t])=>[e.toLowerCase(),t])).sort(((e,t)=>e[0].localeCompare(t[0]))).filter((([,e])=>void 0!==e)).map((([e,t])=>`${e}:${`${t}`.trim().replace(/\s{2,}/g," ")}\n`)).join("")}getCanonicalRequest(e,t,r,n,o,i){return[e,t,r,n,o,i||"UNSIGNED-PAYLOAD"].join("\n")}getCanonicalQueryParams(e){return s.objectEntries(e).map((([e,t])=>[s.encodeURI(e,!0),s.encodeURI(t,!0)])).sort(((e,t)=>e[0]<t[0]?-1:1)).map((([e,t])=>`${e}=${t}`)).join("&")}getResourcePath(e,t,r){return e?"/"+(r||""):r?`/${t}/${r}`:`/${t}`}parseExpires(e,t=new Date){const r=new Date(e).valueOf();if(isNaN(r))throw new Error("The expiration date provided was invalid.");if(r<t.valueOf())throw new Error("An expiration date cannot be in the past.");return Math.round(r/1e3)}parseAccessibleAt(e){const t=new Date(e||new Date).valueOf();if(isNaN(t))throw new Error("The accessible at date provided was invalid.");return Math.floor(t/1e3)}};class a extends Error{constructor(){super(...arguments),this.name="SigningError"}}t.SigningError=a},57260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.PROTOCOL_REGEX=void 0;const n=r(39803),o=r(76995),i=r(37996),s=r(61021),a=r(78204),c=r(69090),l=r(49245),u=r(7710),p=r(21695);t.PROTOCOL_REGEX=/^(\w*):\/\//;class d extends n.Service{constructor(e={}){let t="https://storage.googleapis.com",n=!1;const i=process.env.STORAGE_EMULATOR_HOST;"string"==typeof i&&(t=d.sanitizeEndpoint(i),n=!0),e.apiEndpoint&&(t=d.sanitizeEndpoint(e.apiEndpoint),n=!0),e=Object.assign({},e,{apiEndpoint:t});const s=i||`${e.apiEndpoint}/storage/v1`;super({apiEndpoint:e.apiEndpoint,autoRetry:e.autoRetry,maxRetries:e.maxRetries,baseUrl:s,customEndpoint:n,projectIdRequired:!1,scopes:["https://www.googleapis.com/auth/iam","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/devstorage.full_control"],packageJson:r(48935)},e),this.acl=d.acl,this.getBucketsStream=o.paginator.streamify("getBuckets"),this.getHmacKeysStream=o.paginator.streamify("getHmacKeys")}static sanitizeEndpoint(e){return t.PROTOCOL_REGEX.test(e)||(e=`https://${e}`),e.replace(/\/+$/,"")}bucket(e,t){if(!e)throw new Error("A bucket name is needed to use Cloud Storage.");return new a.Bucket(this,e,t)}channel(e,t){return new c.Channel(this,e,t)}createBucket(e,t,r){if(!e)throw new Error("A name is required to create a bucket.");let n;r?n=t:(r=t,n={});const o=Object.assign({},n,{name:e}),i={archive:"ARCHIVE",coldline:"COLDLINE",dra:"DURABLE_REDUCED_AVAILABILITY",multiRegional:"MULTI_REGIONAL",nearline:"NEARLINE",regional:"REGIONAL",standard:"STANDARD"};Object.keys(i).forEach((e=>{if(o[e]){if(n.storageClass&&n.storageClass!==e)throw new Error(`Both \`${e}\` and \`storageClass\` were provided.`);o.storageClass=i[e],delete o[e]}})),o.requesterPays&&(o.billing={requesterPays:o.requesterPays},delete o.requesterPays);const s={project:this.projectId};o.userProject&&(s.userProject=o.userProject,delete o.userProject),this.request({method:"POST",uri:"/b",qs:s,json:o},((t,n)=>{if(t)return void r(t,null,n);const o=this.bucket(e);o.metadata=n,r(null,o,n)}))}createHmacKey(e,t,r){if("string"!=typeof e)throw new Error("The first argument must be a service account email to create an HMAC key.");const{options:n,callback:o}=u.normalize(t,r),i=Object.assign({},n,{serviceAccountEmail:e}),s=i.projectId||this.projectId;delete i.projectId,this.request({method:"POST",uri:`/projects/${s}/hmacKeys`,qs:i},((e,t)=>{if(e)return void o(e,null,null,t);const r=t.metadata,n=this.hmacKey(r.accessId,{projectId:r.projectId});n.metadata=t.metadata,o(null,n,t.secret,t)}))}getBuckets(e,t){const{options:r,callback:n}=u.normalize(e,t);r.project=r.project||this.projectId,this.request({uri:"/b",qs:r},((e,t)=>{if(e)return void n(e,null,null,t);const o=s(t.items).map((e=>{const t=this.bucket(e.id);return t.metadata=e,t})),i=t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null;n(null,o,i,t)}))}getHmacKeys(e,t){const{options:r,callback:n}=u.normalize(e,t),o=Object.assign({},r),i=o.projectId||this.projectId;delete o.projectId,this.request({uri:`/projects/${i}/hmacKeys`,qs:o},((e,t)=>{if(e)return void n(e,null,null,t);const o=s(t.items).map((e=>{const t=this.hmacKey(e.accessId,{projectId:e.projectId});return t.metadata=e,t})),i=t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null;n(null,o,i,t)}))}getServiceAccount(e,t){const{options:r,callback:n}=u.normalize(e,t);this.request({uri:`/projects/${this.projectId}/serviceAccount`,qs:r},((e,t)=>{if(e)return void n(e,null,t);const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e.replace(/_(\w)/g,((e,t)=>t.toUpperCase()))]=t[e]);n(null,r,t)}))}hmacKey(e,t){if(!e)throw new Error("An access ID is needed to create an HmacKey object.");return new p.HmacKey(this,e,t)}}t.Storage=d,d.Bucket=a.Bucket,d.Channel=c.Channel,d.File=l.File,d.HmacKey=p.HmacKey,d.acl={OWNER_ROLE:"OWNER",READER_ROLE:"READER",WRITER_ROLE:"WRITER"},o.paginator.extend(d,["getBuckets","getHmacKeys"]),i.promisifyAll(d,{exclude:["bucket","channel","hmacKey"]})},7710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unicodeJSONStringify=t.objectKeyToLowercase=t.qsStringify=t.encodeURI=t.fixedEncodeURIComponent=t.objectEntries=t.normalize=void 0;const n=r(71191);function o(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()))}function i(e,t){return e.split("/").map(o).join(t?"%2F":"/")}t.normalize=function(e,t){return{options:"object"==typeof e?e:{},callback:"function"==typeof e?e:t}},t.objectEntries=function(e){return Object.keys(e).map((t=>[t,e[t]]))},t.fixedEncodeURIComponent=o,t.encodeURI=i,t.qsStringify=function(e){return n.stringify(e,"&","=",{encodeURIComponent:e=>i(e,!0)})},t.objectKeyToLowercase=function(e){const t={};for(let r of Object.keys(e)){const n=e[r];r=r.toLowerCase(),t[r]=n}return t},t.unicodeJSONStringify=function(e){return JSON.stringify(e).replace(/[\u0080-\uFFFF]/g,(e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)))}},48935:e=>{"use strict";e.exports=JSON.parse('{"name":"@google-cloud/storage","description":"Cloud Storage Client Library for Node.js","version":"5.8.5","license":"Apache-2.0","author":"Google Inc.","engines":{"node":">=10"},"repository":"googleapis/nodejs-storage","main":"./build/src/index.js","types":"./build/src/index.d.ts","files":["build/src","!build/src/**/*.map"],"keywords":["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google storage","storage"],"scripts":{"predocs":"npm run compile","docs":"jsdoc -c .jsdoc.js","system-test":"mocha build/system-test --timeout 600000 --exit","conformance-test":"mocha build/conformance-test","preconformance-test":"npm run compile","presystem-test":"npm run compile","test":"c8 mocha build/test","pretest":"npm run compile","lint":"gts check","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","all-test":"npm test && npm run system-test && npm run samples-test","check":"gts check","clean":"gts clean","compile":"tsc -p .","fix":"gts fix","prepare":"npm run compile","docs-test":"linkinator docs","predocs-test":"npm run docs","benchwrapper":"node bin/benchwrapper.js","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean","api-extractor":"api-extractor run --local","api-documenter":"api-documenter yaml --input-folder=temp"},"dependencies":{"@google-cloud/common":"^3.6.0","@google-cloud/paginator":"^3.0.0","@google-cloud/promisify":"^2.0.0","arrify":"^2.0.0","async-retry":"^1.3.1","compressible":"^2.0.12","date-and-time":"^1.0.0","duplexify":"^4.0.0","extend":"^3.0.2","gaxios":"^4.0.0","gcs-resumable-upload":"^3.1.4","get-stream":"^6.0.0","hash-stream-validation":"^0.2.2","mime":"^2.2.0","mime-types":"^2.0.8","onetime":"^5.1.0","p-limit":"^3.0.1","pumpify":"^2.0.0","snakeize":"^0.1.0","stream-events":"^1.0.1","xdg-basedir":"^4.0.0"},"devDependencies":{"@google-cloud/pubsub":"^2.0.0","@grpc/grpc-js":"^1.0.3","@grpc/proto-loader":"^0.6.0","@microsoft/api-documenter":"^7.8.10","@microsoft/api-extractor":"^7.8.10","@types/async-retry":"^1.4.2","@types/compressible":"^2.0.0","@types/concat-stream":"^1.6.0","@types/configstore":"^5.0.0","@types/date-and-time":"^0.13.0","@types/extend":"^3.0.0","@types/mime":"^2.0.0","@types/mime-types":"^2.1.0","@types/mocha":"^8.0.0","@types/nock":"^10.0.0","@types/node":"^11.13.4","@types/node-fetch":"^2.1.3","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^10.0.0","@types/tmp":"0.2.0","@types/uuid":"^8.0.0","@types/xdg-basedir":"^2.0.0","c8":"^7.0.0","codecov":"^3.0.0","form-data":"^4.0.0","gts":"^2.0.0","jsdoc":"^3.6.2","jsdoc-fresh":"^1.0.1","jsdoc-region-tag":"^1.0.2","linkinator":"^2.0.0","mocha":"^8.0.0","nock":"~13.0.0","node-fetch":"^2.2.0","proxyquire":"^2.1.3","sinon":"^10.0.0","tmp":"^0.2.0","typescript":"^3.8.3","uuid":"^8.0.0","yargs":"^16.0.0"}}')},43510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0,t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout((()=>{}),0),clearTimeout(this.timerId)}runOnce(){var e,t;this.running=!0,this.timerId=setTimeout((()=>{this.callback(),this.running=!1}),this.nextDelay),this.hasRef||null===(t=(e=this.timerId).unref)||void 0===t||t.call(e);const r=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=r*this.jitter;var o,i;this.nextDelay=r+(o=-n,i=n,Math.random()*(i-o)+o)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){this.nextDelay=this.initialDelay}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}}},42766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentialsFilterFactory=t.CallCredentialsFilter=void 0;const n=r(56994),o=r(15695),i=r(95165);class s extends n.BaseFilter{constructor(e,t){var r,n;super(),this.channel=e,this.stream=t,this.channel=e,this.stream=t;const o=t.getMethod().split("/");let s="";o.length>=2&&(s=o[1]);const a=null!==(n=null===(r=i.splitHostPort(t.getHost()))||void 0===r?void 0:r.host)&&void 0!==n?n:"localhost";this.serviceUrl=`https://${a}/${s}`}async sendMetadata(e){const t=this.stream.getCredentials().generateMetadata({service_url:this.serviceUrl}),r=await e;try{r.merge(await t)}catch(e){return this.stream.cancelWithStatus(o.Status.UNAUTHENTICATED,`Failed to retrieve auth metadata with error: ${e.message}`),Promise.reject("Failed to retrieve auth metadata")}return r.get("authorization").length>1?(this.stream.cancelWithStatus(o.Status.INTERNAL,'"authorization" metadata cannot have multiple values'),Promise.reject('"authorization" metadata cannot have multiple values')):r}}t.CallCredentialsFilter=s,t.CallCredentialsFilterFactory=class{constructor(e){this.channel=e,this.channel=e}createFilter(e){return new s(this.channel,e)}}},69587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const n=r(14664);class o{static createFromMetadataGenerator(e){return new s(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator(((t,r)=>{let o;var i;o="getRequestHeaders"in(i=e)&&"function"==typeof i.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise(((r,n)=>{e.getRequestMetadata(t.service_url,((e,t)=>{e?n(e):r(t)}))})),o.then((e=>{const t=new n.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)}),(e=>{r(e)}))}))}static createEmpty(){return new a}}t.CallCredentials=o;class i extends o{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new n.Metadata,r=await Promise.all(this.creds.map((t=>t.generateMetadata(e))));for(const e of r)t.merge(e);return t}compose(e){return new i(this.creds.concat([e]))}_equals(e){return this===e||e instanceof i&&this.creds.every(((t,r)=>t._equals(e.creds[r])))}}class s extends o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise(((t,r)=>{this.metadataGenerator(e,((e,n)=>{void 0!==n?t(n):r(e)}))}))}compose(e){return new i([this,e])}_equals(e){return this===e||e instanceof s&&this.metadataGenerator===e.metadataGenerator}}class a extends o{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},72526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2CallStream=t.InterceptingListenerImpl=t.isInterceptingListener=void 0;const n=r(97565),o=r(12087),i=r(15695),s=r(71882),a=r(14664),c=r(91524),l=r(48626),u=r(15695),{HTTP2_HEADER_STATUS:p,HTTP2_HEADER_CONTENT_TYPE:d,NGHTTP2_CANCEL:f}=n.constants;t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length},t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMessage=!1,this.pendingStatus=null}onReceiveMetadata(e){this.listener.onReceiveMetadata(e,(e=>{this.nextListener.onReceiveMetadata(e)}))}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,(e=>{this.processingMessage=!1,this.nextListener.onReceiveMessage(e),this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}))}onReceiveStatus(e){this.listener.onReceiveStatus(e,(e=>{this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)}))}},t.Http2CallStream=class{constructor(e,t,r,n,o,s){this.methodName=e,this.channel=t,this.options=r,this.channelCallCredentials=o,this.callNumber=s,this.http2Stream=null,this.pendingRead=!1,this.isWriteFilterPending=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.writesClosed=!1,this.decoder=new c.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=i.Status.UNKNOWN,this.finalStatus=null,this.subchannel=null,this.listener=null,this.internalError=null,this.filterStack=n.createFilter(this),this.credentials=o,this.disconnectListener=()=>{this.endCall({code:i.Status.UNAVAILABLE,details:"Connection dropped",metadata:new a.Metadata})},this.options.parentCall&&this.options.flags&i.Propagate.CANCELLATION&&this.options.parentCall.on("cancelled",(()=>{this.cancelWithStatus(i.Status.CANCELLED,"Cancelled by parent call")}))}outputStatus(){if(!this.statusOutput){this.statusOutput=!0;const e=this.filterStack.receiveTrailers(this.finalStatus);process.nextTick((()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus(e)})),this.subchannel&&(this.subchannel.callUnref(),this.subchannel.removeDisconnectListener(this.disconnectListener))}}trace(e){l.trace(u.LogVerbosity.DEBUG,"call_stream","["+this.callNumber+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK||(this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==i.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&0===this.unfilteredReadMessages.length&&!this.isReadFilterPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,process.nextTick((()=>{var t;this.statusOutput||(null===(t=this.listener)||void 0===t||t.onReceiveMessage(e),this.maybeOutputStatus())}))}handleFilterError(e){this.cancelWithStatus(i.Status.INTERNAL,e.message)}handleFilteredRead(e){if(null===this.finalStatus||this.finalStatus.code===i.Status.OK){if(this.isReadFilterPending=!1,this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e)),this.unfilteredReadMessages.length>0){const e=this.unfilteredReadMessages.shift();this.filterReceivedMessage(e)}}else this.maybeOutputStatus()}filterReceivedMessage(e){null===this.finalStatus||this.finalStatus.code===i.Status.OK?(this.trace("filterReceivedMessage of length "+e.length),this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(e)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))):this.maybeOutputStatus()}tryPush(e){this.isReadFilterPending?(this.trace("unfilteredReadMessages.push message of length "+(e&&e.length)),this.unfilteredReadMessages.push(e)):this.filterReceivedMessage(e)}handleTrailers(e){let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=a.Metadata.fromHttp2Headers(e)}catch(e){t=new a.Metadata}const n=t.getMap();let o=this.mappedStatusCode;if(o===i.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){const e=Number(n["grpc-status"]);e in i.Status&&(o=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let s="";"string"==typeof n["grpc-message"]&&(s=decodeURI(n["grpc-message"]),t.remove("grpc-message"),this.trace('received status details string "'+s+'" from server'));const c={code:o,details:s,metadata:t};this.endCall(c)}attachHttp2Stream(e,t,r){if(void 0!==r&&(this.filterStack=new s.FilterStack([this.filterStack,r.createFilter(this)])),null!==this.finalStatus)e.close(f);else{if(this.trace("attachHttp2Stream from subchannel "+t.getAddress()),this.http2Stream=e,this.subchannel=t,t.addDisconnectListener(this.disconnectListener),t.callRef(),e.on("response",((e,t)=>{var r;let o="";for(const t of Object.keys(e))o+="\t\t"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+o),e[":status"]){case 400:this.mappedStatusCode=i.Status.INTERNAL;break;case 401:this.mappedStatusCode=i.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=i.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=i.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=i.Status.UNAVAILABLE;break;default:this.mappedStatusCode=i.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=a.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:i.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}try{const e=this.filterStack.receiveMetadata(t);null===(r=this.listener)||void 0===r||r.onReceiveMetadata(e)}catch(e){this.endCall({code:i.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}}})),e.on("trailers",this.handleTrailers.bind(this)),e.on("data",(e=>{this.trace("receive HTTP/2 data frame of length "+e.length);const t=this.decoder.write(e);for(const e of t)this.trace("parsed message of length "+e.length),this.tryPush(e)})),e.on("end",(()=>{this.readsClosed=!0,this.maybeOutputStatus()})),e.on("close",(()=>{process.nextTick((()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===i.Status.OK)return;let r,o="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=i.Status.INTERNAL,o=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=i.Status.UNAVAILABLE,o="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=i.Status.CANCELLED,o="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=i.Status.RESOURCE_EXHAUSTED,o="Bandwidth exhausted";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=i.Status.PERMISSION_DENIED,o="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=i.Status.INTERNAL,null===this.internalError?o=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code?(r=i.Status.UNAVAILABLE,o=this.internalError.message):o=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=i.Status.INTERNAL,o=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:o,metadata:new a.Metadata})}))})),e.on("error",(e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,r]of Object.entries(o.constants.errno))if(r===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e)})),this.pendingRead||e.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");this.trace("sending data chunk of length "+this.pendingWrite.length+" (deferred)"),e.write(this.pendingWrite,this.pendingWriteCallback)}this.maybeCloseWrites()}}start(e,t){this.trace("Sending metadata"),this.listener=t,this.channel._startCallStream(this,e)}destroyHttp2Stream(){var e;if(null!==this.http2Stream&&!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===i.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new a.Metadata})}getDeadline(){if(this.options.parentCall&&this.options.flags&i.Propagate.DEADLINE){const e=this.options.parentCall.getDeadline(),t=this.options.deadline,r=e instanceof Date?e.getTime():e,n=t instanceof Date?t.getTime():t;return Math.min(r,n)}return this.options.deadline}getCredentials(){return this.credentials}setCredentials(e){this.credentials=this.channelCallCredentials.compose(e)}getStatus(){return this.finalStatus}getPeer(){var e,t;return null!==(t=null===(e=this.subchannel)||void 0===e?void 0:e.getAddress())&&void 0!==t?t:this.channel.getTarget()}getMethod(){return this.methodName}getHost(){return this.options.host}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,null===this.http2Stream)this.pendingRead=!0;else{if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();return void this.push(e)}this.http2Stream.resume()}}maybeCloseWrites(){this.writesClosed&&!this.isWriteFilterPending&&null!==this.http2Stream&&(this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end())}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const n={message:t,flags:e.flags},o=null!==(r=e.callback)&&void 0!==r?r:()=>{};this.isWriteFilterPending=!0,this.filterStack.sendMessage(Promise.resolve(n)).then((e=>{this.isWriteFilterPending=!1,null===this.http2Stream?(this.trace("deferring writing data chunk of length "+e.message.length),this.pendingWrite=e.message,this.pendingWriteCallback=o):(this.trace("sending data chunk of length "+e.message.length),this.http2Stream.write(e.message,o),this.maybeCloseWrites())}),this.handleFilterError.bind(this))}halfClose(){this.trace("end() called"),this.writesClosed=!0,this.maybeCloseWrites()}}},13509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const n=r(28614),o=r(92413),i=r(15695);t.callErrorFromStatus=function(e){const t=`${e.code} ${i.Status[e.code]}: ${e.details}`;return Object.assign(new Error(t),e)};class s extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=s;class a extends o.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class c extends o.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=c;class l extends o.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=l},49357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;const n=r(4016),o=r(69587),i=r(98283);function s(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}function a(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)}class c{constructor(e){this.callCredentials=e||o.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,n){if(s(e,"Root certificate"),s(t,"Private key"),s(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");return new u(e||i.getDefaultRootsData(),t||null,r||null,n||{})}static createInsecure(){return new l}}t.ChannelCredentials=c;class l extends c{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class u extends c{constructor(e,t,r,o){super(),this.rootCerts=e,this.privateKey=t,this.certChain=r,this.verifyOptions=o;const s=n.createSecureContext({ca:e||void 0,key:t||void 0,cert:r||void 0,ciphers:i.CIPHER_SUITES});this.connectionOptions={secureContext:s},o&&o.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=(e,t)=>o.checkServerIdentity(e,{raw:t.raw}))}compose(e){const t=this.callCredentials.compose(e);return new p(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&!!a(this.rootCerts,e.rootCerts)&&!!a(this.privateKey,e.privateKey)&&!!a(this.certChain,e.certChain)&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class p extends c{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new p(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof p&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},38938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc-node.max_session_memory":!0},t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let o=0;o<r.length;o+=1){if(r[o]!==n[o])return!1;if(e[r[o]]!==t[n[o]])return!1}return!0}},72253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=t.ConnectivityState=void 0;const n=r(72526),o=r(49357),i=r(83970),s=r(90651),a=r(24219),c=r(15695),l=r(71882),u=r(42766),p=r(47169),d=r(94930),f=r(83513),h=r(48626),g=r(2829),m=r(86042),y=r(95165);var v;!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(v=t.ConnectivityState||(t.ConnectivityState={}));let b=0;t.ChannelImplementation=class{constructor(e,t,r){var n,b,w;if(this.credentials=t,this.options=r,this.connectivityState=v.IDLE,this.currentPicker=new a.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof o.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&("object"!=typeof r||!Object.values(r).every((e=>"string"==typeof e||"number"==typeof e||void 0===e))))throw new TypeError("Channel options must be an object with string or number values");const E=y.parseUri(e);if(null===E)throw new Error(`Could not parse target name "${e}"`);const _=f.mapUriDefaultScheme(E);if(null===_)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval((()=>{}),2147483647),null===(b=(n=this.callRefTimer).unref)||void 0===b||b.call(n),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=f.getDefaultAuthority(_);const O=m.mapProxyName(_,r);this.target=O.target,this.options=Object.assign({},this.options,O.extraOptions),this.subchannelPool=s.getSubchannelPool(0===(null!==(w=r["grpc.use_local_subchannel_pool"])&&void 0!==w?w:0));const S={createSubchannel:(e,t)=>this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials),updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(const{callStream:e,callMetadata:t,callConfig:n}of r)this.tryPick(e,t,n);this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,S,r,(e=>{this.configSelector=e,process.nextTick((()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:t,callMetadata:r}of e)this.tryGetConfig(t,r);this.configSelectionQueue=[]}))}),(e=>{this.configSelectionQueue.length>0&&h.trace(c.LogVerbosity.DEBUG,"channel","Name resolution failed for target "+y.uriToString(this.target)+" with calls queued for config selection");const t=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:r,callMetadata:n}of t)n.getOptions().waitForReady?(this.callRefTimerRef(),this.configSelectionQueue.push({callStream:r,callMetadata:n})):r.cancelWithStatus(e.code,e.details)})),this.filterStackFactory=new l.FilterStackFactory([new u.CallCredentialsFilterFactory(this),new p.DeadlineFilterFactory(this),new g.MaxMessageSizeFilterFactory(this.options),new d.CompressionFilterFactory(this)])}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(h.trace(c.LogVerbosity.DEBUG,"channel","callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;this.callRefTimer.hasRef&&!this.callRefTimer.hasRef()||(h.trace(c.LogVerbosity.DEBUG,"channel","callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}pushPick(e,t,r){this.pickQueue.push({callStream:e,callMetadata:t,callConfig:r}),this.callRefTimerRef()}tryPick(e,t,r){var n,o,i;const s=this.currentPicker.pick({metadata:t,extraPickInfo:r.pickInformation});switch(h.trace(c.LogVerbosity.DEBUG,"channel","Pick result: "+a.PickResultType[s.pickResultType]+" subchannel: "+(null===(n=s.subchannel)||void 0===n?void 0:n.getAddress())+" status: "+(null===(o=s.status)||void 0===o?void 0:o.code)+" "+(null===(i=s.status)||void 0===i?void 0:i.details)),s.pickResultType){case a.PickResultType.COMPLETE:if(null===s.subchannel)e.cancelWithStatus(c.Status.UNAVAILABLE,"Request dropped by load balancing policy");else{if(s.subchannel.getConnectivityState()!==v.READY){h.log(c.LogVerbosity.ERROR,"Error: COMPLETE pick result subchannel "+s.subchannel.getAddress()+" has state "+v[s.subchannel.getConnectivityState()]),this.pushPick(e,t,r);break}e.filterStack.sendMetadata(Promise.resolve(t.clone())).then((n=>{var o,i,a;const l=s.subchannel.getConnectivityState();if(l===v.READY)try{s.subchannel.startCallStream(n,e,null!==(o=s.extraFilterFactory)&&void 0!==o?o:void 0),null===(i=r.onCommitted)||void 0===i||i.call(r),null===(a=s.onCallStarted)||void 0===a||a.call(s)}catch(n){"ERR_HTTP2_GOAWAY_SESSION"===n.code?(h.trace(c.LogVerbosity.INFO,"channel","Failed to start call on picked subchannel "+s.subchannel.getAddress()+" with error "+n.message+". Retrying pick"),this.tryPick(e,t,r)):(h.trace(c.LogVerbosity.INFO,"channel","Failed to start call on picked subchanel "+s.subchannel.getAddress()+" with error "+n.message+". Ending call"),e.cancelWithStatus(c.Status.INTERNAL,`Failed to start HTTP/2 stream with error: ${n.message}`))}else h.trace(c.LogVerbosity.INFO,"channel","Picked subchannel "+s.subchannel.getAddress()+" has state "+v[l]+" after metadata filters. Retrying pick"),this.tryPick(e,t,r)}),(t=>{e.cancelWithStatus("number"==typeof t.code?t.code:c.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${t.message}`)}))}break;case a.PickResultType.QUEUE:this.pushPick(e,t,r);break;case a.PickResultType.TRANSIENT_FAILURE:t.getOptions().waitForReady?this.pushPick(e,t,r):e.cancelWithStatus(s.status.code,s.status.details);break;case a.PickResultType.DROP:e.cancelWithStatus(s.status.code,s.status.details);break;default:throw new Error(`Invalid state: unknown pickResultType ${s.pickResultType}`)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex((t=>t===e));t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){h.trace(c.LogVerbosity.DEBUG,"connectivity_state",y.uriToString(this.target)+" "+v[this.connectivityState]+" -> "+v[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback())}tryGetConfig(e,t){if(null===this.configSelector)this.resolvingLoadBalancer.exitIdle(),this.configSelectionQueue.push({callStream:e,callMetadata:t}),this.callRefTimerRef();else{const r=this.configSelector(e.getMethod(),t);r.status===c.Status.OK?this.tryPick(e,t,r):e.cancelWithStatus(r.status,"Failed to route call to method "+e.getMethod())}}_startCallStream(e,t){this.tryGetConfig(e,t.clone())}close(){this.resolvingLoadBalancer.destroy(),this.updateState(v.SHUTDOWN),clearInterval(this.callRefTimer),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return y.uriToString(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&this.resolvingLoadBalancer.exitIdle(),t}watchConnectivityState(e,t,r){if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),i=new Date;if(t===-1/0||e<=i)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));n=setTimeout((()=>{this.removeConnectivityStateWatcher(o),r(new Error("Deadline passed without connectivity state change"))}),e.getTime()-i.getTime())}const o={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(o)}createCall(e,t,r,o,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");const s=function(){const e=b;return b+=1,b>=Number.MAX_SAFE_INTEGER&&(b=0),e}();h.trace(c.LogVerbosity.DEBUG,"channel",y.uriToString(this.target)+" createCall ["+s+'] method="'+e+'", deadline='+t);const a={deadline:t,flags:null!=i?i:c.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:o};return new n.Http2CallStream(e,this,a,this.filterStackFactory,this.credentials._getCallCredentials(),s)}}},3740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const n=r(14664),o=r(72526),i=r(15695);class s extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,s)}}t.InterceptorConfigurationError=s,t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}},t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const a={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},c={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,n,o,i;this.nextCall=e,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:c.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:c.sendMessage,halfClose:null!==(o=t.halfClose)&&void 0!==o?o:c.halfClose,cancel:null!==(i=t.cancel)&&void 0!==i?i:c.cancel}:c}cancelWithStatus(e,t){this.requester.cancel((()=>{this.nextCall.cancelWithStatus(e,t)}))}getPeer(){return this.nextCall.getPeer()}start(e,t){var r,n,i,s,c,l;const u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(s=null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i?void 0:i.bind(t))&&void 0!==s?s:e=>{},onReceiveStatus:null!==(l=null===(c=null==t?void 0:t.onReceiveStatus)||void 0===c?void 0:c.bind(t))&&void 0!==l?l:e=>{}};this.requester.start(e,u,((e,t)=>{var r,n,i;let s;if(o.isInterceptingListener(t))s=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:a.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:a.onReceiveMessage,onReceiveStatus:null!==(i=t.onReceiveStatus)&&void 0!==i?i:a.onReceiveStatus};s=new o.InterceptingListenerImpl(e,u)}this.nextCall.start(e,s)}))}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,(t=>{this.processingMessage=!1,this.nextCall.sendMessageWithContext(e,t),this.pendingHalfClose&&this.nextCall.halfClose()}))}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose((()=>{this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()}))}setCredentials(e){this.nextCall.setCredentials(e)}};class l{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}setCredentials(e){this.call.setCredentials(e)}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(i.Status.INTERNAL,`Request message serialization failure: ${e.message}`)}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var o;let s;try{s=this.methodDefinition.responseDeserialize(e)}catch(e){return r={code:i.Status.INTERNAL,details:`Response message parsing error: ${e.message}`,metadata:new n.Metadata},void this.call.cancelWithStatus(r.code,r.details)}null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o||o.call(t,s)},onReceiveStatus:e=>{var n,o;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o||o.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class u extends l{constructor(e,t){super(e,t)}start(e,t){var r,n;let o=!1;const i={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;o=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;o||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,i),this.call.startRead()}}class p extends l{}t.getInterceptingCall=function(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let o=[];o=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map((e=>e(t)))).filter((e=>e)):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map((e=>e(t)))).filter((e=>e));const i=Object.assign({},r,{method_definition:t});return o.reduceRight(((e,t)=>r=>t(r,e)),(e=>function(e,t,r){const n=function(e,t,r){var n,o;const i=null!==(n=r.deadline)&&void 0!==n?n:1/0,s=r.host,a=null!==(o=r.parent)&&void 0!==o?o:null,c=r.propagate_flags,l=r.credentials,u=e.createCall(t,i,s,a,c);return l&&u.setCredentials(l),u}(e,r.path,t);return r.responseStream?new p(n,r):new u(n,r)}(n,e,t)))(i)}},8279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(13509),o=r(72253),i=r(15695),s=r(14664),a=r(3740),c=Symbol(),l=Symbol(),u=Symbol(),p=Symbol();function d(e){return"function"==typeof e}t.Client=class{constructor(e,t,r={}){var n,i;if(r=Object.assign({},r),this[l]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[u]=null!==(i=r.interceptor_providers)&&void 0!==i?i:[],delete r.interceptor_providers,this[l].length>0&&this[u].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[p]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[c]=r.channelOverride;else if(r.channelFactoryOverride){const n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[c]=n(e,t,r)}else this[c]=new o.ChannelImplementation(e,t,r)}close(){this[c].close()}getChannel(){return this[c]}waitForReady(e,t){const r=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let i;try{i=this[c].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(i===o.ConnectivityState.READY)t();else try{this[c].watchConnectivityState(i,e,r)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(d(e))return{metadata:new s.Metadata,options:{},callback:e};if(d(t))return e instanceof s.Metadata?{metadata:e,options:{},callback:t}:{metadata:new s.Metadata,options:e,callback:t};if(!(e instanceof s.Metadata&&t instanceof Object&&d(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,o,s,d,f){var h,g;const m=this.checkOptionalUnaryResponseArguments(s,d,f),y={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r};let v={argument:o,metadata:m.metadata,call:new n.ClientUnaryCallImpl,channel:this[c],methodDefinition:y,callOptions:m.options,callback:m.callback};this[p]&&(v=this[p](v));const b=v.call,w={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(h=v.callOptions.interceptors)&&void 0!==h?h:[],callInterceptorProviders:null!==(g=v.callOptions.interceptor_providers)&&void 0!==g?g:[]},E=a.getInterceptingCall(w,v.methodDefinition,v.callOptions,v.channel);b.call=E,v.callOptions.credentials&&E.setCredentials(v.callOptions.credentials);let _=null,O=!1;return E.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==_&&E.cancelWithStatus(i.Status.INTERNAL,"Too many responses received"),_=e},onReceiveStatus(e){O||(O=!0,e.code===i.Status.OK?v.callback(null,_):v.callback(n.callErrorFromStatus(e)),b.emit("status",e))}}),E.sendMessage(o),E.halfClose(),b}makeClientStreamRequest(e,t,r,o,s,d){var f,h;const g=this.checkOptionalUnaryResponseArguments(o,s,d),m={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r};let y={metadata:g.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[c],methodDefinition:m,callOptions:g.options,callback:g.callback};this[p]&&(y=this[p](y));const v=y.call,b={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(f=y.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(h=y.callOptions.interceptor_providers)&&void 0!==h?h:[]},w=a.getInterceptingCall(b,y.methodDefinition,y.callOptions,y.channel);v.call=w,y.callOptions.credentials&&w.setCredentials(y.callOptions.credentials);let E=null,_=!1;return w.start(y.metadata,{onReceiveMetadata:e=>{v.emit("metadata",e)},onReceiveMessage(e){null!==E&&w.cancelWithStatus(i.Status.INTERNAL,"Too many responses received"),E=e},onReceiveStatus(e){_||(_=!0,e.code===i.Status.OK?y.callback(null,E):y.callback(n.callErrorFromStatus(e)),v.emit("status",e))}}),v}checkMetadataAndOptions(e,t){let r,n;return e instanceof s.Metadata?(r=e,n=t||{}):(n=e||{},r=new s.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,o,s,d){var f,h;const g=this.checkMetadataAndOptions(s,d),m={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r};let y={argument:o,metadata:g.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[c],methodDefinition:m,callOptions:g.options};this[p]&&(y=this[p](y));const v=y.call,b={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(f=y.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(h=y.callOptions.interceptor_providers)&&void 0!==h?h:[]},w=a.getInterceptingCall(b,y.methodDefinition,y.callOptions,y.channel);v.call=w,y.callOptions.credentials&&w.setCredentials(y.callOptions.credentials);let E=!1;return w.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){E||(E=!0,v.push(null),e.code!==i.Status.OK&&v.emit("error",n.callErrorFromStatus(e)),v.emit("status",e))}}),w.sendMessage(o),w.halfClose(),v}makeBidiStreamRequest(e,t,r,o,s){var d,f;const h=this.checkMetadataAndOptions(o,s),g={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r};let m={metadata:h.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[c],methodDefinition:g,callOptions:h.options};this[p]&&(m=this[p](m));const y=m.call,v={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(d=m.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=m.callOptions.interceptor_providers)&&void 0!==f?f:[]},b=a.getInterceptingCall(v,m.methodDefinition,m.callOptions,m.channel);y.call=b,m.callOptions.credentials&&b.setCredentials(m.callOptions.credentials);let w=!1;return b.start(m.metadata,{onReceiveMetadata(e){y.emit("metadata",e)},onReceiveMessage(e){y.push(e)},onReceiveStatus(e){w||(w=!0,y.push(null),e.code!==i.Status.OK&&y.emit("error",n.callErrorFromStatus(e)),y.emit("status",e))}}),y}}},94930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const n=r(78761),o=r(56994);class i{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class s extends i{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class a extends i{compressMessage(e){return new Promise(((t,r)=>{n.deflate(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{n.inflate(e,((e,n)=>{e?r(e):t(n)}))}))}}class c extends i{compressMessage(e){return new Promise(((t,r)=>{n.gzip(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{n.unzip(e,((e,n)=>{e?r(e):t(n)}))}))}}class l extends i{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}class u extends o.BaseFilter{constructor(){super(...arguments),this.sendCompression=new s,this.receiveCompression=new s}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=function(e){switch(e){case"identity":return new s;case"deflate":return new a;case"gzip":return new c;default:return new l(e)}}(e))}return e.remove("grpc-encoding"),e.remove("grpc-accept-encoding"),e}async sendMessage(e){const t=await e,r=void 0!==t.flags&&0==(2&t.flags);return{message:await this.sendCompression.writeMessage(t.message,r),flags:t.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=u,t.CompressionFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new u}}},15695:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,(o=t.Status||(t.Status={}))[o.OK=0]="OK",o[o.CANCELLED=1]="CANCELLED",o[o.UNKNOWN=2]="UNKNOWN",o[o.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",o[o.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",o[o.NOT_FOUND=5]="NOT_FOUND",o[o.ALREADY_EXISTS=6]="ALREADY_EXISTS",o[o.PERMISSION_DENIED=7]="PERMISSION_DENIED",o[o.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",o[o.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",o[o.ABORTED=10]="ABORTED",o[o.OUT_OF_RANGE=11]="OUT_OF_RANGE",o[o.UNIMPLEMENTED=12]="UNIMPLEMENTED",o[o.INTERNAL=13]="INTERNAL",o[o.UNAVAILABLE=14]="UNAVAILABLE",o[o.DATA_LOSS=15]="DATA_LOSS",o[o.UNAUTHENTICATED=16]="UNAUTHENTICATED",(n=t.LogVerbosity||(t.LogVerbosity={}))[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",(r=t.Propagate||(t.Propagate={}))[r.DEADLINE=1]="DEADLINE",r[r.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",r[r.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",r[r.CANCELLATION=8]="CANCELLATION",r[r.DEFAULTS=65535]="DEFAULTS",t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},47169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadlineFilterFactory=t.DeadlineFilter=void 0;const n=r(15695),o=r(56994),i=[["m",1],["S",1e3],["M",6e4],["H",36e5]];class s extends o.BaseFilter{constructor(e,t){var r,o;super(),this.channel=e,this.callStream=t,this.timer=null;const i=t.getDeadline();i instanceof Date?this.deadline=i.getTime():this.deadline=i;const s=(new Date).getTime();let a=this.deadline-s;a<=0?process.nextTick((()=>{t.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")})):this.deadline!==1/0&&(this.timer=setTimeout((()=>{t.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")}),a),null===(o=(r=this.timer).unref)||void 0===o||o.call(r))}async sendMetadata(e){if(this.deadline===1/0)return e;const t=await e,r=function(e){const t=(new Date).getTime(),r=Math.max(e-t,0);for(const[e,t]of i){const n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw new Error("Deadline is too far in the future")}(this.deadline);return t.set("grpc-timeout",r),t}receiveTrailers(e){return this.timer&&clearTimeout(this.timer),e}}t.DeadlineFilter=s,t.DeadlineFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new s(this.channel,e)}}},20495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48626);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}});var o=r(83513);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return o.registerResolver}});var i=r(95165);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return i.uriToString}});var s=r(43510);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return s.BackoffTimeout}});var a=r(21192);Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return a.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return a.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return a.validateLoadBalancingConfig}});var c=r(18825);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return c.subchannelAddressToString}});var l=r(44487);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return l.ChildLoadBalancerHandler}});var u=r(24219);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return u.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return u.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return u.PickResultType}});var p=r(56994);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return p.BaseFilter}});var d=r(71882);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return d.FilterStackFactory}})},71882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}}t.FilterStack=r,t.FilterStackFactory=class{constructor(e){this.factories=e}createFilter(e){return new r(this.factories.map((t=>t.createFilter(e))))}}},56994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0,t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},86042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;const n=r(48626),o=r(15695),i=r(83513),s=r(98605),a=r(4016),c=r(48626),l=r(18825),u=r(95165),p=r(78835);function d(e){c.trace(o.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var r;const i={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return i;const s=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new p.URL(t)}catch(e){return n.log(o.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return n.log(o.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let i=null;e.username&&(e.password?(n.log(o.LogVerbosity.INFO,"userinfo found in proxy URI"),i=`${e.username}:${e.password}`):i=e.username);const s=e.hostname;let a=e.port;""===a&&(a="80");const c={address:`${s}:${a}`};return i&&(c.creds=i),d("Proxy server "+c.address+" set by environment variable "+r),c}();if(!s.address)return i;const a=u.splitHostPort(e.path);if(!a)return i;const c=a.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(d("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===c)return d("Not using proxy for target in no_proxy list: "+u.uriToString(e)),i;const l={"grpc.http_connect_target":u.uriToString(e)};return s.creds&&(l["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:l}},t.getProxiedConnection=function(e,t,r){if(!("grpc.http_connect_target"in t))return Promise.resolve({});const c=t["grpc.http_connect_target"],p=u.parseUri(c);if(null===p)return Promise.resolve({});const f={method:"CONNECT",path:p.path};l.isTcpSubchannelAddress(e)?(f.host=e.host,f.port=e.port):f.socketPath=e.path,"grpc.http_connect_creds"in t&&(f.headers={"Proxy-Authorization":"Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")});const h=l.subchannelAddressToString(e);return d("Using proxy "+h+" to connect to "+f.path),new Promise(((e,t)=>{const c=s.request(f);c.once("connect",((s,l,g)=>{var m;if(c.removeAllListeners(),l.removeAllListeners(),200===s.statusCode)if(d("Successfully connected to "+f.path+" through proxy "+h),"secureContext"in r){const n=i.getDefaultAuthority(p),o=u.splitHostPort(n),s=null!==(m=null==o?void 0:o.host)&&void 0!==m?m:n,c=a.connect(Object.assign({host:s,servername:s,socket:l},r),(()=>{d("Successfully established a TLS connection to "+f.path+" through proxy "+h),e({socket:c,realTarget:p})}));c.on("error",(()=>{t()}))}else e({socket:l,realTarget:p});else n.log(o.LogVerbosity.ERROR,"Failed to connect to "+f.path+" through proxy "+h+" with status "+s.statusCode),t()})),c.once("error",(e=>{c.removeAllListeners(),n.log(o.LogVerbosity.ERROR,"Failed to connect to proxy "+h+" with error "+e.message),t()})),c.end()}))}},66636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const n=r(69587);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});const o=r(72253);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return o.ConnectivityState}}),Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return o.ChannelImplementation}});const i=r(49357);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return i.ChannelCredentials}});const s=r(8279);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return s.Client}});const a=r(15695);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return a.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return a.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return a.Propagate}});const c=r(48626),l=r(72011);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});const u=r(14664);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return u.Metadata}});const p=r(40903);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return p.Server}});const d=r(35919);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return d.ServerCredentials}});const f=r(80930);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return f.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),combineCallCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),createInsecure:i.ChannelCredentials.createInsecure,createSsl:i.ChannelCredentials.createSsl,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{c.setLogger(e)},t.setLogVerbosity=e=>{c.setLoggerVerbosity(e)},t.getClientChannel=e=>s.Client.prototype.getChannel.call(e);var h=r(3740);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return h.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return h.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return h.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return h.InterceptorConfigurationError}});const g=r(20495);t.experimental=g;const m=r(83513),y=r(21192);m.registerAll(),y.registerAll()},44487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const n=r(21192),o=r(72253);t.ChildLoadBalancerHandler=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e!==o.ConnectivityState.READY)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(e,t,r){let o;if(null===this.currentChild||this.currentChild.getTypeName()!==t.getLoadBalancerName()){const e=new this.ChildPolicyHelper(this),r=n.createLoadBalancer(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,o=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,o=this.pendingChild)}else o=null===this.pendingChild?this.currentChild:this.pendingChild;o.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},56659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0;const n=r(21192),o=r(72253),i=r(24219),s=r(18825),a=r(48626),c=r(15695);function l(e){a.trace(c.LogVerbosity.DEBUG,"pick_first",e)}const u="pick_first";class p{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new p}}t.PickFirstLoadBalancingConfig=p;class d{constructor(e){this.subchannel=e}pick(e){return{pickResultType:i.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,extraFilterFactory:null,onCallStarted:null}}}class f{constructor(e){this.channelControlHelper=e,this.latestAddressList=[],this.subchannels=[],this.currentState=o.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{if(this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,e===this.subchannels[this.currentSubchannelIndex]&&r===o.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),r!==o.ConnectivityState.READY){if(this.triedAllSubchannels&&this.subchannelStateCounts[o.ConnectivityState.IDLE]===this.subchannels.length)return this.resetSubchannelList(),void this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this));if(null===this.currentPick)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?o.ConnectivityState.CONNECTING:this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?o.ConnectivityState.TRANSIENT_FAILURE:o.ConnectivityState.IDLE,e!==this.currentState&&(e===o.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new i.UnavailablePicker):this.updateState(e,new i.QueuePicker(this)))}else this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this))}else this.pickSubchannel(e)},this.pickedSubchannelStateListener=(e,t,r)=>{if(r!==o.ConnectivityState.READY)if(this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.subchannels.length>0)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?o.ConnectivityState.CONNECTING:this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?o.ConnectivityState.TRANSIENT_FAILURE:o.ConnectivityState.IDLE,e===o.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new i.UnavailablePicker):this.updateState(e,new i.QueuePicker(this))}else this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this));else this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this))},this.connectionDelayTimeout=setTimeout((()=>{}),0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(const[e,t]of this.subchannels.entries())if(e>this.currentSubchannelIndex){const r=t.getConnectivityState();if(r===o.ConnectivityState.IDLE||r===o.ConnectivityState.CONNECTING)return void this.startConnecting(e)}this.triedAllSubchannels=!0}}startConnecting(e){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.subchannels[e].getConnectivityState()===o.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.subchannels[e].getAddress()),process.nextTick((()=>{this.subchannels[e].startConnecting()}))),this.connectionDelayTimeout=setTimeout((()=>{this.startNextSubchannelConnecting()}),250)}pickSubchannel(e){l("Pick subchannel with address "+e.getAddress()),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=e,this.updateState(o.ConnectivityState.READY,new d(e)),e.addConnectivityStateListener(this.pickedSubchannelStateListener),e.ref(),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout)}updateState(e,t){l(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.currentSubchannelIndex=0,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],this.triedAllSubchannels=!1}connectToAddressList(){this.resetSubchannelList(),l("Connect to address list "+this.latestAddressList.map((e=>s.subchannelAddressToString(e)))),this.subchannels=this.latestAddressList.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels)e.ref();for(const e of this.subchannels)if(e.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[e.getConnectivityState()]+=1,e.getConnectivityState()===o.ConnectivityState.READY)return this.pickSubchannel(e),void this.resetSubchannelList();for(const[e,t]of this.subchannels.entries()){const r=t.getConnectivityState();if(r===o.ConnectivityState.IDLE||r===o.ConnectivityState.CONNECTING)return this.startConnecting(e),void(null===this.currentPick&&this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this)))}null===this.currentPick&&this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker)}updateAddressList(e,t){0!==this.subchannels.length&&this.latestAddressList.every(((t,r)=>e[r]===t))||(this.latestAddressList=e,this.connectToAddressList())}exitIdle(){for(const e of this.subchannels)e.startConnecting();this.currentState===o.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList(),(this.currentState===o.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution()}resetBackoff(){}destroy(){this.resetSubchannelList(),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener))}getTypeName(){return u}}t.PickFirstLoadBalancer=f,t.setup=function(){n.registerLoadBalancerType(u,f,p)}},55174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;const n=r(21192),o=r(72253),i=r(24219),s=r(18825),a=r(48626),c=r(15695);function l(e){a.trace(c.LogVerbosity.DEBUG,"round_robin",e)}const u="round_robin";class p{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new p}}class d{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:i.PickResultType.COMPLETE,subchannel:t,status:null,extraFilterFactory:null,onCallStarted:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class f{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=o.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,this.calculateAndUpdateState(),r!==o.ConnectivityState.TRANSIENT_FAILURE&&r!==o.ConnectivityState.IDLE||(this.channelControlHelper.requestReresolution(),e.startConnecting())}}calculateAndUpdateState(){if(this.subchannelStateCounts[o.ConnectivityState.READY]>0){const e=this.subchannels.filter((e=>e.getConnectivityState()===o.ConnectivityState.READY));let t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(o.ConnectivityState.READY,new d(e,t))}else this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this)):this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker):this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this))}updateState(e,t){l(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),l("Connect to address list "+e.map((e=>s.subchannelAddressToString(e)))),this.subchannels=e.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels){e.ref(),e.addConnectivityStateListener(this.subchannelStateListener);const t=e.getConnectivityState();this.subchannelStateCounts[t]+=1,t!==o.ConnectivityState.IDLE&&t!==o.ConnectivityState.TRANSIENT_FAILURE||e.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return u}}t.RoundRobinLoadBalancer=f,t.setup=function(){n.registerLoadBalancerType(u,f,p)}},21192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerLoadBalancerType=void 0;const n=r(56659),o=r(55174),i={};t.registerLoadBalancerType=function(e,t,r){i[e]={LoadBalancer:t,LoadBalancingConfig:r}},t.createLoadBalancer=function(e,t){const r=e.getLoadBalancerName();return r in i?new i[r].LoadBalancer(t):null},t.isLoadBalancerNameRegistered=function(e){return e in i},t.getFirstUsableConfig=function(e,t=!1){for(const t of e)if(t.getLoadBalancerName()in i)return t;return t?new n.PickFirstLoadBalancingConfig:null},t.validateLoadBalancingConfig=function(e){if(null===e||"object"!=typeof e)throw new Error("Load balancing config must be an object");const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const r=t[0];if(r in i)return i[r].LoadBalancingConfig.createFromJson(e[r]);throw new Error(`Unrecognized load balancing config name ${r}`)},t.registerAll=function(){n.setup(),o.setup()}},48626:(e,t,r)=>{"use strict";var n,o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=r(15695);let c=console,l=a.LogVerbosity.ERROR;switch((null!==(o=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==o?o:"").toUpperCase()){case"DEBUG":l=a.LogVerbosity.DEBUG;break;case"INFO":l=a.LogVerbosity.INFO;break;case"ERROR":l=a.LogVerbosity.ERROR}t.getLogger=()=>c,t.setLogger=e=>{c=e},t.setLoggerVerbosity=e=>{l=e},t.log=(e,...t)=>{e>=l&&"function"==typeof c.error&&c.error(...t)};const u=(null!==(s=null!==(i=process.env.GRPC_NODE_TRACE)&&void 0!==i?i:process.env.GRPC_TRACE)&&void 0!==s?s:"").split(","),p=u.includes("all");t.trace=function(e,r,n){(p||u.includes(r))&&t.log(e,(new Date).toISOString()+" | "+r+" | "+n)}},72011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;const n=r(8279),o={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function i(e){return["__proto__","prototype","constructor"].includes(e)}function s(e,t,r){r||(r={});class s extends n.Client{}return Object.keys(e).forEach((t=>{if(i(t))return;const r=e[t];let n;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");n=r.requestStream?r.responseStream?"bidi":"client_stream":r.responseStream?"server_stream":"unary";const a=r.requestSerialize,c=r.responseDeserialize,l=function(e,t,r,n){return function(...o){return e.call(this,t,r,n,...o)}}(o[n],r.path,a,c);s.prototype[t]=l,Object.assign(s.prototype[t],r),r.originalName&&!i(r.originalName)&&(s.prototype[r.originalName]=s.prototype[t])})),s.service=e,s}t.makeClientConstructor=s,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n],a=n.split(".");if(a.some((e=>i(e))))continue;const c=a[a.length-1];let l=t;for(const e of a.slice(0,-1))l[e]||(l[e]={}),l=l[e];r=o,l[c]="format"in r?o:s(o,0,{})}var r;return t}},2829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxMessageSizeFilterFactory=t.MaxMessageSizeFilter=void 0;const n=r(56994),o=r(15695);class i extends n.BaseFilter{constructor(e,t){super(),this.options=e,this.callStream=t,this.maxSendMessageSize=o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(-1===this.maxSendMessageSize)return e;{const t=await e;return t.message.length>this.maxSendMessageSize?(this.callStream.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`),Promise.reject("Message too large")):t}}async receiveMessage(e){if(-1===this.maxReceiveMessageSize)return e;{const t=await e;return t.length>this.maxReceiveMessageSize?(this.callStream.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`),Promise.reject("Message too large")):t}}}t.MaxMessageSizeFilter=i,t.MaxMessageSizeFilterFactory=class{constructor(e){this.options=e}createFilter(e){return new i(this.options,e)}}},14664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const n=r(48626),o=r(15695),i=/^[0-9a-z_.-]+$/,s=/^[ -~]*$/;function a(e){return e.endsWith("-bin")}function c(e){return e.toLowerCase()}function l(e,t){if(!function(e){return i.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(a(e)){if(!(t instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(t instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return s.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class u{constructor(e){this.internalRepr=new Map,this.options=void 0===e?{}:e}set(e,t){l(e=c(e),t),this.internalRepr.set(e,[t])}add(e,t){l(e=c(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){l(e=c(e)),this.internalRepr.delete(e)}get(e){return l(e=c(e)),this.internalRepr.get(e)||[]}getMap(){const e={};return this.internalRepr.forEach(((t,r)=>{if(t.length>0){const n=t[0];e[r]=n instanceof Buffer?n.slice():n}})),e}clone(){const e=new u(this.options),t=e.internalRepr;return this.internalRepr.forEach(((e,r)=>{const n=e.map((e=>e instanceof Buffer?Buffer.from(e):e));t.set(r,n)})),e}merge(e){e.internalRepr.forEach(((e,t)=>{const r=(this.internalRepr.get(t)||[]).concat(e);this.internalRepr.set(t,r)}))}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};return this.internalRepr.forEach(((t,r)=>{e[r]=t.map((e=>e instanceof Buffer?e.toString("base64"):e))})),e}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(e){const t=new u;return Object.keys(e).forEach((r=>{if(":"===r.charAt(0))return;const i=e[r];try{a(r)?Array.isArray(i)?i.forEach((e=>{t.add(r,Buffer.from(e,"base64"))})):void 0!==i&&(function(e){return!e.startsWith("grpc-")}(r)?i.split(",").forEach((e=>{t.add(r,Buffer.from(e.trim(),"base64"))})):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach((e=>{t.add(r,e)})):void 0!==i&&t.add(r,i)}catch(e){const t=`Failed to add metadata entry ${r}: ${i}. ${e.message}. For more information see https://github.com/grpc/grpc-node/issues/1173`;n.log(o.LogVerbosity.ERROR,t)}})),t}}t.Metadata=u},24219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const n=r(14664),o=r(15695);var i;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(i=t.PickResultType||(t.PickResultType={})),t.UnavailablePicker=class{constructor(e){this.status=void 0!==e?e:{code:o.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata}}pick(e){return{pickResultType:i.TRANSIENT_FAILURE,subchannel:null,status:this.status,extraFilterFactory:null,onCallStarted:null}}},t.QueuePicker=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick((()=>{this.loadBalancer.exitIdle()})),this.calledExitIdle=!0),{pickResultType:i.QUEUE,subchannel:null,status:null,extraFilterFactory:null,onCallStarted:null}}}},56982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(83513),o=r(40881),i=r(31669),s=r(80235),a=r(15695),c=r(14664),l=r(48626),u=r(15695),p=r(95165),d=r(11631);function f(e){l.trace(u.LogVerbosity.DEBUG,"dns_resolver",e)}const h=i.promisify(o.resolveTxt),g=i.promisify(o.lookup);class m{constructor(e,t,r){var n,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,f("Resolver constructed for target "+p.uriToString(e));const i=p.splitHostPort(e.path);null===i?(this.ipResult=null,this.dnsHostname=null,this.port=null):d.isIPv4(i.host)||d.isIPv6(i.host)?(this.ipResult=[{host:i.host,port:null!==(n=i.port)&&void 0!==n?n:443}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=i.host,this.port=null!==(o=i.port)&&void 0!==o?o:443),this.percentage=100*Math.random(),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${p.uriToString(this.target)}`,metadata:new c.Metadata}}startResolution(){if(null!==this.ipResult)return f("Returning IP address for target "+p.uriToString(this.target)),void setImmediate((()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}));if(null===this.dnsHostname)setImmediate((()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${p.uriToString(this.target)}`,metadata:new c.Metadata})}));else{this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=g(e,{all:!0}),this.pendingLookupPromise.then((e=>{this.pendingLookupPromise=null;const t=e.filter((e=>4===e.family)),r=e.filter((e=>6===e.family));this.latestLookupResult=function(...e){const t=[];for(let r=0;r<Math.max.apply(null,e.map((e=>e.length)));r++)for(const n of e)r<n.length&&t.push(n[r]);return t}(r,t).map((e=>({host:e.address,port:+this.port})));const n="["+this.latestLookupResult.map((e=>e.host+":"+e.port)).join(",")+"]";f("Resolved addresses for target "+p.uriToString(this.target)+": "+n),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)}),(e=>{f("Resolution error for target "+p.uriToString(this.target)+": "+e.message),this.pendingLookupPromise=null,this.listener.onError(this.defaultResolutionError)})),null===this.pendingTxtPromise&&(this.pendingTxtPromise=h(e),this.pendingTxtPromise.then((e=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=s.extractAndSelectServiceConfig(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:"Parsing service config failed",metadata:new c.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}),(e=>{})))}}updateResolution(){f("Resolution update requested for target "+p.uriToString(this.target)),null===this.pendingLookupPromise&&this.startResolution()}destroy(){}static getDefaultAuthority(e){return e.path}}t.setup=function(){n.registerResolver("dns",m),n.registerDefaultScheme("dns")}},38733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(11631),o=r(15695),i=r(14664),s=r(83513),a=r(95165),c=r(48626);function l(e){c.trace(o.LogVerbosity.DEBUG,"ip_resolver",e)}const u="ipv4",p="ipv6";class d{constructor(e,t,r){var s;this.target=e,this.listener=t,this.addresses=[],this.error=null,l("Resolver constructed for target "+a.uriToString(e));const c=[];if(e.scheme!==u&&e.scheme!==p)return void(this.error={code:o.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new i.Metadata});const d=e.path.split(",");for(const t of d){const r=a.splitHostPort(t);if(null===r)return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});if(e.scheme===u&&!n.isIPv4(r.host)||e.scheme===p&&!n.isIPv6(r.host))return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});c.push({host:r.host,port:null!==(s=r.port)&&void 0!==s?s:443})}this.addresses=c,l("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick((()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){}static getDefaultAuthority(e){return e.path.split(",")[0]}}t.setup=function(){s.registerResolver(u,d),s.registerResolver(p,d)}},91350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(83513);class o{constructor(e,t,r){let n;this.listener=t,this.addresses=[],n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){n.registerResolver("unix",o)}},83513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const n=r(56982),o=r(91350),i=r(38733),s=r(95165),a={};let c=null;t.registerResolver=function(e,t){a[e]=t},t.registerDefaultScheme=function(e){c=e},t.createResolver=function(e,t,r){if(void 0!==e.scheme&&e.scheme in a)return new a[e.scheme](e,t,r);throw new Error(`No resolver could be created for target ${s.uriToString(e)}`)},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in a)return a[e.scheme].getDefaultAuthority(e);throw new Error(`Invalid target ${s.uriToString(e)}`)},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in a?e:null!==c?{scheme:c,authority:void 0,path:s.uriToString(e)}:null},t.registerAll=function(){n.setup(),o.setup(),i.setup()}},83970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const n=r(21192),o=r(80235),i=r(72253),s=r(83513),a=r(24219),c=r(43510),l=r(15695),u=r(14664),p=r(48626),d=r(15695),f=r(95165),h=r(44487);t.ResolvingLoadBalancer=class{constructor(e,t,r,p,d){this.target=e,this.channelControlHelper=t,this.channelOptions=r,this.onSuccessfulResolution=p,this.onFailedResolution=d,this.latestChildState=i.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=i.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=o.validateServiceConfig(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(i.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new h.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)}}),this.innerResolver=s.createResolver(e,{onSuccessfulResolution:(e,t,r,o,i)=>{var s;let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);const c=null!==(s=null==a?void 0:a.loadBalancingConfig)&&void 0!==s?s:[],p=n.getFirstUsableConfig(c,!0);if(null===p)return void this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,p,i);const d=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(null!=o?o:function(e){return function(t,r){var n,o;const i=t.split("/").filter((e=>e.length>0)),s=null!==(n=i[0])&&void 0!==n?n:"",a=null!==(o=i[1])&&void 0!==o?o:"";if(e&&e.methodConfig)for(const t of e.methodConfig)for(const e of t.name)if(e.service===s&&(void 0===e.method||e.method===a))return{methodConfig:t,pickInformation:{},status:l.Status.OK};return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK}}}(d))},onError:e=>{this.handleResolutionFailure(e)}},r),this.backoffTimeout=new c.BackoffTimeout((()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)})),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===i.ConnectivityState.IDLE&&this.updateState(i.ConnectivityState.CONNECTING,new a.QueuePicker(this))}updateState(e,t){var r;r=f.uriToString(this.target)+" "+i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e],p.trace(d.LogVerbosity.DEBUG,"resolving_load_balancer",r),e===i.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===i.ConnectivityState.IDLE&&(this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e)),this.backoffTimeout.runOnce()}exitIdle(){this.childLoadBalancer.exitIdle(),this.currentState===i.ConnectivityState.IDLE&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution(),this.updateState(i.ConnectivityState.CONNECTING,new a.QueuePicker(this)))}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.updateState(i.ConnectivityState.SHUTDOWN,new a.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}}},40777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const n=r(28614),o=r(97565),i=r(92413),s=r(15695),a=r(14664),c=r(91524),l=r(48626);function u(e){l.trace(s.LogVerbosity.DEBUG,"server_call",e)}const p="grpc-timeout",d=/(\d{1,8})\s*([HMSmun])/,f={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},h={"grpc-accept-encoding":"identity","grpc-encoding":"identity",[o.constants.HTTP2_HEADER_STATUS]:o.constants.HTTP_STATUS_OK,[o.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},g={waitForTrailers:!0};class m extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerUnaryCallImpl=m;class y extends i.Readable{constructor(e,t,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerReadableStreamImpl=y;class v extends i.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}_write(e,t,r){try{const t=this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",r)}catch(e){e.code=s.Status.INTERNAL,this.emit("error",e)}r()}_final(e){this.call.sendStatus({code:s.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=v;class b extends i.Duplex{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=b,b.prototype._read=y.prototype._read,b.prototype._write=v.prototype._write,b.prototype._final=v.prototype._final,b.prototype.end=v.prototype.end;class w extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.options=r,this.cancelled=!1,this.deadlineTimer=setTimeout((()=>{}),0),this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=s.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",(e=>{})),this.stream.once("close",(()=>{var e;u("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.cancelled=!0,this.emit("cancelled","cancelled")})),this.stream.on("drain",(()=>{this.emit("drain")})),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"]),clearTimeout(this.deadlineTimer)}checkCancelled(){return this.stream.destroyed&&(this.cancelled=!0),this.cancelled}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign({},h,t);this.stream.respond(r,g)}receiveMetadata(e){const t=a.Metadata.fromHttp2Headers(e),r=t.get(p);if(r.length>0){const e=r[0].toString().match(d);if(null===e){const e=new Error("Invalid deadline");return e.code=s.Status.OUT_OF_RANGE,void this.sendError(e)}const n=+e[1]*f[e[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+n),this.deadlineTimer=setTimeout(E,n,this),t.remove(p)}return t.remove(o.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(o.constants.HTTP2_HEADER_TE),t.remove(o.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-encoding"),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(){return new Promise(((e,t)=>{const r=this.stream,n=[];let o=0;r.on("data",(e=>{n.push(e),o+=e.byteLength})),r.once("end",(async()=>{try{const t=Buffer.concat(n,o);-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize&&(this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`}),e()),e(this.deserializeMessage(t))}catch(t){t.code=s.Status.INTERNAL,this.sendError(t),e()}}))}))}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){const t=e.slice(5);return this.handler.deserialize(t)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(r||(r=new a.Metadata),e)return Object.prototype.hasOwnProperty.call(e,"metadata")||(e.metadata=r),void this.sendError(e);try{const e=this.serializeMessage(t);this.write(e),this.sendStatus({code:s.Status.OK,details:"OK",metadata:r})}catch(e){e.code=s.Status.INTERNAL,this.sendError(e)}}}sendStatus(e){var t;this.checkCancelled()||(u("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+s.Status[e.code]+" details: "+e.details),clearTimeout(this.deadlineTimer),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",(()=>{const t=Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},e.metadata.toHttp2Headers());this.stream.sendTrailers(t)})),this.sendMetadata(),this.stream.end()))}sendError(e){if(this.checkCancelled())return;const t={code:s.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:new a.Metadata};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(!(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize))return this.sendMetadata(),this.stream.write(e);this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`})}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",(t=>{e.cancelled=!0,e.emit("cancelled",t)}))}setupReadable(e){const t=new c.StreamDecoder;this.stream.on("data",(async r=>{const n=t.write(r);for(const t of n){if(-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize)return void this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`});this.pushOrBufferMessage(e,t)}})),this.stream.once("end",(()=>{this.pushOrBufferMessage(e,null)}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):this.pushMessage(e,t)}async pushMessage(e,t){if(null!==t){this.isPushPending=!0;try{const r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(t){this.bufferedMessages.length=0,"code"in t&&"number"==typeof t.code&&Number.isInteger(t.code)&&t.code>=s.Status.OK&&t.code<=s.Status.UNAUTHENTICATED||(t.code=s.Status.INTERNAL),e.emit("error",t)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(e,this.bufferedMessages.shift())}else this.canPush?e.push(null):this.messagesToPush.push(null)}getPeer(){const e=this.stream.session.socket;return e.remoteAddress?e.remotePort?`${e.remoteAddress}:${e.remotePort}`:e.remoteAddress:"unknown"}getDeadline(){return this.deadline}}function E(e){const t=new Error("Deadline exceeded");t.code=s.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=w},35919:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;const n=r(98283);class o{static createInsecure(){return new i}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const o=[],i=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);o.push(r.cert_chain),i.push(r.private_key)}return new s({ca:e||n.getDefaultRootsData()||void 0,cert:o,key:i,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=o;class i extends o{_isSecure(){return!1}_getSettings(){return null}}class s extends o{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},40903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const n=r(97565),o=r(15695),i=r(14664),s=r(40777),a=r(83513),c=r(48626),l=r(18825),u=r(95165);function p(e){c.trace(o.LogVerbosity.DEBUG,"server",e)}function d(){}function f(e){return{code:o.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`,metadata:new i.Metadata}}t.Server=class{constructor(e){this.http2ServerList=[],this.handlers=new Map,this.sessions=new Set,this.started=!1,this.options=null!=e?e:{}}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach((r=>{const n=e[r];let o;o=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let i,s=t[r];if(void 0===s&&"string"==typeof n.originalName&&(s=t[n.originalName]),i=void 0!==s?s.bind(t):function(e,t){const r=f(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error(`Invalid handlerType ${e}`)}}(o,r),!1===this.register(n.path,i,n.responseSerialize,n.requestDeserialize,o))throw new Error(`Method handler for ${n.path} already provided.`)}))}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach((t=>{const r=e[t];this.unregister(r.path)}))}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||"object"!=typeof t)throw new TypeError("creds must be an object");if("function"!=typeof r)throw new TypeError("callback must be a function");const i=u.parseUri(e);if(null===i)throw new Error(`Could not parse port "${e}"`);const s=a.mapUriDefaultScheme(i);if(null===s)throw new Error(`Could not get a default scheme for port "${e}"`);const f={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options&&(f.maxSessionMemory=this.options["grpc-node.max_session_memory"]),"grpc.max_concurrent_streams"in this.options&&(f.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});const h=()=>{let e;if(t._isSecure()){const r=Object.assign(f,t._getSettings());e=n.createSecureServer(r)}else e=n.createServer(f);return e.setTimeout(0,d),this._setupHandlers(e),e},g=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map((e=>{let r;p("Attempting to bind "+l.subchannelAddressToString(e)),r=l.isTcpSubchannelAddress(e)?{host:e.host,port:t}:e;const n=h();return new Promise(((o,i)=>{function s(e){o(e)}n.once("error",s),n.listen(r,(()=>{p("Successfully bound "+l.subchannelAddressToString(e)),this.http2ServerList.push(n);const r=n.address();o("string"==typeof r?t:r.port),n.removeListener("error",s)}))}))}))).then((e=>{let n=0;for(const r of e)if("number"==typeof r&&(n+=1,r!==t))throw new Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}})),m=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});const t=e[0],r=h();return new Promise(((n,o)=>{function i(t){n(m(e.slice(1)))}r.once("error",i),r.listen(t,(()=>{this.http2ServerList.push(r),n(g(e.slice(1),r.address().port,1)),r.removeListener("error",i)}))}))},y={onSuccessfulResolution:(t,n,i)=>{if(y.onSuccessfulResolution=()=>{},0===t.length)return void r(new Error(`No addresses resolved for port ${e}`),0);let s;s=l.isTcpSubchannelAddress(t[0])?0===t[0].port?m(t):g(t,t[0].port,0):g(t,1,0),s.then((e=>{if(0===e.count){const e=`No address added out of total ${t.length} resolved`;c.log(o.LogVerbosity.ERROR,e),r(new Error(e),0)}else e.count<t.length&&c.log(o.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),r(null,e.port)}),(e=>{const n=`No address added out of total ${t.length} resolved`;c.log(o.LogVerbosity.ERROR,n),r(new Error(n),0)}))},onError:e=>{r(new Error(e.details),0)}};a.createResolver(s,y,this.options).updateResolution()}forceShutdown(){for(const e of this.http2ServerList)e.listening&&e.close();this.started=!1,this.sessions.forEach((e=>{e.destroy(n.constants.NGHTTP2_CANCEL)})),this.sessions.clear()}register(e,t,r,n,o){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:o,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every((e=>!0!==e.listening)))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){let t=0;function r(){t--,0===t&&e()}this.started=!1;for(const e of this.http2ServerList)e.listening&&(t++,e.close(r));this.sessions.forEach((e=>{e.closed||(t+=1,e.close(r))})),0===t&&e()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(e){null!==e&&(e.on("stream",((t,r)=>{const i=r[n.constants.HTTP2_HEADER_CONTENT_TYPE];if("string"==typeof i&&i.startsWith("application/grpc"))try{const o=r[n.constants.HTTP2_HEADER_PATH],i=e.address();let a="null";i&&(a="string"==typeof i?i:i.address+":"+i.port),p("Received call to method "+o+" at address "+a);const c=this.handlers.get(o);if(void 0===c)throw p("No handler registered for method "+o+". Sending UNIMPLEMENTED status."),f(o);const l=new s.Http2ServerCallStream(t,c,this.options),u=l.receiveMetadata(r);switch(c.type){case"unary":!async function(e,t,r){const n=await e.receiveUnaryMessage();if(void 0===n||e.cancelled)return;const o=new s.ServerUnaryCallImpl(e,r,n);t.func(o,((t,r,n,o)=>{e.sendUnaryMessage(t,r,n,o)}))}(l,c,u);break;case"clientStream":!function(e,t,r){const n=new s.ServerReadableStreamImpl(e,r,t.deserialize);function o(t,r,o,i){n.destroy(),e.sendUnaryMessage(t,r,o,i)}e.cancelled||(n.on("error",o),t.func(n,o))}(l,c,u);break;case"serverStream":!async function(e,t,r){const n=await e.receiveUnaryMessage();if(void 0===n||e.cancelled)return;const o=new s.ServerWritableStreamImpl(e,r,t.serialize,n);t.func(o)}(l,c,u);break;case"bidi":!function(e,t,r){const n=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize);e.cancelled||t.func(n)}(l,c,u);break;default:throw new Error(`Unknown handler type: ${c.type}`)}}catch(e){const r=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=o.Status.INTERNAL),r.sendError(e)}else t.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0})})),e.on("session",(e=>{this.started?(this.sessions.add(e),e.on("close",(()=>{this.sessions.delete(e)}))):e.destroy()})))}}},80235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=void 0;const n=r(12087),o=r(21192),i=/^\d+(\.\d{1,9})?s$/;function s(e){if(!("service"in e)||"string"!=typeof e.service)throw new Error("Invalid method config name: invalid service");const t={service:e.service};if("method"in e){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method");t.method=e.method}return t}function a(e){const t={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const r of e.name)t.name.push(s(r));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=e.waitForReady}if("timeout"in e){if("string"!=typeof e.timeout||!i.test(e.timeout))throw new Error("Invalid method config: invalid timeout");t.timeout=e.timeout}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=e.maxResponseBytes}return t}function c(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push(o.validateLoadBalancingConfig(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(a(r));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function l(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:c(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error(`Invalid service config choice: unexpected field ${t}`);return t}function u(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=l(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateServiceConfig=c,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring("grpc_config=".length);return u(JSON.parse(e),t)}return null}},80930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0,t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},91524:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={})),t.StreamDecoder=class{constructor(){this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0;const o=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,o.push(e)}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,o.push(t)}break;default:throw new Error("Unexpected read state")}return o}}},90651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;const n=r(38938),o=r(18825),i=r(95165);class s{constructor(e){this.global=e,this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter((e=>!e.subchannel.unrefIfOneRef()));r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.global&&null===this.cleanupTimer&&(this.cleanupTimer=setInterval((()=>{this.unrefUnusedSubchannels()}),1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,s){this.ensureCleanupTask();const a=i.uriToString(e);if(a in this.pool){const e=this.pool[a];for(const i of e)if(o.subchannelAddressEqual(t,i.subchannelAddress)&&n.channelOptionsEqual(r,i.channelArguments)&&s._equals(i.channelCredentials))return i.subchannel}const c=new o.Subchannel(e,t,r,s);return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:r,channelCredentials:s,subchannel:c}),this.global&&c.ref(),c}}t.SubchannelPool=s;const a=new s(!0);t.getSubchannelPool=function(e){return e?a:new s(!1)}},18825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const n=r(97565),o=r(4016),i=r(72253),s=r(43510),a=r(83513),c=r(48626),l=r(15695),u=r(86042),p=r(11631),d=r(95165),f=r(68160).i8;function h(e){c.trace(l.LogVerbosity.DEBUG,"subchannel",e)}function g(e){c.trace(l.LogVerbosity.DEBUG,"subchannel_refcount",e)}const m=~(1<<31),{HTTP2_HEADER_AUTHORITY:y,HTTP2_HEADER_CONTENT_TYPE:v,HTTP2_HEADER_METHOD:b,HTTP2_HEADER_PATH:w,HTTP2_HEADER_TE:E,HTTP2_HEADER_USER_AGENT:_}=n.constants,O=Buffer.from("too_many_pings","ascii");function S(e){return"port"in e}function T(e){return S(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=S,t.subchannelAddressEqual=function(e,t){return S(e)?S(t)&&e.host===t.host&&e.port===t.port:!S(t)&&e.path===t.path},t.subchannelAddressToString=T,t.Subchannel=class{constructor(e,t,r,n){this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=n,this.connectivityState=i.ConnectivityState.IDLE,this.session=null,this.continueConnecting=!1,this.stateListeners=[],this.disconnectListeners=[],this.keepaliveTimeMs=m,this.keepaliveTimeoutMs=2e4,this.keepaliveWithoutCalls=!1,this.callRefcount=0,this.refcount=0,this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${f}`,r["grpc.secondary_user_agent"]].filter((e=>e)).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in r&&1===r["grpc.keepalive_permit_without_calls"],this.keepaliveIntervalId=setTimeout((()=>{}),0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout((()=>{}),0),clearTimeout(this.keepaliveTimeoutId);const o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new s.BackoffTimeout((()=>{this.handleBackoffTimer()}),o),this.subchannelAddressString=T(t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING):this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}sendPing(){c.trace(l.LogVerbosity.DEBUG,"keepalive","Sending ping to "+this.subchannelAddressString),this.keepaliveTimeoutId=setTimeout((()=>{this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE)}),this.keepaliveTimeoutMs),this.session.ping(((e,t,r)=>{clearTimeout(this.keepaliveTimeoutId)}))}startKeepalivePings(){this.keepaliveIntervalId=setInterval((()=>{this.sendPing()}),this.keepaliveTimeMs)}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}createSession(e){var t,r,s;const u=a.getDefaultAuthority(null!==(t=e.realTarget)&&void 0!==t?t:this.channelTarget);let f=this.credentials._getConnectionOptions()||{};f.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in this.options&&(f.maxSessionMemory=this.options["grpc-node.max_session_memory"]);let g="http://";if("secureContext"in f){if(g="https://",this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];f.checkServerIdentity=(t,r)=>o.checkServerIdentity(e,r),f.servername=e}else{const e=null!==(s=null===(r=d.splitHostPort(u))||void 0===r?void 0:r.host)&&void 0!==s?s:"localhost";f.servername=e}e.socket&&(f.createConnection=(t,r)=>e.socket)}else f.createConnection=(t,r)=>e.socket?e.socket:p.connect(this.subchannelAddress);f=Object.assign(Object.assign({},f),this.subchannelAddress);const y=n.connect(g+u,f);this.session=y,y.unref(),y.once("connect",(()=>{this.session===y&&this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.READY)})),y.once("close",(()=>{this.session===y&&(this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE),this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE))})),y.once("goaway",((e,t,r)=>{this.session===y&&(e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r.equals(O)&&(this.keepaliveTimeMs=Math.min(2*this.keepaliveTimeMs,m),c.log(l.LogVerbosity.ERROR,`Connection to ${d.uriToString(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTimeMs} ms`)),h(this.subchannelAddressString+" connection closed by GOAWAY with code "+e),this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.IDLE))})),y.once("error",(e=>{h(this.subchannelAddressString+" connection closed with error "+e.message)}))}startConnectingInternal(){var e,t;const r=this.credentials._getConnectionOptions()||{};if("secureContext"in r)if(r.ALPNProtocols=["h2"],this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];r.checkServerIdentity=(t,r)=>o.checkServerIdentity(e,r),r.servername=e}else if("grpc.http_connect_target"in this.options){const n=a.getDefaultAuthority(null!==(e=d.parseUri(this.options["grpc.http_connect_target"]))&&void 0!==e?e:{path:"localhost"}),o=d.splitHostPort(n);r.servername=null!==(t=null==o?void 0:o.host)&&void 0!==t?t:n}u.getProxiedConnection(this.subchannelAddress,this.options,r).then((e=>{this.createSession(e)}),(e=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE)}))}transitionToState(e,t){if(-1===e.indexOf(this.connectivityState))return!1;h(this.subchannelAddressString+" "+i.ConnectivityState[this.connectivityState]+" -> "+i.ConnectivityState[t]);const r=this.connectivityState;switch(this.connectivityState=t,t){case i.ConnectivityState.READY:this.stopBackoff(),this.session.socket.once("close",(()=>{for(const e of this.disconnectListeners)e()})),this.keepaliveWithoutCalls&&this.startKeepalivePings();break;case i.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case i.ConnectivityState.TRANSIENT_FAILURE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings(),this.backoffTimeout.isRunning()||process.nextTick((()=>{this.handleBackoffTimer()}));break;case i.ConnectivityState.IDLE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings();break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of[...this.stateListeners])e(this,r,t);return!0}checkBothRefcounts(){0===this.callRefcount&&0===this.refcount&&this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.TRANSIENT_FAILURE)}callRef(){g(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount+1)),0===this.callRefcount&&(this.session&&this.session.ref(),this.backoffTimeout.ref(),this.keepaliveWithoutCalls||this.startKeepalivePings()),this.callRefcount+=1}callUnref(){g(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount-1)),this.callRefcount-=1,0===this.callRefcount&&(this.session&&this.session.unref(),this.backoffTimeout.unref(),this.keepaliveWithoutCalls||this.stopKeepalivePings(),this.checkBothRefcounts())}ref(){g(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){g(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.checkBothRefcounts()}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}startCallStream(e,t,r){const n=e.toHttp2Headers();let o;n[y]=t.getHost(),n[_]=this.userAgent,n[v]="application/grpc",n[b]="POST",n[w]=t.getMethod(),n[E]="trailers";try{o=this.session.request(n)}catch(e){throw this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.TRANSIENT_FAILURE),e}let s="";for(const e of Object.keys(n))s+="\t\t"+e+": "+n[e]+"\n";c.trace(l.LogVerbosity.DEBUG,"call_stream","Starting stream on subchannel "+this.subchannelAddressString+" with headers\n"+s),t.attachHttp2Stream(o,this,r)}startConnecting(){this.transitionToState([i.ConnectivityState.IDLE],i.ConnectivityState.CONNECTING)||this.connectivityState===i.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}addDisconnectListener(e){this.disconnectListeners.push(e)}removeDisconnectListener(e){const t=this.disconnectListeners.indexOf(e);t>-1&&this.disconnectListeners.splice(t,1)}resetBackoff(){this.backoffTimeout.reset(),this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING)}getAddress(){return this.subchannelAddressString}}},98283:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const n=r(35747);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const o=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let i=null;t.getDefaultRootsData=function(){return o?(null===i&&(i=n.readFileSync(o)),i):null}},95165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;const r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const n=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const o=e.substring(t+2);return n.test(o)?{host:r,port:+o}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?n.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}},68160:e=>{"use strict";e.exports={i8:"1.3.2"}},16617:(e,t,r)=>{const{define:n}=r(27397),o=r(19331),i=r(24776),s=r(15515),a=r(55457);e.exports={base:o,constants:i,decoders:s,define:n,encoders:a}},27397:(e,t,r)=>{const{inherits:n}=r(31669),o=r(55457),i=r(15515);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.exports.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.decoders,e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.encoders,e)||(this.encoders[e]=this._createNamed(o[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},62331:(e,t,r)=>{const{inherits:n}=r(31669),{Reporter:o}=r(20461);function i(e,t){o.call(this,t),Buffer.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(e>=0&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Buffer.byteLength(e);else{if(!Buffer.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(i,o),i.isDecoderBuffer=function(e){return e instanceof i||"object"==typeof e&&Buffer.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},i.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},i.prototype.restore=function(e){const t=new i(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,o.prototype.restore.call(this,e.reporter),t},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},i.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new i(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},i.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},s.isEncoderBuffer=function(e){return e instanceof s||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},s.prototype.join=function(e,t){return e||(e=Buffer.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Buffer.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e},e.exports={DecoderBuffer:i,EncoderBuffer:s}},19331:(e,t,r)=>{const{Reporter:n}=r(20461),{DecoderBuffer:o,EncoderBuffer:i}=r(62331),s=r(3741);e.exports={DecoderBuffer:o,EncoderBuffer:i,Node:s,Reporter:n}},3741:(e,t,r)=>{const{strict:n}=r(42357),{Reporter:o}=r(20461),{DecoderBuffer:i,EncoderBuffer:s}=r(62331),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function l(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const e=this._baseState,t={};u.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},l.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},l.prototype._init=function(e){const t=this._baseState;n(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),n.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(n(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(n(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){l.prototype[e]=function(){const t=this._baseState;throw new Error(`${e} not implemented for encoding: ${t.enc}`)}})),a.forEach((function(e){l.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return n(null===t.tag),t.tag=e,this._useArgs(r),this}})),l.prototype.use=function(e){n(e);const t=this._baseState;return n(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){const t=this._baseState;return n(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){const t=this._baseState;return n(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){const t=this._baseState;return n(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},l.prototype.contains=function(e){const t=this._baseState;return n(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,o=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(e,n,r.any),e.isError(s))return s}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(n)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?o=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(o=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(o))return o;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new i(o);o=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&s&&(o=e.leaveObject(n)),null===r.key||null===o&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,o),o},l.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error(`unknown tag: ${e}`)},l.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),n(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},l.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,o=!1;return Object.keys(r.choice).some((function(i){const s=e.save(),a=r.choice[i];try{const r=a._decode(e,t);if(e.isError(r))return!1;n={type:i,value:r},o=!0}catch(t){return e.restore(s),!1}return!0}),this),o?n:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new s(e,this.reporter)},l.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const o=this._encodeValue(e,t,r);return void 0===o||this._skipDefault(o,t,r)?void 0:o},l.prototype._encodeValue=function(e,t,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new o);let i=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}let s=null,a=!1;if(n.any)i=this._createEncoderBuffer(e);else if(n.choice)i=this._encodeChoice(e,t);else if(n.contains)s=this._getUse(n.contains,r)._encode(e,t),a=!0;else if(n.children)s=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const o=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),o}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error(`Too many args for: ${n.tag}`);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==n.use?i=this._getUse(n.use,r)._encode(e,t):(s=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&null===n.choice){const e=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===e?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(i=this._encodeComposite(e,a,r,s))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},l.prototype._encodeChoice=function(e,t){const r=this._baseState,o=r.choice[e.type];return o||n(!1,`${e.type} not found in ${JSON.stringify(Object.keys(r.choice))}`),o._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error(`Unsupported tag: ${e}`)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},e.exports=l},20461:(e,t,r)=>{const{inherits:n}=r(31669);function o(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}o.prototype.isError=function(e){return e instanceof i},o.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},o.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},o.prototype.enterKey=function(e){return this._reporterState.path.push(e)},o.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},o.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},o.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},o.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof i;if(t=n?e:new i(r.path.map((function(e){return`[${JSON.stringify(e)}]`})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},o.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(i,Error),i.prototype.rethrow=function(e){if(this.message=`${e} at: ${this.path||"(shallow)"}`,Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this},t.Reporter=o},77680:(e,t)=>{function r(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},24776:(e,t,r)=>{e.exports={der:r(77680)}},73909:(e,t,r)=>{const{inherits:n}=r(31669),{DecoderBuffer:o}=r(62331),i=r(3741),s=r(77680);function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){i.call(this,"der",e)}function l(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=s.tagClass[r>>6],o=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:o,tag:r,tagStr:s.tag[r]}}function u(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const o=127&n;if(o>4)return e.error("length octect is too long");n=0;for(let t=0;t<o;t++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}a.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},n(c,i),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),o=l(e,`Failed to peek tag: "${t}"`);return e.isError(o)?o:(e.restore(n),o.tag===t||o.tagStr===t||o.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){const n=l(e,`Failed to decode tag of "${t}"`);if(e.isError(n))return n;let o=u(e,n.primitive,`Failed to get length of "${t}"`);if(e.isError(o))return o;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error(`Failed to match tag: "${t}"`);if(n.primitive||null!==o)return e.skip(o,`Failed to match body of: "${t}"`);const i=e.save(),s=this._skipUntilEnd(e,`Failed to skip indefinite length body: "${this.tag}"`);return e.isError(s)?s:(o=e.offset-i.offset,e.restore(i),e.skip(o,`Failed to match body of: "${t}"`))},c.prototype._skipUntilEnd=function(e,t){for(;;){const r=l(e,t);if(e.isError(r))return r;const n=u(e,r.primitive,t);if(e.isError(n))return n;let o;if(o=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(o))return o;if("end"===r.tagStr)break}},c.prototype._decodeList=function(e,t,r,n){const o=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const i=r.decode(e,"der",n);if(e.isError(i)&&t)break;o.push(i)}return o},c.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error(`Decoding of string type: ${t} unsupported`)},c.prototype._decodeObjid=function(e,t,r){let n;const o=[];let i=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),i<<=7,i|=127&s,0==(128&s)&&(o.push(i),i=0);128&s&&o.push(i);const a=o[0]/40|0,c=o[0]%40;if(n=r?o:[a,c].concat(o.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},c.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,o,i,s,a,c;if("gentime"===t)n=0|r.slice(0,4),o=0|r.slice(4,6),i=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error(`Decoding ${t} time is not supported yet`);n=0|r.slice(0,2),o=0|r.slice(2,4),i=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,o-1,i,s,a,c,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){const r=e.raw();let n=BigInt(`0x${r.toString("hex")}`);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree},e.exports=a},15515:(e,t,r)=>{e.exports={der:r(73909),pem:r(71350)}},71350:(e,t,r)=>{const{inherits:n}=r(31669),o=r(73909);function i(e){o.call(this,e),this.enc="pem"}n(i,o),i.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,a=-1;for(let e=0;e<r.length;e++){const t=r[e].match(i);if(null!==t&&t[2]===n){if(-1!==s){if("END"!==t[1])break;a=e;break}if("BEGIN"!==t[1])break;s=e}}if(-1===s||-1===a)throw new Error(`PEM section not found for: ${n}`);const c=r.slice(s+1,a).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const l=Buffer.from(c,"base64");return o.prototype.decode.call(this,l,t)},e.exports=i},7081:(e,t,r)=>{const{inherits:n}=r(31669),o=r(3741),i=r(77680);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new a,this.tree._init(e.body)}function a(e){o.call(this,"der",e)}function c(e){return e<10?`0${e}`:e}function l(e){var t=BigInt(e).toString(16);t.length%2&&(t="0"+t);for(var r=t.length/2,n=new Uint8Array(r),o=0,i=0;o<r;)n[o]=parseInt(t.slice(i,i+2),16),o+=1,i+=2;return n}s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(a,o),a.prototype._encodeComposite=function(e,t,r,n){const o=function(e,t,r,n){let o;if("seqof"===e?e="seq":"setof"===e&&(e="set"),Object.prototype.hasOwnProperty.call(i.tagByName,e))o=i.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error(`Unknown tag: ${e}`);o=e}return o>=31?n.error("Multi-octet tag encoding unsupported"):(t||(o|=32),o|=i.tagClassByName[r||"universal"]<<6,o)}(e,t,r,this.reporter);if(n.length<128){const e=Buffer.alloc(2);return e[0]=o,e[1]=n.length,this._createEncoderBuffer([e,n])}let s=1;for(let e=n.length;e>=256;e>>=8)s++;const a=Buffer.alloc(2+s);a[0]=o,a[1]=128|s;for(let e=1+s,t=n.length;t>0;e--,t>>=8)a[e]=255&t;return this._createEncoderBuffer([a,n])},a.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=Buffer.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error(`Encoding of string type: ${t} unsupported`)},a.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!Object.prototype.hasOwnProperty.call(t,e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error(`objid() should be either array or string, got: ${JSON.stringify(e)}`);if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let t=0;t<e.length;t++){let r=e[t];for(n++;r>=128;r>>=7)n++}const o=Buffer.alloc(n);let i=o.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(o[i--]=127&r;(r>>=7)>0;)o[i--]=128|127&r}return this._createEncoderBuffer(o)},a.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[c(n.getUTCFullYear()),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[c(n.getUTCFullYear()%100),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):this.reporter.error(`Encoding ${t} time is not supported yet`),this._encodeStr(r,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!Object.prototype.hasOwnProperty.call(t,e))return this.reporter.error(`Values map doesn't contain: ${JSON.stringify(e)}`);e=t[e]}if("bigint"==typeof e){const t=[...l(e)];128&t[0]&&t.unshift(0),e=Buffer.from(t)}if(Buffer.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=Buffer.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;const n=new Array(r);for(let t=n.length-1;t>=0;t--)n[t]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(Buffer.from(n))},a.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},a.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},a.prototype._skipDefault=function(e,t,r){const n=this._baseState;let o;if(null===n.default)return!1;const i=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),i.length!==n.defaultBuffer.length)return!1;for(o=0;o<i.length;o++)if(i[o]!==n.defaultBuffer[o])return!1;return!0},e.exports=s},55457:(e,t,r)=>{e.exports={der:r(7081),pem:r(74858)}},74858:(e,t,r)=>{const{inherits:n}=r(31669),o=r(7081);function i(e){o.call(this,e),this.enc="pem"}n(i,o),i.prototype.encode=function(e,t){const r=o.prototype.encode.call(this,e).toString("base64"),n=[`-----BEGIN ${t.label}-----`];for(let e=0;e<r.length;e+=64)n.push(r.slice(e,e+64));return n.push(`-----END ${t.label}-----`),n.join("\n")},e.exports=i},34537:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,s){r[n]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,s(e))}}))}},97419:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,s=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:s[a++]=n[l>>2],o=(3&l)<<4,c=1;break;case 1:s[a++]=n[o|l>>4],o=(15&l)<<2,c=2;break;case 2:s[a++]=n[o|l>>6],s[a++]=n[63&l],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=n[o],s[a++]=61,1===c&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=o[l]))throw Error(s);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(s);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},75124:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function o(e){if("string"!=typeof e){var r=i();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),l=0;l<s.length;)a[l]=s[l],c[l]=e[s[l++]];return a[l]=r,Function.apply(null,a).apply(null,c)}return Function(r)()}for(var u=new Array(arguments.length-1),p=0;p<u.length;)u[p]=arguments[++p];if(p=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=u[p++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),p!==u.length)throw Error("parameter count mismatch");return n.push(e),o}function i(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=t,t.verbose=!1},19211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},49054:(e,t,r)=>{"use strict";e.exports=i;var n=r(34537),o=r(67199)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},10945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,s=8388607&n;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,o,i){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,o,i+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,i+r)}}}function s(e,t,r,n,o){var i=e(n,o+t),s=e(n,o+r),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+i;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},67199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},18626:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),o="";r&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};r.resolve=function(e,t,r){return r||(t=o(t)),n(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},76662:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,s=n;return function(r){if(r<1||r>o)return e(r);s+r>n&&(i=e(n),s=0);var a=t.call(i,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},94997:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],s=0;t<r;)(n=e[t++])<128?i[s++]=n:n>191&&n<224?i[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(n>>10),i[s++]=56320+(1023&n)):i[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(e,t,r){for(var n,o,i=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&o),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},22046:e=>{"use strict";function t(){}function r(e,t){const n=r.spread(e,t),o=n.then((e=>e[0]));return o.cancel=n.cancel,o}!function(e){e.spread=function(e,r){let n=null;const o=new Promise(((i,s)=>{function a(){e.removeListener(r,c),e.removeListener("error",l),o.cancel=t}function c(...e){a(),i(e)}function l(e){a(),s(e)}n=a,e.on(r,c),e.on("error",l)}));if(!n)throw new TypeError("Could not get `cancel()` function");return o.cancel=n,o}}(r||(r={})),e.exports=r},60271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27185);class o extends n.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=i.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}n.defineEventAttribute(o.prototype,"abort");const i=new WeakMap;Object.defineProperties(o.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class s{constructor(){a.set(this,function(){const e=Object.create(o.prototype);return n.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return c(this)}abort(){var e;e=c(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}const a=new WeakMap;function c(e){const t=a.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=s,t.AbortSignal=o,t.default=s,e.exports=s,e.exports.AbortController=e.exports.default=s,e.exports.AbortSignal=o},59078:(e,t,r)=>{"use strict";var n=r(60159),o=r(80983);function i(e){if(!(this instanceof i))return new i(e);this.headers=e.headers,this.negotiator=new n(e)}function s(e){return-1===e.indexOf("/")?o.lookup(e):e}function a(e){return"string"==typeof e}e.exports=i,i.prototype.type=i.prototype.types=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}if(!t||0===t.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return t[0];var n=t.map(s),o=this.negotiator.mediaTypes(n.filter(a)),i=o[0];return!!i&&t[n.indexOf(i)]},i.prototype.encoding=i.prototype.encodings=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},i.prototype.charset=i.prototype.charsets=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},i.prototype.lang=i.prototype.langs=i.prototype.language=i.prototype.languages=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},88054:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(28614),i=n(r(14169)),s=n(r(96304)),a=i.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}function l(e,t){return new l.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=c()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,o=null;const i=r.timeout||this.timeout,l=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},u=()=>{o=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${i}ms`);e.code="ETIMEOUT",l(e)},p=e=>{n||(null!==o&&(clearTimeout(o),o=null),l(e))},d=t=>{if(n)return;if(null!=o&&(clearTimeout(o),o=null),i=t,Boolean(i)&&"function"==typeof i.addRequest)return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var i;if(t)return t.once("free",(()=>{this.freeSocket(t,r)})),void e.onSocket(t);const s=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);l(s)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof i&&i>0&&(o=setTimeout(u,i)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{a("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(d,p)}catch(e){Promise.reject(e).catch(p)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(l||(l={})),e.exports=l},96304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise(((n,o)=>{e.call(this,t,r,((e,t)=>{e?o(e):n(t)}))}))}}},35937:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(27625)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},27625:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(89508),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},14169:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(35937):e.exports=r(54995)},54995:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(27625)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},89508:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},61021:e=>{"use strict";e.exports=e=>null==e?[]:Array.isArray(e)?e:"string"==typeof e?[e]:"function"==typeof e[Symbol.iterator]?[...e]:[e]},72047:(e,t,r)=>{var n=r(99353);e.exports=function(e,t){return new Promise((function(r,o){var i=t||{};"randomize"in i||(i.randomize=!0);var s=n.operation(i);function a(e){o(e||new Error("Aborted"))}function c(e,t){e.bail?a(e):s.retry(e)?i.onRetry&&i.onRetry(e,t):o(s.mainError())}s.attempt((function(t){var n;try{n=e(a,t)}catch(e){return void c(e,t)}Promise.resolve(n).then(r).catch((function(e){c(e,t)}))}))}))}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,i=c(e),s=i[0],a=i[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),u=0,p=a>0?s-4:s;for(r=0;r<p;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=16383,a=0,c=n-o;a<c;a+=s)i.push(l(e,a,a+s>c?c:a+s));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var o,i,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7936:(e,t,r)=>{var n=r(76417),o=function(){};o.prototype.getRandomBytes=function(e){var t=4096,r=this;if((e=e||12)>t)return n.randomBytes(e);var o=parseInt(t/e),i=parseInt(.85*o);if(!i)return n.randomBytes(e);if(null==this.bytesBufferIndex&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==o&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(-1==this.bytesBufferIndex||this.bytesBufferIndex>i)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,n.randomBytes(t,(function(e,t){r.bytesBuffer=t,r.bytesBufferIndex=0,r.isGeneratingBytes=!1}))),-1==this.bytesBufferIndex))return n.randomBytes(e);var s=this.bytesBuffer.slice(e*this.bytesBufferIndex,e*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,s},o.prototype.generateId=function(){var e=Buffer.alloc(15);return e.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,e.writeInt32BE(this.sequenceNumber,11),n.randomBytes?this.getRandomBytes(12).copy(e):[0,4,8].forEach((function(t){e.writeInt32BE(Math.random()*Math.pow(2,32)|0,t)})),e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},e.exports=new o},905:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BigNumber:()=>E,default:()=>_});var n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,u=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function h(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function m(e,t){var r,n,o=e.c,i=t.c,s=e.s,a=t.s,c=e.e,l=t.e;if(!s||!a)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==l,!o||!i)return n?0:!o^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=o.length)<(l=i.length)?c:l,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^r?1:-1;return c==l?0:c>l^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==i(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return h(e.e/l)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var E=function e(t){var r,E,_,O,S,T,C,A,x,I,k=G.prototype={constructor:G,toString:null,valueOf:null},N=new G(1),P=20,R=4,j=-7,D=21,L=-1e7,F=1e7,M=!1,B=1,U=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz";function G(e,t){var r,o,s,c,p,d,f,h,g=this;if(!(g instanceof G))return new G(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>F?g.c=g.e=null:e.e<L?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,p=e;p>=10;p/=10,c++);return void(c>F?g.c=g.e=null:(g.e=c,g.c=[e]))}h=String(e)}else{if(!n.test(h=String(e)))return _(g,h,d);g.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(c=h.indexOf("."))>-1&&(h=h.replace(".","")),(p=h.search(/e/i))>0?(c<0&&(c=p),c+=+h.slice(p+1),h=h.substring(0,p)):c<0&&(c=h.length)}else{if(y(t,2,q.length,"Base"),10==t)return W(g=new G(e),P+g.e+1,R);if(h=String(e),d="number"==typeof e){if(0*e!=0)return _(g,h,d,t);if(g.s=1/e<0?(h=h.slice(1),-1):1,G.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=q.slice(0,t),c=p=0,f=h.length;p<f;p++)if(r.indexOf(o=h.charAt(p))<0){if("."==o){if(p>c){c=f;continue}}else if(!s&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){s=!0,p=-1,c=0;continue}return _(g,String(e),d,t)}d=!1,(c=(h=E(h,t,10,g.s)).indexOf("."))>-1?h=h.replace(".",""):c=h.length}for(p=0;48===h.charCodeAt(p);p++);for(f=h.length;48===h.charCodeAt(--f););if(h=h.slice(p,++f)){if(f-=p,d&&G.DEBUG&&f>15&&(e>u||e!==i(e)))throw Error(a+g.s*e);if((c=c-p-1)>F)g.c=g.e=null;else if(c<L)g.c=[g.e=0];else{if(g.e=c,g.c=[],p=(c+1)%l,c<0&&(p+=l),p<f){for(p&&g.c.push(+h.slice(0,p)),f-=l;p<f;)g.c.push(+h.slice(p,p+=l));p=l-(h=h.slice(p)).length}else p-=f;for(;p--;h+="0");g.c.push(+h)}}else g.c=[g.e=0]}function H(e,t,r,n){var o,i,s,a,c;if(null==r?r=R:y(r,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)c=g(e.c),c=1==n||2==n&&(s<=j||s>=D)?b(c,s):w(c,s,"0");else if(i=(e=W(new G(e),t,r)).e,a=(c=g(e.c)).length,1==n||2==n&&(t<=i||i<=j)){for(;a<t;c+="0",a++);c=b(c,i)}else if(t-=s,c=w(c,i,"0"),i+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-a)>0)for(i+1==a&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function z(e,t){for(var r,n=1,o=new G(e[0]);n<e.length;n++){if(!(r=new G(e[n])).s){o=r;break}t.call(o,r)&&(o=r)}return o}function K(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*l-1)>F?e.c=e.e=null:r<L?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var s,a,u,d,f,h,g,m=e.c,y=p;if(m){e:{for(s=1,d=m[0];d>=10;d/=10,s++);if((a=t-s)<0)a+=l,u=t,g=(f=m[h=0])/y[s-u-1]%10|0;else if((h=o((a+1)/l))>=m.length){if(!n)break e;for(;m.length<=h;m.push(0));f=g=0,s=1,u=(a%=l)-l+1}else{for(f=d=m[h],s=1;d>=10;d/=10,s++);g=(u=(a%=l)-l+s)<0?0:f/y[s-u-1]%10|0}if(n=n||t<0||null!=m[h+1]||(u<0?f:f%y[s-u-1]),n=r<4?(g||n)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(a>0?u>0?f/y[s-u]:0:m[h-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=y[(l-t%l)%l],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=h,d=1,h--):(m.length=h+1,d=y[l-a],m[h]=u>0?i(f/y[s-u]%y[u])*d:0),n)for(;;){if(0==h){for(a=1,u=m[0];u>=10;u/=10,a++);for(u=m[0]+=d,d=1;u>=10;u/=10,d++);a!=d&&(e.e++,m[0]==c&&(m[0]=1));break}if(m[h]+=d,m[h]!=c)break;m[h--]=0,d=1}for(a=m.length;0===m[--a];m.pop());}e.e>F?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function J(e){var t,r=e.e;return null===r?e.toString():(t=g(e.c),t=r<=j||r>=D?b(t,r):w(t,r,"0"),e.s<0?"-"+t:t)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,f,t),P=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),R=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-f,0,t),y(r[1],0,f,t),j=r[0],D=r[1]):(y(r,-f,f,t),j=-(D=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)y(r[0],-f,-1,t),y(r[1],1,f,t),L=r[0],F=r[1];else{if(y(r,-f,f,t),!r)throw Error(s+t+" cannot be zero: "+r);L=-(F=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!r,Error(s+"crypto unavailable");M=r}else M=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),B=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,f,t),U=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(s+t+" not an object: "+r);V=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);q=r}}return{DECIMAL_PLACES:P,ROUNDING_MODE:R,EXPONENTIAL_AT:[j,D],RANGE:[L,F],CRYPTO:M,MODULO_MODE:B,POW_PRECISION:U,FORMAT:V,ALPHABET:q}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var t,r,n=e.c,o=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&o>=-f&&o<=f&&o===i(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==i(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return z(arguments,k.lt)},G.minimum=G.min=function(){return z(arguments,k.gt)},G.random=(O=9007199254740992,S=Math.random()*O&2097151?function(){return i(Math.random()*O)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,c,u=0,d=[],h=new G(N);if(null==e?e=P:y(e,0,f),a=o(e/l),M)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(c=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(d.push(c%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);u<a;)(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(d.push(c%1e14),u+=7);u=a/7}if(!M)for(;u<a;)(c=S())<9e15&&(d[u++]=c%1e14);for(a=d[--u],e%=l,a&&e&&(c=p[l-e],d[u]=i(a/c)*c);0===d[u];d.pop(),u--);if(u<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=l);for(u=1,c=d[0];c>=10;c/=10,u++);u<l&&(n-=l-u)}return h.e=n,h.c=d,h}),G.sum=function(){for(var e=1,t=arguments,r=new G(t[0]);e<t.length;)r=r.plus(t[e++]);return r},E=function(){var e="0123456789";function t(e,t,r,n){for(var o,i,s=[0],a=0,c=e.length;a<c;){for(i=s.length;i--;s[i]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>r-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/r|0,s[o]%=r)}return s.reverse()}return function(n,o,i,s,a){var c,l,u,p,d,f,h,m,y=n.indexOf("."),v=P,b=R;for(y>=0&&(p=U,U=0,n=n.replace(".",""),f=(m=new G(o)).pow(n.length-y),U=p,m.c=t(w(g(f.c),f.e,"0"),10,i,e),m.e=m.c.length),u=p=(h=t(n,o,i,a?(c=q,e):(c=e,q))).length;0==h[--p];h.pop());if(!h[0])return c.charAt(0);if(y<0?--u:(f.c=h,f.e=u,f.s=s,h=(f=r(f,m,v,b,i)).c,d=f.r,u=f.e),y=h[l=u+v+1],p=i/2,d=d||l<0||null!=h[l+1],d=b<4?(null!=y||d)&&(0==b||b==(f.s<0?3:2)):y>p||y==p&&(4==b||d||6==b&&1&h[l-1]||b==(f.s<0?8:7)),l<1||!h[0])n=d?w(c.charAt(1),-v,c.charAt(0)):c.charAt(0);else{if(h.length=l,d)for(--i;++h[--l]>i;)h[l]=0,l||(++u,h=[1].concat(h));for(p=h.length;!h[--p];);for(y=0,n="";y<=p;n+=c.charAt(h[y++]));n=w(n,u,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,o,i,s,a=0,c=e.length,l=t%d,u=t/d|0;for(e=e.slice();c--;)a=((o=l*(i=e[c]%d)+(n=u*i+(s=e[c]/d|0)*l)%d*d+a)/r|0)+(n/d|0)+u*s,e[c]=o%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,s,a,u){var p,d,f,g,m,y,v,b,w,E,_,O,S,T,C,A,x,I=n.s==o.s?1:-1,k=n.c,N=o.c;if(!(k&&k[0]&&N&&N[0]))return new G(n.s&&o.s&&(k?!N||k[0]!=N[0]:N)?k&&0==k[0]||!N?0*I:I/0:NaN);for(w=(b=new G(I)).c=[],I=s+(d=n.e-o.e)+1,u||(u=c,d=h(n.e/l)-h(o.e/l),I=I/l|0),f=0;N[f]==(k[f]||0);f++);if(N[f]>(k[f]||0)&&d--,I<0)w.push(1),g=!0;else{for(T=k.length,A=N.length,f=0,I+=2,(m=i(u/(N[0]+1)))>1&&(N=e(N,m,u),k=e(k,m,u),A=N.length,T=k.length),S=A,_=(E=k.slice(0,A)).length;_<A;E[_++]=0);x=N.slice(),x=[0].concat(x),C=N[0],N[1]>=u/2&&C++;do{if(m=0,(p=t(N,E,A,_))<0){if(O=E[0],A!=_&&(O=O*u+(E[1]||0)),(m=i(O/C))>1)for(m>=u&&(m=u-1),v=(y=e(N,m,u)).length,_=E.length;1==t(y,E,v,_);)m--,r(y,A<v?x:N,v,u),v=y.length,p=1;else 0==m&&(p=m=1),v=(y=N.slice()).length;if(v<_&&(y=[0].concat(y)),r(E,y,_,u),_=E.length,-1==p)for(;t(N,E,A,_)<1;)m++,r(E,A<_?x:N,_,u),_=E.length}else 0===p&&(m++,E=[0]);w[f++]=m,E[0]?E[_++]=k[S]||0:(E=[k[S]],_=1)}while((S++<T||null!=E[0])&&I--);g=null!=E[0],w[0]||w.splice(0,1)}if(u==c){for(f=1,I=w[0];I>=10;I/=10,f++);W(b,s+(b.e=f+d*l-1)+1,a,g)}else b.e=d,b.r=+g;return b}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,A=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(e,t,r,n){var o,i=r?t:t.replace(I,"");if(x.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(T,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,i=i.replace(C,"$1").replace(A,"0.$1")),t!=i))return new G(i,o);if(G.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return m(this,new G(e,t))},k.decimalPlaces=k.dp=function(e,t){var r,n,o,i=this;if(null!=e)return y(e,0,f),null==t?t=R:y(t,0,8),W(new G(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((o=r.length-1)-h(this.e/l))*l,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},k.dividedBy=k.div=function(e,t){return r(this,new G(e,t),P,R)},k.dividedToIntegerBy=k.idiv=function(e,t){return r(this,new G(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var r,n,a,c,u,p,d,f,h=this;if((e=new G(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+J(e));if(null!=t&&(t=new G(t)),u=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return f=new G(Math.pow(+J(h),u?2-v(e):+J(e))),t?f.mod(t):f;if(p=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new G(NaN);(n=!p&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||u&&h.c[1]>=24e7:h.c[0]<8e13||u&&h.c[0]<=9999975e7)))return c=h.s<0&&v(e)?-0:0,h.e>-1&&(c=1/c),new G(p?1/c:c);U&&(c=o(U/l+2))}for(u?(r=new G(.5),p&&(e.s=1),d=v(e)):d=(a=Math.abs(+J(e)))%2,f=new G(N);;){if(d){if(!(f=f.times(h)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(t))}if(a){if(0===(a=i(a/2)))break;d=a%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)d=v(e);else{if(0==(a=+J(e)))break;d=a%2}h=h.times(h),c?h.c&&h.c.length>c&&(h.c.length=c):n&&(h=h.mod(t))}return n?f:(p&&(f=N.div(f)),t?f.mod(t):c?W(f,U,R,void 0):f)},k.integerValue=function(e){var t=new G(this);return null==e?e=R:y(e,0,8),W(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===m(this,new G(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return m(this,new G(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=m(this,new G(e,t)))||0===t},k.isInteger=function(){return!!this.c&&h(this.e/l)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return m(this,new G(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=m(this,new G(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var r,n,o,i,s=this,a=s.s;if(t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/l,p=e.e/l,d=s.c,f=e.c;if(!u||!p){if(!d||!f)return d?(e.s=-t,e):new G(f?s:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new G(d[0]?s:3==R?-0:0)}if(u=h(u),p=h(p),d=d.slice(),a=u-p){for((i=a<0)?(a=-a,o=d):(p=u,o=f),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(n=(i=(a=d.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(d[t]!=f[t]){i=d[t]<f[t];break}if(i&&(o=d,d=f,f=o,e.s=-e.s),(t=(n=f.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=c-1;n>a;){if(d[--n]<f[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=c}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--p);return d[0]?K(e,d,p):(e.s=3==R?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var n,o,i=this;return e=new G(e,t),!i.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||i.c&&!i.c[0]?new G(i):(9==B?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,B),(e=i.minus(n.times(e))).c[0]||1!=B||(e.s=i.s),e)},k.multipliedBy=k.times=function(e,t){var r,n,o,i,s,a,u,p,f,g,m,y,v,b,w,E=this,_=E.c,O=(e=new G(e,t)).c;if(!(_&&O&&_[0]&&O[0]))return!E.s||!e.s||_&&!_[0]&&!O||O&&!O[0]&&!_?e.c=e.e=e.s=null:(e.s*=E.s,_&&O?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=h(E.e/l)+h(e.e/l),e.s*=E.s,(u=_.length)<(g=O.length)&&(v=_,_=O,O=v,o=u,u=g,g=o),o=u+g,v=[];o--;v.push(0));for(b=c,w=d,o=g;--o>=0;){for(r=0,m=O[o]%w,y=O[o]/w|0,i=o+(s=u);i>o;)r=((p=m*(p=_[--s]%w)+(a=y*p+(f=_[s]/w|0)*m)%w*w+v[i]+r)/b|0)+(a/w|0)+y*f,v[i--]=p%b;v[i]=r}return r?++n:v.splice(0,1),K(e,v,n)},k.negated=function(){var e=new G(this);return e.s=-e.s||null,e},k.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new G(e,t)).s,!o||!t)return new G(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/l,s=e.e/l,a=n.c,u=e.c;if(!i||!s){if(!a||!u)return new G(o/0);if(!a[0]||!u[0])return u[0]?e:new G(a[0]?n:0*o)}if(i=h(i),s=h(s),a=a.slice(),o=i-s){for(o>0?(s=i,r=u):(o=-o,r=a),r.reverse();o--;r.push(0));r.reverse()}for((o=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=o),o=0;t;)o=(a[--t]=a[t]+u[t]+o)/c|0,a[t]=c===a[t]?0:a[t]%c;return o&&(a=[o].concat(a),++s),K(e,a,s)},k.precision=k.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return y(e,1,f),null==t?t=R:y(t,0,8),W(new G(i),e,t);if(!(r=i.c))return null;if(n=(o=r.length-1)*l+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},k.shiftedBy=function(e){return y(e,-9007199254740991,u),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,n,o,i,s=this,a=s.c,c=s.s,l=s.e,u=P+4,p=new G("0.5");if(1!==c||!a||!a[0])return new G(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+J(s)))||c==1/0?(((t=g(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=h((l+1)/2)-(l<0||l%2),n=new G(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new G(c+""),n.c[0])for((c=(l=n.e)+u)<3&&(c=0);;)if(i=n,n=p.times(i.plus(r(s,i,u,1))),g(i.c).slice(0,c)===(t=g(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(n,n.e+P+2,1),e=!n.times(n).eq(s));break}if(!o&&(W(i,i.e+P+2,0),i.times(i).eq(s))){n=i;break}u+=4,c+=4,o=1}return W(n,n.e+P+1,R,e)},k.toExponential=function(e,t){return null!=e&&(y(e,0,f),e++),H(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(y(e,0,f),e=e+this.e+1),H(this,e,t)},k.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=V;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,a=n.split("."),c=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",p=a[0],d=a[1],f=o.s<0,h=f?p.slice(1):p,g=h.length;if(l&&(i=c,c=l,l=i,g-=i),c>0&&g>0){for(i=g%c||c,p=h.substr(0,i);i<g;i+=c)p+=u+h.substr(i,c);l>0&&(p+=u+h.slice(i)),f&&(p="-"+p)}n=d?p+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):p}return(r.prefix||"")+n+(r.suffix||"")},k.toFraction=function(e){var t,n,o,i,a,c,u,d,f,h,m,y,v=this,b=v.c;if(null!=e&&(!(u=new G(e)).isInteger()&&(u.c||1!==u.s)||u.lt(N)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+J(u));if(!b)return new G(v);for(t=new G(N),f=n=new G(N),o=d=new G(N),y=g(b),a=t.e=y.length-v.e-1,t.c[0]=p[(c=a%l)<0?l+c:c],e=!e||u.comparedTo(t)>0?a>0?t:f:u,c=F,F=1/0,u=new G(y),d.c[0]=0;h=r(u,t,0,1),1!=(i=n.plus(h.times(o))).comparedTo(e);)n=o,o=i,f=d.plus(h.times(i=f)),d=i,t=u.minus(h.times(i=t)),u=i;return i=r(e.minus(n),o,0,1),d=d.plus(i.times(f)),n=n.plus(i.times(o)),d.s=f.s=v.s,m=r(f,o,a*=2,R).minus(v).abs().comparedTo(r(d,n,a,R).minus(v).abs())<1?[f,o]:[d,n],F=c,m},k.toNumber=function(){return+J(this)},k.toPrecision=function(e,t){return null!=e&&y(e,1,f),H(this,e,t,2)},k.toString=function(e){var t,r=this,n=r.s,o=r.e;return null===o?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=o<=j||o>=D?b(g(r.c),o):w(g(r.c),o,"0"):10===e?t=w(g((r=W(new G(r),P+o+1,R)).c),r.e,"0"):(y(e,2,q.length,"Base"),t=E(w(g(r.c),o,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return J(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,null!=t&&G.set(t),G}();const _=E},88500:(e,t,r)=>{"use strict";var n=r(64293).Buffer,o=r(64293).SlowBuffer;function i(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=0;o<e.length;o++)r|=e[o]^t[o];return 0===r}e.exports=i,i.install=function(){n.prototype.equal=o.prototype.equal=function(e){return i(this,e)}};var s=n.prototype.equal,a=o.prototype.equal;i.restore=function(){n.prototype.equal=s,o.prototype.equal=a}},55559:(e,t,r)=>{"use strict";var n=r(58612),o=r(40210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&l){var r=c(t,"length");r.configurable&&l(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var p=function(){return a(n,i,arguments)};l?l(e.exports,"apply",{value:p}):e.exports.apply=p},98767:e=>{function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},97023:(e,t,r)=>{"use strict";var n=r(55234),o=/^text\/|\+(?:json|text|xml)$/i,i=/^\s*([^;\s]*)(?:;|\s|$)/;e.exports=function(e){if(!e||"string"!=typeof e)return!1;var t=i.exec(e),r=t&&t[1].toLowerCase(),s=n[r];return s&&void 0!==s.compressible?s.compressible:o.test(r)||void 0}},70214:(e,t,r)=>{"use strict";const n=r(85622),o=r(12087),i=r(20077),s=r(40789),a=r(20071),c=r(70902),l=r(93517),u=r(36277),p=a.config||n.join(o.tmpdir(),u()),d="You don't have access to this file.",f={mode:448},h={mode:384};e.exports=class{constructor(e,t,r={}){const o=r.globalConfigPath?n.join(e,"config.json"):n.join("configstore",`${e}.json`);this.path=r.configPath||n.join(p,o),t&&(this.all={...t,...this.all})}get all(){try{return JSON.parse(i.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=`${e.message}\n${d}\n`),"SyntaxError"===e.name)return c.sync(this.path,"",h),{};throw e}}set all(e){try{s.sync(n.dirname(this.path),f),c.sync(this.path,JSON.stringify(e,void 0,"\t"),h)}catch(e){throw"EACCES"===e.code&&(e.message=`${e.message}\n${d}\n`),e}}get size(){return Object.keys(this.all||{}).length}get(e){return l.get(this.all,e)}set(e,t){const r=this.all;if(1===arguments.length)for(const t of Object.keys(e))l.set(r,t,e[t]);else l.set(r,e,t);this.all=r}has(e){return l.has(this.all,e)}delete(e){const t=this.all;l.delete(t,e),this.all=t}clear(){this.all={}}}},17846:(e,t,r)=>{!function(){"use strict";var t=r(27418),n=r(45181),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function i(e){return"string"==typeof e||e instanceof String}function s(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)if(s(e,t[r]))return!0;return!1}return i(t)?e===t:t instanceof RegExp?t.test(e):!!t}function a(e,t){var r,n=t.headers.origin,o=[];return e.origin&&"*"!==e.origin?i(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(r=s(n,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!r&&n}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function c(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function l(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function u(e,t){for(var r=0,o=e.length;r<o;r++){var i=e[r];i&&(Array.isArray(i)?u(i,t):"Vary"===i.key&&i.value?n(t,i.value):i.value&&t.setHeader(i.key,i.value))}}e.exports=function(e){var r=null;return r="function"==typeof e?e:function(t,r){r(null,e)},function(e,n,i){r(e,(function(r,s){if(r)i(r);else{var p=t({},o,s),d=null;p.origin&&"function"==typeof p.origin?d=p.origin:p.origin&&(d=function(e,t){t(null,p.origin)}),d?d(e.headers.origin,(function(t,r){t||!r?i(t):(p.origin=r,function(e,t,r,n){var o=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(o.push(a(e,t)),o.push(c(e)),o.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),o.push(function(e,t){var r=e.allowedHeaders||e.headers,n=[];return r?r.join&&(r=r.join(",")):(r=t.headers["access-control-request-headers"],n.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),r&&r.length&&n.push([{key:"Access-Control-Allow-Headers",value:r}]),n}(e,t)),o.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),o.push(l(e)),u(o,r),e.preflightContinue?n():(r.statusCode=e.optionsSuccessStatus,r.setHeader("Content-Length","0"),r.end())):(o.push(a(e,t)),o.push(c(e)),o.push(l(e)),u(o,r),n())}(p,e,n,i))})):i()}}))}}}()},88574:(e,t,r)=>{"use strict";var n=r(92750);function o(e,t){var r={zone:t};if(e?e instanceof o?this._date=e._date:e instanceof Date?this._date=n.DateTime.fromJSDate(e,r):"number"==typeof e?this._date=n.DateTime.fromMillis(e,r):"string"==typeof e&&(this._date=n.DateTime.fromISO(e,r),this._date.isValid||(this._date=n.DateTime.fromRFC2822(e,r)),this._date.isValid||(this._date=n.DateTime.fromSQL(e,r)),this._date.isValid||(this._date=n.DateTime.fromFormat(e,"EEE, d MMM yyyy HH:mm:ss",r))):this._date=n.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(e));t&&t!==this._date.zoneName&&(this._date=this._date.setZone(t))}o.prototype.addYear=function(){this._date=this._date.plus({years:1})},o.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")},o.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")},o.prototype.addHour=function(){var e=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=e&&(this._date=this._date.plus({hours:1}))},o.prototype.addMinute=function(){var e=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<e&&(this._date=this._date.plus({hours:1}))},o.prototype.addSecond=function(){var e=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<e&&(this._date=this._date.plus({hours:1}))},o.prototype.subtractYear=function(){this._date=this._date.minus({years:1})},o.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")},o.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")},o.prototype.subtractHour=function(){var e=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=e&&(this._date=this._date.minus({hours:1}))},o.prototype.subtractMinute=function(){var e=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},o.prototype.subtractSecond=function(){var e=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},o.prototype.getDate=function(){return this._date.day},o.prototype.getFullYear=function(){return this._date.year},o.prototype.getDay=function(){var e=this._date.weekday;return 7==e?0:e},o.prototype.getMonth=function(){return this._date.month-1},o.prototype.getHours=function(){return this._date.hour},o.prototype.getMinutes=function(){return this._date.minute},o.prototype.getSeconds=function(){return this._date.second},o.prototype.getMilliseconds=function(){return this._date.millisecond},o.prototype.getTime=function(){return this._date.valueOf()},o.prototype.getUTCDate=function(){return this._getUTC().day},o.prototype.getUTCFullYear=function(){return this._getUTC().year},o.prototype.getUTCDay=function(){var e=this._getUTC().weekday;return 7==e?0:e},o.prototype.getUTCMonth=function(){return this._getUTC().month-1},o.prototype.getUTCHours=function(){return this._getUTC().hour},o.prototype.getUTCMinutes=function(){return this._getUTC().minute},o.prototype.getUTCSeconds=function(){return this._getUTC().second},o.prototype.toISOString=function(){return this._date.toUTC().toISO()},o.prototype.toJSON=function(){return this._date.toJSON()},o.prototype.setDate=function(e){this._date=this._date.set({day:e})},o.prototype.setFullYear=function(e){this._date=this._date.set({year:e})},o.prototype.setDay=function(e){this._date=this._date.set({weekday:e})},o.prototype.setMonth=function(e){this._date=this._date.set({month:e+1})},o.prototype.setHours=function(e){this._date=this._date.set({hour:e})},o.prototype.setMinutes=function(e){this._date=this._date.set({minute:e})},o.prototype.setSeconds=function(e){this._date=this._date.set({second:e})},o.prototype.setMilliseconds=function(e){this._date=this._date.set({millisecond:e})},o.prototype._getUTC=function(){return this._date.toUTC()},o.prototype.toString=function(){return this.toDate().toString()},o.prototype.toDate=function(){return this._date.toJSDate()},o.prototype.isLastDayOfMonth=function(){var e=this._date.plus({days:1}).startOf("day");return this._date.month!==e.month},e.exports=o},363:(e,t,r)=>{"use strict";var n=r(88574),o=r(20360),i=r(6847);function s(e,t){this._options=t,this._utc=t.utc||!1,this._tz=this._utc?"UTC":t.tz,this._currentDate=new n(t.currentDate,this._tz),this._startDate=t.startDate?new n(t.startDate,this._tz):null,this._endDate=t.endDate?new n(t.endDate,this._tz):null,this._isIterator=t.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=t.nthDayOfWeek||0,this.fields=s._freezeFields(e)}s.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"],s.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"},s.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:[]}],s.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31],s.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},s.parseDefaults=["0","*","*","*","*","*"],s.standardValidCharacters=/^[\d|/|*|\-|,]+$/,s.dayOfWeekValidCharacters=/^[\d|/|*|\-|,|\?]+$/,s.dayOfMonthValidCharacters=/^[\d|L|/|*|\-|,|\?]+$/,s.validCharacters={second:s.standardValidCharacters,minute:s.standardValidCharacters,hour:s.standardValidCharacters,dayOfMonth:s.dayOfMonthValidCharacters,month:s.standardValidCharacters,dayOfWeek:s.dayOfWeekValidCharacters},s._parseField=function(e,t,r){switch(e){case"month":case"dayOfWeek":var n=s.aliases[e];t=t.replace(/[a-z]{1,3}/gi,(function(e){if(e=e.toLowerCase(),void 0!==n[e])return n[e];throw new Error('Validation error, cannot resolve alias "'+e+'"')}))}if(!s.validCharacters[e].test(t))throw new Error("Invalid characters, got value: "+t);function i(e){var t=e.split("/");return t.length>1?(t[0]==+t[0]&&(t=[t[0]+"-"+r.max,t[1]]),a(t[0],t[t.length-1])):a(e,1)}function a(e,t){var n=[],i=e.split("-");if(i.length>1){if(i.length<2)return+e;if(!i[0].length){if(!i[1].length)throw new Error("Invalid range: "+e);return+e}var s=+i[0],a=+i[1];if(o(s)||o(a)||s<r.min||a>r.max)throw new Error("Constraint error, got range "+s+"-"+a+" expected range "+r.min+"-"+r.max);if(s>=a)throw new Error("Invalid range: "+e);var c=+t;if(o(c)||c<=0)throw new Error("Constraint error, cannot repeat at every "+c+" time.");for(var l=s,u=a;l<=u;l++)c>0&&c%t==0?(c=1,n.push(l)):c++;return n}return o(+e)?e:+e}return-1!==t.indexOf("*")?t=t.replace(/\*/g,r.min+"-"+r.max):-1!==t.indexOf("?")&&(t=t.replace(/\?/g,r.min+"-"+r.max)),function(t){var n=[];function a(t){if(t instanceof Array)for(var i=0,s=t.length;i<s;i++){var a=t[i];if("string"==typeof a&&r.chars.indexOf(a)>-1)n.push(a);else{if("number"!=typeof a||o(a)||a<r.min||a>r.max)throw new Error("Constraint error, got value "+a+" expected range "+r.min+"-"+r.max);n.push(a)}}else{if("string"==typeof t&&r.chars.indexOf(t)>-1)return void n.push(t);var c=+t;if(o(c)||c<r.min||c>r.max)throw new Error("Constraint error, got value "+t+" expected range "+r.min+"-"+r.max);"dayOfWeek"===e&&(c%=7),n.push(c)}}var c=t.split(",");if(!c.every((function(e){return e.length>0})))throw new Error("Invalid list value format");if(c.length>1)for(var l=0,u=c.length;l<u;l++)a(i(c[l]));else a(i(t));return n.sort(s._sortCompareFn),n}(t)},s._sortCompareFn=function(e,t){var r="number"==typeof e,n="number"==typeof t;return r&&n?e-t:!r&&n?1:r&&!n?-1:e.localeCompare(t)},s._handleMaxDaysInMonth=function(e){if(1===e.month.length){var t=s.daysInMonth[e.month[0]-1];if(e.dayOfMonth[0]>t)throw new Error("Invalid explicit day of month definition");return e.dayOfMonth.filter((function(e){return"L"===e||e<=t})).sort(s._sortCompareFn)}},s._freezeFields=function(e){for(var t=0,r=s.map.length;t<r;++t){var n=s.map[t],o=e[n];e[n]=Object.freeze(o)}return Object.freeze(e)},s.prototype._applyTimezoneShift=function(e,t,r){if("Month"===r||"Day"===r){var n=e.getTime();e[t+r](),n===e.getTime()&&(0===e.getMinutes()&&0===e.getSeconds()?e.addHour():59===e.getMinutes()&&59===e.getSeconds()&&e.subtractHour())}else{var o=e.getHours();e[t+r]();var i=e.getHours(),s=i-o;2===s?24!==this.fields.hour.length&&(this._dstStart=i):0===s&&0===e.getMinutes()&&0===e.getSeconds()&&24!==this.fields.hour.length&&(this._dstEnd=i)}},s.prototype._findSchedule=function(e){function t(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r]>=e)return t[r]===e;return t[0]===e}function r(e,t){if(t<6){if(e.getDate()<8&&1===t)return!0;var r=e.getDate()%7?1:0,n=e.getDate()-e.getDate()%7;return Math.floor(n/7)+r===t}return!1}for(var o,i=(e=e||!1)?"subtract":"add",a=new n(this._currentDate,this._tz),c=this._startDate,l=this._endDate,u=a.getTime(),p=0;p<1e4;){if(p++,e){if(c&&a.getTime()-c.getTime()<0)throw new Error("Out of the timespan range")}else if(l&&l.getTime()-a.getTime()<0)throw new Error("Out of the timespan range");var d=t(a.getDate(),this.fields.dayOfMonth);(o=this.fields.dayOfMonth).length>0&&o.indexOf("L")>=0&&(d=d||a.isLastDayOfMonth());var f=t(a.getDay(),this.fields.dayOfWeek),h=this.fields.dayOfMonth.length>=s.daysInMonth[a.getMonth()],g=this.fields.dayOfWeek.length===s.constraints[5].max-s.constraints[5].min+1,m=a.getHours();if(d||f)if(h||!g||d)if(!h||g||f)if(this._nthDayOfWeek>0&&!r(a,this._nthDayOfWeek))this._applyTimezoneShift(a,i,"Day");else if(t(a.getMonth()+1,this.fields.month)){if(t(m,this.fields.hour)){if(this._dstEnd===m&&!e){this._dstEnd=null,this._applyTimezoneShift(a,"add","Hour");continue}}else{if(this._dstStart!==m){this._dstStart=null,this._applyTimezoneShift(a,i,"Hour");continue}if(!t(m-1,this.fields.hour)){a[i+"Hour"]();continue}}if(t(a.getMinutes(),this.fields.minute))if(t(a.getSeconds(),this.fields.second)){if(u!==a.getTime())break;"add"===i||0===a.getMilliseconds()?this._applyTimezoneShift(a,i,"Second"):a.setMilliseconds(0)}else this._applyTimezoneShift(a,i,"Second");else this._applyTimezoneShift(a,i,"Minute")}else this._applyTimezoneShift(a,i,"Month");else this._applyTimezoneShift(a,i,"Day");else this._applyTimezoneShift(a,i,"Day");else this._applyTimezoneShift(a,i,"Day")}if(p>=1e4)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new n(a,this._tz),this._hasIterated=!0,a},s.prototype.next=function(){var e=this._findSchedule();return this._isIterator?{value:e,done:!this.hasNext()}:e},s.prototype.prev=function(){var e=this._findSchedule(!0);return this._isIterator?{value:e,done:!this.hasPrev()}:e},s.prototype.hasNext=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.hasPrev=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(!0),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.iterate=function(e,t){var r=[];if(e>=0)for(var n=0,o=e;n<o;n++)try{var i=this.next();r.push(i),t&&t(i,n)}catch(e){break}else for(n=0,o=e;n>o;n--)try{i=this.prev(),r.push(i),t&&t(i,n)}catch(e){break}return r},s.prototype.reset=function(e){this._currentDate=new n(e||this._options.currentDate)},s.prototype.stringify=function(e){for(var t=[],r=e?0:1,n=s.map.length;r<n;++r){var o=s.map[r],a=this.fields[o],c=s.constraints[r];t.push(i(a,c.min,c.max))}return t.join(" ")},s.parse=function(e,t){var r=this;return"function"==typeof t&&(t={}),function(e,t){t||(t={}),void 0===t.currentDate&&(t.currentDate=new n(void 0,r._tz)),s.predefined[e]&&(e=s.predefined[e]);var i=[],a=(e+"").trim().split(/\s+/);if(a.length>6)throw new Error("Invalid cron expression");for(var c=s.map.length-a.length,l=0,u=s.map.length;l<u;++l){var p=s.map[l],d=a[a.length>u?l:l-c];if(l<c||!d)i.push(s._parseField(p,s.parseDefaults[l],s.constraints[l]));else{var f="dayOfWeek"===p?m(d):d;i.push(s._parseField(p,f,s.constraints[l]))}}var h={};for(l=0,u=s.map.length;l<u;l++)h[s.map[l]]=i[l];var g=s._handleMaxDaysInMonth(h);return h.dayOfMonth=g||h.dayOfMonth,new s(h,t);function m(e){var r=e.split("#");if(r.length>1){var n=+r[r.length-1];if(/,/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(r.length>2||o(n)||n<1||n>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return t.nthDayOfWeek=n,r[0]}return e}}(e,t)},s.fieldsToExpression=function(e,t){function r(e,t,r){if(!t)throw new Error("Validation error, Field "+e+" is missing");if(0===t.length)throw new Error("Validation error, Field "+e+" contains no values");for(var n=0,i=t.length;n<i;n++){var s=t[n];if(!("string"==typeof s&&r.chars.indexOf(s)>-1)&&("number"!=typeof s||o(s)||s<r.min||s>r.max))throw new Error("Constraint error, got value "+s+" expected range "+r.min+"-"+r.max)}}for(var n={},i=0,a=s.map.length;i<a;++i){var c=s.map[i],l=e[c];r(c,l,s.constraints[i]);for(var u=[],p=-1;++p<l.length;)u[p]=l[p];if((l=u.sort(s._sortCompareFn).filter((function(e,t,r){return!t||e!==r[t-1]}))).length!==u.length)throw new Error("Validation error, Field "+c+" contains duplicate values");n[c]=l}var d=s._handleMaxDaysInMonth(n);return n.dayOfMonth=d||n.dayOfMonth,new s(n,t||{})},e.exports=s},42978:e=>{"use strict";function t(e){return{start:e,count:1}}function r(e,t){e.end=t,e.step=t-e.start,e.count=2}function n(e,r,n){r&&(2===r.count?(e.push(t(r.start)),e.push(t(r.end))):e.push(r)),n&&e.push(n)}e.exports=function(e){for(var o=[],i=void 0,s=0;s<e.length;s++){var a=e[s];"number"!=typeof a?(n(o,i,t(a)),i=void 0):i?1===i.count?r(i,a):i.step===a-i.end?(i.count++,i.end=a):2===i.count?(o.push(t(i.start)),r(i=t(i.end),a)):(n(o,i),i=t(a)):i=t(a)}return n(o,i),o}},6847:(e,t,r)=>{"use strict";var n=r(42978);e.exports=function(e,t,r){var o=n(e);if(1===o.length){var i=o[0];if(1===(l=i.step)&&i.start===t&&i.end===r)return"*";if(1!==l&&i.start===t&&i.end===r-l+1)return"*/"+l}for(var s=[],a=0,c=o.length;a<c;++a){var l,u=o[a];1===u.count?s.push(u.start):1===(l=u.step)?s.push(u.start+"-"+u.end):u.end===r-l+1?s.push(u.start+"/"+l):s.push(u.start+"-"+u.end+"/"+l)}return s.join(",")}},45855:(e,t,r)=>{"use strict";var n=r(363);function o(){}o._parseEntry=function(e){var t=e.split(" ");if(6===t.length)return{interval:n.parse(e)};if(t.length>6)return{interval:n.parse(t.slice(0,6).join(" ")),command:t.slice(6,t.length)};throw new Error("Invalid entry: "+e)},o.parseExpression=function(e,t){return n.parse(e,t)},o.fieldsToExpression=function(e,t){return n.fieldsToExpression(e,t)},o.parseString=function(e){for(var t=e.split("\n"),r={variables:{},expressions:[],errors:{}},n=0,i=t.length;n<i;n++){var s=null,a=t[n].trim();if(a.length>0){if(a.match(/^#/))continue;if(s=a.match(/^(.*)=(.*)$/))r.variables[s[1]]=s[2];else{var c=null;try{c=o._parseEntry("0 "+a),r.expressions.push(c.interval)}catch(e){r.errors[a]=e}}}}return r},o.parseFile=function(e,t){r(35747).readFile(e,(function(e,r){if(!e)return t(null,o.parseString(r.toString()));t(e)}))},e.exports=o},20511:(e,t,r)=>{"use strict";const n=r(76417);e.exports=e=>{if(!Number.isFinite(e))throw new TypeError("Expected a finite number");return n.randomBytes(Math.ceil(e/2)).toString("hex").slice(0,e)}},93271:function(e){e.exports=function(){"use strict";var e={},t={},r={},n="en",o={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"]},i={YYYY:function(e){return("000"+e.getFullYear()).slice(-4)},YY:function(e){return("0"+e.getFullYear()).slice(-2)},Y:function(e){return""+e.getFullYear()},MMMM:function(e){return this.res.MMMM[e.getMonth()]},MMM:function(e){return this.res.MMM[e.getMonth()]},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},M:function(e){return""+(e.getMonth()+1)},DD:function(e){return("0"+e.getDate()).slice(-2)},D:function(e){return""+e.getDate()},HH:function(e){return("0"+e.getHours()).slice(-2)},H:function(e){return""+e.getHours()},A:function(e){return this.res.A[e.getHours()>11|0]},hh:function(e){return("0"+(e.getHours()%12||12)).slice(-2)},h:function(e){return""+(e.getHours()%12||12)},mm:function(e){return("0"+e.getMinutes()).slice(-2)},m:function(e){return""+e.getMinutes()},ss:function(e){return("0"+e.getSeconds()).slice(-2)},s:function(e){return""+e.getSeconds()},SSS:function(e){return("00"+e.getMilliseconds()).slice(-3)},SS:function(e){return("0"+(e.getMilliseconds()/10|0)).slice(-2)},S:function(e){return""+(e.getMilliseconds()/100|0)},dddd:function(e){return this.res.dddd[e.getDay()]},ddd:function(e){return this.res.ddd[e.getDay()]},dd:function(e){return this.res.dd[e.getDay()]},Z:function(e){var t=e.utc?0:e.getTimezoneOffset()/.6;return(t>0?"-":"+")+("000"+Math.abs(t-t%100*.4)).slice(-4)},post:function(e){return e}},s={YYYY:function(e){return this.exec(/^\d{4}/,e)},Y:function(e){return this.exec(/^\d{1,4}/,e)},MMMM:function(e){var t=this.find(this.res.MMMM,e);return t.value++,t},MMM:function(e){var t=this.find(this.res.MMM,e);return t.value++,t},MM:function(e){return this.exec(/^\d\d/,e)},M:function(e){return this.exec(/^\d\d?/,e)},DD:function(e){return this.exec(/^\d\d/,e)},D:function(e){return this.exec(/^\d\d?/,e)},HH:function(e){return this.exec(/^\d\d/,e)},H:function(e){return this.exec(/^\d\d?/,e)},A:function(e){return this.find(this.res.A,e)},hh:function(e){return this.exec(/^\d\d/,e)},h:function(e){return this.exec(/^\d\d?/,e)},mm:function(e){return this.exec(/^\d\d/,e)},m:function(e){return this.exec(/^\d\d?/,e)},ss:function(e){return this.exec(/^\d\d/,e)},s:function(e){return this.exec(/^\d\d?/,e)},SSS:function(e){return this.exec(/^\d{1,3}/,e)},SS:function(e){var t=this.exec(/^\d\d?/,e);return t.value*=10,t},S:function(e){var t=this.exec(/^\d/,e);return t.value*=100,t},Z:function(e){var t=this.exec(/^[\+-]\d{2}[0-5]\d/,e);return t.value=-60*(t.value/100|0)-t.value%100,t},h12:function(e,t){return(12===e?0:e)+12*t},exec:function(e,t){var r=(e.exec(t)||[""])[0];return{value:0|r,length:r.length}},find:function(e,t){for(var r,n=-1,o=0,i=0,s=e.length;i<s;i++)r=e[i],!t.indexOf(r)&&r.length>o&&(n=i,o=r.length);return{value:n,length:o}},pre:function(e){return e}},a=function(e,r,n){var o=function(e,t,r){var n=function(e){e&&(this.res=e)};(n.prototype=e).constructor=n;var o,i=new n(r);for(var s in t||{})o=t[s],i[s]=o.slice?o.slice():o;return i},i={res:o(r.res,n.res)};i.formatter=o(r.formatter,n.formatter,i.res),i.parser=o(r.parser,n.parser,i.res),t[e]=i};return e.compile=function(e){for(var t,r=/\[([^\[\]]|\[[^\[\]]*])*]|([A-Za-z])\2+|\.{3}|./g,n=[e];t=r.exec(e);)n[n.length]=t[0];return n},e.format=function(r,o,i){var s="string"==typeof o?e.compile(o):o,a=e.addMinutes(r,i?r.getTimezoneOffset():0),c=t[n].formatter,l="";a.utc=i||!1;for(var u,p=1,d=s.length;p<d;p++)l+=c[u=s[p]]?c.post(c[u](a,s[0])):u.replace(/\[(.*)]/,"$1");return l},e.preparse=function(r,o){var i="string"==typeof o?e.compile(o):o,s={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,Z:0,_index:0,_length:0,_match:0},a=/\[(.*)]/,c=t[n].parser,l=0;r=c.pre(r);for(var u,p,d=1,f=i.length;d<f;d++)if(c[u=i[d]]){if(!(p=c[u](r.slice(l),i[0])).length)break;l+=p.length,s[u.charAt(0)]=p.value,s._match++}else if(u===r.charAt(l)||" "===u)l++;else{if(!a.test(u)||r.slice(l).indexOf(a.exec(u)[1])){if("..."===u){l=r.length;break}break}l+=u.length-2}return s.H=s.H||c.h12(s.h,s.A),s._index=l,s._length=r.length,s},e.isValid=function(t,r){var n="string"==typeof t?e.preparse(t,r):t,o=[31,28+e.isLeapYear(n.Y)|0,31,30,31,30,31,31,30,31,30,31][n.M-1];return!(n._index<1||n._length<1||n._index-n._length||n._match<1||n.Y<1||n.Y>9999||n.M<1||n.M>12||n.D<1||n.D>o||n.H<0||n.H>23||n.m<0||n.m>59||n.s<0||n.s>59||n.S<0||n.S>999||n.Z<-720||n.Z>840)},e.parse=function(t,r,n){var o=e.preparse(t,r);return e.isValid(o)?(o.M-=o.Y<100?22801:1,n||o.Z?new Date(Date.UTC(o.Y,o.M,o.D,o.H,o.m+o.Z,o.s,o.S)):new Date(o.Y,o.M,o.D,o.H,o.m,o.s,o.S)):new Date(NaN)},e.transform=function(t,r,n,o){return e.format(e.parse(t,r),n,o)},e.addYears=function(t,r){return e.addMonths(t,12*r)},e.addMonths=function(e,t){var r=new Date(e.getTime());return r.setMonth(r.getMonth()+t),r},e.addDays=function(e,t){var r=new Date(e.getTime());return r.setDate(r.getDate()+t),r},e.addHours=function(t,r){return e.addMinutes(t,60*r)},e.addMinutes=function(t,r){return e.addSeconds(t,60*r)},e.addSeconds=function(t,r){return e.addMilliseconds(t,1e3*r)},e.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},e.subtract=function(e,t){var r=e.getTime()-t.getTime();return{toMilliseconds:function(){return r},toSeconds:function(){return r/1e3},toMinutes:function(){return r/6e4},toHours:function(){return r/36e5},toDays:function(){return r/864e5}}},e.isLeapYear=function(e){return!((e%4||!(e%100))&&e%400)},e.isSameDay=function(e,t){return e.toDateString()===t.toDateString()},e.locale=function(t,r){return r?a(t,{res:o,formatter:i,parser:s},r):n=("function"==typeof t?t:e.locale[t]||function(){})(e)||n,n},e.extend=function(r){var o=r.extender||{};for(var i in o)e[i]||(e[i]=o[i]);(r.formatter||r.parser||r.res)&&a(n,t[n],r)},e.plugin=function(t,n){n?r[t]||e.extend(r[t]=n):("function"==typeof t?t:e.plugin[t]||function(){})(e)},e.locale(n,{}),e}()},4289:(e,t,r)=>{"use strict";var n=r(82215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(c?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},u=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)l(e,i[a],t[i[a]],r[i[a]])};u.supportsDescriptors=!!c,e.exports=u},39322:(e,t,r)=>{var n=r(92413).Writable,o=r(31669).inherits,i=r(31301),s=r(21219),a=r(48025),c=Buffer.from("-"),l=Buffer.from("\r\n"),u=function(){};function p(e){if(!(this instanceof p))return new p(e);if(n.call(this,e),!e||!e.headerFirst&&"string"!=typeof e.boundary)throw new TypeError("Boundary required");"string"==typeof e.boundary?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst;var t=this;this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts="number"==typeof e.partHwm?{highWaterMark:e.partHwm}:{},this._pause=!1,this._hparser=new a(e),this._hparser.on("header",(function(e){t._inHeader=!1,t._part.emit("header",e)}))}o(p,n),p.prototype.emit=function(e){if("finish"!==e||this._realFinish)n.prototype.emit.apply(this,arguments);else if(!this._finished){var t=this;process.nextTick((function(){if(t.emit("error",new Error("Unexpected end of multipart data")),t._part&&!t._ignoreData){var e=t._isPreamble?"Preamble":"Part";return t._part.emit("error",new Error(e+" terminated early due to unexpected end of multipart data")),t._part.push(null),void process.nextTick((function(){t._realFinish=!0,t.emit("finish"),t._realFinish=!1}))}t._realFinish=!0,t.emit("finish"),t._realFinish=!1}))}},p.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new s(this._partOpts),this._events.preamble?this.emit("preamble",this._part):this._ignore());var n=this._hparser.push(e);if(this._inHeader||void 0===n||!(n<e.length))return r();e=e.slice(n)}this._firstWrite&&(this._bparser.push(l),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()},p.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},p.prototype.setBoundary=function(e){var t=this;this._bparser=new i("\r\n--"+e),this._bparser.on("info",(function(e,r,n,o){t._oninfo(e,r,n,o)}))},p.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",u),this._part.resume())},p.prototype._oninfo=function(e,t,r,n){var o,i,a,l=this,u=0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+u<n;){if(45!==t[r+u]){this._dashes&&(o=c),this._dashes=0;break}++u,++this._dashes}if(2===this._dashes&&(r+u<n&&this._events.trailer&&this.emit("trailer",t.slice(r+u,n)),this.reset(),this._finished=!0,0===l._parts&&(l._realFinish=!0,l.emit("finish"),l._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new s(this._partOpts),this._part._read=function(e){l._unpause()},a=this._isPreamble?"preamble":"part",this._events[a]?this.emit(a,this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),t&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(o&&this._part.push(o),this._part.push(t.slice(r,n))||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(o&&this._hparser.push(o),i=this._hparser.push(t.slice(r,n)),!this._inHeader&&void 0!==i&&i<n&&this._oninfo(!1,t,r+i,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:(++this._parts,this._part.on("end",(function(){0==--l._parts&&(l._finished?(l._realFinish=!0,l.emit("finish"),l._realFinish=!1):l._unpause())}))),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},p.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){var e=this._cb;this._cb=void 0,e()}},e.exports=p},48025:(e,t,r)=>{var n=r(28614).EventEmitter,o=r(31669).inherits,i=r(31301),s=Buffer.from("\r\n\r\n"),a=/\r\n/g,c=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/,l=81920;function u(e){n.call(this);var t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=e&&"number"==typeof e.maxHeaderPairs?e.maxHeaderPairs:2e3,this.buffer="",this.header={},this.finished=!1,this.ss=new i(s),this.ss.on("info",(function(e,r,n,o){r&&!t.maxed&&(t.nread+(o-n)>l?(o=l-t.nread,t.nread=l):t.nread+=o-n,t.nread===l&&(t.maxed=!0),t.buffer+=r.toString("binary",n,o)),e&&t._finish()}))}o(u,n),u.prototype.push=function(e){var t=this.ss.push(e);if(this.finished)return t},u.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},u.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;var e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)},u.prototype._parseHeader=function(){if(this.npairs!==this.maxHeaderPairs){for(var e,t,r=this.buffer.split(a),n=r.length,o=!1,i=0;i<n;++i)if(0!==r[i].length)if("\t"===r[i][0]||" "===r[i][0])this.header[t][this.header[t].length-1]+=r[i];else{if(!(e=c.exec(r[i]))){this.buffer=r[i],o=!0;break}if(t=e[1].toLowerCase(),e[2]?void 0===this.header[t]?this.header[t]=[e[2]]:this.header[t].push(e[2]):this.header[t]=[""],++this.npairs===this.maxHeaderPairs)break}o||(this.buffer="")}},e.exports=u},21219:(e,t,r)=>{var n=r(31669).inherits,o=r(92413).Readable;function i(e){o.call(this,e)}n(i,o),i.prototype._read=function(e){},e.exports=i},93517:(e,t,r)=>{"use strict";const n=r(64290),o=["__proto__","prototype","constructor"];function i(e){const t=e.split("."),r=[];for(let e=0;e<t.length;e++){let n=t[e];for(;"\\"===n[n.length-1]&&void 0!==t[e+1];)n=n.slice(0,-1)+".",n+=t[++e];r.push(n)}return r.some((e=>o.includes(e)))?[]:r}e.exports={get(e,t,r){if(!n(e)||"string"!=typeof t)return void 0===r?e:r;const o=i(t);if(0!==o.length){for(let t=0;t<o.length;t++){if(!Object.prototype.propertyIsEnumerable.call(e,o[t]))return r;if(null==(e=e[o[t]])){if(t!==o.length-1)return r;break}}return e}},set(e,t,r){if(!n(e)||"string"!=typeof t)return e;const o=e,s=i(t);for(let t=0;t<s.length;t++){const o=s[t];n(e[o])||(e[o]={}),t===s.length-1&&(e[o]=r),e=e[o]}return o},delete(e,t){if(!n(e)||"string"!=typeof t)return!1;const r=i(t);for(let t=0;t<r.length;t++){const o=r[t];if(t===r.length-1)return delete e[o],!0;if(e=e[o],!n(e))return!1}},has(e,t){if(!n(e)||"string"!=typeof t)return!1;const r=i(t);if(0===r.length)return!1;for(let t=0;t<r.length;t++){if(!n(e))return!1;if(!(r[t]in e))return!1;e=e[r[t]]}return!0}}},59738:(e,t,r)=>{const n=r(35747),o=r(85622);function i(e){console.log(`[dotenv][DEBUG] ${e}`)}const s=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,a=/\\n/g,c=/\n|\r|\r\n/;function l(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(c).forEach((function(e,t){const o=e.match(s);if(null!=o){const e=o[1];let t=o[2]||"";const r=t.length-1,i='"'===t[0]&&'"'===t[r];"'"===t[0]&&"'"===t[r]||i?(t=t.substring(1,r),i&&(t=t.replace(a,"\n"))):t=t.trim(),n[e]=t}else r&&i(`did not match key and value when parsing line ${t+1}: ${e}`)})),n}e.exports.config=function(e){let t=o.resolve(process.cwd(),".env"),r="utf8",s=!1;e&&(null!=e.path&&(t=e.path),null!=e.encoding&&(r=e.encoding),null!=e.debug&&(s=!0));try{const e=l(n.readFileSync(t,{encoding:r}),{debug:s});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?s&&i(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=l},25981:(e,t,r)=>{var n=r(11451),o=r(12840),i=r(94378),s=r(31852),a=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},u=function(){},p=function(e,t,r){if(!(this instanceof p))return new p(e,t,r);n.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};i(p,n.Duplex),p.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new p(e,t,r)},p.prototype.cork=function(){1==++this._corked&&this.emit("cork")},p.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},p.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=o(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),n=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&process.nextTick(n),this._writable=e,this._writable.on("drain",n),this._unwrite=function(){t._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},p.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,i=o(e,{writable:!1,readable:!0},l(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new n.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",s),r._readable2.removeListener("end",a),i()},this._forward()}},p.prototype._read=function(){this._drained=!0,this._forward()},p.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},p.prototype.destroy=function(e,t){if(t||(t=u),this.destroyed)return t(null);this.destroyed=!0;var r=this;process.nextTick((function(){r._destroy(e),t(null)}))},p.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},p.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,e,t,r)):e===a?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},p.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var r,n;n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},(r=t._forwardEnd&&t._writable)?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},p.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(a),n.Writable.prototype.end.call(this,r))},e.exports=p},35015:(e,t,r)=>{"use strict";var n=r(89509).Buffer,o=r(6972);function i(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=i(e);var r=o(t),s=r+1,a=e.length,c=0;if(48!==e[c++])throw new Error('Could not find expected "seq"');var l=e[c++];if(129===l&&(l=e[c++]),a-c<l)throw new Error('"seq" specified length of "'+l+'", only "'+(a-c)+'" remaining');if(2!==e[c++])throw new Error('Could not find expected "int" for "r"');var u=e[c++];if(a-c-2<u)throw new Error('"r" specified length of "'+u+'", only "'+(a-c-2)+'" available');if(s<u)throw new Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var p=c;if(c+=u,2!==e[c++])throw new Error('Could not find expected "int" for "s"');var d=e[c++];if(a-c!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(a-c)+'"');if(s<d)throw new Error('"s" specified length of "'+d+'", max of "'+s+'" is acceptable');var f=c;if((c+=d)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain');var h=r-u,g=r-d,m=n.allocUnsafe(h+u+g+d);for(c=0;c<h;++c)m[c]=0;e.copy(m,c,p+Math.max(-h,0),p+u);for(var y=c=r;c<y+g;++c)m[c]=0;return e.copy(m,c,f+Math.max(-g,0),f+d),(m=m.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=i(e);var r=o(t),a=e.length;if(a!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var c=s(e,0,r),l=s(e,r,e.length),u=r-c,p=r-l,d=2+u+1+1+p,f=d<128,h=n.allocUnsafe((f?2:3)+d),g=0;return h[g++]=48,f?h[g++]=d:(h[g++]=129,h[g++]=255&d),h[g++]=2,h[g++]=u,c<0?(h[g++]=0,g+=e.copy(h,g,0,r)):g+=e.copy(h,g,c,r),h[g++]=2,h[g++]=p,l<0?(h[g++]=0,e.copy(h,g,r)):e.copy(h,g,r+l),h}}},6972:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},12840:(e,t,r)=>{var n=r(30778),o=function(){},i=function(e,t,r){if("function"==typeof t)return i(e,null,t);t||(t={}),r=n(r||o);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,u=!1,p=function(){e.writable||d()},d=function(){l=!1,c||r.call(e)},f=function(){c=!1,l||r.call(e)},h=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){r.call(e,t)},m=function(){process.nextTick(y)},y=function(){if(!u)return(!c||a&&a.ended&&!a.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},v=function(){e.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)):l&&!s&&(e.on("end",p),e.on("close",p)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",h),e.on("end",f),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",m),function(){u=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("exit",h),e.removeListener("end",f),e.removeListener("error",g),e.removeListener("close",m)}};e.exports=i},31712:e=>{const t=Object.create(null);t.open="0",t.close="1",t.ping="2",t.pong="3",t.message="4",t.upgrade="5",t.noop="6";const r=Object.create(null);Object.keys(t).forEach((e=>{r[t[e]]=e})),e.exports={PACKET_TYPES:t,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},14050:(e,t,r)=>{const{PACKET_TYPES_REVERSE:n,ERROR_PACKET:o}=r(31712),i=(e,t)=>{const r=Buffer.isBuffer(e);switch(t){case"arraybuffer":return r?s(e):e;case"nodebuffer":default:return e}},s=e=>{const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e[t];return t};e.exports=(e,t)=>{if("string"!=typeof e)return{type:"message",data:i(e,t)};const r=e.charAt(0);if("b"===r){const r=Buffer.from(e.substring(1),"base64");return{type:"message",data:i(r,t)}}return n[r]?e.length>1?{type:n[r],data:e.substring(1)}:{type:n[r]}:o}},17559:(e,t,r)=>{const{PACKET_TYPES:n}=r(31712);e.exports=({type:e,data:t},r,o)=>{if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){return o(((e,t)=>t?e:"b"+e.toString("base64"))((e=>Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength))(t),r))}return o(n[e]+(t||""))}},69743:(e,t,r)=>{const n=r(17559),o=r(14050),i=String.fromCharCode(30);e.exports={protocol:4,encodePacket:n,encodePayload:(e,t)=>{const r=e.length,o=new Array(r);let s=0;e.forEach(((e,a)=>{n(e,!1,(e=>{o[a]=e,++s===r&&t(o.join(i))}))}))},decodePacket:o,decodePayload:(e,t)=>{const r=e.split(i),n=[];for(let e=0;e<r.length;e++){const i=o(r[e],t);if(n.push(i),"error"===i.type)break}return n}}},22731:(e,t,r)=>{const n=r(98605),o=r(98053);function i(e,t){const r=new o(t);return r.attach(e,t),r}(t=e.exports=function(){return arguments.length&&arguments[0]instanceof n.Server?i.apply(this,arguments):new o(...arguments)}).protocol=1,t.Server=o,t.Socket=r(96539),t.Transport=r(84214),t.transports=r(80043),t.parser=r(69743),t.listen=function(e,r,o){"function"==typeof r&&(o=r,r={});const i=n.createServer((function(e,t){t.writeHead(501),t.end("Not Implemented")})),s=t.attach(i,r);return s.httpServer=i,i.listen(e,o),s},t.attach=i},65285:(e,t,r)=>{var n=r(62606);t.protocol=3;var o=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},i=Object.keys(o),s={type:"error",data:"parser error"};const a=Buffer.concat([]);function c(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=e.data,s=Buffer.allocUnsafe(1);return s[0]=o[e.type],n(Buffer.concat([s,i]))}function l(e,t,r){const n=new Array(e.length);let o=0;for(let i=0;i<e.length;i++)t(e[i],((t,s)=>{n[i]=s,++o===e.length&&r(null,n)}))}function u(e){for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);return t}function p(e){for(var t=Buffer.allocUnsafe(e.length),r=0,n=e.length;r<n;r++)t.writeUInt8(e.charCodeAt(r),r);return t}function d(e){var t=e.byteLength||e.length,r=e.byteOffset||0;return Buffer.from(e.buffer||e,r,t)}function f(e,r){t.encodePacket(e,!0,!0,(function(e){var t,n=""+e.length;if("string"==typeof e){(t=Buffer.allocUnsafe(n.length+2))[0]=0;for(var o=0;o<n.length;o++)t[o+1]=parseInt(n[o],10);return t[t.length-1]=255,r(null,Buffer.concat([t,p(e)]))}for((t=Buffer.allocUnsafe(n.length+2))[0]=1,o=0;o<n.length;o++)t[o+1]=parseInt(n[o],10);t[t.length-1]=255,r(null,Buffer.concat([t,e]))}))}t.encodePacket=function(e,t,r,i){if("function"==typeof t&&(i=t,t=null),"function"==typeof r&&(i=r,r=null),Buffer.isBuffer(e.data))return c(e,t,i);if(e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer)return c({type:e.type,data:d(e.data)},t,i);var s=o[e.type];return void 0!==e.data&&(s+=r?n.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},t.encodeBase64Packet=function(e,t){var r=Buffer.isBuffer(e.data)?e.data:d(e.data),n="b"+o[e.type];return t(n+=r.toString("base64"))},t.decodePacket=function(e,r,o){if(void 0===e)return s;var a;if("string"==typeof e)return"b"===(a=e.charAt(0))?t.decodeBase64Packet(e.substr(1),r):o&&!1===(e=function(e){try{e=n.decode(e,{strict:!1})}catch(e){return!1}return e}(e))?s:Number(a)==a&&i[a]?e.length>1?{type:i[a],data:e.substring(1)}:{type:i[a]}:s;if("arraybuffer"===r){var c=new Uint8Array(e);return a=c[0],{type:i[a],data:c.buffer.slice(1)}}return e instanceof ArrayBuffer&&(e=d(e)),a=e[0],{type:i[a],data:e.slice(1)}},t.decodeBase64Packet=function(e,t){var r=i[e.charAt(0)],n=Buffer.from(e.substr(1),"base64");if("arraybuffer"===t){for(var o=new Uint8Array(n.length),s=0;s<o.length;s++)o[s]=n[s];n=o.buffer}return{type:r,data:n}},t.encodePayload=function(e,r,n){return"function"==typeof r&&(n=r,r=null),r&&(e=>{for(const t of e)if(t.data instanceof ArrayBuffer||ArrayBuffer.isView(t.data))return!0;return!1})(e)?t.encodePayloadAsBinary(e,n):e.length?void l(e,(function(e,n){t.encodePacket(e,r,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))})):n("0:")},t.decodePayload=function(e,r,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,n);if("function"==typeof r&&(n=r,r=null),""===e)return n(s,0,1);for(var o,i,a,c="",l=0,u=e.length;l<u;l++){var p=e.charAt(l);if(":"===p){if(""===c||c!=(o=Number(c)))return n(s,0,1);if(c!=(i=e.substr(l+1,o)).length)return n(s,0,1);if(i.length){if(a=t.decodePacket(i,r,!1),s.type===a.type&&s.data===a.data)return n(s,0,1);if(!1===n(a,l+o,u))return}l+=o,c=""}else c+=p}return""!==c?n(s,0,1):void 0},t.encodePayloadAsBinary=function(e,t){if(!e.length)return t(a);l(e,f,(function(e,r){return t(Buffer.concat(r))}))},t.decodePayloadAsBinary=function(e,r,n){"function"==typeof r&&(n=r,r=null);for(var o,i=e,a=[];i.length>0;){var c="",l=0===i[0];for(o=1;255!==i[o];o++){if(c.length>310)return n(s,0,1);c+=""+i[o]}i=i.slice(c.length+1);var p=parseInt(c,10),d=i.slice(1,p+1);l&&(d=u(d)),a.push(d),i=i.slice(p+1)}var f=a.length;for(o=0;o<f;o++){var h=a[o];n(t.decodePacket(h,r,!0),o,f)}}},62606:e=>{var t,r,n,o=String.fromCharCode;function i(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(e,t){return o(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return o(e);var r="";return 0==(4294965248&e)?r=o(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),r=o(e>>12&15|224),r+=a(e,6)):0==(4292870144&e)&&(r=o(e>>18&7|240),r+=a(e,12),r+=a(e,6)),r+o(63&e|128)}function l(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var o,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(o=255&t[n],n++,0==(128&o))return o;if(192==(224&o)){if((i=(31&o)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&o)){if((i=(15&o)<<12|l()<<6|l())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&o)&&(i=(7&o)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=i(e),o=n.length,s=-1,a="";++s<o;)a+=c(n[s],r);return a},decode:function(e,s){var a=!1!==(s=s||{}).strict;t=i(e),r=t.length,n=0;for(var c,l=[];!1!==(c=u(a));)l.push(c);return function(e){for(var t,r=e.length,n=-1,i="";++n<r;)(t=e[n])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(l)}}},98053:(e,t,r)=>{const n=r(71191),o=r(78835).parse,i=r(7936),s=r(80043),a=r(28614).EventEmitter,c=r(96539),l=r(80847)("engine"),u=r(51944),p=r(8777).Server;class d extends a{constructor(e={}){super(),this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:p,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:Object.keys(s),allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:!1!==e.cookie.path,sameSite:"lax"},e.cookie)),this.opts.cors&&(this.corsMiddleware=r(17846)(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),"function"==typeof this.ws.on&&this.ws.on("headers",((e,t)=>{const r={};!t._query.sid&&this.emit("initial_headers",r,t),this.emit("headers",r,t),Object.keys(r).forEach((t=>{e.push(`${t}: ${r[t]}`)}))})))}upgrades(e){return this.opts.allowUpgrades&&s[e].upgradesTo||[]}verify(e,t,r){const n=e._query.transport;if(!~this.opts.transports.indexOf(n))return l('unknown transport "%s"',n),r(d.errors.UNKNOWN_TRANSPORT,{transport:n});if(function(e){if((e+="").length<1)return!1;if(!g[e.charCodeAt(0)])return l('invalid header, index 0, char "%s"',e.charCodeAt(0)),!0;if(e.length<2)return!1;if(!g[e.charCodeAt(1)])return l('invalid header, index 1, char "%s"',e.charCodeAt(1)),!0;if(e.length<3)return!1;if(!g[e.charCodeAt(2)])return l('invalid header, index 2, char "%s"',e.charCodeAt(2)),!0;if(e.length<4)return!1;if(!g[e.charCodeAt(3)])return l('invalid header, index 3, char "%s"',e.charCodeAt(3)),!0;for(let t=4;t<e.length;++t)if(!g[e.charCodeAt(t)])return l('invalid header, index "%i", char "%s"',t,e.charCodeAt(t)),!0;return!1}(e.headers.origin)){const t=e.headers.origin;return e.headers.origin=null,l("origin header invalid"),r(d.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:t})}const o=e._query.sid;if(!o)return"GET"!==e.method?r(d.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):this.opts.allowRequest?this.opts.allowRequest(e,((e,t)=>{if(!t)return r(d.errors.FORBIDDEN,{message:e});r()})):r();{if(!this.clients.hasOwnProperty(o))return l('unknown sid "%s"',o),r(d.errors.UNKNOWN_SID,{sid:o});const e=this.clients[o].transport.name;if(!t&&e!==n)return l("bad request: unexpected transport without upgrade"),r(d.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:n,previousTransport:e})}r()}prepare(e){e._query||(e._query=~e.url.indexOf("?")?n.parse(o(e.url).query):{})}close(){l("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.ws&&(l("closing webSocketServer"),this.ws.close()),this}handleRequest(e,t){l('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;const r=(r,n)=>{if(void 0!==r)return this.emit("connection_error",{req:e,code:r,message:d.errorMessages[r],context:n}),void f(t,r,n);if(e._query.sid)l("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{const r=(e,r)=>f(t,e,r);this.handshake(e._query.transport,e,r)}};this.corsMiddleware?this.corsMiddleware.call(null,e,t,(()=>{this.verify(e,!1,r)})):this.verify(e,!1,r)}generateId(e){return i.generateId()}async handshake(e,t,r){const n="4"===t._query.EIO?4:3;if(3===n&&!this.opts.allowEIO3)return l("unsupported protocol version"),this.emit("connection_error",{req:t,code:d.errors.UNSUPPORTED_PROTOCOL_VERSION,message:d.errorMessages[d.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:n}}),void r(d.errors.UNSUPPORTED_PROTOCOL_VERSION);let o;try{o=await this.generateId(t)}catch(e){return l("error while generating an id"),this.emit("connection_error",{req:t,code:d.errors.BAD_REQUEST,message:d.errorMessages[d.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:e}}),void r(d.errors.BAD_REQUEST)}l('handshaking client "%s"',o);try{var i=new s[e](t);"polling"===e?(i.maxHttpBufferSize=this.opts.maxHttpBufferSize,i.httpCompression=this.opts.httpCompression):"websocket"===e&&(i.perMessageDeflate=this.opts.perMessageDeflate),t._query&&t._query.b64?i.supportsBinary=!1:i.supportsBinary=!0}catch(n){return l('error handshaking to transport "%s"',e),this.emit("connection_error",{req:t,code:d.errors.BAD_REQUEST,message:d.errorMessages[d.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:n}}),void r(d.errors.BAD_REQUEST)}const a=new c(o,this,i,t,n);i.on("headers",((e,t)=>{!t._query.sid&&(this.opts.cookie&&(e["Set-Cookie"]=[u.serialize(this.opts.cookie.name,o,this.opts.cookie)]),this.emit("initial_headers",e,t)),this.emit("headers",e,t)})),i.onRequest(t),this.clients[o]=a,this.clientsCount++,a.once("close",(()=>{delete this.clients[o],this.clientsCount--})),this.emit("connection",a)}handleUpgrade(e,t,r){this.prepare(e),this.verify(e,!0,((n,o)=>{if(n)return this.emit("connection_error",{req:e,code:n,message:d.errorMessages[n],context:o}),void h(t,n,o);const i=Buffer.from(r);r=null,this.ws.handleUpgrade(e,t,i,(r=>{this.onWebSocket(e,t,r)}))}))}onWebSocket(e,t,r){if(r.on("error",o),void 0!==s[e._query.transport]&&!s[e._query.transport].prototype.handlesUpgrades)return l("transport doesnt handle upgraded requests"),void r.close();const n=e._query.sid;if(e.websocket=r,n){const t=this.clients[n];if(t)if(t.upgrading)l("transport has already been trying to upgrade"),r.close();else if(t.upgraded)l("transport had already been upgraded"),r.close();else{l("upgrading existing transport"),r.removeListener("error",o);const n=new s[e._query.transport](e);e._query&&e._query.b64?n.supportsBinary=!1:n.supportsBinary=!0,n.perMessageDeflate=this.perMessageDeflate,t.maybeUpgrade(n)}else l("upgrade attempt for closed client"),r.close()}else{r.removeListener("error",o);const n=(e,r)=>h(t,e,r);this.handshake(e._query.transport,e,n)}function o(){l("websocket error before upgrade")}}attach(e,t={}){let r=(t.path||"/engine.io").replace(/\/$/,"");const n=t.destroyUpgradeTimeout||1e3;function o(e){return r===e.url.substr(0,r.length)}r+="/";const i=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",((t,n)=>{if(o(t))l('intercepting request for path "%s"',r),this.handleRequest(t,n);else{let r=0;const o=i.length;for(;r<o;r++)i[r].call(e,t,n)}})),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",((e,r,i)=>{o(e)?this.handleUpgrade(e,r,i):!1!==t.destroyUpgrade&&setTimeout((function(){if(r.writable&&r.bytesWritten<=0)return r.end()}),n)}))}}function f(e,t,r){const n=t===d.errors.FORBIDDEN?403:400,o=r&&r.message?r.message:d.errorMessages[t];e.writeHead(n,{"Content-Type":"application/json"}),e.end(JSON.stringify({code:t,message:o}))}function h(e,t,r={}){if(e.on("error",(()=>{l("ignoring error from closed connection")})),e.writable){const n=r.message||d.errorMessages[t],o=Buffer.byteLength(n);e.write("HTTP/1.1 400 Bad Request\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: "+o+"\r\n\r\n"+n)}e.destroy()}d.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5},d.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"},e.exports=d;const g=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},96539:(e,t,r)=>{const n=r(28614),o=r(80847)("engine:socket");e.exports=class extends n{constructor(e,t,r,n,o){super(),this.id=e,this.server=t,this.upgrading=!1,this.upgraded=!1,this.readyState="opening",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=n,this.protocol=o,n.websocket&&n.websocket._socket?this.remoteAddress=n.websocket._socket.remoteAddress:this.remoteAddress=n.connection.remoteAddress,this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(r),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),3===this.protocol?this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout):this.schedulePing()}onPacket(e){if("open"!==this.readyState)return o("packet received with closed socket");switch(o(`received packet ${e.type}`),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"ping":if(3!==this.transport.protocol)return void this.onError("invalid heartbeat direction");o("got ping"),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(3===this.transport.protocol)return void this.onError("invalid heartbeat direction");o("got pong"),this.schedulePing(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data)}}onError(e){o("transport error"),this.onClose("transport error",e)}schedulePing(){clearTimeout(this.pingIntervalTimer),this.pingIntervalTimer=setTimeout((()=>{o("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)}),this.server.opts.pingInterval)}resetPingTimeout(e){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{"closed"!==this.readyState&&this.onClose("ping timeout")}),e)}setTransport(e){const t=this.onError.bind(this),r=this.onPacket.bind(this),n=this.flush.bind(this),o=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",r),this.transport.on("drain",n),this.transport.once("close",o),this.setupSendCallback(),this.cleanupFn.push((function(){e.removeListener("error",t),e.removeListener("packet",r),e.removeListener("drain",n),e.removeListener("close",o)}))}maybeUpgrade(e){o('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0,this.upgradeTimeoutTimer=setTimeout((()=>{o("client did not complete upgrade - closing transport"),n(),"open"===e.readyState&&e.close()}),this.server.opts.upgradeTimeout);const t=t=>{"ping"===t.type&&"probe"===t.data?(e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=setInterval(r,100)):"upgrade"===t.type&&"closed"!==this.readyState?(o("got upgrade packet - upgrading"),n(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),"closing"===this.readyState&&e.close((()=>{this.onClose("forced close")}))):(n(),e.close())},r=()=>{"polling"===this.transport.name&&this.transport.writable&&(o("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},n=()=>{this.upgrading=!1,clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,clearTimeout(this.upgradeTimeoutTimer),this.upgradeTimeoutTimer=null,e.removeListener("packet",t),e.removeListener("close",s),e.removeListener("error",i),this.removeListener("close",a)},i=t=>{o("client did not complete upgrade - %s",t),n(),e.close(),e=null},s=()=>{i("transport closed")},a=()=>{i("socket closed")};e.on("packet",t),e.once("close",s),e.once("error",i),this.once("close",a)}clearTransport(){let e;const t=this.cleanupFn.length;for(let r=0;r<t;r++)e=this.cleanupFn.shift(),e();this.transport.on("error",(function(){o("error triggered by discarded transport")})),this.transport.close(),clearTimeout(this.pingTimeoutTimer)}onClose(e,t){"closed"!==this.readyState&&(this.readyState="closed",clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,clearTimeout(this.upgradeTimeoutTimer),process.nextTick((()=>{this.writeBuffer=[]})),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}setupSendCallback(){const e=()=>{if(this.sentCallbackFn.length>0){const e=this.sentCallbackFn.splice(0,1)[0];if("function"==typeof e)o("executing send callback"),e(this.transport);else if(Array.isArray(e)){o("executing batch send callback");const t=e.length;let r=0;for(;r<t;r++)"function"==typeof e[r]&&e[r](this.transport)}}};this.transport.on("drain",e),this.cleanupFn.push((()=>{this.transport.removeListener("drain",e)}))}send(e,t,r){return this.sendPacket("message",e,t,r),this}write(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof r&&(n=r,r=null),(r=r||{}).compress=!1!==r.compress,"closing"!==this.readyState&&"closed"!==this.readyState){o('sending packet "%s" (%s)',e,t);const i={type:e,options:r};t&&(i.data=t),this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.packetsFn.push(n),this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&this.writeBuffer.length){o("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],t=this.server.upgrades(this.transport.name);let r=0;const n=t.length;for(;r<n;++r){const n=t[r];-1!==this.server.opts.transports.indexOf(n)&&e.push(n)}return e}close(e){"open"===this.readyState&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",this.closeTransport.bind(this,e)):this.closeTransport(e))}closeTransport(e){e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}}},84214:(e,t,r)=>{const n=r(28614),o=r(69743),i=r(65285),s=r(80847)("engine:transport");function a(){}e.exports=class extends n{constructor(e){super(),this.readyState="open",this.discarded=!1,this.protocol="4"===e._query.EIO?4:3,this.parser=4===this.protocol?o:i}discard(){this.discarded=!0}onRequest(e){s("setting request"),this.req=e}close(e){"closed"!==this.readyState&&"closing"!==this.readyState&&(this.readyState="closing",this.doClose(e||a))}onError(e,t){if(this.listeners("error").length){const r=new Error(e);r.type="TransportError",r.description=t,this.emit("error",r)}else s("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}},80043:(e,t,r)=>{const n=r(54815),o=r(25730);e.exports=t={polling:function(e){return"string"==typeof e._query.j?new o(e):new n(e)},websocket:r(11882)},t.polling.upgradesTo=["websocket"]},25730:(e,t,r)=>{const n=r(54815),o=r(71191),i=/\\\\n/g,s=/(\\)?\\n/g;e.exports=class extends n{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){"string"==typeof(e=o.parse(e).d)&&(e=e.replace(s,(function(e,t){return t?e:"\n"})),super.onData(e.replace(i,"\\n")))}doWrite(e,t,r){const n=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+n+this.foot,super.doWrite(e,t,r)}}},54815:(e,t,r)=>{const n=r(84214),o=r(78761),i=r(59078),s=r(80847)("engine:polling"),a={gzip:o.createGzip,deflate:o.createDeflate};e.exports=class extends n{constructor(e){super(e),this.closeTimeout=3e4,this.maxHttpBufferSize=null,this.httpCompression=null}get name(){return"polling"}onRequest(e){const t=e.res;"GET"===e.method?this.onPollRequest(e,t):"POST"===e.method?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req)return s("request overlap"),this.onError("overlap from client"),t.writeHead(500),void t.end();s("setting request"),this.req=e,this.res=t;const r=()=>{this.onError("poll connection closed prematurely")};e.cleanup=()=>{e.removeListener("close",r),this.req=this.res=null},e.on("close",r),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(s("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq)return this.onError("data request overlap from client"),t.writeHead(500),void t.end();const r="application/octet-stream"===e.headers["content-type"];if(r&&4===this.protocol)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let n=r?Buffer.concat([]):"";const o=()=>{e.removeListener("data",s),e.removeListener("end",a),e.removeListener("close",i),this.dataReq=this.dataRes=n=null},i=()=>{o(),this.onError("data request connection closed prematurely")},s=t=>{let o;r?(n=Buffer.concat([n,t]),o=n.length):(n+=t,o=Buffer.byteLength(n)),o>this.maxHttpBufferSize&&(n=r?Buffer.concat([]):"",e.connection.destroy())},a=()=>{this.onData(n),t.writeHead(200,this.headers(e,{"Content-Type":"text/html","Content-Length":2})),t.end("ok"),o()};e.on("close",i),r||e.setEncoding("utf8"),e.on("data",s),e.on("end",a)}onData(e){s('received "%s"',e);const t=e=>{if("close"===e.type)return s("got xhr close packet"),this.onClose(),!1;this.onPacket(e)};3===this.protocol?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(s("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const t=t=>{const r=e.some((e=>e.options&&e.options.compress));this.write(t,{compress:r})};3===this.protocol?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){s('writing "%s"',e),this.doWrite(e,t,(()=>{this.req.cleanup()}))}doWrite(e,t,r){const n="string"==typeof e,o={"Content-Type":n?"text/plain; charset=UTF-8":"application/octet-stream"},s=e=>{o["Content-Length"]="string"==typeof e?Buffer.byteLength(e):e.length,this.res.writeHead(200,this.headers(this.req,o)),this.res.end(e),r()};if(!this.httpCompression||!t.compress)return void s(e);if((n?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)return void s(e);const a=i(this.req).encodings(["gzip","deflate"]);a?this.compress(e,a,((e,t)=>{if(e)return this.res.writeHead(500),this.res.end(),void r(e);o["Content-Encoding"]=a,s(t)})):s(e)}compress(e,t,r){s("compressing");const n=[];let o=0;a[t](this.httpCompression).on("error",r).on("data",(function(e){n.push(e),o+=e.length})).on("end",(function(){r(null,Buffer.concat(n,o))})).end(e)}doClose(e){let t;s("closing"),this.dataReq&&(s("aborting ongoing data request"),this.dataReq.destroy());const r=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(s("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(s("transport discarded - closing right away"),r()):(s("transport not writable - buffering orderly close"),this.shouldClose=r,t=setTimeout(r,this.closeTimeout))}headers(e,t){t=t||{};const r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}}},11882:(e,t,r)=>{const n=r(84214),o=r(80847)("engine:ws");e.exports=class extends n{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",this.onData.bind(this)),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}onData(e){o('received "%s"',e),super.onData(e)}send(e){const t=e.shift();if(void 0===t)return this.writable=!0,void this.emit("drain");const r={};t.options&&(r.compress=t.options.compress);const n=t=>{this.perMessageDeflate&&("string"==typeof t?Buffer.byteLength(t):t.length)<this.perMessageDeflate.threshold&&(r.compress=!1),o('writing "%s"',t),this.writable=!1,this.socket.send(t,r,(t=>{if(t)return this.onError("write error",t.stack);this.send(e)}))};t.options&&"string"==typeof t.options.wsPreEncoded?n(t.options.wsPreEncoded):this.parser.encodePacket(t,this.supportsBinary,n)}doClose(e){o("closing"),this.socket.close(),e&&e()}}},51944:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),c=i.decode||r,l=0;l<a.length;l++){var u=a[l],p=u.indexOf("=");if(!(p<0)){var d=u.substr(0,p).trim(),f=u.substr(++p,u.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),null==n[d]&&(n[d]=s(f,c))}}return n},t.serialize=function(e,t,r){var o=r||{},s=o.encode||n;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c};var r=decodeURIComponent,n=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},99447:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(11392)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},11392:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7325),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},80847:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(99447):e.exports=r(50877)},50877:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(11392)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},7325:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},76751:(e,t,r)=>{var n=r(94213),o=r(15615);e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a String");return e.replace(/&(#?[^;\W]+;?)/g,(function(e,t){var r;if(r=/^#(\d+);?$/.exec(t))return n.ucs2.encode([parseInt(r[1],10)]);if(r=/^#[Xx]([A-Fa-f0-9]+);?/.exec(t))return n.ucs2.encode([parseInt(r[1],16)]);var i=/;$/.test(t),s=i?t.replace(/;$/,""):t,a=o[s]||i&&o[t];return"number"==typeof a?n.ucs2.encode([a]):"string"==typeof a?a:"&"+t}))}},99151:(e,t,r)=>{var n=r(94213),o=r(88245);e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a String");t||(t={});var r=!0;t.named&&(r=!1),void 0!==t.numeric&&(r=t.numeric);for(var i=t.special||{'"':!0,"'":!0,"<":!0,">":!0,"&":!0},s=n.ucs2.decode(e),a=[],c=0;c<s.length;c++){var l=s[c],u=n.ucs2.encode([l]),p=o[l];p&&(l>=127||i[u])&&!r?a.push("&"+(/;$/.test(p)?p:p+";")):l<32||l>=127||i[u]?a.push("&#"+l+";"):a.push(u)}return a.join("")}},15615:e=>{"use strict";e.exports=JSON.parse('{"Aacute;":"","Aacute":"","aacute;":"","aacute":"","Abreve;":"","abreve;":"","ac;":"","acd;":"","acE;":"","Acirc;":"","Acirc":"","acirc;":"","acirc":"","acute;":"","acute":"","Acy;":"","acy;":"","AElig;":"","AElig":"","aelig;":"","aelig":"","af;":"","Afr;":"","afr;":"","Agrave;":"","Agrave":"","agrave;":"","agrave":"","alefsym;":"","aleph;":"","Alpha;":"","alpha;":"","Amacr;":"","amacr;":"","amalg;":"","AMP;":"&","AMP":"&","amp;":"&","amp":"&","And;":"","and;":"","andand;":"","andd;":"","andslope;":"","andv;":"","ang;":"","ange;":"","angle;":"","angmsd;":"","angmsdaa;":"","angmsdab;":"","angmsdac;":"","angmsdad;":"","angmsdae;":"","angmsdaf;":"","angmsdag;":"","angmsdah;":"","angrt;":"","angrtvb;":"","angrtvbd;":"","angsph;":"","angst;":"","angzarr;":"","Aogon;":"","aogon;":"","Aopf;":"","aopf;":"","ap;":"","apacir;":"","apE;":"","ape;":"","apid;":"","apos;":"\'","ApplyFunction;":"","approx;":"","approxeq;":"","Aring;":"","Aring":"","aring;":"","aring":"","Ascr;":"","ascr;":"","Assign;":"","ast;":"*","asymp;":"","asympeq;":"","Atilde;":"","Atilde":"","atilde;":"","atilde":"","Auml;":"","Auml":"","auml;":"","auml":"","awconint;":"","awint;":"","backcong;":"","backepsilon;":"","backprime;":"","backsim;":"","backsimeq;":"","Backslash;":"","Barv;":"","barvee;":"","Barwed;":"","barwed;":"","barwedge;":"","bbrk;":"","bbrktbrk;":"","bcong;":"","Bcy;":"","bcy;":"","bdquo;":"","becaus;":"","Because;":"","because;":"","bemptyv;":"","bepsi;":"","bernou;":"","Bernoullis;":"","Beta;":"","beta;":"","beth;":"","between;":"","Bfr;":"","bfr;":"","bigcap;":"","bigcirc;":"","bigcup;":"","bigodot;":"","bigoplus;":"","bigotimes;":"","bigsqcup;":"","bigstar;":"","bigtriangledown;":"","bigtriangleup;":"","biguplus;":"","bigvee;":"","bigwedge;":"","bkarow;":"","blacklozenge;":"","blacksquare;":"","blacktriangle;":"","blacktriangledown;":"","blacktriangleleft;":"","blacktriangleright;":"","blank;":"","blk12;":"","blk14;":"","blk34;":"","block;":"","bne;":"=","bnequiv;":"","bNot;":"","bnot;":"","Bopf;":"","bopf;":"","bot;":"","bottom;":"","bowtie;":"","boxbox;":"","boxDL;":"","boxDl;":"","boxdL;":"","boxdl;":"","boxDR;":"","boxDr;":"","boxdR;":"","boxdr;":"","boxH;":"","boxh;":"","boxHD;":"","boxHd;":"","boxhD;":"","boxhd;":"","boxHU;":"","boxHu;":"","boxhU;":"","boxhu;":"","boxminus;":"","boxplus;":"","boxtimes;":"","boxUL;":"","boxUl;":"","boxuL;":"","boxul;":"","boxUR;":"","boxUr;":"","boxuR;":"","boxur;":"","boxV;":"","boxv;":"","boxVH;":"","boxVh;":"","boxvH;":"","boxvh;":"","boxVL;":"","boxVl;":"","boxvL;":"","boxvl;":"","boxVR;":"","boxVr;":"","boxvR;":"","boxvr;":"","bprime;":"","Breve;":"","breve;":"","brvbar;":"","brvbar":"","Bscr;":"","bscr;":"","bsemi;":"","bsim;":"","bsime;":"","bsol;":"\\\\","bsolb;":"","bsolhsub;":"","bull;":"","bullet;":"","bump;":"","bumpE;":"","bumpe;":"","Bumpeq;":"","bumpeq;":"","Cacute;":"","cacute;":"","Cap;":"","cap;":"","capand;":"","capbrcup;":"","capcap;":"","capcup;":"","capdot;":"","CapitalDifferentialD;":"","caps;":"","caret;":"","caron;":"","Cayleys;":"","ccaps;":"","Ccaron;":"","ccaron;":"","Ccedil;":"","Ccedil":"","ccedil;":"","ccedil":"","Ccirc;":"","ccirc;":"","Cconint;":"","ccups;":"","ccupssm;":"","Cdot;":"","cdot;":"","cedil;":"","cedil":"","Cedilla;":"","cemptyv;":"","cent;":"","cent":"","CenterDot;":"","centerdot;":"","Cfr;":"","cfr;":"","CHcy;":"","chcy;":"","check;":"","checkmark;":"","Chi;":"","chi;":"","cir;":"","circ;":"","circeq;":"","circlearrowleft;":"","circlearrowright;":"","circledast;":"","circledcirc;":"","circleddash;":"","CircleDot;":"","circledR;":"","circledS;":"","CircleMinus;":"","CirclePlus;":"","CircleTimes;":"","cirE;":"","cire;":"","cirfnint;":"","cirmid;":"","cirscir;":"","ClockwiseContourIntegral;":"","CloseCurlyDoubleQuote;":"","CloseCurlyQuote;":"","clubs;":"","clubsuit;":"","Colon;":"","colon;":":","Colone;":"","colone;":"","coloneq;":"","comma;":",","commat;":"@","comp;":"","compfn;":"","complement;":"","complexes;":"","cong;":"","congdot;":"","Congruent;":"","Conint;":"","conint;":"","ContourIntegral;":"","Copf;":"","copf;":"","coprod;":"","Coproduct;":"","COPY;":"","COPY":"","copy;":"","copy":"","copysr;":"","CounterClockwiseContourIntegral;":"","crarr;":"","Cross;":"","cross;":"","Cscr;":"","cscr;":"","csub;":"","csube;":"","csup;":"","csupe;":"","ctdot;":"","cudarrl;":"","cudarrr;":"","cuepr;":"","cuesc;":"","cularr;":"","cularrp;":"","Cup;":"","cup;":"","cupbrcap;":"","CupCap;":"","cupcap;":"","cupcup;":"","cupdot;":"","cupor;":"","cups;":"","curarr;":"","curarrm;":"","curlyeqprec;":"","curlyeqsucc;":"","curlyvee;":"","curlywedge;":"","curren;":"","curren":"","curvearrowleft;":"","curvearrowright;":"","cuvee;":"","cuwed;":"","cwconint;":"","cwint;":"","cylcty;":"","Dagger;":"","dagger;":"","daleth;":"","Darr;":"","dArr;":"","darr;":"","dash;":"","Dashv;":"","dashv;":"","dbkarow;":"","dblac;":"","Dcaron;":"","dcaron;":"","Dcy;":"","dcy;":"","DD;":"","dd;":"","ddagger;":"","ddarr;":"","DDotrahd;":"","ddotseq;":"","deg;":"","deg":"","Del;":"","Delta;":"","delta;":"","demptyv;":"","dfisht;":"","Dfr;":"","dfr;":"","dHar;":"","dharl;":"","dharr;":"","DiacriticalAcute;":"","DiacriticalDot;":"","DiacriticalDoubleAcute;":"","DiacriticalGrave;":"`","DiacriticalTilde;":"","diam;":"","Diamond;":"","diamond;":"","diamondsuit;":"","diams;":"","die;":"","DifferentialD;":"","digamma;":"","disin;":"","div;":"","divide;":"","divide":"","divideontimes;":"","divonx;":"","DJcy;":"","djcy;":"","dlcorn;":"","dlcrop;":"","dollar;":"$","Dopf;":"","dopf;":"","Dot;":"","dot;":"","DotDot;":"","doteq;":"","doteqdot;":"","DotEqual;":"","dotminus;":"","dotplus;":"","dotsquare;":"","doublebarwedge;":"","DoubleContourIntegral;":"","DoubleDot;":"","DoubleDownArrow;":"","DoubleLeftArrow;":"","DoubleLeftRightArrow;":"","DoubleLeftTee;":"","DoubleLongLeftArrow;":"","DoubleLongLeftRightArrow;":"","DoubleLongRightArrow;":"","DoubleRightArrow;":"","DoubleRightTee;":"","DoubleUpArrow;":"","DoubleUpDownArrow;":"","DoubleVerticalBar;":"","DownArrow;":"","Downarrow;":"","downarrow;":"","DownArrowBar;":"","DownArrowUpArrow;":"","DownBreve;":"","downdownarrows;":"","downharpoonleft;":"","downharpoonright;":"","DownLeftRightVector;":"","DownLeftTeeVector;":"","DownLeftVector;":"","DownLeftVectorBar;":"","DownRightTeeVector;":"","DownRightVector;":"","DownRightVectorBar;":"","DownTee;":"","DownTeeArrow;":"","drbkarow;":"","drcorn;":"","drcrop;":"","Dscr;":"","dscr;":"","DScy;":"","dscy;":"","dsol;":"","Dstrok;":"","dstrok;":"","dtdot;":"","dtri;":"","dtrif;":"","duarr;":"","duhar;":"","dwangle;":"","DZcy;":"","dzcy;":"","dzigrarr;":"","Eacute;":"","Eacute":"","eacute;":"","eacute":"","easter;":"","Ecaron;":"","ecaron;":"","ecir;":"","Ecirc;":"","Ecirc":"","ecirc;":"","ecirc":"","ecolon;":"","Ecy;":"","ecy;":"","eDDot;":"","Edot;":"","eDot;":"","edot;":"","ee;":"","efDot;":"","Efr;":"","efr;":"","eg;":"","Egrave;":"","Egrave":"","egrave;":"","egrave":"","egs;":"","egsdot;":"","el;":"","Element;":"","elinters;":"","ell;":"","els;":"","elsdot;":"","Emacr;":"","emacr;":"","empty;":"","emptyset;":"","EmptySmallSquare;":"","emptyv;":"","EmptyVerySmallSquare;":"","emsp;":"","emsp13;":"","emsp14;":"","ENG;":"","eng;":"","ensp;":"","Eogon;":"","eogon;":"","Eopf;":"","eopf;":"","epar;":"","eparsl;":"","eplus;":"","epsi;":"","Epsilon;":"","epsilon;":"","epsiv;":"","eqcirc;":"","eqcolon;":"","eqsim;":"","eqslantgtr;":"","eqslantless;":"","Equal;":"","equals;":"=","EqualTilde;":"","equest;":"","Equilibrium;":"","equiv;":"","equivDD;":"","eqvparsl;":"","erarr;":"","erDot;":"","Escr;":"","escr;":"","esdot;":"","Esim;":"","esim;":"","Eta;":"","eta;":"","ETH;":"","ETH":"","eth;":"","eth":"","Euml;":"","Euml":"","euml;":"","euml":"","euro;":"","excl;":"!","exist;":"","Exists;":"","expectation;":"","ExponentialE;":"","exponentiale;":"","fallingdotseq;":"","Fcy;":"","fcy;":"","female;":"","ffilig;":"","fflig;":"","ffllig;":"","Ffr;":"","ffr;":"","filig;":"","FilledSmallSquare;":"","FilledVerySmallSquare;":"","fjlig;":"fj","flat;":"","fllig;":"","fltns;":"","fnof;":"","Fopf;":"","fopf;":"","ForAll;":"","forall;":"","fork;":"","forkv;":"","Fouriertrf;":"","fpartint;":"","frac12;":"","frac12":"","frac13;":"","frac14;":"","frac14":"","frac15;":"","frac16;":"","frac18;":"","frac23;":"","frac25;":"","frac34;":"","frac34":"","frac35;":"","frac38;":"","frac45;":"","frac56;":"","frac58;":"","frac78;":"","frasl;":"","frown;":"","Fscr;":"","fscr;":"","gacute;":"","Gamma;":"","gamma;":"","Gammad;":"","gammad;":"","gap;":"","Gbreve;":"","gbreve;":"","Gcedil;":"","Gcirc;":"","gcirc;":"","Gcy;":"","gcy;":"","Gdot;":"","gdot;":"","gE;":"","ge;":"","gEl;":"","gel;":"","geq;":"","geqq;":"","geqslant;":"","ges;":"","gescc;":"","gesdot;":"","gesdoto;":"","gesdotol;":"","gesl;":"","gesles;":"","Gfr;":"","gfr;":"","Gg;":"","gg;":"","ggg;":"","gimel;":"","GJcy;":"","gjcy;":"","gl;":"","gla;":"","glE;":"","glj;":"","gnap;":"","gnapprox;":"","gnE;":"","gne;":"","gneq;":"","gneqq;":"","gnsim;":"","Gopf;":"","gopf;":"","grave;":"`","GreaterEqual;":"","GreaterEqualLess;":"","GreaterFullEqual;":"","GreaterGreater;":"","GreaterLess;":"","GreaterSlantEqual;":"","GreaterTilde;":"","Gscr;":"","gscr;":"","gsim;":"","gsime;":"","gsiml;":"","GT;":">","GT":">","Gt;":"","gt;":">","gt":">","gtcc;":"","gtcir;":"","gtdot;":"","gtlPar;":"","gtquest;":"","gtrapprox;":"","gtrarr;":"","gtrdot;":"","gtreqless;":"","gtreqqless;":"","gtrless;":"","gtrsim;":"","gvertneqq;":"","gvnE;":"","Hacek;":"","hairsp;":"","half;":"","hamilt;":"","HARDcy;":"","hardcy;":"","hArr;":"","harr;":"","harrcir;":"","harrw;":"","Hat;":"^","hbar;":"","Hcirc;":"","hcirc;":"","hearts;":"","heartsuit;":"","hellip;":"","hercon;":"","Hfr;":"","hfr;":"","HilbertSpace;":"","hksearow;":"","hkswarow;":"","hoarr;":"","homtht;":"","hookleftarrow;":"","hookrightarrow;":"","Hopf;":"","hopf;":"","horbar;":"","HorizontalLine;":"","Hscr;":"","hscr;":"","hslash;":"","Hstrok;":"","hstrok;":"","HumpDownHump;":"","HumpEqual;":"","hybull;":"","hyphen;":"","Iacute;":"","Iacute":"","iacute;":"","iacute":"","ic;":"","Icirc;":"","Icirc":"","icirc;":"","icirc":"","Icy;":"","icy;":"","Idot;":"","IEcy;":"","iecy;":"","iexcl;":"","iexcl":"","iff;":"","Ifr;":"","ifr;":"","Igrave;":"","Igrave":"","igrave;":"","igrave":"","ii;":"","iiiint;":"","iiint;":"","iinfin;":"","iiota;":"","IJlig;":"","ijlig;":"","Im;":"","Imacr;":"","imacr;":"","image;":"","ImaginaryI;":"","imagline;":"","imagpart;":"","imath;":"","imof;":"","imped;":"","Implies;":"","in;":"","incare;":"","infin;":"","infintie;":"","inodot;":"","Int;":"","int;":"","intcal;":"","integers;":"","Integral;":"","intercal;":"","Intersection;":"","intlarhk;":"","intprod;":"","InvisibleComma;":"","InvisibleTimes;":"","IOcy;":"","iocy;":"","Iogon;":"","iogon;":"","Iopf;":"","iopf;":"","Iota;":"","iota;":"","iprod;":"","iquest;":"","iquest":"","Iscr;":"","iscr;":"","isin;":"","isindot;":"","isinE;":"","isins;":"","isinsv;":"","isinv;":"","it;":"","Itilde;":"","itilde;":"","Iukcy;":"","iukcy;":"","Iuml;":"","Iuml":"","iuml;":"","iuml":"","Jcirc;":"","jcirc;":"","Jcy;":"","jcy;":"","Jfr;":"","jfr;":"","jmath;":"","Jopf;":"","jopf;":"","Jscr;":"","jscr;":"","Jsercy;":"","jsercy;":"","Jukcy;":"","jukcy;":"","Kappa;":"","kappa;":"","kappav;":"","Kcedil;":"","kcedil;":"","Kcy;":"","kcy;":"","Kfr;":"","kfr;":"","kgreen;":"","KHcy;":"","khcy;":"","KJcy;":"","kjcy;":"","Kopf;":"","kopf;":"","Kscr;":"","kscr;":"","lAarr;":"","Lacute;":"","lacute;":"","laemptyv;":"","lagran;":"","Lambda;":"","lambda;":"","Lang;":"","lang;":"","langd;":"","langle;":"","lap;":"","Laplacetrf;":"","laquo;":"","laquo":"","Larr;":"","lArr;":"","larr;":"","larrb;":"","larrbfs;":"","larrfs;":"","larrhk;":"","larrlp;":"","larrpl;":"","larrsim;":"","larrtl;":"","lat;":"","lAtail;":"","latail;":"","late;":"","lates;":"","lBarr;":"","lbarr;":"","lbbrk;":"","lbrace;":"{","lbrack;":"[","lbrke;":"","lbrksld;":"","lbrkslu;":"","Lcaron;":"","lcaron;":"","Lcedil;":"","lcedil;":"","lceil;":"","lcub;":"{","Lcy;":"","lcy;":"","ldca;":"","ldquo;":"","ldquor;":"","ldrdhar;":"","ldrushar;":"","ldsh;":"","lE;":"","le;":"","LeftAngleBracket;":"","LeftArrow;":"","Leftarrow;":"","leftarrow;":"","LeftArrowBar;":"","LeftArrowRightArrow;":"","leftarrowtail;":"","LeftCeiling;":"","LeftDoubleBracket;":"","LeftDownTeeVector;":"","LeftDownVector;":"","LeftDownVectorBar;":"","LeftFloor;":"","leftharpoondown;":"","leftharpoonup;":"","leftleftarrows;":"","LeftRightArrow;":"","Leftrightarrow;":"","leftrightarrow;":"","leftrightarrows;":"","leftrightharpoons;":"","leftrightsquigarrow;":"","LeftRightVector;":"","LeftTee;":"","LeftTeeArrow;":"","LeftTeeVector;":"","leftthreetimes;":"","LeftTriangle;":"","LeftTriangleBar;":"","LeftTriangleEqual;":"","LeftUpDownVector;":"","LeftUpTeeVector;":"","LeftUpVector;":"","LeftUpVectorBar;":"","LeftVector;":"","LeftVectorBar;":"","lEg;":"","leg;":"","leq;":"","leqq;":"","leqslant;":"","les;":"","lescc;":"","lesdot;":"","lesdoto;":"","lesdotor;":"","lesg;":"","lesges;":"","lessapprox;":"","lessdot;":"","lesseqgtr;":"","lesseqqgtr;":"","LessEqualGreater;":"","LessFullEqual;":"","LessGreater;":"","lessgtr;":"","LessLess;":"","lesssim;":"","LessSlantEqual;":"","LessTilde;":"","lfisht;":"","lfloor;":"","Lfr;":"","lfr;":"","lg;":"","lgE;":"","lHar;":"","lhard;":"","lharu;":"","lharul;":"","lhblk;":"","LJcy;":"","ljcy;":"","Ll;":"","ll;":"","llarr;":"","llcorner;":"","Lleftarrow;":"","llhard;":"","lltri;":"","Lmidot;":"","lmidot;":"","lmoust;":"","lmoustache;":"","lnap;":"","lnapprox;":"","lnE;":"","lne;":"","lneq;":"","lneqq;":"","lnsim;":"","loang;":"","loarr;":"","lobrk;":"","LongLeftArrow;":"","Longleftarrow;":"","longleftarrow;":"","LongLeftRightArrow;":"","Longleftrightarrow;":"","longleftrightarrow;":"","longmapsto;":"","LongRightArrow;":"","Longrightarrow;":"","longrightarrow;":"","looparrowleft;":"","looparrowright;":"","lopar;":"","Lopf;":"","lopf;":"","loplus;":"","lotimes;":"","lowast;":"","lowbar;":"_","LowerLeftArrow;":"","LowerRightArrow;":"","loz;":"","lozenge;":"","lozf;":"","lpar;":"(","lparlt;":"","lrarr;":"","lrcorner;":"","lrhar;":"","lrhard;":"","lrm;":"","lrtri;":"","lsaquo;":"","Lscr;":"","lscr;":"","Lsh;":"","lsh;":"","lsim;":"","lsime;":"","lsimg;":"","lsqb;":"[","lsquo;":"","lsquor;":"","Lstrok;":"","lstrok;":"","LT;":"<","LT":"<","Lt;":"","lt;":"<","lt":"<","ltcc;":"","ltcir;":"","ltdot;":"","lthree;":"","ltimes;":"","ltlarr;":"","ltquest;":"","ltri;":"","ltrie;":"","ltrif;":"","ltrPar;":"","lurdshar;":"","luruhar;":"","lvertneqq;":"","lvnE;":"","macr;":"","macr":"","male;":"","malt;":"","maltese;":"","Map;":"","map;":"","mapsto;":"","mapstodown;":"","mapstoleft;":"","mapstoup;":"","marker;":"","mcomma;":"","Mcy;":"","mcy;":"","mdash;":"","mDDot;":"","measuredangle;":"","MediumSpace;":"","Mellintrf;":"","Mfr;":"","mfr;":"","mho;":"","micro;":"","micro":"","mid;":"","midast;":"*","midcir;":"","middot;":"","middot":"","minus;":"","minusb;":"","minusd;":"","minusdu;":"","MinusPlus;":"","mlcp;":"","mldr;":"","mnplus;":"","models;":"","Mopf;":"","mopf;":"","mp;":"","Mscr;":"","mscr;":"","mstpos;":"","Mu;":"","mu;":"","multimap;":"","mumap;":"","nabla;":"","Nacute;":"","nacute;":"","nang;":"","nap;":"","napE;":"","napid;":"","napos;":"","napprox;":"","natur;":"","natural;":"","naturals;":"","nbsp;":"","nbsp":"","nbump;":"","nbumpe;":"","ncap;":"","Ncaron;":"","ncaron;":"","Ncedil;":"","ncedil;":"","ncong;":"","ncongdot;":"","ncup;":"","Ncy;":"","ncy;":"","ndash;":"","ne;":"","nearhk;":"","neArr;":"","nearr;":"","nearrow;":"","nedot;":"","NegativeMediumSpace;":"","NegativeThickSpace;":"","NegativeThinSpace;":"","NegativeVeryThinSpace;":"","nequiv;":"","nesear;":"","nesim;":"","NestedGreaterGreater;":"","NestedLessLess;":"","NewLine;":"\\n","nexist;":"","nexists;":"","Nfr;":"","nfr;":"","ngE;":"","nge;":"","ngeq;":"","ngeqq;":"","ngeqslant;":"","nges;":"","nGg;":"","ngsim;":"","nGt;":"","ngt;":"","ngtr;":"","nGtv;":"","nhArr;":"","nharr;":"","nhpar;":"","ni;":"","nis;":"","nisd;":"","niv;":"","NJcy;":"","njcy;":"","nlArr;":"","nlarr;":"","nldr;":"","nlE;":"","nle;":"","nLeftarrow;":"","nleftarrow;":"","nLeftrightarrow;":"","nleftrightarrow;":"","nleq;":"","nleqq;":"","nleqslant;":"","nles;":"","nless;":"","nLl;":"","nlsim;":"","nLt;":"","nlt;":"","nltri;":"","nltrie;":"","nLtv;":"","nmid;":"","NoBreak;":"","NonBreakingSpace;":"","Nopf;":"","nopf;":"","Not;":"","not;":"","not":"","NotCongruent;":"","NotCupCap;":"","NotDoubleVerticalBar;":"","NotElement;":"","NotEqual;":"","NotEqualTilde;":"","NotExists;":"","NotGreater;":"","NotGreaterEqual;":"","NotGreaterFullEqual;":"","NotGreaterGreater;":"","NotGreaterLess;":"","NotGreaterSlantEqual;":"","NotGreaterTilde;":"","NotHumpDownHump;":"","NotHumpEqual;":"","notin;":"","notindot;":"","notinE;":"","notinva;":"","notinvb;":"","notinvc;":"","NotLeftTriangle;":"","NotLeftTriangleBar;":"","NotLeftTriangleEqual;":"","NotLess;":"","NotLessEqual;":"","NotLessGreater;":"","NotLessLess;":"","NotLessSlantEqual;":"","NotLessTilde;":"","NotNestedGreaterGreater;":"","NotNestedLessLess;":"","notni;":"","notniva;":"","notnivb;":"","notnivc;":"","NotPrecedes;":"","NotPrecedesEqual;":"","NotPrecedesSlantEqual;":"","NotReverseElement;":"","NotRightTriangle;":"","NotRightTriangleBar;":"","NotRightTriangleEqual;":"","NotSquareSubset;":"","NotSquareSubsetEqual;":"","NotSquareSuperset;":"","NotSquareSupersetEqual;":"","NotSubset;":"","NotSubsetEqual;":"","NotSucceeds;":"","NotSucceedsEqual;":"","NotSucceedsSlantEqual;":"","NotSucceedsTilde;":"","NotSuperset;":"","NotSupersetEqual;":"","NotTilde;":"","NotTildeEqual;":"","NotTildeFullEqual;":"","NotTildeTilde;":"","NotVerticalBar;":"","npar;":"","nparallel;":"","nparsl;":"","npart;":"","npolint;":"","npr;":"","nprcue;":"","npre;":"","nprec;":"","npreceq;":"","nrArr;":"","nrarr;":"","nrarrc;":"","nrarrw;":"","nRightarrow;":"","nrightarrow;":"","nrtri;":"","nrtrie;":"","nsc;":"","nsccue;":"","nsce;":"","Nscr;":"","nscr;":"","nshortmid;":"","nshortparallel;":"","nsim;":"","nsime;":"","nsimeq;":"","nsmid;":"","nspar;":"","nsqsube;":"","nsqsupe;":"","nsub;":"","nsubE;":"","nsube;":"","nsubset;":"","nsubseteq;":"","nsubseteqq;":"","nsucc;":"","nsucceq;":"","nsup;":"","nsupE;":"","nsupe;":"","nsupset;":"","nsupseteq;":"","nsupseteqq;":"","ntgl;":"","Ntilde;":"","Ntilde":"","ntilde;":"","ntilde":"","ntlg;":"","ntriangleleft;":"","ntrianglelefteq;":"","ntriangleright;":"","ntrianglerighteq;":"","Nu;":"","nu;":"","num;":"#","numero;":"","numsp;":"","nvap;":"","nVDash;":"","nVdash;":"","nvDash;":"","nvdash;":"","nvge;":"","nvgt;":">","nvHarr;":"","nvinfin;":"","nvlArr;":"","nvle;":"","nvlt;":"<","nvltrie;":"","nvrArr;":"","nvrtrie;":"","nvsim;":"","nwarhk;":"","nwArr;":"","nwarr;":"","nwarrow;":"","nwnear;":"","Oacute;":"","Oacute":"","oacute;":"","oacute":"","oast;":"","ocir;":"","Ocirc;":"","Ocirc":"","ocirc;":"","ocirc":"","Ocy;":"","ocy;":"","odash;":"","Odblac;":"","odblac;":"","odiv;":"","odot;":"","odsold;":"","OElig;":"","oelig;":"","ofcir;":"","Ofr;":"","ofr;":"","ogon;":"","Ograve;":"","Ograve":"","ograve;":"","ograve":"","ogt;":"","ohbar;":"","ohm;":"","oint;":"","olarr;":"","olcir;":"","olcross;":"","oline;":"","olt;":"","Omacr;":"","omacr;":"","Omega;":"","omega;":"","Omicron;":"","omicron;":"","omid;":"","ominus;":"","Oopf;":"","oopf;":"","opar;":"","OpenCurlyDoubleQuote;":"","OpenCurlyQuote;":"","operp;":"","oplus;":"","Or;":"","or;":"","orarr;":"","ord;":"","order;":"","orderof;":"","ordf;":"","ordf":"","ordm;":"","ordm":"","origof;":"","oror;":"","orslope;":"","orv;":"","oS;":"","Oscr;":"","oscr;":"","Oslash;":"","Oslash":"","oslash;":"","oslash":"","osol;":"","Otilde;":"","Otilde":"","otilde;":"","otilde":"","Otimes;":"","otimes;":"","otimesas;":"","Ouml;":"","Ouml":"","ouml;":"","ouml":"","ovbar;":"","OverBar;":"","OverBrace;":"","OverBracket;":"","OverParenthesis;":"","par;":"","para;":"","para":"","parallel;":"","parsim;":"","parsl;":"","part;":"","PartialD;":"","Pcy;":"","pcy;":"","percnt;":"%","period;":".","permil;":"","perp;":"","pertenk;":"","Pfr;":"","pfr;":"","Phi;":"","phi;":"","phiv;":"","phmmat;":"","phone;":"","Pi;":"","pi;":"","pitchfork;":"","piv;":"","planck;":"","planckh;":"","plankv;":"","plus;":"+","plusacir;":"","plusb;":"","pluscir;":"","plusdo;":"","plusdu;":"","pluse;":"","PlusMinus;":"","plusmn;":"","plusmn":"","plussim;":"","plustwo;":"","pm;":"","Poincareplane;":"","pointint;":"","Popf;":"","popf;":"","pound;":"","pound":"","Pr;":"","pr;":"","prap;":"","prcue;":"","prE;":"","pre;":"","prec;":"","precapprox;":"","preccurlyeq;":"","Precedes;":"","PrecedesEqual;":"","PrecedesSlantEqual;":"","PrecedesTilde;":"","preceq;":"","precnapprox;":"","precneqq;":"","precnsim;":"","precsim;":"","Prime;":"","prime;":"","primes;":"","prnap;":"","prnE;":"","prnsim;":"","prod;":"","Product;":"","profalar;":"","profline;":"","profsurf;":"","prop;":"","Proportion;":"","Proportional;":"","propto;":"","prsim;":"","prurel;":"","Pscr;":"","pscr;":"","Psi;":"","psi;":"","puncsp;":"","Qfr;":"","qfr;":"","qint;":"","Qopf;":"","qopf;":"","qprime;":"","Qscr;":"","qscr;":"","quaternions;":"","quatint;":"","quest;":"?","questeq;":"","QUOT;":"\\"","QUOT":"\\"","quot;":"\\"","quot":"\\"","rAarr;":"","race;":"","Racute;":"","racute;":"","radic;":"","raemptyv;":"","Rang;":"","rang;":"","rangd;":"","range;":"","rangle;":"","raquo;":"","raquo":"","Rarr;":"","rArr;":"","rarr;":"","rarrap;":"","rarrb;":"","rarrbfs;":"","rarrc;":"","rarrfs;":"","rarrhk;":"","rarrlp;":"","rarrpl;":"","rarrsim;":"","Rarrtl;":"","rarrtl;":"","rarrw;":"","rAtail;":"","ratail;":"","ratio;":"","rationals;":"","RBarr;":"","rBarr;":"","rbarr;":"","rbbrk;":"","rbrace;":"}","rbrack;":"]","rbrke;":"","rbrksld;":"","rbrkslu;":"","Rcaron;":"","rcaron;":"","Rcedil;":"","rcedil;":"","rceil;":"","rcub;":"}","Rcy;":"","rcy;":"","rdca;":"","rdldhar;":"","rdquo;":"","rdquor;":"","rdsh;":"","Re;":"","real;":"","realine;":"","realpart;":"","reals;":"","rect;":"","REG;":"","REG":"","reg;":"","reg":"","ReverseElement;":"","ReverseEquilibrium;":"","ReverseUpEquilibrium;":"","rfisht;":"","rfloor;":"","Rfr;":"","rfr;":"","rHar;":"","rhard;":"","rharu;":"","rharul;":"","Rho;":"","rho;":"","rhov;":"","RightAngleBracket;":"","RightArrow;":"","Rightarrow;":"","rightarrow;":"","RightArrowBar;":"","RightArrowLeftArrow;":"","rightarrowtail;":"","RightCeiling;":"","RightDoubleBracket;":"","RightDownTeeVector;":"","RightDownVector;":"","RightDownVectorBar;":"","RightFloor;":"","rightharpoondown;":"","rightharpoonup;":"","rightleftarrows;":"","rightleftharpoons;":"","rightrightarrows;":"","rightsquigarrow;":"","RightTee;":"","RightTeeArrow;":"","RightTeeVector;":"","rightthreetimes;":"","RightTriangle;":"","RightTriangleBar;":"","RightTriangleEqual;":"","RightUpDownVector;":"","RightUpTeeVector;":"","RightUpVector;":"","RightUpVectorBar;":"","RightVector;":"","RightVectorBar;":"","ring;":"","risingdotseq;":"","rlarr;":"","rlhar;":"","rlm;":"","rmoust;":"","rmoustache;":"","rnmid;":"","roang;":"","roarr;":"","robrk;":"","ropar;":"","Ropf;":"","ropf;":"","roplus;":"","rotimes;":"","RoundImplies;":"","rpar;":")","rpargt;":"","rppolint;":"","rrarr;":"","Rrightarrow;":"","rsaquo;":"","Rscr;":"","rscr;":"","Rsh;":"","rsh;":"","rsqb;":"]","rsquo;":"","rsquor;":"","rthree;":"","rtimes;":"","rtri;":"","rtrie;":"","rtrif;":"","rtriltri;":"","RuleDelayed;":"","ruluhar;":"","rx;":"","Sacute;":"","sacute;":"","sbquo;":"","Sc;":"","sc;":"","scap;":"","Scaron;":"","scaron;":"","sccue;":"","scE;":"","sce;":"","Scedil;":"","scedil;":"","Scirc;":"","scirc;":"","scnap;":"","scnE;":"","scnsim;":"","scpolint;":"","scsim;":"","Scy;":"","scy;":"","sdot;":"","sdotb;":"","sdote;":"","searhk;":"","seArr;":"","searr;":"","searrow;":"","sect;":"","sect":"","semi;":";","seswar;":"","setminus;":"","setmn;":"","sext;":"","Sfr;":"","sfr;":"","sfrown;":"","sharp;":"","SHCHcy;":"","shchcy;":"","SHcy;":"","shcy;":"","ShortDownArrow;":"","ShortLeftArrow;":"","shortmid;":"","shortparallel;":"","ShortRightArrow;":"","ShortUpArrow;":"","shy;":"","shy":"","Sigma;":"","sigma;":"","sigmaf;":"","sigmav;":"","sim;":"","simdot;":"","sime;":"","simeq;":"","simg;":"","simgE;":"","siml;":"","simlE;":"","simne;":"","simplus;":"","simrarr;":"","slarr;":"","SmallCircle;":"","smallsetminus;":"","smashp;":"","smeparsl;":"","smid;":"","smile;":"","smt;":"","smte;":"","smtes;":"","SOFTcy;":"","softcy;":"","sol;":"/","solb;":"","solbar;":"","Sopf;":"","sopf;":"","spades;":"","spadesuit;":"","spar;":"","sqcap;":"","sqcaps;":"","sqcup;":"","sqcups;":"","Sqrt;":"","sqsub;":"","sqsube;":"","sqsubset;":"","sqsubseteq;":"","sqsup;":"","sqsupe;":"","sqsupset;":"","sqsupseteq;":"","squ;":"","Square;":"","square;":"","SquareIntersection;":"","SquareSubset;":"","SquareSubsetEqual;":"","SquareSuperset;":"","SquareSupersetEqual;":"","SquareUnion;":"","squarf;":"","squf;":"","srarr;":"","Sscr;":"","sscr;":"","ssetmn;":"","ssmile;":"","sstarf;":"","Star;":"","star;":"","starf;":"","straightepsilon;":"","straightphi;":"","strns;":"","Sub;":"","sub;":"","subdot;":"","subE;":"","sube;":"","subedot;":"","submult;":"","subnE;":"","subne;":"","subplus;":"","subrarr;":"","Subset;":"","subset;":"","subseteq;":"","subseteqq;":"","SubsetEqual;":"","subsetneq;":"","subsetneqq;":"","subsim;":"","subsub;":"","subsup;":"","succ;":"","succapprox;":"","succcurlyeq;":"","Succeeds;":"","SucceedsEqual;":"","SucceedsSlantEqual;":"","SucceedsTilde;":"","succeq;":"","succnapprox;":"","succneqq;":"","succnsim;":"","succsim;":"","SuchThat;":"","Sum;":"","sum;":"","sung;":"","Sup;":"","sup;":"","sup1;":"","sup1":"","sup2;":"","sup2":"","sup3;":"","sup3":"","supdot;":"","supdsub;":"","supE;":"","supe;":"","supedot;":"","Superset;":"","SupersetEqual;":"","suphsol;":"","suphsub;":"","suplarr;":"","supmult;":"","supnE;":"","supne;":"","supplus;":"","Supset;":"","supset;":"","supseteq;":"","supseteqq;":"","supsetneq;":"","supsetneqq;":"","supsim;":"","supsub;":"","supsup;":"","swarhk;":"","swArr;":"","swarr;":"","swarrow;":"","swnwar;":"","szlig;":"","szlig":"","Tab;":"\\t","target;":"","Tau;":"","tau;":"","tbrk;":"","Tcaron;":"","tcaron;":"","Tcedil;":"","tcedil;":"","Tcy;":"","tcy;":"","tdot;":"","telrec;":"","Tfr;":"","tfr;":"","there4;":"","Therefore;":"","therefore;":"","Theta;":"","theta;":"","thetasym;":"","thetav;":"","thickapprox;":"","thicksim;":"","ThickSpace;":"","thinsp;":"","ThinSpace;":"","thkap;":"","thksim;":"","THORN;":"","THORN":"","thorn;":"","thorn":"","Tilde;":"","tilde;":"","TildeEqual;":"","TildeFullEqual;":"","TildeTilde;":"","times;":"","times":"","timesb;":"","timesbar;":"","timesd;":"","tint;":"","toea;":"","top;":"","topbot;":"","topcir;":"","Topf;":"","topf;":"","topfork;":"","tosa;":"","tprime;":"","TRADE;":"","trade;":"","triangle;":"","triangledown;":"","triangleleft;":"","trianglelefteq;":"","triangleq;":"","triangleright;":"","trianglerighteq;":"","tridot;":"","trie;":"","triminus;":"","TripleDot;":"","triplus;":"","trisb;":"","tritime;":"","trpezium;":"","Tscr;":"","tscr;":"","TScy;":"","tscy;":"","TSHcy;":"","tshcy;":"","Tstrok;":"","tstrok;":"","twixt;":"","twoheadleftarrow;":"","twoheadrightarrow;":"","Uacute;":"","Uacute":"","uacute;":"","uacute":"","Uarr;":"","uArr;":"","uarr;":"","Uarrocir;":"","Ubrcy;":"","ubrcy;":"","Ubreve;":"","ubreve;":"","Ucirc;":"","Ucirc":"","ucirc;":"","ucirc":"","Ucy;":"","ucy;":"","udarr;":"","Udblac;":"","udblac;":"","udhar;":"","ufisht;":"","Ufr;":"","ufr;":"","Ugrave;":"","Ugrave":"","ugrave;":"","ugrave":"","uHar;":"","uharl;":"","uharr;":"","uhblk;":"","ulcorn;":"","ulcorner;":"","ulcrop;":"","ultri;":"","Umacr;":"","umacr;":"","uml;":"","uml":"","UnderBar;":"_","UnderBrace;":"","UnderBracket;":"","UnderParenthesis;":"","Union;":"","UnionPlus;":"","Uogon;":"","uogon;":"","Uopf;":"","uopf;":"","UpArrow;":"","Uparrow;":"","uparrow;":"","UpArrowBar;":"","UpArrowDownArrow;":"","UpDownArrow;":"","Updownarrow;":"","updownarrow;":"","UpEquilibrium;":"","upharpoonleft;":"","upharpoonright;":"","uplus;":"","UpperLeftArrow;":"","UpperRightArrow;":"","Upsi;":"","upsi;":"","upsih;":"","Upsilon;":"","upsilon;":"","UpTee;":"","UpTeeArrow;":"","upuparrows;":"","urcorn;":"","urcorner;":"","urcrop;":"","Uring;":"","uring;":"","urtri;":"","Uscr;":"","uscr;":"","utdot;":"","Utilde;":"","utilde;":"","utri;":"","utrif;":"","uuarr;":"","Uuml;":"","Uuml":"","uuml;":"","uuml":"","uwangle;":"","vangrt;":"","varepsilon;":"","varkappa;":"","varnothing;":"","varphi;":"","varpi;":"","varpropto;":"","vArr;":"","varr;":"","varrho;":"","varsigma;":"","varsubsetneq;":"","varsubsetneqq;":"","varsupsetneq;":"","varsupsetneqq;":"","vartheta;":"","vartriangleleft;":"","vartriangleright;":"","Vbar;":"","vBar;":"","vBarv;":"","Vcy;":"","vcy;":"","VDash;":"","Vdash;":"","vDash;":"","vdash;":"","Vdashl;":"","Vee;":"","vee;":"","veebar;":"","veeeq;":"","vellip;":"","Verbar;":"","verbar;":"|","Vert;":"","vert;":"|","VerticalBar;":"","VerticalLine;":"|","VerticalSeparator;":"","VerticalTilde;":"","VeryThinSpace;":"","Vfr;":"","vfr;":"","vltri;":"","vnsub;":"","vnsup;":"","Vopf;":"","vopf;":"","vprop;":"","vrtri;":"","Vscr;":"","vscr;":"","vsubnE;":"","vsubne;":"","vsupnE;":"","vsupne;":"","Vvdash;":"","vzigzag;":"","Wcirc;":"","wcirc;":"","wedbar;":"","Wedge;":"","wedge;":"","wedgeq;":"","weierp;":"","Wfr;":"","wfr;":"","Wopf;":"","wopf;":"","wp;":"","wr;":"","wreath;":"","Wscr;":"","wscr;":"","xcap;":"","xcirc;":"","xcup;":"","xdtri;":"","Xfr;":"","xfr;":"","xhArr;":"","xharr;":"","Xi;":"","xi;":"","xlArr;":"","xlarr;":"","xmap;":"","xnis;":"","xodot;":"","Xopf;":"","xopf;":"","xoplus;":"","xotime;":"","xrArr;":"","xrarr;":"","Xscr;":"","xscr;":"","xsqcup;":"","xuplus;":"","xutri;":"","xvee;":"","xwedge;":"","Yacute;":"","Yacute":"","yacute;":"","yacute":"","YAcy;":"","yacy;":"","Ycirc;":"","ycirc;":"","Ycy;":"","ycy;":"","yen;":"","yen":"","Yfr;":"","yfr;":"","YIcy;":"","yicy;":"","Yopf;":"","yopf;":"","Yscr;":"","yscr;":"","YUcy;":"","yucy;":"","Yuml;":"","yuml;":"","yuml":"","Zacute;":"","zacute;":"","Zcaron;":"","zcaron;":"","Zcy;":"","zcy;":"","Zdot;":"","zdot;":"","zeetrf;":"","ZeroWidthSpace;":"","Zeta;":"","zeta;":"","Zfr;":"","zfr;":"","ZHcy;":"","zhcy;":"","zigrarr;":"","Zopf;":"","zopf;":"","Zscr;":"","zscr;":"","zwj;":"","zwnj;":""}')},3498:(e,t,r)=>{t.encode=r(99151),t.decode=r(76751)},88245:e=>{"use strict";e.exports=JSON.parse('{"9":"Tab;","10":"NewLine;","33":"excl;","34":"quot;","35":"num;","36":"dollar;","37":"percnt;","38":"amp;","39":"apos;","40":"lpar;","41":"rpar;","42":"midast;","43":"plus;","44":"comma;","46":"period;","47":"sol;","58":"colon;","59":"semi;","60":"lt;","61":"equals;","62":"gt;","63":"quest;","64":"commat;","91":"lsqb;","92":"bsol;","93":"rsqb;","94":"Hat;","95":"UnderBar;","96":"grave;","123":"lcub;","124":"VerticalLine;","125":"rcub;","160":"NonBreakingSpace;","161":"iexcl;","162":"cent;","163":"pound;","164":"curren;","165":"yen;","166":"brvbar;","167":"sect;","168":"uml;","169":"copy;","170":"ordf;","171":"laquo;","172":"not;","173":"shy;","174":"reg;","175":"strns;","176":"deg;","177":"pm;","178":"sup2;","179":"sup3;","180":"DiacriticalAcute;","181":"micro;","182":"para;","183":"middot;","184":"Cedilla;","185":"sup1;","186":"ordm;","187":"raquo;","188":"frac14;","189":"half;","190":"frac34;","191":"iquest;","192":"Agrave;","193":"Aacute;","194":"Acirc;","195":"Atilde;","196":"Auml;","197":"Aring;","198":"AElig;","199":"Ccedil;","200":"Egrave;","201":"Eacute;","202":"Ecirc;","203":"Euml;","204":"Igrave;","205":"Iacute;","206":"Icirc;","207":"Iuml;","208":"ETH;","209":"Ntilde;","210":"Ograve;","211":"Oacute;","212":"Ocirc;","213":"Otilde;","214":"Ouml;","215":"times;","216":"Oslash;","217":"Ugrave;","218":"Uacute;","219":"Ucirc;","220":"Uuml;","221":"Yacute;","222":"THORN;","223":"szlig;","224":"agrave;","225":"aacute;","226":"acirc;","227":"atilde;","228":"auml;","229":"aring;","230":"aelig;","231":"ccedil;","232":"egrave;","233":"eacute;","234":"ecirc;","235":"euml;","236":"igrave;","237":"iacute;","238":"icirc;","239":"iuml;","240":"eth;","241":"ntilde;","242":"ograve;","243":"oacute;","244":"ocirc;","245":"otilde;","246":"ouml;","247":"divide;","248":"oslash;","249":"ugrave;","250":"uacute;","251":"ucirc;","252":"uuml;","253":"yacute;","254":"thorn;","255":"yuml;","256":"Amacr;","257":"amacr;","258":"Abreve;","259":"abreve;","260":"Aogon;","261":"aogon;","262":"Cacute;","263":"cacute;","264":"Ccirc;","265":"ccirc;","266":"Cdot;","267":"cdot;","268":"Ccaron;","269":"ccaron;","270":"Dcaron;","271":"dcaron;","272":"Dstrok;","273":"dstrok;","274":"Emacr;","275":"emacr;","278":"Edot;","279":"edot;","280":"Eogon;","281":"eogon;","282":"Ecaron;","283":"ecaron;","284":"Gcirc;","285":"gcirc;","286":"Gbreve;","287":"gbreve;","288":"Gdot;","289":"gdot;","290":"Gcedil;","292":"Hcirc;","293":"hcirc;","294":"Hstrok;","295":"hstrok;","296":"Itilde;","297":"itilde;","298":"Imacr;","299":"imacr;","302":"Iogon;","303":"iogon;","304":"Idot;","305":"inodot;","306":"IJlig;","307":"ijlig;","308":"Jcirc;","309":"jcirc;","310":"Kcedil;","311":"kcedil;","312":"kgreen;","313":"Lacute;","314":"lacute;","315":"Lcedil;","316":"lcedil;","317":"Lcaron;","318":"lcaron;","319":"Lmidot;","320":"lmidot;","321":"Lstrok;","322":"lstrok;","323":"Nacute;","324":"nacute;","325":"Ncedil;","326":"ncedil;","327":"Ncaron;","328":"ncaron;","329":"napos;","330":"ENG;","331":"eng;","332":"Omacr;","333":"omacr;","336":"Odblac;","337":"odblac;","338":"OElig;","339":"oelig;","340":"Racute;","341":"racute;","342":"Rcedil;","343":"rcedil;","344":"Rcaron;","345":"rcaron;","346":"Sacute;","347":"sacute;","348":"Scirc;","349":"scirc;","350":"Scedil;","351":"scedil;","352":"Scaron;","353":"scaron;","354":"Tcedil;","355":"tcedil;","356":"Tcaron;","357":"tcaron;","358":"Tstrok;","359":"tstrok;","360":"Utilde;","361":"utilde;","362":"Umacr;","363":"umacr;","364":"Ubreve;","365":"ubreve;","366":"Uring;","367":"uring;","368":"Udblac;","369":"udblac;","370":"Uogon;","371":"uogon;","372":"Wcirc;","373":"wcirc;","374":"Ycirc;","375":"ycirc;","376":"Yuml;","377":"Zacute;","378":"zacute;","379":"Zdot;","380":"zdot;","381":"Zcaron;","382":"zcaron;","402":"fnof;","437":"imped;","501":"gacute;","567":"jmath;","710":"circ;","711":"Hacek;","728":"breve;","729":"dot;","730":"ring;","731":"ogon;","732":"tilde;","733":"DiacriticalDoubleAcute;","785":"DownBreve;","913":"Alpha;","914":"Beta;","915":"Gamma;","916":"Delta;","917":"Epsilon;","918":"Zeta;","919":"Eta;","920":"Theta;","921":"Iota;","922":"Kappa;","923":"Lambda;","924":"Mu;","925":"Nu;","926":"Xi;","927":"Omicron;","928":"Pi;","929":"Rho;","931":"Sigma;","932":"Tau;","933":"Upsilon;","934":"Phi;","935":"Chi;","936":"Psi;","937":"Omega;","945":"alpha;","946":"beta;","947":"gamma;","948":"delta;","949":"epsilon;","950":"zeta;","951":"eta;","952":"theta;","953":"iota;","954":"kappa;","955":"lambda;","956":"mu;","957":"nu;","958":"xi;","959":"omicron;","960":"pi;","961":"rho;","962":"varsigma;","963":"sigma;","964":"tau;","965":"upsilon;","966":"phi;","967":"chi;","968":"psi;","969":"omega;","977":"vartheta;","978":"upsih;","981":"varphi;","982":"varpi;","988":"Gammad;","989":"gammad;","1008":"varkappa;","1009":"varrho;","1013":"varepsilon;","1014":"bepsi;","1025":"IOcy;","1026":"DJcy;","1027":"GJcy;","1028":"Jukcy;","1029":"DScy;","1030":"Iukcy;","1031":"YIcy;","1032":"Jsercy;","1033":"LJcy;","1034":"NJcy;","1035":"TSHcy;","1036":"KJcy;","1038":"Ubrcy;","1039":"DZcy;","1040":"Acy;","1041":"Bcy;","1042":"Vcy;","1043":"Gcy;","1044":"Dcy;","1045":"IEcy;","1046":"ZHcy;","1047":"Zcy;","1048":"Icy;","1049":"Jcy;","1050":"Kcy;","1051":"Lcy;","1052":"Mcy;","1053":"Ncy;","1054":"Ocy;","1055":"Pcy;","1056":"Rcy;","1057":"Scy;","1058":"Tcy;","1059":"Ucy;","1060":"Fcy;","1061":"KHcy;","1062":"TScy;","1063":"CHcy;","1064":"SHcy;","1065":"SHCHcy;","1066":"HARDcy;","1067":"Ycy;","1068":"SOFTcy;","1069":"Ecy;","1070":"YUcy;","1071":"YAcy;","1072":"acy;","1073":"bcy;","1074":"vcy;","1075":"gcy;","1076":"dcy;","1077":"iecy;","1078":"zhcy;","1079":"zcy;","1080":"icy;","1081":"jcy;","1082":"kcy;","1083":"lcy;","1084":"mcy;","1085":"ncy;","1086":"ocy;","1087":"pcy;","1088":"rcy;","1089":"scy;","1090":"tcy;","1091":"ucy;","1092":"fcy;","1093":"khcy;","1094":"tscy;","1095":"chcy;","1096":"shcy;","1097":"shchcy;","1098":"hardcy;","1099":"ycy;","1100":"softcy;","1101":"ecy;","1102":"yucy;","1103":"yacy;","1105":"iocy;","1106":"djcy;","1107":"gjcy;","1108":"jukcy;","1109":"dscy;","1110":"iukcy;","1111":"yicy;","1112":"jsercy;","1113":"ljcy;","1114":"njcy;","1115":"tshcy;","1116":"kjcy;","1118":"ubrcy;","1119":"dzcy;","8194":"ensp;","8195":"emsp;","8196":"emsp13;","8197":"emsp14;","8199":"numsp;","8200":"puncsp;","8201":"ThinSpace;","8202":"VeryThinSpace;","8203":"ZeroWidthSpace;","8204":"zwnj;","8205":"zwj;","8206":"lrm;","8207":"rlm;","8208":"hyphen;","8211":"ndash;","8212":"mdash;","8213":"horbar;","8214":"Vert;","8216":"OpenCurlyQuote;","8217":"rsquor;","8218":"sbquo;","8220":"OpenCurlyDoubleQuote;","8221":"rdquor;","8222":"ldquor;","8224":"dagger;","8225":"ddagger;","8226":"bullet;","8229":"nldr;","8230":"mldr;","8240":"permil;","8241":"pertenk;","8242":"prime;","8243":"Prime;","8244":"tprime;","8245":"bprime;","8249":"lsaquo;","8250":"rsaquo;","8254":"OverBar;","8257":"caret;","8259":"hybull;","8260":"frasl;","8271":"bsemi;","8279":"qprime;","8287":"MediumSpace;","8288":"NoBreak;","8289":"ApplyFunction;","8290":"it;","8291":"InvisibleComma;","8364":"euro;","8411":"TripleDot;","8412":"DotDot;","8450":"Copf;","8453":"incare;","8458":"gscr;","8459":"Hscr;","8460":"Poincareplane;","8461":"quaternions;","8462":"planckh;","8463":"plankv;","8464":"Iscr;","8465":"imagpart;","8466":"Lscr;","8467":"ell;","8469":"Nopf;","8470":"numero;","8471":"copysr;","8472":"wp;","8473":"primes;","8474":"rationals;","8475":"Rscr;","8476":"Rfr;","8477":"Ropf;","8478":"rx;","8482":"trade;","8484":"Zopf;","8487":"mho;","8488":"Zfr;","8489":"iiota;","8492":"Bscr;","8493":"Cfr;","8495":"escr;","8496":"expectation;","8497":"Fscr;","8499":"phmmat;","8500":"oscr;","8501":"aleph;","8502":"beth;","8503":"gimel;","8504":"daleth;","8517":"DD;","8518":"DifferentialD;","8519":"exponentiale;","8520":"ImaginaryI;","8531":"frac13;","8532":"frac23;","8533":"frac15;","8534":"frac25;","8535":"frac35;","8536":"frac45;","8537":"frac16;","8538":"frac56;","8539":"frac18;","8540":"frac38;","8541":"frac58;","8542":"frac78;","8592":"slarr;","8593":"uparrow;","8594":"srarr;","8595":"ShortDownArrow;","8596":"leftrightarrow;","8597":"varr;","8598":"UpperLeftArrow;","8599":"UpperRightArrow;","8600":"searrow;","8601":"swarrow;","8602":"nleftarrow;","8603":"nrightarrow;","8605":"rightsquigarrow;","8606":"twoheadleftarrow;","8607":"Uarr;","8608":"twoheadrightarrow;","8609":"Darr;","8610":"leftarrowtail;","8611":"rightarrowtail;","8612":"mapstoleft;","8613":"UpTeeArrow;","8614":"RightTeeArrow;","8615":"mapstodown;","8617":"larrhk;","8618":"rarrhk;","8619":"looparrowleft;","8620":"rarrlp;","8621":"leftrightsquigarrow;","8622":"nleftrightarrow;","8624":"lsh;","8625":"rsh;","8626":"ldsh;","8627":"rdsh;","8629":"crarr;","8630":"curvearrowleft;","8631":"curvearrowright;","8634":"olarr;","8635":"orarr;","8636":"lharu;","8637":"lhard;","8638":"upharpoonright;","8639":"upharpoonleft;","8640":"RightVector;","8641":"rightharpoondown;","8642":"RightDownVector;","8643":"LeftDownVector;","8644":"rlarr;","8645":"UpArrowDownArrow;","8646":"lrarr;","8647":"llarr;","8648":"uuarr;","8649":"rrarr;","8650":"downdownarrows;","8651":"ReverseEquilibrium;","8652":"rlhar;","8653":"nLeftarrow;","8654":"nLeftrightarrow;","8655":"nRightarrow;","8656":"Leftarrow;","8657":"Uparrow;","8658":"Rightarrow;","8659":"Downarrow;","8660":"Leftrightarrow;","8661":"vArr;","8662":"nwArr;","8663":"neArr;","8664":"seArr;","8665":"swArr;","8666":"Lleftarrow;","8667":"Rrightarrow;","8669":"zigrarr;","8676":"LeftArrowBar;","8677":"RightArrowBar;","8693":"duarr;","8701":"loarr;","8702":"roarr;","8703":"hoarr;","8704":"forall;","8705":"complement;","8706":"PartialD;","8707":"Exists;","8708":"NotExists;","8709":"varnothing;","8711":"nabla;","8712":"isinv;","8713":"notinva;","8715":"SuchThat;","8716":"NotReverseElement;","8719":"Product;","8720":"Coproduct;","8721":"sum;","8722":"minus;","8723":"mp;","8724":"plusdo;","8726":"ssetmn;","8727":"lowast;","8728":"SmallCircle;","8730":"Sqrt;","8733":"vprop;","8734":"infin;","8735":"angrt;","8736":"angle;","8737":"measuredangle;","8738":"angsph;","8739":"VerticalBar;","8740":"nsmid;","8741":"spar;","8742":"nspar;","8743":"wedge;","8744":"vee;","8745":"cap;","8746":"cup;","8747":"Integral;","8748":"Int;","8749":"tint;","8750":"oint;","8751":"DoubleContourIntegral;","8752":"Cconint;","8753":"cwint;","8754":"cwconint;","8755":"CounterClockwiseContourIntegral;","8756":"therefore;","8757":"because;","8758":"ratio;","8759":"Proportion;","8760":"minusd;","8762":"mDDot;","8763":"homtht;","8764":"Tilde;","8765":"bsim;","8766":"mstpos;","8767":"acd;","8768":"wreath;","8769":"nsim;","8770":"esim;","8771":"TildeEqual;","8772":"nsimeq;","8773":"TildeFullEqual;","8774":"simne;","8775":"NotTildeFullEqual;","8776":"TildeTilde;","8777":"NotTildeTilde;","8778":"approxeq;","8779":"apid;","8780":"bcong;","8781":"CupCap;","8782":"HumpDownHump;","8783":"HumpEqual;","8784":"esdot;","8785":"eDot;","8786":"fallingdotseq;","8787":"risingdotseq;","8788":"coloneq;","8789":"eqcolon;","8790":"eqcirc;","8791":"cire;","8793":"wedgeq;","8794":"veeeq;","8796":"trie;","8799":"questeq;","8800":"NotEqual;","8801":"equiv;","8802":"NotCongruent;","8804":"leq;","8805":"GreaterEqual;","8806":"LessFullEqual;","8807":"GreaterFullEqual;","8808":"lneqq;","8809":"gneqq;","8810":"NestedLessLess;","8811":"NestedGreaterGreater;","8812":"twixt;","8813":"NotCupCap;","8814":"NotLess;","8815":"NotGreater;","8816":"NotLessEqual;","8817":"NotGreaterEqual;","8818":"lsim;","8819":"gtrsim;","8820":"NotLessTilde;","8821":"NotGreaterTilde;","8822":"lg;","8823":"gtrless;","8824":"ntlg;","8825":"ntgl;","8826":"Precedes;","8827":"Succeeds;","8828":"PrecedesSlantEqual;","8829":"SucceedsSlantEqual;","8830":"prsim;","8831":"succsim;","8832":"nprec;","8833":"nsucc;","8834":"subset;","8835":"supset;","8836":"nsub;","8837":"nsup;","8838":"SubsetEqual;","8839":"supseteq;","8840":"nsubseteq;","8841":"nsupseteq;","8842":"subsetneq;","8843":"supsetneq;","8845":"cupdot;","8846":"uplus;","8847":"SquareSubset;","8848":"SquareSuperset;","8849":"SquareSubsetEqual;","8850":"SquareSupersetEqual;","8851":"SquareIntersection;","8852":"SquareUnion;","8853":"oplus;","8854":"ominus;","8855":"otimes;","8856":"osol;","8857":"odot;","8858":"ocir;","8859":"oast;","8861":"odash;","8862":"plusb;","8863":"minusb;","8864":"timesb;","8865":"sdotb;","8866":"vdash;","8867":"LeftTee;","8868":"top;","8869":"UpTee;","8871":"models;","8872":"vDash;","8873":"Vdash;","8874":"Vvdash;","8875":"VDash;","8876":"nvdash;","8877":"nvDash;","8878":"nVdash;","8879":"nVDash;","8880":"prurel;","8882":"vltri;","8883":"vrtri;","8884":"trianglelefteq;","8885":"trianglerighteq;","8886":"origof;","8887":"imof;","8888":"mumap;","8889":"hercon;","8890":"intercal;","8891":"veebar;","8893":"barvee;","8894":"angrtvb;","8895":"lrtri;","8896":"xwedge;","8897":"xvee;","8898":"xcap;","8899":"xcup;","8900":"diamond;","8901":"sdot;","8902":"Star;","8903":"divonx;","8904":"bowtie;","8905":"ltimes;","8906":"rtimes;","8907":"lthree;","8908":"rthree;","8909":"bsime;","8910":"cuvee;","8911":"cuwed;","8912":"Subset;","8913":"Supset;","8914":"Cap;","8915":"Cup;","8916":"pitchfork;","8917":"epar;","8918":"ltdot;","8919":"gtrdot;","8920":"Ll;","8921":"ggg;","8922":"LessEqualGreater;","8923":"gtreqless;","8926":"curlyeqprec;","8927":"curlyeqsucc;","8928":"nprcue;","8929":"nsccue;","8930":"nsqsube;","8931":"nsqsupe;","8934":"lnsim;","8935":"gnsim;","8936":"prnsim;","8937":"succnsim;","8938":"ntriangleleft;","8939":"ntriangleright;","8940":"ntrianglelefteq;","8941":"ntrianglerighteq;","8942":"vellip;","8943":"ctdot;","8944":"utdot;","8945":"dtdot;","8946":"disin;","8947":"isinsv;","8948":"isins;","8949":"isindot;","8950":"notinvc;","8951":"notinvb;","8953":"isinE;","8954":"nisd;","8955":"xnis;","8956":"nis;","8957":"notnivc;","8958":"notnivb;","8965":"barwedge;","8966":"doublebarwedge;","8968":"LeftCeiling;","8969":"RightCeiling;","8970":"lfloor;","8971":"RightFloor;","8972":"drcrop;","8973":"dlcrop;","8974":"urcrop;","8975":"ulcrop;","8976":"bnot;","8978":"profline;","8979":"profsurf;","8981":"telrec;","8982":"target;","8988":"ulcorner;","8989":"urcorner;","8990":"llcorner;","8991":"lrcorner;","8994":"sfrown;","8995":"ssmile;","9005":"cylcty;","9006":"profalar;","9014":"topbot;","9021":"ovbar;","9023":"solbar;","9084":"angzarr;","9136":"lmoustache;","9137":"rmoustache;","9140":"tbrk;","9141":"UnderBracket;","9142":"bbrktbrk;","9180":"OverParenthesis;","9181":"UnderParenthesis;","9182":"OverBrace;","9183":"UnderBrace;","9186":"trpezium;","9191":"elinters;","9251":"blank;","9416":"oS;","9472":"HorizontalLine;","9474":"boxv;","9484":"boxdr;","9488":"boxdl;","9492":"boxur;","9496":"boxul;","9500":"boxvr;","9508":"boxvl;","9516":"boxhd;","9524":"boxhu;","9532":"boxvh;","9552":"boxH;","9553":"boxV;","9554":"boxdR;","9555":"boxDr;","9556":"boxDR;","9557":"boxdL;","9558":"boxDl;","9559":"boxDL;","9560":"boxuR;","9561":"boxUr;","9562":"boxUR;","9563":"boxuL;","9564":"boxUl;","9565":"boxUL;","9566":"boxvR;","9567":"boxVr;","9568":"boxVR;","9569":"boxvL;","9570":"boxVl;","9571":"boxVL;","9572":"boxHd;","9573":"boxhD;","9574":"boxHD;","9575":"boxHu;","9576":"boxhU;","9577":"boxHU;","9578":"boxvH;","9579":"boxVh;","9580":"boxVH;","9600":"uhblk;","9604":"lhblk;","9608":"block;","9617":"blk14;","9618":"blk12;","9619":"blk34;","9633":"square;","9642":"squf;","9643":"EmptyVerySmallSquare;","9645":"rect;","9646":"marker;","9649":"fltns;","9651":"xutri;","9652":"utrif;","9653":"utri;","9656":"rtrif;","9657":"triangleright;","9661":"xdtri;","9662":"dtrif;","9663":"triangledown;","9666":"ltrif;","9667":"triangleleft;","9674":"lozenge;","9675":"cir;","9708":"tridot;","9711":"xcirc;","9720":"ultri;","9721":"urtri;","9722":"lltri;","9723":"EmptySmallSquare;","9724":"FilledSmallSquare;","9733":"starf;","9734":"star;","9742":"phone;","9792":"female;","9794":"male;","9824":"spadesuit;","9827":"clubsuit;","9829":"heartsuit;","9830":"diams;","9834":"sung;","9837":"flat;","9838":"natural;","9839":"sharp;","10003":"checkmark;","10007":"cross;","10016":"maltese;","10038":"sext;","10072":"VerticalSeparator;","10098":"lbbrk;","10099":"rbbrk;","10184":"bsolhsub;","10185":"suphsol;","10214":"lobrk;","10215":"robrk;","10216":"LeftAngleBracket;","10217":"RightAngleBracket;","10218":"Lang;","10219":"Rang;","10220":"loang;","10221":"roang;","10229":"xlarr;","10230":"xrarr;","10231":"xharr;","10232":"xlArr;","10233":"xrArr;","10234":"xhArr;","10236":"xmap;","10239":"dzigrarr;","10498":"nvlArr;","10499":"nvrArr;","10500":"nvHarr;","10501":"Map;","10508":"lbarr;","10509":"rbarr;","10510":"lBarr;","10511":"rBarr;","10512":"RBarr;","10513":"DDotrahd;","10514":"UpArrowBar;","10515":"DownArrowBar;","10518":"Rarrtl;","10521":"latail;","10522":"ratail;","10523":"lAtail;","10524":"rAtail;","10525":"larrfs;","10526":"rarrfs;","10527":"larrbfs;","10528":"rarrbfs;","10531":"nwarhk;","10532":"nearhk;","10533":"searhk;","10534":"swarhk;","10535":"nwnear;","10536":"toea;","10537":"tosa;","10538":"swnwar;","10547":"rarrc;","10549":"cudarrr;","10550":"ldca;","10551":"rdca;","10552":"cudarrl;","10553":"larrpl;","10556":"curarrm;","10557":"cularrp;","10565":"rarrpl;","10568":"harrcir;","10569":"Uarrocir;","10570":"lurdshar;","10571":"ldrushar;","10574":"LeftRightVector;","10575":"RightUpDownVector;","10576":"DownLeftRightVector;","10577":"LeftUpDownVector;","10578":"LeftVectorBar;","10579":"RightVectorBar;","10580":"RightUpVectorBar;","10581":"RightDownVectorBar;","10582":"DownLeftVectorBar;","10583":"DownRightVectorBar;","10584":"LeftUpVectorBar;","10585":"LeftDownVectorBar;","10586":"LeftTeeVector;","10587":"RightTeeVector;","10588":"RightUpTeeVector;","10589":"RightDownTeeVector;","10590":"DownLeftTeeVector;","10591":"DownRightTeeVector;","10592":"LeftUpTeeVector;","10593":"LeftDownTeeVector;","10594":"lHar;","10595":"uHar;","10596":"rHar;","10597":"dHar;","10598":"luruhar;","10599":"ldrdhar;","10600":"ruluhar;","10601":"rdldhar;","10602":"lharul;","10603":"llhard;","10604":"rharul;","10605":"lrhard;","10606":"UpEquilibrium;","10607":"ReverseUpEquilibrium;","10608":"RoundImplies;","10609":"erarr;","10610":"simrarr;","10611":"larrsim;","10612":"rarrsim;","10613":"rarrap;","10614":"ltlarr;","10616":"gtrarr;","10617":"subrarr;","10619":"suplarr;","10620":"lfisht;","10621":"rfisht;","10622":"ufisht;","10623":"dfisht;","10629":"lopar;","10630":"ropar;","10635":"lbrke;","10636":"rbrke;","10637":"lbrkslu;","10638":"rbrksld;","10639":"lbrksld;","10640":"rbrkslu;","10641":"langd;","10642":"rangd;","10643":"lparlt;","10644":"rpargt;","10645":"gtlPar;","10646":"ltrPar;","10650":"vzigzag;","10652":"vangrt;","10653":"angrtvbd;","10660":"ange;","10661":"range;","10662":"dwangle;","10663":"uwangle;","10664":"angmsdaa;","10665":"angmsdab;","10666":"angmsdac;","10667":"angmsdad;","10668":"angmsdae;","10669":"angmsdaf;","10670":"angmsdag;","10671":"angmsdah;","10672":"bemptyv;","10673":"demptyv;","10674":"cemptyv;","10675":"raemptyv;","10676":"laemptyv;","10677":"ohbar;","10678":"omid;","10679":"opar;","10681":"operp;","10683":"olcross;","10684":"odsold;","10686":"olcir;","10687":"ofcir;","10688":"olt;","10689":"ogt;","10690":"cirscir;","10691":"cirE;","10692":"solb;","10693":"bsolb;","10697":"boxbox;","10701":"trisb;","10702":"rtriltri;","10703":"LeftTriangleBar;","10704":"RightTriangleBar;","10716":"iinfin;","10717":"infintie;","10718":"nvinfin;","10723":"eparsl;","10724":"smeparsl;","10725":"eqvparsl;","10731":"lozf;","10740":"RuleDelayed;","10742":"dsol;","10752":"xodot;","10753":"xoplus;","10754":"xotime;","10756":"xuplus;","10758":"xsqcup;","10764":"qint;","10765":"fpartint;","10768":"cirfnint;","10769":"awint;","10770":"rppolint;","10771":"scpolint;","10772":"npolint;","10773":"pointint;","10774":"quatint;","10775":"intlarhk;","10786":"pluscir;","10787":"plusacir;","10788":"simplus;","10789":"plusdu;","10790":"plussim;","10791":"plustwo;","10793":"mcomma;","10794":"minusdu;","10797":"loplus;","10798":"roplus;","10799":"Cross;","10800":"timesd;","10801":"timesbar;","10803":"smashp;","10804":"lotimes;","10805":"rotimes;","10806":"otimesas;","10807":"Otimes;","10808":"odiv;","10809":"triplus;","10810":"triminus;","10811":"tritime;","10812":"iprod;","10815":"amalg;","10816":"capdot;","10818":"ncup;","10819":"ncap;","10820":"capand;","10821":"cupor;","10822":"cupcap;","10823":"capcup;","10824":"cupbrcap;","10825":"capbrcup;","10826":"cupcup;","10827":"capcap;","10828":"ccups;","10829":"ccaps;","10832":"ccupssm;","10835":"And;","10836":"Or;","10837":"andand;","10838":"oror;","10839":"orslope;","10840":"andslope;","10842":"andv;","10843":"orv;","10844":"andd;","10845":"ord;","10847":"wedbar;","10854":"sdote;","10858":"simdot;","10861":"congdot;","10862":"easter;","10863":"apacir;","10864":"apE;","10865":"eplus;","10866":"pluse;","10867":"Esim;","10868":"Colone;","10869":"Equal;","10871":"eDDot;","10872":"equivDD;","10873":"ltcir;","10874":"gtcir;","10875":"ltquest;","10876":"gtquest;","10877":"LessSlantEqual;","10878":"GreaterSlantEqual;","10879":"lesdot;","10880":"gesdot;","10881":"lesdoto;","10882":"gesdoto;","10883":"lesdotor;","10884":"gesdotol;","10885":"lessapprox;","10886":"gtrapprox;","10887":"lneq;","10888":"gneq;","10889":"lnapprox;","10890":"gnapprox;","10891":"lesseqqgtr;","10892":"gtreqqless;","10893":"lsime;","10894":"gsime;","10895":"lsimg;","10896":"gsiml;","10897":"lgE;","10898":"glE;","10899":"lesges;","10900":"gesles;","10901":"eqslantless;","10902":"eqslantgtr;","10903":"elsdot;","10904":"egsdot;","10905":"el;","10906":"eg;","10909":"siml;","10910":"simg;","10911":"simlE;","10912":"simgE;","10913":"LessLess;","10914":"GreaterGreater;","10916":"glj;","10917":"gla;","10918":"ltcc;","10919":"gtcc;","10920":"lescc;","10921":"gescc;","10922":"smt;","10923":"lat;","10924":"smte;","10925":"late;","10926":"bumpE;","10927":"preceq;","10928":"succeq;","10931":"prE;","10932":"scE;","10933":"prnE;","10934":"succneqq;","10935":"precapprox;","10936":"succapprox;","10937":"prnap;","10938":"succnapprox;","10939":"Pr;","10940":"Sc;","10941":"subdot;","10942":"supdot;","10943":"subplus;","10944":"supplus;","10945":"submult;","10946":"supmult;","10947":"subedot;","10948":"supedot;","10949":"subseteqq;","10950":"supseteqq;","10951":"subsim;","10952":"supsim;","10955":"subsetneqq;","10956":"supsetneqq;","10959":"csub;","10960":"csup;","10961":"csube;","10962":"csupe;","10963":"subsup;","10964":"supsub;","10965":"subsub;","10966":"supsup;","10967":"suphsub;","10968":"supdsub;","10969":"forkv;","10970":"topfork;","10971":"mlcp;","10980":"DoubleLeftTee;","10982":"Vdashl;","10983":"Barv;","10984":"vBar;","10985":"vBarv;","10987":"Vbar;","10988":"Not;","10989":"bNot;","10990":"rnmid;","10991":"cirmid;","10992":"midcir;","10993":"topcir;","10994":"nhpar;","10995":"parsim;","11005":"parsl;","64256":"fflig;","64257":"filig;","64258":"fllig;","64259":"ffilig;","64260":"ffllig;"}')},27185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakMap,n=new WeakMap;function o(e){const t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function i(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function s(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(t);for(let e=0;e<n.length;++e){const t=n[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return o(this).event[e]},set(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function c(e){return{value(){const t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function l(e){if(null==e||e===Object.prototype)return s;let t=n.get(e);return null==t&&(t=function(e,t){const r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){const i=r[o];if(!(i in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,i).value;Object.defineProperty(n.prototype,i,e?c(i):a(i))}}return n}(l(Object.getPrototypeOf(e)),e),n.set(e,t)),t}function u(e){return o(e).immediateStopped}function p(e,t){o(e).passiveListener=t}s.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath(){const e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation(){const e=o(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=o(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(e){if(!e)return;const t=o(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!o(this).canceled},set returnValue(e){e||i(o(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),n.set(window.Event.prototype,s));const d=new WeakMap;function f(e){return null!==e&&"object"==typeof e}function h(e){const t=d.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function g(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=h(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||f(t)||(t=null);const r=h(this);let n=null,o=r.get(e);for(;null!=o;)3===o.listenerType?null!==n?n.next=o.next:null!==o.next?r.set(e,o.next):r.delete(e):n=o,o=o.next;if(null!==t){const o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}(t))}function m(e){function t(){y.call(this)}t.prototype=Object.create(y.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)g(t.prototype,e[r]);return t}function y(){if(!(this instanceof y)){if(1===arguments.length&&Array.isArray(arguments[0]))return m(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return m(e)}throw new TypeError("Cannot call a class as a function")}d.set(this,new Map)}y.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!f(t))throw new TypeError("'listener' should be a function or an object.");const n=h(this),o=f(r),i=(o?Boolean(r.capture):Boolean(r))?1:2,s={listener:t,listenerType:i,passive:o&&Boolean(r.passive),once:o&&Boolean(r.once),next:null};let a=n.get(e);if(void 0===a)return void n.set(e,s);let c=null;for(;null!=a;){if(a.listener===t&&a.listenerType===i)return;c=a,a=a.next}c.next=s},removeEventListener(e,t,r){if(null==t)return;const n=h(this),o=(f(r)?Boolean(r.capture):Boolean(r))?1:2;let i=null,s=n.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===o)return void(null!==i?i.next=s.next:null!==s.next?n.set(e,s.next):n.delete(e));i=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=h(this),r=e.type;let n=t.get(r);if(null==n)return!0;const i=function(e,t){return new(l(Object.getPrototypeOf(t)))(e,t)}(this,e);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):s=n,p(i,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(i);if(u(i))break;n=n.next}return p(i,null),function(e,t){o(e).eventPhase=0}(i),function(e,t){o(e).currentTarget=null}(i),!i.defaultPrevented}},Object.defineProperty(y.prototype,"constructor",{value:y,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(y.prototype,window.EventTarget.prototype),t.defineEventAttribute=g,t.EventTarget=y,t.default=y,e.exports=y,e.exports.EventTarget=e.exports.default=y,e.exports.defineEventAttribute=g},94470:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(n in e);return void 0===n||t.call(e,n)},a=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;if(o)return o(e,r).value}return e[r]};e.exports=function e(){var t,r,n,o,l,u,p=arguments[0],d=1,f=arguments.length,h=!1;for("boolean"==typeof p&&(h=p,p=arguments[1]||{},d=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});d<f;++d)if(null!=(t=arguments[d]))for(r in t)n=c(p,r),p!==(o=c(t,r))&&(h&&o&&(s(o)||(l=i(o)))?(l?(l=!1,u=n&&i(n)?n:[]):u=n&&s(n)?n:{},a(p,{name:r,newValue:e(h,u,o)})):void 0!==o&&a(p,{name:r,newValue:o}));return p}},64063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},78806:function(){!function(e){function t(){}function r(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===o.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(e){for(var t=0,r=Math.min(65536,e.length+1),n=new Uint16Array(r),o=[],i=0;;){var s=t<e.length;if(!s||i>=r-1){if(o.push(String.fromCharCode.apply(null,n.subarray(0,i))),!s)return o.join("");e=e.subarray(t),i=t=0}if(0==(128&(s=e[t++])))n[i++]=s;else if(192==(224&s)){var a=63&e[t++];n[i++]=(31&s)<<6|a}else if(224==(240&s)){a=63&e[t++];var c=63&e[t++];n[i++]=(31&s)<<12|a<<6|c}else 240==(248&s)&&(65535<(s=(7&s)<<18|(a=63&e[t++])<<12|(c=63&e[t++])<<6|63&e[t++])&&(s-=65536,n[i++]=s>>>10&1023|55296,s=56320|1023&s),n[i++]=s)}}if(e.TextEncoder&&e.TextDecoder)return!1;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var r=e.length,n=0,o=Math.max(32,r+(r>>>1)+7),i=new Uint8Array(o>>>3<<3);t<r;){var s=e.charCodeAt(t++);if(55296<=s&&56319>=s){if(t<r){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(n+4>i.length&&(o+=8,o=(o*=1+t/e.length*2)>>>3<<3,(a=new Uint8Array(o)).set(i),i=a),0==(4294967168&s))i[n++]=s;else{if(0==(4294965248&s))i[n++]=s>>>6&31|192;else if(0==(4294901760&s))i[n++]=s>>>12&15|224,i[n++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;i[n++]=s>>>18&7|240,i[n++]=s>>>12&63|128,i[n++]=s>>>6&63|128}i[n++]=63&s|128}}return i.slice?i.slice(0,n):i.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var i=n;"function"==typeof Buffer&&Buffer.from?i=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(i=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}catch(t){return n(e)}finally{URL.revokeObjectURL(t)}}),r.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),i(e)},e.TextEncoder=t,e.TextDecoder=r}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this)},71773:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseAppCheckError=t.APP_CHECK_ERROR_CODE_MAPPING=t.AppCheckApiClient=void 0;var i=r(78127),s=r(56969),a=r(95134),c=r(69173),l={"X-Firebase-Client":"fire-admin-node/"+a.getSdkVersion()},u=function(){function e(e){if(this.app=e,!c.isNonNullObject(e)||!("options"in e))throw new p("invalid-argument","First argument passed to admin.appCheck() must be a valid Firebase app instance.");this.httpClient=new i.AuthorizedHttpClient(e)}return e.prototype.exchangeToken=function(e,t){var r=this;if(!c.isNonEmptyString(t))throw new p("invalid-argument","`appId` must be a non-empty string.");if(!c.isNonEmptyString(e))throw new p("invalid-argument","`customToken` must be a non-empty string.");return this.getUrl(t).then((function(t){var n={method:"POST",url:t,headers:l,data:{customToken:e}};return r.httpClient.send(n)})).then((function(e){return r.toAppCheckToken(e)})).catch((function(e){throw r.toFirebaseError(e)}))},e.prototype.getUrl=function(e){return this.getProjectId().then((function(t){var r={projectId:t,appId:e},n=a.formatString("https://firebaseappcheck.googleapis.com/v1beta/projects/{projectId}/apps/{appId}:exchangeCustomToken",r);return a.formatString(n)}))},e.prototype.getProjectId=function(){var e=this;return this.projectId?Promise.resolve(this.projectId):a.findProjectId(this.app).then((function(t){if(!c.isNonEmptyString(t))throw new p("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectId=t,t}))},e.prototype.toFirebaseError=function(e){if(e instanceof s.PrefixedFirebaseError)return e;var r=e.response;if(!r.isJson())return new p("unknown-error","Unexpected response with status: "+r.status+" and body: "+r.text);var n=r.data.error||{},o="unknown-error";n.status&&n.status in t.APP_CHECK_ERROR_CODE_MAPPING&&(o=t.APP_CHECK_ERROR_CODE_MAPPING[n.status]);var i=n.message||"Unknown server error: "+r.text;return new p(o,i)},e.prototype.toAppCheckToken=function(e){return{token:e.data.attestationToken,ttlMillis:this.stringToMilliseconds(e.data.ttl)}},e.prototype.stringToMilliseconds=function(e){if(!c.isNonEmptyString(e)||!e.endsWith("s"))throw new p("invalid-argument","`ttl` must be a valid duration string with the suffix `s`.");var t=e.slice(0,-1);return Math.floor(1e3*Number(t))},e}();t.AppCheckApiClient=u,t.APP_CHECK_ERROR_CODE_MAPPING={ABORTED:"aborted",INVALID_ARGUMENT:"invalid-argument",INVALID_CREDENTIAL:"invalid-credential",INTERNAL:"internal-error",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",NOT_FOUND:"not-found",UNKNOWN:"unknown-error"};var p=function(e){function t(r,n){var o=e.call(this,"app-check",r,n)||this;return o.__proto__=t.prototype,o}return o(t,e),t}(s.PrefixedFirebaseError);t.FirebaseAppCheckError=p},74677:(e,t,r)=>{"use strict";t.p=void 0;var n=r(71773),o=r(29591),i=r(27592),s=r(21371),a=function(){function e(e){this.app=e,this.client=new n.AppCheckApiClient(e);try{this.tokenGenerator=new o.AppCheckTokenGenerator(s.cryptoSignerFromApp(e))}catch(e){throw o.appCheckErrorFromCryptoSignerError(e)}this.appCheckTokenVerifier=new i.AppCheckTokenVerifier(e)}return e.prototype.createToken=function(e){var t=this;return this.tokenGenerator.createCustomToken(e).then((function(r){return t.client.exchangeToken(r,e)}))},e.prototype.verifyToken=function(e){return this.appCheckTokenVerifier.verifyToken(e).then((function(e){return{appId:e.app_id,token:e}}))},e}();t.p=a},29591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appCheckErrorFromCryptoSignerError=t.AppCheckTokenGenerator=void 0;var n=r(69173),o=r(95134),i=r(21371),s=r(71773),a=function(){function e(e){if(!n.isNonNullObject(e))throw new s.FirebaseAppCheckError("invalid-argument","INTERNAL ASSERT: Must provide a CryptoSigner to use AppCheckTokenGenerator.");this.signer=e}return e.prototype.createCustomToken=function(e){var t=this;if(!n.isNonEmptyString(e))throw new s.FirebaseAppCheckError("invalid-argument","`appId` must be a non-empty string.");return this.signer.getAccountId().then((function(r){var n={alg:t.signer.algorithm,typ:"JWT"},o=Math.floor(Date.now()/1e3),i={iss:r,sub:r,app_id:e,aud:"https://firebaseappcheck.googleapis.com/google.firebase.appcheck.v1beta.TokenExchangeService",exp:o+3600,iat:o},s=t.encodeSegment(n)+"."+t.encodeSegment(i);return t.signer.sign(Buffer.from(s)).then((function(e){return s+"."+t.encodeSegment(e)}))})).catch((function(e){throw c(e)}))},e.prototype.encodeSegment=function(e){var t=e instanceof Buffer?e:Buffer.from(JSON.stringify(e));return o.toWebSafeBase64(t).replace(/=+$/,"")},e}();function c(e){if(!(e instanceof i.CryptoSignerError))return e;if(e.code===i.CryptoSignerErrorCode.SERVER_ERROR&&n.isNonNullObject(e.cause)){var t=e.cause,r=t.response.data;if(null==r?void 0:r.error){var o=r.error.status,a=r.error.message||JSON.stringify(t.response),c="unknown-error";return o&&o in s.APP_CHECK_ERROR_CODE_MAPPING&&(c=s.APP_CHECK_ERROR_CODE_MAPPING[o]),new s.FirebaseAppCheckError(c,"Error returned from server while siging a custom token: "+a)}return new s.FirebaseAppCheckError("internal-error","Error returned from server: "+JSON.stringify(r)+".")}return new s.FirebaseAppCheckError(function(e){switch(e){case i.CryptoSignerErrorCode.INVALID_CREDENTIAL:return"invalid-credential";case i.CryptoSignerErrorCode.INVALID_ARGUMENT:return"invalid-argument";default:return"internal-error"}}(e.code),e.message)}t.AppCheckTokenGenerator=a,t.appCheckErrorFromCryptoSignerError=c},27592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppCheckTokenVerifier=void 0;var n=r(69173),o=r(95134),i=r(71773),s=r(43409),a=function(){function e(e){this.app=e,this.signatureVerifier=s.PublicKeySignatureVerifier.withJwksUrl("https://firebaseappcheck.googleapis.com/v1beta/jwks")}return e.prototype.verifyToken=function(e){var t=this;if(!n.isString(e))throw new i.FirebaseAppCheckError("invalid-argument","App check token must be a non-null string.");return this.ensureProjectId().then((function(r){return t.decodeAndVerify(e,r)})).then((function(e){var t=e.payload;return t.app_id=t.sub,t}))},e.prototype.ensureProjectId=function(){return o.findProjectId(this.app).then((function(e){if(!n.isNonEmptyString(e))throw new i.FirebaseAppCheckError("invalid-credential","Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to verify an App Check token.");return e}))},e.prototype.decodeAndVerify=function(e,t){var r=this;return this.safeDecode(e).then((function(n){return r.verifyContent(n,t),r.verifySignature(e).then((function(){return n}))}))},e.prototype.safeDecode=function(e){return s.decodeJwt(e).catch((function(){throw new i.FirebaseAppCheckError("invalid-argument","Decoding App Check token failed. Make sure you passed the entire string JWT which represents the Firebase App Check token.")}))},e.prototype.verifyContent=function(e,t){var r,o=e.header,a=e.payload,c="projects/"+t;if(o.alg!==s.ALGORITHM_RS256?r='The provided App Check token has incorrect algorithm. Expected "'+s.ALGORITHM_RS256+'" but got "'+o.alg+'".':n.isNonEmptyArray(a.aud)&&a.aud.includes(c)?"string"==typeof a.iss&&a.iss.startsWith("https://firebaseappcheck.googleapis.com/")?"string"!=typeof a.sub?r='The provided App Check token has no "sub" (subject) claim.':""===a.sub&&(r='The provided App Check token has an empty string "sub" (subject) claim.'):r='The provided App Check token has incorrect "iss" (issuer) claim.':r='The provided App Check token has incorrect "aud" (audience) claim. Expected "'+c+'" but got "'+a.aud+'". Make sure the App Check token comes from the same Firebase project as the service account used to authenticate this SDK.',r)throw new i.FirebaseAppCheckError("invalid-argument",r)},e.prototype.verifySignature=function(e){var t=this;return this.signatureVerifier.verify(e).catch((function(e){throw t.mapJwtErrorToAppCheckError(e)}))},e.prototype.mapJwtErrorToAppCheckError=function(e){if(e.code===s.JwtErrorCode.TOKEN_EXPIRED){var t="The provided App Check token has expired. Get a fresh App Check token from your client app and try again.";return new i.FirebaseAppCheckError("app-check-token-expired",t)}return e.code===s.JwtErrorCode.INVALID_SIGNATURE?(t="The provided App Check token has invalid signature.",new i.FirebaseAppCheckError("invalid-argument",t)):e.code===s.JwtErrorCode.NO_MATCHING_KID?(t='The provided App Check token has "kid" claim which does not correspond to a known public key. Most likely the provided App Check token is expired, so get a fresh token from your client app and try again.',new i.FirebaseAppCheckError("invalid-argument",t)):new i.FirebaseAppCheckError("invalid-argument",e.message)},e}();t.AppCheckTokenVerifier=a},43157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCodeSettingsBuilder=void 0;var n=r(69173),o=r(56969),i=function(){function e(e){if(!n.isNonNullObject(e))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings" must be a non-null object.');if(void 0===e.url)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_CONTINUE_URI);if(!n.isURL(e.url))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_CONTINUE_URI);if(this.continueUrl=e.url,void 0!==e.handleCodeInApp&&!n.isBoolean(e.handleCodeInApp))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.handleCodeInApp" must be a boolean.');if(this.canHandleCodeInApp=e.handleCodeInApp||!1,void 0!==e.dynamicLinkDomain&&!n.isNonEmptyString(e.dynamicLinkDomain))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);if(this.dynamicLinkDomain=e.dynamicLinkDomain,void 0!==e.iOS){if(!n.isNonNullObject(e.iOS))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS" must be a valid non-null object.');if(void 0===e.iOS.bundleId)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);if(!n.isNonEmptyString(e.iOS.bundleId))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS.bundleId" must be a valid non-empty string.');this.ibi=e.iOS.bundleId}if(void 0!==e.android){if(!n.isNonNullObject(e.android))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android" must be a valid non-null object.');if(void 0===e.android.packageName)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);if(!n.isNonEmptyString(e.android.packageName))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.packageName" must be a valid non-empty string.');if(void 0!==e.android.minimumVersion&&!n.isNonEmptyString(e.android.minimumVersion))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.minimumVersion" must be a valid non-empty string.');if(void 0!==e.android.installApp&&!n.isBoolean(e.android.installApp))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.installApp" must be a valid boolean.');this.apn=e.android.packageName,this.amv=e.android.minimumVersion,this.installApp=e.android.installApp||!1}}return e.prototype.buildRequest=function(){var e={continueUrl:this.continueUrl,canHandleCodeInApp:this.canHandleCodeInApp,dynamicLinkDomain:this.dynamicLinkDomain,androidPackageName:this.apn,androidMinimumVersion:this.amv,androidInstallApp:this.installApp,iOSBundleId:this.ibi};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0!==e[t]&&null!==e[t]||delete e[t]);return e},e}();t.ActionCodeSettingsBuilder=i},23634:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.useEmulator=t.TenantAwareAuthRequestHandler=t.AuthRequestHandler=t.AbstractAuthRequestHandler=t.FIREBASE_AUTH_SIGN_UP_NEW_USER=t.FIREBASE_AUTH_SET_ACCOUNT_INFO=t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=t.FIREBASE_AUTH_DELETE_ACCOUNT=t.FIREBASE_AUTH_GET_ACCOUNTS_INFO=t.FIREBASE_AUTH_GET_ACCOUNT_INFO=t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=t.FIREBASE_AUTH_UPLOAD_ACCOUNT=t.FIREBASE_AUTH_CREATE_SESSION_COOKIE=t.EMAIL_ACTION_REQUEST_TYPES=t.RESERVED_CLAIMS=void 0;var i=r(69173),s=r(85326),a=r(79063),c=r(56969),l=r(78127),u=r(65440),p=r(95134),d=r(43157),f=r(97927),h=r(66002),g={"X-Client-Version":"Node/Admin/"+p.getSdkVersion()};t.RESERVED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce","sub","firebase"],t.EMAIL_ACTION_REQUEST_TYPES=["PASSWORD_RESET","VERIFY_EMAIL","EMAIL_SIGNIN"];var m,y=100,v="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",b="http://{host}/identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",w=v.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),E=b.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}");!function(e){e.Create="create",e.Update="update",e.Upload="upload"}(m||(m={}));var _=function(){function e(e,t){void 0===t&&(t="v1"),this.app=e,this.version=t,W()?this.urlFormat=p.formatString(b,{host:K()}):this.urlFormat=v}return e.prototype.getUrl=function(e,t){var r=this;return this.getProjectId().then((function(n){var o={version:r.version,projectId:n,api:e||""},i=p.formatString(r.urlFormat,o);return p.formatString(i,t||{})}))},e.prototype.getProjectId=function(){var e=this;return this.projectId?Promise.resolve(this.projectId):p.findProjectId(this.app).then((function(t){if(!i.isNonEmptyString(t))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_CREDENTIAL,"Failed to determine project ID for Auth. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectId=t,t}))},e}(),O=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.app=t,o.version=r,o.tenantId=n,W()?o.urlFormat=p.formatString(E,{host:K()}):o.urlFormat=w,o}return o(t,e),t.prototype.getUrl=function(t,r){var n=this;return e.prototype.getUrl.call(this,t,r).then((function(e){return p.formatString(e,{tenantId:n.tenantId})}))},t}(_),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getToken=function(){return W()?Promise.resolve("owner"):e.prototype.getToken.call(this)},t}(l.AuthorizedHttpClient);function T(e){var t={rawId:!0,providerId:!0,email:!0,displayName:!0,photoUrl:!0};for(var r in e)r in t||delete e[r];if(!i.isNonEmptyString(e.providerId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID);if(void 0!==e.displayName&&"string"!=typeof e.displayName)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_DISPLAY_NAME,'The provider "displayName" for "'+e.providerId+'" must be a valid string.');if(!i.isNonEmptyString(e.rawId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID,'The provider "uid" for "'+e.providerId+'" must be a valid non-empty string.');if(void 0!==e.email&&!i.isEmail(e.email))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL,'The provider "email" for "'+e.providerId+'" must be a valid email string.');if(void 0!==e.photoUrl&&!i.isURL(e.photoUrl))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHOTO_URL,'The provider "photoURL" for "'+e.providerId+'" must be a valid URL string.')}function C(e,r){var n=r===m.Upload,o={displayName:!0,localId:!0,email:!0,password:!0,rawPassword:!0,emailVerified:!0,photoUrl:!0,disabled:!0,disableUser:!0,deleteAttribute:!0,deleteProvider:!0,sanityCheck:!0,phoneNumber:!0,customAttributes:!0,validSince:!0,linkProviderUserInfo:!n,tenantId:n,passwordHash:n,salt:n,createdAt:n,lastLoginAt:n,providerUserInfo:n,mfaInfo:n,mfa:!n};for(var s in e)s in o||delete e[s];if(void 0!==e.tenantId&&!i.isNonEmptyString(e.tenantId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_TENANT_ID);if(void 0!==e.displayName&&!i.isString(e.displayName))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_DISPLAY_NAME);if((void 0!==e.localId||n)&&!i.isUid(e.localId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID);if(void 0!==e.email&&!i.isEmail(e.email))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL);if(void 0!==e.phoneNumber&&!i.isPhoneNumber(e.phoneNumber))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHONE_NUMBER);if(void 0!==e.password&&!i.isPassword(e.password))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==e.rawPassword&&!i.isPassword(e.rawPassword))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==e.emailVerified&&"boolean"!=typeof e.emailVerified)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL_VERIFIED);if(void 0!==e.photoUrl&&!i.isURL(e.photoUrl))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHOTO_URL);if(void 0!==e.disabled&&"boolean"!=typeof e.disabled)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==e.validSince&&!i.isNumber(e.validSince))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME);if(void 0!==e.createdAt&&!i.isNumber(e.createdAt))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_CREATION_TIME);if(void 0!==e.lastLoginAt&&!i.isNumber(e.lastLoginAt))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME);if(void 0!==e.disableUser&&"boolean"!=typeof e.disableUser)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==e.customAttributes){var a;try{a=JSON.parse(e.customAttributes)}catch(e){throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_CLAIMS,e.message)}var l=[];if(t.RESERVED_CLAIMS.forEach((function(e){Object.prototype.hasOwnProperty.call(a,e)&&l.push(e)})),l.length>0)throw new c.FirebaseAuthError(c.AuthClientErrorCode.FORBIDDEN_CLAIM,l.length>1?'Developer claims "'+l.join('", "')+'" are reserved and cannot be specified.':'Developer claim "'+l[0]+'" is reserved and cannot be specified.');if(e.customAttributes.length>1e3)throw new c.FirebaseAuthError(c.AuthClientErrorCode.CLAIMS_TOO_LARGE,"Developer claims payload should not exceed 1000 characters.")}if(void 0!==e.passwordHash&&!i.isString(e.passwordHash))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PASSWORD_HASH);if(void 0!==e.salt&&!i.isString(e.salt))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PASSWORD_SALT);if(void 0!==e.providerUserInfo&&!i.isArray(e.providerUserInfo))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_DATA);i.isArray(e.providerUserInfo)&&e.providerUserInfo.forEach((function(e){T(e)})),void 0!==e.linkProviderUserInfo&&T(e.linkProviderUserInfo);var u=null;if(e.mfaInfo?u=e.mfaInfo:e.mfa&&e.mfa.enrollments&&(u=e.mfa.enrollments),u){if(!i.isArray(u))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ENROLLED_FACTORS);u.forEach((function(e){!function(e,t){var r={mfaEnrollmentId:!0,displayName:!0,phoneInfo:!0,enrolledAt:!0};for(var n in e)n in r||delete e[n];var o=e.mfaEnrollmentId||e.phoneInfo||JSON.stringify(e),s=t!==m.Create;if((void 0!==e.mfaEnrollmentId||s)&&!i.isNonEmptyString(e.mfaEnrollmentId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID,'The second factor "uid" must be a valid non-empty string.');if(void 0!==e.displayName&&!i.isString(e.displayName))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_DISPLAY_NAME,'The second factor "displayName" for "'+o+'" must be a valid string.');if(void 0!==e.enrolledAt&&!i.isISODateString(e.enrolledAt))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,'The second factor "enrollmentTime" for "'+o+'" must be a valid UTC date string.');if(void 0===e.phoneInfo)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ENROLLED_FACTORS,"MFAInfo object provided is invalid.");if(!i.isPhoneNumber(e.phoneInfo))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHONE_NUMBER,'The second factor "phoneNumber" for "'+o+'" must be a non-empty E.164 standard compliant identifier string.')}(e,r)}))}}t.FIREBASE_AUTH_CREATE_SESSION_COOKIE=new l.ApiSettings(":createSessionCookie","POST").setRequestValidator((function(e){if(!i.isNonEmptyString(e.idToken))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ID_TOKEN);if(!i.isNumber(e.validDuration)||e.validDuration<300||e.validDuration>1209600)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)})).setResponseValidator((function(e){if(!i.isNonEmptyString(e.sessionCookie))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR)})),t.FIREBASE_AUTH_UPLOAD_ACCOUNT=new l.ApiSettings("/accounts:batchCreate","POST"),t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=new l.ApiSettings("/accounts:batchGet","GET").setRequestValidator((function(e){if(void 0!==e.nextPageToken&&!i.isNonEmptyString(e.nextPageToken))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!i.isNumber(e.maxResults)||e.maxResults<=0||e.maxResults>1e3)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 1000.')})),t.FIREBASE_AUTH_GET_ACCOUNT_INFO=new l.ApiSettings("/accounts:lookup","POST").setRequestValidator((function(e){if(!(e.localId||e.email||e.phoneNumber||e.federatedUserId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")})).setResponseValidator((function(e){if(!e.users||!e.users.length)throw new c.FirebaseAuthError(c.AuthClientErrorCode.USER_NOT_FOUND)})),t.FIREBASE_AUTH_GET_ACCOUNTS_INFO=new l.ApiSettings("/accounts:lookup","POST").setRequestValidator((function(e){if(!(e.localId||e.email||e.phoneNumber||e.federatedUserId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")})),t.FIREBASE_AUTH_DELETE_ACCOUNT=new l.ApiSettings("/accounts:delete","POST").setRequestValidator((function(e){if(!e.localId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")})),t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=new l.ApiSettings("/accounts:batchDelete","POST").setRequestValidator((function(e){if(!e.localIds)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifiers");if(void 0===e.force||!0!==e.force)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing force=true field")})).setResponseValidator((function(e){(e.errors||[]).forEach((function(e){if(void 0===e.index)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.index field");if(!e.localId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.localId field")}))})),t.FIREBASE_AUTH_SET_ACCOUNT_INFO=new l.ApiSettings("/accounts:update","POST").setRequestValidator((function(e){if(void 0===e.localId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier");if(void 0!==e.tenantId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "UpdateRequest" property.');C(e,m.Update)})).setResponseValidator((function(e){if(!e.localId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.USER_NOT_FOUND)})),t.FIREBASE_AUTH_SIGN_UP_NEW_USER=new l.ApiSettings("/accounts","POST").setRequestValidator((function(e){if(void 0!==e.customAttributes)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"customAttributes" cannot be set when creating a new user.');if(void 0!==e.validSince)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"validSince" cannot be set when creating a new user.');if(void 0!==e.tenantId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "CreateRequest" property.');C(e,m.Create)})).setResponseValidator((function(e){if(!e.localId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new user")}));var A=new l.ApiSettings("/accounts:sendOobCode","POST").setRequestValidator((function(e){if(!i.isEmail(e.email))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL);if(-1===t.EMAIL_ACTION_REQUEST_TYPES.indexOf(e.requestType))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"'+e.requestType+'" is not a supported email action request type.')})).setResponseValidator((function(e){if(!e.oobLink)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create the email action link")})),x=new l.ApiSettings("/oauthIdpConfigs/{providerId}","GET").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get OIDC configuration")})),I=new l.ApiSettings("/oauthIdpConfigs/{providerId}","DELETE"),k=new l.ApiSettings("/oauthIdpConfigs?oauthIdpConfigId={providerId}","POST").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC configuration")})),N=new l.ApiSettings("/oauthIdpConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC configuration")})),P=new l.ApiSettings("/oauthIdpConfigs","GET").setRequestValidator((function(e){if(void 0!==e.pageToken&&!i.isNonEmptyString(e.pageToken))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!i.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>y)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 100.')})),R=new l.ApiSettings("/inboundSamlConfigs/{providerId}","GET").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get SAML configuration")})),j=new l.ApiSettings("/inboundSamlConfigs/{providerId}","DELETE"),D=new l.ApiSettings("/inboundSamlConfigs?inboundSamlConfigId={providerId}","POST").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML configuration")})),L=new l.ApiSettings("/inboundSamlConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML configuration")})),F=new l.ApiSettings("/inboundSamlConfigs","GET").setRequestValidator((function(e){if(void 0!==e.pageToken&&!i.isNonEmptyString(e.pageToken))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!i.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>y)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 100.')})),M=function(){function e(e){if(this.app=e,"object"!=typeof e||null===e||!("options"in e))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.auth() must be a valid Firebase app instance.");this.httpClient=new S(e)}return e.getErrorCode=function(e){return i.isNonNullObject(e)&&e.error&&e.error.message||null},e.addUidToRequest=function(e,t){if(!i.isUid(e.uid))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID);return t.localId?t.localId.push(e.uid):t.localId=[e.uid],t},e.addEmailToRequest=function(e,t){if(!i.isEmail(e.email))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL);return t.email?t.email.push(e.email):t.email=[e.email],t},e.addPhoneToRequest=function(e,t){if(!i.isPhoneNumber(e.phoneNumber))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHONE_NUMBER);return t.phoneNumber?t.phoneNumber.push(e.phoneNumber):t.phoneNumber=[e.phoneNumber],t},e.addProviderToRequest=function(e,t){if(!i.isNonEmptyString(e.providerId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID);if(!i.isNonEmptyString(e.providerUid))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_UID);var r={providerId:e.providerId,rawId:e.providerUid};return t.federatedUserId?t.federatedUserId.push(r):t.federatedUserId=[r],t},e.prototype.createSessionCookie=function(e,r){var n={idToken:e,validDuration:r/1e3};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_CREATE_SESSION_COOKIE,n).then((function(e){return e.sessionCookie}))},e.prototype.getAccountInfoByUid=function(e){if(!i.isUid(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID));var r={localId:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)},e.prototype.getAccountInfoByEmail=function(e){if(!i.isEmail(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_EMAIL));var r={email:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)},e.prototype.getAccountInfoByPhoneNumber=function(e){if(!i.isPhoneNumber(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PHONE_NUMBER));var r={phoneNumber:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)},e.prototype.getAccountInfoByFederatedUid=function(e,r){if(!i.isNonEmptyString(e)||!i.isNonEmptyString(r))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID);var n={federatedUserId:[{providerId:e,rawId:r}]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,n)},e.prototype.getAccountInfoByIdentifiers=function(r){if(0===r.length)return Promise.resolve({users:[]});if(r.length>100)throw new c.FirebaseAuthError(c.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`identifiers` parameter must have <= 100 entries.");for(var n={},o=0,i=r;o<i.length;o++){var s=i[o];if(a.isUidIdentifier(s))n=e.addUidToRequest(s,n);else if(a.isEmailIdentifier(s))n=e.addEmailToRequest(s,n);else if(a.isPhoneIdentifier(s))n=e.addPhoneToRequest(s,n);else{if(!a.isProviderIdentifier(s))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"Unrecognized identifier: "+s);n=e.addProviderToRequest(s,n)}}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNTS_INFO,n)},e.prototype.downloadAccount=function(e,r){void 0===e&&(e=1e3);var n={maxResults:e,nextPageToken:r};return void 0===n.nextPageToken&&delete n.nextPageToken,this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT,n).then((function(e){return e.users||(e.users=[]),e}))},e.prototype.uploadAccount=function(e,r){var n=new u.UserImportBuilder(e,r,(function(e){C(e,m.Upload)})),o=n.buildRequest();if(i.isArray(e)&&e.length>1e3)throw new c.FirebaseAuthError(c.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"A maximum of 1000 users can be imported at once.");return o.users&&0!==o.users.length?this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_UPLOAD_ACCOUNT,o).then((function(e){var t=e.error||[];return n.buildResponse(t)})):Promise.resolve(n.buildResponse([]))},e.prototype.deleteAccount=function(e){if(!i.isUid(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID));var r={localId:e};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_DELETE_ACCOUNT,r)},e.prototype.deleteAccounts=function(e,r){if(0===e.length)return Promise.resolve({});if(e.length>1e3)throw new c.FirebaseAuthError(c.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`uids` parameter must have <= 1000 entries.");var n={localIds:[],force:r};return e.forEach((function(e){if(!i.isUid(e))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID);n.localIds.push(e)})),this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS,n)},e.prototype.setCustomUserClaims=function(e,r){if(!i.isUid(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID));if(!i.isObject(r))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"CustomUserClaims argument must be an object or null."));null===r&&(r={});var n={localId:e,customAttributes:JSON.stringify(r)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,n).then((function(e){return e.localId}))},e.prototype.updateExistingAccount=function(e,r){if(!i.isUid(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID));if(!i.isNonNullObject(r))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));if(i.isNonNullObject(r.providerToLink)){if(!i.isNonEmptyString(r.providerToLink.providerId))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.providerId of properties argument must be a non-empty string.");if(!i.isNonEmptyString(r.providerToLink.uid))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.uid of properties argument must be a non-empty string.")}else if(void 0!==r.providersToUnlink){if(!i.isArray(r.providersToUnlink))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.");r.providersToUnlink.forEach((function(e){if(!i.isNonEmptyString(e))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.")}))}var n=s.deepCopy(r);n.localId=e;var o={displayName:"DISPLAY_NAME",photoURL:"PHOTO_URL"};for(var a in n.deleteAttribute=[],o)null===n[a]&&(n.deleteAttribute.push(o[a]),delete n[a]);if(0===n.deleteAttribute.length&&delete n.deleteAttribute,null===n.phoneNumber&&(n.deleteProvider?n.deleteProvider.push("phone"):n.deleteProvider=["phone"],delete n.phoneNumber),void 0!==n.providerToLink&&(n.linkProviderUserInfo=s.deepCopy(n.providerToLink),delete n.providerToLink,n.linkProviderUserInfo.rawId=n.linkProviderUserInfo.uid,delete n.linkProviderUserInfo.uid),void 0!==n.providersToUnlink&&(i.isArray(n.deleteProvider)||(n.deleteProvider=[]),n.deleteProvider=n.deleteProvider.concat(n.providersToUnlink),delete n.providersToUnlink),void 0!==n.photoURL&&(n.photoUrl=n.photoURL,delete n.photoURL),void 0!==n.disabled&&(n.disableUser=n.disabled,delete n.disabled),i.isNonNullObject(n.multiFactor)){if(null===n.multiFactor.enrolledFactors)n.mfa={};else if(i.isArray(n.multiFactor.enrolledFactors)){n.mfa={enrollments:[]};try{n.multiFactor.enrolledFactors.forEach((function(e){n.mfa.enrollments.push(u.convertMultiFactorInfoToServerFormat(e))}))}catch(e){return Promise.reject(e)}0===n.mfa.enrollments.length&&delete n.mfa.enrollments}delete n.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,n).then((function(e){return e.localId}))},e.prototype.revokeRefreshTokens=function(e){if(!i.isUid(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_UID));var r={localId:e,validSince:Math.floor((new Date).getTime()/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,r).then((function(e){return e.localId}))},e.prototype.createNewAccount=function(e){if(!i.isNonNullObject(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));var r=s.deepCopy(e);if(void 0!==r.photoURL&&(r.photoUrl=r.photoURL,delete r.photoURL),void 0!==r.uid&&(r.localId=r.uid,delete r.uid),i.isNonNullObject(r.multiFactor)){if(i.isNonEmptyArray(r.multiFactor.enrolledFactors)){var n=[];try{r.multiFactor.enrolledFactors.forEach((function(e){if(e.enrollmentTime)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"enrollmentTime" is not supported when adding second factors via "createUser()"');if(e.uid)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'"uid" is not supported when adding second factors via "createUser()"');n.push(u.convertMultiFactorInfoToServerFormat(e))}))}catch(e){return Promise.reject(e)}r.mfaInfo=n}delete r.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SIGN_UP_NEW_USER,r).then((function(e){return e.localId}))},e.prototype.getEmailActionLink=function(e,t,r){var n={requestType:e,email:t,returnOobLink:!0};if(void 0===r&&"EMAIL_SIGNIN"===e)return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,"`actionCodeSettings` is required when `requestType` === 'EMAIL_SIGNIN'"));if(void 0!==r||"EMAIL_SIGNIN"===e)try{var o=new d.ActionCodeSettingsBuilder(r);n=s.deepExtend(n,o.buildRequest())}catch(e){return Promise.reject(e)}return this.invokeRequestHandler(this.getAuthUrlBuilder(),A,n).then((function(e){return e.oobLink}))},e.prototype.getOAuthIdpConfig=function(e){return f.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),x,{},{providerId:e}):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.listOAuthIdpConfigs=function(e,t){void 0===e&&(e=y);var r={pageSize:e};return void 0!==t&&(r.pageToken=t),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),P,r).then((function(e){return e.oauthIdpConfigs||(e.oauthIdpConfigs=[],delete e.nextPageToken),e}))},e.prototype.deleteOAuthIdpConfig=function(e){return f.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),I,{},{providerId:e}).then((function(){})):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.createOAuthIdpConfig=function(e){var t;try{t=f.OIDCConfig.buildServerRequest(e)||{}}catch(e){return Promise.reject(e)}var r=e.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),k,t,{providerId:r}).then((function(e){if(!f.OIDCConfig.getProviderIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC provider configuration");return e}))},e.prototype.updateOAuthIdpConfig=function(e,t){if(!f.OIDCConfig.isProviderId(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID));var r;try{r=f.OIDCConfig.buildServerRequest(t,!0)||{}}catch(e){return Promise.reject(e)}var n=p.generateUpdateMask(r);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),N,r,{providerId:e,updateMask:n.join(",")}).then((function(e){if(!f.OIDCConfig.getProviderIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC provider configuration");return e}))},e.prototype.getInboundSamlConfig=function(e){return f.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),R,{},{providerId:e}):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.listInboundSamlConfigs=function(e,t){void 0===e&&(e=y);var r={pageSize:e};return void 0!==t&&(r.pageToken=t),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),F,r).then((function(e){return e.inboundSamlConfigs||(e.inboundSamlConfigs=[],delete e.nextPageToken),e}))},e.prototype.deleteInboundSamlConfig=function(e){return f.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),j,{},{providerId:e}).then((function(){})):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.createInboundSamlConfig=function(e){var t;try{t=f.SAMLConfig.buildServerRequest(e)||{}}catch(e){return Promise.reject(e)}var r=e.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),D,t,{providerId:r}).then((function(e){if(!f.SAMLConfig.getProviderIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML provider configuration");return e}))},e.prototype.updateInboundSamlConfig=function(e,t){if(!f.SAMLConfig.isProviderId(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PROVIDER_ID));var r;try{r=f.SAMLConfig.buildServerRequest(t,!0)||{}}catch(e){return Promise.reject(e)}var n=p.generateUpdateMask(r);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),L,r,{providerId:e,updateMask:n.join(",")}).then((function(e){if(!f.SAMLConfig.getProviderIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML provider configuration");return e}))},e.prototype.invokeRequestHandler=function(t,r,n,o){var i=this;return t.getUrl(r.getEndpoint(),o).then((function(e){r.getRequestValidator()(n);var t={method:r.getHttpMethod(),url:e,headers:g,data:n,timeout:25e3};return i.httpClient.send(t)})).then((function(e){return r.getResponseValidator()(e.data),e.data})).catch((function(t){if(t instanceof l.HttpError){var r=t.response.data,n=e.getErrorCode(r);if(!n)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+r+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.");throw c.FirebaseAuthError.fromServerError(n,void 0,r)}throw t}))},e.prototype.getAuthUrlBuilder=function(){return this.authUrlBuilder||(this.authUrlBuilder=this.newAuthUrlBuilder()),this.authUrlBuilder},e.prototype.getProjectConfigUrlBuilder=function(){return this.projectConfigUrlBuilder||(this.projectConfigUrlBuilder=this.newProjectConfigUrlBuilder()),this.projectConfigUrlBuilder},e}();t.AbstractAuthRequestHandler=M;var B=new l.ApiSettings("/tenants/{tenantId}","GET").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get tenant")})),U=new l.ApiSettings("/tenants/{tenantId}","DELETE"),V=new l.ApiSettings("/tenants/{tenantId}?updateMask={updateMask}","PATCH").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name)||!h.Tenant.getTenantIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update tenant")})),q=new l.ApiSettings("/tenants","GET").setRequestValidator((function(e){if(void 0!==e.pageToken&&!i.isNonEmptyString(e.pageToken))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!i.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>1e3)throw new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive non-zero number that does not exceed the allowed 1000.')})),G=new l.ApiSettings("/tenants","POST").setResponseValidator((function(e){if(!i.isNonEmptyString(e.name)||!h.Tenant.getTenantIdFromResourceName(e.name))throw new c.FirebaseAuthError(c.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new tenant")})),H=function(e){function t(t){var r=e.call(this,t)||this;return r.tenantMgmtResourceBuilder=new _(t,"v2"),r}return o(t,e),t.prototype.newAuthUrlBuilder=function(){return new _(this.app,"v1")},t.prototype.newProjectConfigUrlBuilder=function(){return new _(this.app,"v2")},t.prototype.getTenant=function(e){return i.isNonEmptyString(e)?this.invokeRequestHandler(this.tenantMgmtResourceBuilder,B,{},{tenantId:e}).then((function(e){return e})):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_TENANT_ID))},t.prototype.listTenants=function(e,t){void 0===e&&(e=1e3);var r={pageSize:e,pageToken:t};return void 0===r.pageToken&&delete r.pageToken,this.invokeRequestHandler(this.tenantMgmtResourceBuilder,q,r).then((function(e){return e.tenants||(e.tenants=[],delete e.nextPageToken),e}))},t.prototype.deleteTenant=function(e){return i.isNonEmptyString(e)?this.invokeRequestHandler(this.tenantMgmtResourceBuilder,U,{},{tenantId:e}).then((function(){})):Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_TENANT_ID))},t.prototype.createTenant=function(e){try{var t=h.Tenant.buildServerRequest(e,!0);return this.invokeRequestHandler(this.tenantMgmtResourceBuilder,G,t).then((function(e){return e}))}catch(e){return Promise.reject(e)}},t.prototype.updateTenant=function(e,t){if(!i.isNonEmptyString(e))return Promise.reject(new c.FirebaseAuthError(c.AuthClientErrorCode.INVALID_TENANT_ID));try{var r=h.Tenant.buildServerRequest(t,!1),n=p.generateUpdateMask(r,["testPhoneNumbers"]);return this.invokeRequestHandler(this.tenantMgmtResourceBuilder,V,r,{tenantId:e,updateMask:n.join(",")}).then((function(e){return e}))}catch(e){return Promise.reject(e)}},t}(M);t.AuthRequestHandler=H;var z=function(e){function t(t,r){var n=e.call(this,t)||this;return n.tenantId=r,n}return o(t,e),t.prototype.newAuthUrlBuilder=function(){return new O(this.app,"v1",this.tenantId)},t.prototype.newProjectConfigUrlBuilder=function(){return new O(this.app,"v2",this.tenantId)},t.prototype.uploadAccount=function(t,r){var n=this;return t.forEach((function(e,t){if(i.isNonEmptyString(e.tenantId)&&e.tenantId!==n.tenantId)throw new c.FirebaseAuthError(c.AuthClientErrorCode.MISMATCHING_TENANT_ID,'UserRecord of index "'+t+'" has mismatching tenant ID "'+e.tenantId+'"')})),e.prototype.uploadAccount.call(this,t,r)},t}(M);function K(){return process.env.FIREBASE_AUTH_EMULATOR_HOST}function W(){return!!K()}t.TenantAwareAuthRequestHandler=z,t.useEmulator=W},97927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OIDCConfig=t.SAMLConfig=t.EmailSignInConfig=t.validateTestPhoneNumbers=t.MultiFactorAuthConfig=t.MAXIMUM_TEST_PHONE_NUMBERS=void 0;var n=r(69173),o=r(85326),i=r(56969);t.MAXIMUM_TEST_PHONE_NUMBERS=10;var s={phone:"PHONE_SMS"},a=Object.keys(s).reduce((function(e,t){return e[s[t]]=t,e}),{}),c=function(){function e(e){var t=this;if(void 0===e.state)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.state=e.state,this.factorIds=[],(e.enabledProviders||[]).forEach((function(e){void 0!==a[e]&&t.factorIds.push(a[e])}))}return e.buildServerRequest=function(t){var r={};return e.validate(t),Object.prototype.hasOwnProperty.call(t,"state")&&(r.state=t.state),Object.prototype.hasOwnProperty.call(t,"factorIds")&&((t.factorIds||[]).forEach((function(e){void 0===r.enabledProviders&&(r.enabledProviders=[]),r.enabledProviders.push(s[e])})),t.factorIds&&0===t.factorIds.length&&(r.enabledProviders=[])),r},e.validate=function(e){var t={state:!0,factorIds:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig" must be a non-null object.');for(var r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"'+r+'" is not a valid MultiFactorConfig parameter.');if(void 0!==e.state&&"ENABLED"!==e.state&&"DISABLED"!==e.state)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.state" must be either "ENABLED" or "DISABLED".');if(void 0!==e.factorIds){if(!n.isArray(e.factorIds))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.factorIds" must be an array of valid "AuthFactorTypes".');e.factorIds.forEach((function(e){if(void 0===s[e])throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"'+e+'" is not a valid "AuthFactorType".')}))}},e.prototype.toJSON=function(){return{state:this.state,factorIds:this.factorIds}},e}();t.MultiFactorAuthConfig=c,t.validateTestPhoneNumbers=function(e){if(!n.isObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"testPhoneNumbers" must be a map of phone number / code pairs.');if(Object.keys(e).length>t.MAXIMUM_TEST_PHONE_NUMBERS)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED);for(var r in e){if(!n.isPhoneNumber(r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,'"'+r+'" is not a valid E.164 standard compliant phone number.');if(!n.isString(e[r])||!/^[\d]{6}$/.test(e[r]))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,'"'+e[r]+'" is not a valid 6 digit code string.')}};var l=function(){function e(e){if(void 0===e.allowPasswordSignup)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid email sign-in configuration response");this.enabled=e.allowPasswordSignup,this.passwordRequired=!e.enableEmailLinkSignin}return e.buildServerRequest=function(t){var r={};return e.validate(t),Object.prototype.hasOwnProperty.call(t,"enabled")&&(r.allowPasswordSignup=t.enabled),Object.prototype.hasOwnProperty.call(t,"passwordRequired")&&(r.enableEmailLinkSignin=!t.passwordRequired),r},e.validate=function(e){var t={enabled:!0,passwordRequired:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig" must be a non-null object.');for(var r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"'+r+'" is not a valid EmailSignInConfig parameter.');if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.enabled" must be a boolean.');if(void 0!==e.passwordRequired&&!n.isBoolean(e.passwordRequired))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.passwordRequired" must be a boolean.')},e.prototype.toJSON=function(){return{enabled:this.enabled,passwordRequired:this.passwordRequired}},e}();t.EmailSignInConfig=l;var u=function(){function e(t){if(!(t&&t.idpConfig&&t.idpConfig.idpEntityId&&t.idpConfig.ssoUrl&&t.spConfig&&t.spConfig.spEntityId&&t.name&&n.isString(t.name)&&e.getProviderIdFromResourceName(t.name)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");var r=e.getProviderIdFromResourceName(t.name);if(!r)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=r,this.rpEntityId=t.spConfig.spEntityId,this.callbackURL=t.spConfig.callbackUri,this.idpEntityId=t.idpConfig.idpEntityId,this.ssoURL=t.idpConfig.ssoUrl,this.enableRequestSigning=!!t.idpConfig.signRequest;for(var o=[],s=0,a=t.idpConfig.idpCertificates||[];s<a.length;s++){var c=a[s];c.x509Certificate&&o.push(c.x509Certificate)}this.x509Certificates=o,this.enabled=!!t.enabled,this.displayName=t.displayName}return e.buildServerRequest=function(t,r){if(void 0===r&&(r=!1),!n.isNonNullObject(t)||!t.providerId&&!r)return null;var o={};if(e.validate(t,r),o.enabled=t.enabled,o.displayName=t.displayName,(t.idpEntityId||t.ssoURL||t.x509Certificates)&&(o.idpConfig={idpEntityId:t.idpEntityId,ssoUrl:t.ssoURL,signRequest:t.enableRequestSigning,idpCertificates:void 0===t.x509Certificates?void 0:[]},t.x509Certificates))for(var i=0,s=t.x509Certificates||[];i<s.length;i++){var a=s[i];o.idpConfig.idpCertificates.push({x509Certificate:a})}return(t.callbackURL||t.rpEntityId)&&(o.spConfig={spEntityId:t.rpEntityId,callbackUri:t.callbackURL}),o},e.getProviderIdFromResourceName=function(e){var t=e.match(/\/inboundSamlConfigs\/(saml\..*)$/);return!t||t.length<2?null:t[1]},e.isProviderId=function(e){return n.isNonEmptyString(e)&&0===e.indexOf("saml.")},e.validate=function(e,t){void 0===t&&(t=!1);var r={enabled:!0,displayName:!0,providerId:!0,idpEntityId:!0,ssoURL:!0,x509Certificates:!0,rpEntityId:!0,callbackURL:!0,enableRequestSigning:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig" must be a valid non-null object.');for(var o in e)if(!(o in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"'+o+'" is not a valid SAML config parameter.');if(n.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("saml."))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".')}else if(!t)throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".');if(!(t&&void 0===e.idpEntityId||n.isNonEmptyString(e.idpEntityId)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.idpEntityId" must be a valid non-empty string.');if(!(t&&void 0===e.ssoURL||n.isURL(e.ssoURL)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.ssoURL" must be a valid URL string.');if(!(t&&void 0===e.rpEntityId||n.isNonEmptyString(e.rpEntityId)))throw new i.FirebaseAuthError(e.rpEntityId?i.AuthClientErrorCode.INVALID_CONFIG:i.AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG,'"SAMLAuthProviderConfig.rpEntityId" must be a valid non-empty string.');if(!(t&&void 0===e.callbackURL||n.isURL(e.callbackURL)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.callbackURL" must be a valid URL string.');if(!(t&&void 0===e.x509Certificates||n.isArray(e.x509Certificates)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.');if((e.x509Certificates||[]).forEach((function(e){if(!n.isNonEmptyString(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.')})),void 0!==e.enableRequestSigning&&!n.isBoolean(e.enableRequestSigning))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enableRequestSigning" must be a boolean.');if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.displayName" must be a valid string.')},e.prototype.toJSON=function(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,idpEntityId:this.idpEntityId,ssoURL:this.ssoURL,x509Certificates:o.deepCopy(this.x509Certificates),rpEntityId:this.rpEntityId,callbackURL:this.callbackURL,enableRequestSigning:this.enableRequestSigning}},e}();t.SAMLConfig=u;var p=function(){function e(t){if(!(t&&t.issuer&&t.clientId&&t.name&&n.isString(t.name)&&e.getProviderIdFromResourceName(t.name)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid OIDC configuration response");var r=e.getProviderIdFromResourceName(t.name);if(!r)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=r,this.clientId=t.clientId,this.issuer=t.issuer,this.enabled=!!t.enabled,this.displayName=t.displayName}return e.buildServerRequest=function(t,r){if(void 0===r&&(r=!1),!n.isNonNullObject(t)||!t.providerId&&!r)return null;var o={};return e.validate(t,r),o.enabled=t.enabled,o.displayName=t.displayName,o.issuer=t.issuer,o.clientId=t.clientId,o},e.getProviderIdFromResourceName=function(e){var t=e.match(/\/oauthIdpConfigs\/(oidc\..*)$/);return!t||t.length<2?null:t[1]},e.isProviderId=function(e){return n.isNonEmptyString(e)&&0===e.indexOf("oidc.")},e.validate=function(e,t){void 0===t&&(t=!1);var r={enabled:!0,displayName:!0,providerId:!0,clientId:!0,issuer:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig" must be a valid non-null object.');for(var o in e)if(!(o in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"'+o+'" is not a valid OIDC config parameter.');if(n.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("oidc."))throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".')}else if(!t)throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".');if(!(t&&void 0===e.clientId||n.isNonEmptyString(e.clientId)))throw new i.FirebaseAuthError(e.clientId?i.AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID:i.AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID,'"OIDCAuthProviderConfig.clientId" must be a valid non-empty string.');if(!(t&&void 0===e.issuer||n.isURL(e.issuer)))throw new i.FirebaseAuthError(e.issuer?i.AuthClientErrorCode.INVALID_CONFIG:i.AuthClientErrorCode.MISSING_ISSUER,'"OIDCAuthProviderConfig.issuer" must be a valid URL string.');if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.displayName" must be a valid string.')},e.prototype.toJSON=function(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,issuer:this.issuer,clientId:this.clientId}},e}();t.OIDCConfig=p},37470:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=t.TenantAwareAuth=t.BaseAuth=void 0;var i=r(85326),s=r(26053),a=r(79063),c=r(34064),l=r(23634),u=r(56969),p=r(95134),d=r(69173),f=r(42035),h=r(97927),g=r(86453),m=r(21371),y=function(){function e(e,t,r){this.authRequestHandler=t,this.tokenGenerator=r||w(e),this.sessionCookieVerifier=f.createSessionCookieVerifier(e),this.idTokenVerifier=f.createIdTokenVerifier(e)}return e.prototype.createCustomToken=function(e,t){return this.tokenGenerator.createCustomToken(e,t)},e.prototype.verifyIdToken=function(e,t){var r=this;void 0===t&&(t=!1);var n=l.useEmulator();return this.idTokenVerifier.verifyJWT(e,n).then((function(e){return t||n?r.verifyDecodedJWTNotRevoked(e,u.AuthClientErrorCode.ID_TOKEN_REVOKED):e}))},e.prototype.getUser=function(e){return this.authRequestHandler.getAccountInfoByUid(e).then((function(e){return new s.UserRecord(e.users[0])}))},e.prototype.getUserByEmail=function(e){return this.authRequestHandler.getAccountInfoByEmail(e).then((function(e){return new s.UserRecord(e.users[0])}))},e.prototype.getUserByPhoneNumber=function(e){return this.authRequestHandler.getAccountInfoByPhoneNumber(e).then((function(e){return new s.UserRecord(e.users[0])}))},e.prototype.getUserByProviderUid=function(e,t){return"phone"===e?this.getUserByPhoneNumber(t):"email"===e?this.getUserByEmail(t):this.authRequestHandler.getAccountInfoByFederatedUid(e,t).then((function(e){return new s.UserRecord(e.users[0])}))},e.prototype.getUsers=function(e){if(!d.isArray(e))throw new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,"`identifiers` parameter must be an array");return this.authRequestHandler.getAccountInfoByIdentifiers(e).then((function(t){var r=t.users?t.users.map((function(e){return new s.UserRecord(e)})):[],n=e.filter((function(e){return!function(e,t){return!!t.find((function(t){if(a.isUidIdentifier(e))return e.uid===t.uid;if(a.isEmailIdentifier(e))return e.email===t.email;if(a.isPhoneIdentifier(e))return e.phoneNumber===t.phoneNumber;if(a.isProviderIdentifier(e)){var r=t.providerData.find((function(t){return e.providerId===t.providerId}));return!!r&&e.providerUid===r.uid}throw new u.FirebaseAuthError(u.AuthClientErrorCode.INTERNAL_ERROR,"Unhandled identifier type")}))}(e,r)}));return{users:r,notFound:n}}))},e.prototype.listUsers=function(e,t){return this.authRequestHandler.downloadAccount(e,t).then((function(e){var t=[];e.users.forEach((function(e){t.push(new s.UserRecord(e))}));var r={users:t,pageToken:e.nextPageToken};return void 0===r.pageToken&&delete r.pageToken,r}))},e.prototype.createUser=function(e){var t=this;return this.authRequestHandler.createNewAccount(e).then((function(e){return t.getUser(e)})).catch((function(e){if("auth/user-not-found"===e.code)throw new u.FirebaseAuthError(u.AuthClientErrorCode.INTERNAL_ERROR,"Unable to create the user record provided.");throw e}))},e.prototype.deleteUser=function(e){return this.authRequestHandler.deleteAccount(e).then((function(){}))},e.prototype.deleteUsers=function(e){if(!d.isArray(e))throw new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,"`uids` parameter must be an array");return this.authRequestHandler.deleteAccounts(e,!0).then((function(t){var r={failureCount:0,successCount:e.length,errors:[]};return d.isNonEmptyArray(t.errors)?(r.failureCount=t.errors.length,r.successCount=e.length-t.errors.length,r.errors=t.errors.map((function(e){if(void 0===e.index)throw new u.FirebaseAuthError(u.AuthClientErrorCode.INTERNAL_ERROR,"Corrupt BatchDeleteAccountsResponse detected");var t,r;return{index:e.index,error:(t=e.message,r=t&&t.startsWith("NOT_DISABLED")?u.AuthClientErrorCode.USER_NOT_DISABLED:u.AuthClientErrorCode.INTERNAL_ERROR,new u.FirebaseAuthError(r,e.message))}})),r):r}))},e.prototype.updateUser=function(e,t){var r=this;if(null==(t=i.deepCopy(t))?void 0:t.providerToLink)if("email"===t.providerToLink.providerId){if(void 0!==t.email)throw new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.email and UpdateRequest.providerToLink.providerId='email' were set. To link to the email/password provider, only specify the UpdateRequest.email field.");t.email=t.providerToLink.uid,delete t.providerToLink}else if("phone"===t.providerToLink.providerId){if(void 0!==t.phoneNumber)throw new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber and UpdateRequest.providerToLink.providerId='phone' were set. To link to a phone provider, only specify the UpdateRequest.phoneNumber field.");t.phoneNumber=t.providerToLink.uid,delete t.providerToLink}if((null==t?void 0:t.providersToUnlink)&&-1!==t.providersToUnlink.indexOf("phone")&&null===t.phoneNumber)throw new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber=null and UpdateRequest.providersToUnlink=['phone'] were set. To unlink from a phone provider, only specify the UpdateRequest.phoneNumber=null field.");return this.authRequestHandler.updateExistingAccount(e,t).then((function(e){return r.getUser(e)}))},e.prototype.setCustomUserClaims=function(e,t){return this.authRequestHandler.setCustomUserClaims(e,t).then((function(){}))},e.prototype.revokeRefreshTokens=function(e){return this.authRequestHandler.revokeRefreshTokens(e).then((function(){}))},e.prototype.importUsers=function(e,t){return this.authRequestHandler.uploadAccount(e,t)},e.prototype.createSessionCookie=function(e,t){return d.isNonNullObject(t)&&d.isNumber(t.expiresIn)?this.authRequestHandler.createSessionCookie(e,t.expiresIn):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION))},e.prototype.verifySessionCookie=function(e,t){var r=this;void 0===t&&(t=!1);var n=l.useEmulator();return this.sessionCookieVerifier.verifyJWT(e,n).then((function(e){return t||n?r.verifyDecodedJWTNotRevoked(e,u.AuthClientErrorCode.SESSION_COOKIE_REVOKED):e}))},e.prototype.generatePasswordResetLink=function(e,t){return this.authRequestHandler.getEmailActionLink("PASSWORD_RESET",e,t)},e.prototype.generateEmailVerificationLink=function(e,t){return this.authRequestHandler.getEmailActionLink("VERIFY_EMAIL",e,t)},e.prototype.generateSignInWithEmailLink=function(e,t){return this.authRequestHandler.getEmailActionLink("EMAIL_SIGNIN",e,t)},e.prototype.listProviderConfigs=function(e){var t=function(e,t){var r={providerConfigs:t};return Object.prototype.hasOwnProperty.call(e,"nextPageToken")&&(r.pageToken=e.nextPageToken),r};return e&&"oidc"===e.type?this.authRequestHandler.listOAuthIdpConfigs(e.maxResults,e.pageToken).then((function(e){var r=[];return e.oauthIdpConfigs.forEach((function(e){r.push(new h.OIDCConfig(e))})),t(e,r)})):e&&"saml"===e.type?this.authRequestHandler.listInboundSamlConfigs(e.maxResults,e.pageToken).then((function(e){var r=[];return e.inboundSamlConfigs.forEach((function(e){r.push(new h.SAMLConfig(e))})),t(e,r)})):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ARGUMENT,'"AuthProviderConfigFilter.type" must be either "saml" or "oidc"'))},e.prototype.getProviderConfig=function(e){return h.OIDCConfig.isProviderId(e)?this.authRequestHandler.getOAuthIdpConfig(e).then((function(e){return new h.OIDCConfig(e)})):h.SAMLConfig.isProviderId(e)?this.authRequestHandler.getInboundSamlConfig(e).then((function(e){return new h.SAMLConfig(e)})):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.deleteProviderConfig=function(e){return h.OIDCConfig.isProviderId(e)?this.authRequestHandler.deleteOAuthIdpConfig(e):h.SAMLConfig.isProviderId(e)?this.authRequestHandler.deleteInboundSamlConfig(e):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.updateProviderConfig=function(e,t){return d.isNonNullObject(t)?h.OIDCConfig.isProviderId(e)?this.authRequestHandler.updateOAuthIdpConfig(e,t).then((function(e){return new h.OIDCConfig(e)})):h.SAMLConfig.isProviderId(e)?this.authRequestHandler.updateInboundSamlConfig(e,t).then((function(e){return new h.SAMLConfig(e)})):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "UpdateAuthProviderRequest" configuration.'))},e.prototype.createProviderConfig=function(e){return d.isNonNullObject(e)?h.OIDCConfig.isProviderId(e.providerId)?this.authRequestHandler.createOAuthIdpConfig(e).then((function(e){return new h.OIDCConfig(e)})):h.SAMLConfig.isProviderId(e.providerId)?this.authRequestHandler.createInboundSamlConfig(e).then((function(e){return new h.SAMLConfig(e)})):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "AuthProviderConfig" configuration.'))},e.prototype.verifyDecodedJWTNotRevoked=function(e,t){return this.getUser(e.sub).then((function(r){if(r.tokensValidAfterTime&&1e3*e.auth_time<new Date(r.tokensValidAfterTime).getTime())throw new u.FirebaseAuthError(t);return e}))},e}();t.BaseAuth=y;var v=function(e){function t(t,r){var n=e.call(this,t,new l.TenantAwareAuthRequestHandler(t,r),w(t,r))||this;return p.addReadonlyGetter(n,"tenantId",r),n}return o(t,e),t.prototype.verifyIdToken=function(t,r){var n=this;return void 0===r&&(r=!1),e.prototype.verifyIdToken.call(this,t,r).then((function(e){if(e.firebase.tenant!==n.tenantId)throw new u.FirebaseAuthError(u.AuthClientErrorCode.MISMATCHING_TENANT_ID);return e}))},t.prototype.createSessionCookie=function(t,r){var n=this;return d.isNonEmptyString(t)?d.isNonNullObject(r)&&d.isNumber(r.expiresIn)?this.verifyIdToken(t).then((function(){return e.prototype.createSessionCookie.call(n,t,r)})):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):Promise.reject(new u.FirebaseAuthError(u.AuthClientErrorCode.INVALID_ID_TOKEN))},t.prototype.verifySessionCookie=function(t,r){var n=this;return void 0===r&&(r=!1),e.prototype.verifySessionCookie.call(this,t,r).then((function(e){if(e.firebase.tenant!==n.tenantId)throw new u.FirebaseAuthError(u.AuthClientErrorCode.MISMATCHING_TENANT_ID);return e}))},t}(y);t.TenantAwareAuth=v;var b=function(e){function t(t){var r=e.call(this,t,new l.AuthRequestHandler(t))||this;return r.app_=t,r.tenantManager_=new g.TenantManager(t),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype.tenantManager=function(){return this.tenantManager_},t}(y);function w(e,t){try{var r=l.useEmulator()?new c.EmulatedSigner:m.cryptoSignerFromApp(e);return new c.FirebaseTokenGenerator(r,t)}catch(e){throw c.handleCryptoSignerError(e)}}t.Auth=b},79063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isProviderIdentifier=t.isPhoneIdentifier=t.isEmailIdentifier=t.isUidIdentifier=void 0,t.isUidIdentifier=function(e){return void 0!==e.uid},t.isEmailIdentifier=function(e){return void 0!==e.email},t.isPhoneIdentifier=function(e){return void 0!==e.phoneNumber},t.isProviderIdentifier=function(e){var t=e;return void 0!==t.providerId&&void 0!==t.providerUid}},86453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TenantManager=void 0;var n=r(23634),o=r(37470),i=r(66002),s=r(56969),a=r(69173),c=function(){function e(e){this.app=e,this.authRequestHandler=new n.AuthRequestHandler(e),this.tenantsMap={}}return e.prototype.authForTenant=function(e){if(!a.isNonEmptyString(e))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_TENANT_ID);return void 0===this.tenantsMap[e]&&(this.tenantsMap[e]=new o.TenantAwareAuth(this.app,e)),this.tenantsMap[e]},e.prototype.getTenant=function(e){return this.authRequestHandler.getTenant(e).then((function(e){return new i.Tenant(e)}))},e.prototype.listTenants=function(e,t){return this.authRequestHandler.listTenants(e,t).then((function(e){var t=[];e.tenants.forEach((function(e){t.push(new i.Tenant(e))}));var r={tenants:t,pageToken:e.nextPageToken};return void 0===r.pageToken&&delete r.pageToken,r}))},e.prototype.deleteTenant=function(e){return this.authRequestHandler.deleteTenant(e)},e.prototype.createTenant=function(e){return this.authRequestHandler.createTenant(e).then((function(e){return new i.Tenant(e)}))},e.prototype.updateTenant=function(e,t){return this.authRequestHandler.updateTenant(e,t).then((function(e){return new i.Tenant(e)}))},e}();t.TenantManager=c},66002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tenant=void 0;var n=r(69173),o=r(85326),i=r(56969),s=r(97927),a=function(){function e(t){var r=e.getTenantIdFromResourceName(t.name);if(!r)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid tenant response");this.tenantId=r,this.displayName=t.displayName;try{this.emailSignInConfig=new s.EmailSignInConfig(t)}catch(e){this.emailSignInConfig=new s.EmailSignInConfig({allowPasswordSignup:!1})}this.anonymousSignInEnabled=!!t.enableAnonymousUser,void 0!==t.mfaConfig&&(this.multiFactorConfig=new s.MultiFactorAuthConfig(t.mfaConfig)),void 0!==t.testPhoneNumbers&&(this.testPhoneNumbers=o.deepCopy(t.testPhoneNumbers||{}))}return e.buildServerRequest=function(t,r){var n;e.validate(t,r);var o={};return void 0!==t.emailSignInConfig&&(o=s.EmailSignInConfig.buildServerRequest(t.emailSignInConfig)),void 0!==t.displayName&&(o.displayName=t.displayName),void 0!==t.anonymousSignInEnabled&&(o.enableAnonymousUser=t.anonymousSignInEnabled),void 0!==t.multiFactorConfig&&(o.mfaConfig=s.MultiFactorAuthConfig.buildServerRequest(t.multiFactorConfig)),void 0!==t.testPhoneNumbers&&(o.testPhoneNumbers=null!==(n=t.testPhoneNumbers)&&void 0!==n?n:{}),o},e.getTenantIdFromResourceName=function(e){var t=e.match(/\/tenants\/(.*)$/);return!t||t.length<2?null:t[1]},e.validate=function(e,t){var r={displayName:!0,emailSignInConfig:!0,anonymousSignInEnabled:!0,multiFactorConfig:!0,testPhoneNumbers:!0},o=t?"CreateTenantRequest":"UpdateTenantRequest";if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"'+o+'" must be a valid non-null object.');for(var a in e)if(!(a in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"'+a+'" is not a valid '+o+" parameter.");if(void 0!==e.displayName&&!n.isNonEmptyString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"'+o+'.displayName" must be a valid non-empty string.');if(void 0!==e.emailSignInConfig&&s.EmailSignInConfig.buildServerRequest(e.emailSignInConfig),void 0!==e.testPhoneNumbers&&null!==e.testPhoneNumbers)s.validateTestPhoneNumbers(e.testPhoneNumbers);else if(null===e.testPhoneNumbers&&t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"'+o+'.testPhoneNumbers" must be a non-null object.');void 0!==e.multiFactorConfig&&s.MultiFactorAuthConfig.buildServerRequest(e.multiFactorConfig)},e.prototype.toJSON=function(){var e,t,r={tenantId:this.tenantId,displayName:this.displayName,emailSignInConfig:null===(e=this.emailSignInConfig)||void 0===e?void 0:e.toJSON(),anonymousSignInEnabled:this.anonymousSignInEnabled,multiFactorConfig:null===(t=this.multiFactorConfig)||void 0===t?void 0:t.toJSON(),testPhoneNumbers:this.testPhoneNumbers};return void 0===r.multiFactorConfig&&delete r.multiFactorConfig,void 0===r.testPhoneNumbers&&delete r.testPhoneNumbers,r},e}();t.Tenant=a},34064:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCryptoSignerError=t.FirebaseTokenGenerator=t.EmulatedSigner=t.BLACKLISTED_CLAIMS=void 0;var n=r(56969),o=r(21371),i=r(69173),s=r(95134);t.BLACKLISTED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce"];var a=function(){function e(){this.algorithm="none"}return e.prototype.sign=function(e){return Promise.resolve(Buffer.from(""))},e.prototype.getAccountId=function(){return Promise.resolve("firebase-auth-emulator@example.com")},e}();t.EmulatedSigner=a;var c=function(){function e(e,t){if(this.tenantId=t,!i.isNonNullObject(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a CryptoSigner to use FirebaseTokenGenerator.");if(void 0!==this.tenantId&&!i.isNonEmptyString(this.tenantId))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"`tenantId` argument must be a non-empty string.");this.signer=e}return e.prototype.createCustomToken=function(e,r){var o,s=this;if(i.isNonEmptyString(e)?e.length>128?o="`uid` argument must a uid with less than or equal to 128 characters.":this.isDeveloperClaimsValid_(r)||(o="`developerClaims` argument must be a valid, non-null object containing the developer claims."):o="`uid` argument must be a non-empty string uid.",o)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,o);var a={};if(void 0!==r)for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)){if(-1!==t.BLACKLISTED_CLAIMS.indexOf(c))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'Developer claim "'+c+'" is reserved and cannot be specified.');a[c]=r[c]}return this.signer.getAccountId().then((function(t){var r={alg:s.signer.algorithm,typ:"JWT"},n=Math.floor(Date.now()/1e3),o={aud:"https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",iat:n,exp:n+3600,iss:t,sub:t,uid:e};s.tenantId&&(o.tenant_id=s.tenantId),Object.keys(a).length>0&&(o.claims=a);var i=s.encodeSegment(r)+"."+s.encodeSegment(o),c=s.signer.sign(Buffer.from(i));return Promise.all([i,c])})).then((function(e){var t=e[0],r=e[1];return t+"."+s.encodeSegment(r)})).catch((function(e){throw l(e)}))},e.prototype.encodeSegment=function(e){var t=e instanceof Buffer?e:Buffer.from(JSON.stringify(e));return s.toWebSafeBase64(t).replace(/=+$/,"")},e.prototype.isDeveloperClaimsValid_=function(e){return void 0===e||i.isNonNullObject(e)},e}();function l(e){if(!(e instanceof o.CryptoSignerError))return e;if(e.code===o.CryptoSignerErrorCode.SERVER_ERROR&&i.isNonNullObject(e.cause)){var t=e.cause.response.data;if(i.isNonNullObject(t)&&t.error){var r=t.error.status,s=t.error.message+"; Please refer to https://firebase.google.com/docs/auth/admin/create-custom-tokens for more details on how to use and troubleshoot this feature.";return n.FirebaseAuthError.fromServerError(r,s,t)}return new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+t+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}return new n.FirebaseAuthError(function(e){switch(e){case o.CryptoSignerErrorCode.INVALID_CREDENTIAL:return n.AuthClientErrorCode.INVALID_CREDENTIAL;case o.CryptoSignerErrorCode.INVALID_ARGUMENT:return n.AuthClientErrorCode.INVALID_ARGUMENT;default:return n.AuthClientErrorCode.INTERNAL_ERROR}}(e.code),e.message)}t.FirebaseTokenGenerator=c,t.handleCryptoSignerError=l},42035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSessionCookieVerifier=t.createIdTokenVerifier=t.FirebaseTokenVerifier=t.SESSION_COOKIE_INFO=t.ID_TOKEN_INFO=void 0;var n=r(56969),o=r(95134),i=r(69173),s=r(43409),a=new s.EmulatorSignatureVerifier;t.ID_TOKEN_INFO={url:"https://firebase.google.com/docs/auth/admin/verify-id-tokens",verifyApiName:"verifyIdToken()",jwtName:"Firebase ID token",shortName:"ID token",expiredErrorCode:n.AuthClientErrorCode.ID_TOKEN_EXPIRED},t.SESSION_COOKIE_INFO={url:"https://firebase.google.com/docs/auth/admin/manage-cookies",verifyApiName:"verifySessionCookie()",jwtName:"Firebase session cookie",shortName:"session cookie",expiredErrorCode:n.AuthClientErrorCode.SESSION_COOKIE_EXPIRED};var c=function(){function e(e,t,r,o){if(this.issuer=t,this.tokenInfo=r,this.app=o,!i.isURL(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided public client certificate URL is an invalid URL.");if(!i.isURL(t))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT issuer is an invalid URL.");if(!i.isNonNullObject(r))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT information is not an object or null.");if(!i.isURL(r.url))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT verification documentation URL is invalid.");if(!i.isNonEmptyString(r.verifyApiName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT verify API name must be a non-empty string.");if(!i.isNonEmptyString(r.jwtName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public full name must be a non-empty string.");if(!i.isNonEmptyString(r.shortName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public short name must be a non-empty string.");if(!i.isNonNullObject(r.expiredErrorCode)||!("code"in r.expiredErrorCode))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT expiration error code must be a non-null ErrorInfo object.");this.shortNameArticle=r.shortName.charAt(0).match(/[aeiou]/i)?"an":"a",this.signatureVerifier=s.PublicKeySignatureVerifier.withCertificateUrl(e,o.options.httpAgent)}return e.prototype.verifyJWT=function(e,t){var r=this;if(void 0===t&&(t=!1),!i.isString(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"First argument to "+this.tokenInfo.verifyApiName+" must be a "+this.tokenInfo.jwtName+" string.");return this.ensureProjectId().then((function(n){return r.decodeAndVerify(e,n,t)})).then((function(e){var t=e.payload;return t.uid=t.sub,t}))},e.prototype.ensureProjectId=function(){var e=this;return o.findProjectId(this.app).then((function(t){if(!i.isNonEmptyString(t))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CREDENTIAL,"Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to call "+e.tokenInfo.verifyApiName+".");return Promise.resolve(t)}))},e.prototype.decodeAndVerify=function(e,t,r){var n=this;return this.safeDecode(e).then((function(o){return n.verifyContent(o,t,r),n.verifySignature(e,r).then((function(){return o}))}))},e.prototype.safeDecode=function(e){var t=this;return s.decodeJwt(e).catch((function(e){if(e.code==s.JwtErrorCode.INVALID_ARGUMENT){var r=" See "+t.tokenInfo.url+" for details on how to retrieve "+t.shortNameArticle+" "+t.tokenInfo.shortName+".",o="Decoding "+t.tokenInfo.jwtName+" failed. Make sure you passed the entire string JWT which represents "+t.shortNameArticle+" "+t.tokenInfo.shortName+"."+r;throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,o)}throw new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,e.message)}))},e.prototype.verifyContent=function(e,t,r){var o,i=e&&e.header,a=e&&e.payload,c=" Make sure the "+this.tokenInfo.shortName+" comes from the same Firebase project as the service account used to authenticate this SDK.",l=" See "+this.tokenInfo.url+" for details on how to retrieve "+this.shortNameArticle+" "+this.tokenInfo.shortName+".";if(r||void 0!==i.kid)r||i.alg===s.ALGORITHM_RS256?a.aud!==t?o=this.tokenInfo.jwtName+' has incorrect "aud" (audience) claim. Expected "'+t+'" but got "'+a.aud+'".'+c+l:a.iss!==this.issuer+t?o=this.tokenInfo.jwtName+' has incorrect "iss" (issuer) claim. Expected "'+this.issuer+t+'" but got "'+a.iss+'".'+c+l:"string"!=typeof a.sub?o=this.tokenInfo.jwtName+' has no "sub" (subject) claim.'+l:""===a.sub?o=this.tokenInfo.jwtName+' has an empty string "sub" (subject) claim.'+l:a.sub.length>128&&(o=this.tokenInfo.jwtName+' has "sub" (subject) claim longer than 128 characters.'+l):o=this.tokenInfo.jwtName+' has incorrect algorithm. Expected "'+s.ALGORITHM_RS256+'" but got "'+i.alg+'".'+l;else{var u="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit"===a.aud,p="HS256"===i.alg&&0===a.v&&"d"in a&&"uid"in a.d;o=u?this.tokenInfo.verifyApiName+" expects "+this.shortNameArticle+" "+this.tokenInfo.shortName+", but was given a custom token.":p?this.tokenInfo.verifyApiName+" expects "+this.shortNameArticle+" "+this.tokenInfo.shortName+", but was given a legacy custom token.":'Firebase ID token has no "kid" claim.',o+=l}if(o)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,o)},e.prototype.verifySignature=function(e,t){var r=this;return(t?a:this.signatureVerifier).verify(e).catch((function(e){throw r.mapJwtErrorToAuthError(e)}))},e.prototype.mapJwtErrorToAuthError=function(e){var t=" See "+this.tokenInfo.url+" for details on how to retrieve "+this.shortNameArticle+" "+this.tokenInfo.shortName+".";if(e.code===s.JwtErrorCode.TOKEN_EXPIRED){var r=this.tokenInfo.jwtName+" has expired. Get a fresh "+this.tokenInfo.shortName+" from your client app and try again (auth/"+this.tokenInfo.expiredErrorCode.code+")."+t;return new n.FirebaseAuthError(this.tokenInfo.expiredErrorCode,r)}return e.code===s.JwtErrorCode.INVALID_SIGNATURE?(r=this.tokenInfo.jwtName+" has invalid signature."+t,new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,r)):e.code===s.JwtErrorCode.NO_MATCHING_KID?(r=this.tokenInfo.jwtName+' has "kid" claim which does not correspond to a known public key. Most likely the '+this.tokenInfo.shortName+" is expired, so get a fresh token from your client app and try again.",new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,r)):new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,e.message)},e}();t.FirebaseTokenVerifier=c,t.createIdTokenVerifier=function(e){return new c("https://www.googleapis.com/robot/v1/metadata/x509/securetoken@system.gserviceaccount.com","https://securetoken.google.com/",t.ID_TOKEN_INFO,e)},t.createSessionCookieVerifier=function(e){return new c("https://www.googleapis.com/identitytoolkit/v3/relyingparty/publicKeys","https://session.firebase.google.com/",t.SESSION_COOKIE_INFO,e)}},65440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserImportBuilder=t.convertMultiFactorInfoToServerFormat=void 0;var n=r(85326),o=r(95134),i=r(69173),s=r(56969);function a(e){var t;if(void 0!==e.enrollmentTime){if(!i.isUTCDateString(e.enrollmentTime))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,'The second factor "enrollmentTime" for "'+e.uid+'" must be a valid UTC date string.');t=new Date(e.enrollmentTime).toISOString()}if(function(e){return"phone"===e.factorId}(e)){var r={mfaEnrollmentId:e.uid,displayName:e.displayName,phoneInfo:e.phoneNumber,enrolledAt:t};for(var n in r)void 0===r[n]&&delete r[n];return r}throw new s.FirebaseAuthError(s.AuthClientErrorCode.UNSUPPORTED_SECOND_FACTOR,'Unsupported second factor "'+JSON.stringify(e)+'" provided.')}function c(e,t){return void 0!==e[t]&&null!==e[t]?parseInt(e[t].toString(),10):NaN}t.convertMultiFactorInfoToServerFormat=a;var l=function(){function e(e,t,r){this.requiresHashOptions=!1,this.validatedUsers=[],this.userImportResultErrors=[],this.indexMap={},this.validatedUsers=this.populateUsers(e,r),this.validatedOptions=this.populateOptions(t,this.requiresHashOptions)}return e.prototype.buildRequest=function(){var e=this.validatedUsers.map((function(e){return n.deepCopy(e)}));return n.deepExtend({users:e},n.deepCopy(this.validatedOptions))},e.prototype.buildResponse=function(e){var t=this,r={successCount:this.validatedUsers.length,failureCount:this.userImportResultErrors.length,errors:n.deepCopy(this.userImportResultErrors)};return r.failureCount+=e.length,r.successCount-=e.length,e.forEach((function(e){r.errors.push({index:t.indexMap[e.index],error:new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_USER_IMPORT,e.message)})})),r.errors.sort((function(e,t){return e.index-t.index})),r},e.prototype.populateOptions=function(e,t){var r,n;if(!t)return{};if(!i.isNonNullObject(e))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_ARGUMENT,'"UserImportOptions" are required when importing users with passwords.');if(!i.isNonNullObject(e.hash))throw new s.FirebaseAuthError(s.AuthClientErrorCode.MISSING_HASH_ALGORITHM,'"hash.algorithm" is missing from the provided "UserImportOptions".');if(void 0===e.hash.algorithm||!i.isNonEmptyString(e.hash.algorithm))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'"hash.algorithm" must be a string matching the list of supported algorithms.');switch(e.hash.algorithm){case"HMAC_SHA512":case"HMAC_SHA256":case"HMAC_SHA1":case"HMAC_MD5":if(!i.isBuffer(e.hash.key))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_KEY,'A non-empty "hash.key" byte buffer must be provided for hash algorithm '+e.hash.algorithm+".");r={hashAlgorithm:e.hash.algorithm,signerKey:o.toWebSafeBase64(e.hash.key)};break;case"MD5":case"SHA1":case"SHA256":case"SHA512":n=c(e.hash,"rounds");var a="MD5"===e.hash.algorithm?0:1;if(isNaN(n)||n<a||n>8192)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ROUNDS,'A valid "hash.rounds" number between '+a+" and 8192 must be provided for hash algorithm "+e.hash.algorithm+".");r={hashAlgorithm:e.hash.algorithm,rounds:n};break;case"PBKDF_SHA1":case"PBKDF2_SHA256":if(n=c(e.hash,"rounds"),isNaN(n)||n<0||n>12e4)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ROUNDS,'A valid "hash.rounds" number between 0 and 120000 must be provided for hash algorithm '+e.hash.algorithm+".");r={hashAlgorithm:e.hash.algorithm,rounds:n};break;case"SCRYPT":if(!i.isBuffer(e.hash.key))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_KEY,'A "hash.key" byte buffer must be provided for hash algorithm '+e.hash.algorithm+".");if(n=c(e.hash,"rounds"),isNaN(n)||n<=0||n>8)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ROUNDS,'A valid "hash.rounds" number between 1 and 8 must be provided for hash algorithm '+e.hash.algorithm+".");var l=c(e.hash,"memoryCost");if(isNaN(l)||l<=0||l>14)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,'A valid "hash.memoryCost" number between 1 and 14 must be provided for hash algorithm '+e.hash.algorithm+".");if(void 0!==e.hash.saltSeparator&&!i.isBuffer(e.hash.saltSeparator))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR,'"hash.saltSeparator" must be a byte buffer.');r={hashAlgorithm:e.hash.algorithm,signerKey:o.toWebSafeBase64(e.hash.key),rounds:n,memoryCost:l,saltSeparator:o.toWebSafeBase64(e.hash.saltSeparator||Buffer.from(""))};break;case"BCRYPT":r={hashAlgorithm:e.hash.algorithm};break;case"STANDARD_SCRYPT":var u=c(e.hash,"memoryCost");if(isNaN(u))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,'A valid "hash.memoryCost" number must be provided for hash algorithm '+e.hash.algorithm+".");var p=c(e.hash,"parallelization");if(isNaN(p))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_PARALLELIZATION,'A valid "hash.parallelization" number must be provided for hash algorithm '+e.hash.algorithm+".");var d=c(e.hash,"blockSize");if(isNaN(d))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE,'A valid "hash.blockSize" number must be provided for hash algorithm '+e.hash.algorithm+".");var f=c(e.hash,"derivedKeyLength");if(isNaN(f))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH,'A valid "hash.derivedKeyLength" number must be provided for hash algorithm '+e.hash.algorithm+".");r={hashAlgorithm:e.hash.algorithm,cpuMemCost:u,parallelization:p,blockSize:d,dkLen:f};break;default:throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'Unsupported hash algorithm provider "'+e.hash.algorithm+'".')}return r},e.prototype.populateUsers=function(e,t){var r=this,n=[];return e.forEach((function(e,c){try{var l=function(e,t){var r,n={localId:e.uid,email:e.email,emailVerified:e.emailVerified,displayName:e.displayName,disabled:e.disabled,photoUrl:e.photoURL,phoneNumber:e.phoneNumber,providerUserInfo:[],mfaInfo:[],tenantId:e.tenantId,customAttributes:e.customClaims&&JSON.stringify(e.customClaims)};if(void 0!==e.passwordHash){if(!i.isBuffer(e.passwordHash))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_PASSWORD_HASH);n.passwordHash=o.toWebSafeBase64(e.passwordHash)}if(void 0!==e.passwordSalt){if(!i.isBuffer(e.passwordSalt))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_PASSWORD_SALT);n.salt=o.toWebSafeBase64(e.passwordSalt)}for(r in i.isNonNullObject(e.metadata)&&(i.isNonEmptyString(e.metadata.creationTime)&&(n.createdAt=new Date(e.metadata.creationTime).getTime()),i.isNonEmptyString(e.metadata.lastSignInTime)&&(n.lastLoginAt=new Date(e.metadata.lastSignInTime).getTime())),i.isArray(e.providerData)&&e.providerData.forEach((function(e){n.providerUserInfo.push({providerId:e.providerId,rawId:e.uid,email:e.email,displayName:e.displayName,photoUrl:e.photoURL})})),i.isNonNullObject(e.multiFactor)&&i.isNonEmptyArray(e.multiFactor.enrolledFactors)&&e.multiFactor.enrolledFactors.forEach((function(e){n.mfaInfo.push(a(e))})),n)void 0===n[r]&&delete n[r];return 0===n.providerUserInfo.length&&delete n.providerUserInfo,0===n.mfaInfo.length&&delete n.mfaInfo,"function"==typeof t&&t(n),n}(e,t);void 0!==l.passwordHash&&(r.requiresHashOptions=!0),n.push(l),r.indexMap[n.length-1]=c}catch(e){r.userImportResultErrors.push({index:c,error:e})}})),n},e}();t.UserImportBuilder=l},26053:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserRecord=t.UserInfo=t.UserMetadata=t.MultiFactor=t.PhoneMultiFactorInfo=t.MultiFactorInfo=void 0;var i,s=r(85326),a=r(69173),c=r(95134),l=r(56969),u=Buffer.from("REDACTED").toString("base64");function p(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}return null}!function(e){e.Phone="phone"}(i||(i={}));var d=function(){function e(e){this.initFromServerResponse(e)}return e.initMultiFactorInfo=function(e){var t=null;try{t=new f(e)}catch(e){}return t},e.prototype.toJSON=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}},e.prototype.initFromServerResponse=function(e){var t=e&&this.getFactorId(e);if(!t||!e||!e.mfaEnrollmentId)throw new l.FirebaseAuthError(l.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor info response");c.addReadonlyGetter(this,"uid",e.mfaEnrollmentId),c.addReadonlyGetter(this,"factorId",t),c.addReadonlyGetter(this,"displayName",e.displayName),e.enrolledAt?c.addReadonlyGetter(this,"enrollmentTime",new Date(e.enrolledAt).toUTCString()):c.addReadonlyGetter(this,"enrollmentTime",null)},e}();t.MultiFactorInfo=d;var f=function(e){function t(t){var r=e.call(this,t)||this;return c.addReadonlyGetter(r,"phoneNumber",t.phoneInfo),r}return o(t,e),t.prototype.toJSON=function(){return Object.assign(e.prototype.toJSON.call(this),{phoneNumber:this.phoneNumber})},t.prototype.getFactorId=function(e){return e&&e.phoneInfo?i.Phone:null},t}(d);t.PhoneMultiFactorInfo=f;var h=function(){function e(e){var t=[];if(!a.isNonNullObject(e))throw new l.FirebaseAuthError(l.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor response");e.mfaInfo&&e.mfaInfo.forEach((function(e){var r=d.initMultiFactorInfo(e);r&&t.push(r)})),c.addReadonlyGetter(this,"enrolledFactors",Object.freeze(t))}return e.prototype.toJSON=function(){return{enrolledFactors:this.enrolledFactors.map((function(e){return e.toJSON()}))}},e}();t.MultiFactor=h;var g=function(){function e(e){c.addReadonlyGetter(this,"creationTime",p(e.createdAt)),c.addReadonlyGetter(this,"lastSignInTime",p(e.lastLoginAt));var t=e.lastRefreshAt?new Date(e.lastRefreshAt).toUTCString():null;c.addReadonlyGetter(this,"lastRefreshTime",t)}return e.prototype.toJSON=function(){return{lastSignInTime:this.lastSignInTime,creationTime:this.creationTime}},e}();t.UserMetadata=g;var m=function(){function e(e){if(!e.rawId||!e.providerId)throw new l.FirebaseAuthError(l.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user info response");c.addReadonlyGetter(this,"uid",e.rawId),c.addReadonlyGetter(this,"displayName",e.displayName),c.addReadonlyGetter(this,"email",e.email),c.addReadonlyGetter(this,"photoURL",e.photoUrl),c.addReadonlyGetter(this,"providerId",e.providerId),c.addReadonlyGetter(this,"phoneNumber",e.phoneNumber)}return e.prototype.toJSON=function(){return{uid:this.uid,displayName:this.displayName,email:this.email,photoURL:this.photoURL,providerId:this.providerId,phoneNumber:this.phoneNumber}},e}();t.UserInfo=m;var y=function(){function e(e){if(!e.localId)throw new l.FirebaseAuthError(l.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user response");c.addReadonlyGetter(this,"uid",e.localId),c.addReadonlyGetter(this,"email",e.email),c.addReadonlyGetter(this,"emailVerified",!!e.emailVerified),c.addReadonlyGetter(this,"displayName",e.displayName),c.addReadonlyGetter(this,"photoURL",e.photoUrl),c.addReadonlyGetter(this,"phoneNumber",e.phoneNumber),c.addReadonlyGetter(this,"disabled",e.disabled||!1),c.addReadonlyGetter(this,"metadata",new g(e));for(var t=[],r=0,n=e.providerUserInfo||[];r<n.length;r++){var o=n[r];t.push(new m(o))}c.addReadonlyGetter(this,"providerData",t),e.passwordHash===u?c.addReadonlyGetter(this,"passwordHash",void 0):c.addReadonlyGetter(this,"passwordHash",e.passwordHash),c.addReadonlyGetter(this,"passwordSalt",e.salt),e.customAttributes&&c.addReadonlyGetter(this,"customClaims",JSON.parse(e.customAttributes));var i=null;void 0!==e.validSince&&(i=p(1e3*parseInt(e.validSince,10))),c.addReadonlyGetter(this,"tokensValidAfterTime",i||void 0),c.addReadonlyGetter(this,"tenantId",e.tenantId);var s=new h(e);s.enrolledFactors.length>0&&c.addReadonlyGetter(this,"multiFactor",s)}return e.prototype.toJSON=function(){var e={uid:this.uid,email:this.email,emailVerified:this.emailVerified,displayName:this.displayName,photoURL:this.photoURL,phoneNumber:this.phoneNumber,disabled:this.disabled,metadata:this.metadata.toJSON(),passwordHash:this.passwordHash,passwordSalt:this.passwordSalt,customClaims:s.deepCopy(this.customClaims),tokensValidAfterTime:this.tokensValidAfterTime,tenantId:this.tenantId};this.multiFactor&&(e.multiFactor=this.multiFactor.toJSON()),e.providerData=[];for(var t=0,r=this.providerData;t<r.length;t++){var n=r[t];e.providerData.push(n.toJSON())}return e},e}();t.UserRecord=y},8287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicationDefault=t.isApplicationDefault=t.RefreshTokenCredential=t.ComputeEngineCredential=t.ServiceAccountCredential=void 0;var n,o=r(35747),i=r(12087),s=r(85622),a=r(56969),c=r(78127),l=r(69173),u=(n=i.platform())&&n.length>=3&&"win"===n.substring(0,3).toLowerCase()?process.env.APPDATA:process.env.HOME&&s.resolve(process.env.HOME,".config"),p=u&&s.resolve(u,"gcloud/application_default_credentials.json"),d=function(){function e(e,t,r){void 0===r&&(r=!1),this.httpAgent=t,this.implicit=r;var n="string"==typeof e?f.fromPath(e):new f(e);this.projectId=n.projectId,this.privateKey=n.privateKey,this.clientEmail=n.clientEmail,this.httpClient=new c.HttpClient}return e.prototype.getAccessToken=function(){var e={method:"POST",url:"https://accounts.google.com/o/oauth2/token",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&assertion="+this.createAuthJwt_(),httpAgent:this.httpAgent};return v(this.httpClient,e)},e.prototype.createAuthJwt_=function(){var e={scope:["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"].join(" ")};return r(49704).sign(e,this.privateKey,{audience:"https://accounts.google.com/o/oauth2/token",expiresIn:3600,issuer:this.clientEmail,algorithm:"RS256"})},e}();t.ServiceAccountCredential=d;var f=function(){function e(e){if(!l.isNonNullObject(e))throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");var t;if(y(this,e,"projectId","project_id"),y(this,e,"privateKey","private_key"),y(this,e,"clientEmail","client_email"),l.isNonEmptyString(this.projectId)?l.isNonEmptyString(this.privateKey)?l.isNonEmptyString(this.clientEmail)||(t='Service account object must contain a string "client_email" property.'):t='Service account object must contain a string "private_key" property.':t='Service account object must contain a string "project_id" property.',void 0!==t)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,t);var n=r(22079);try{n.pki.privateKeyFromPem(this.privateKey)}catch(e){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+e)}}return e.fromPath=function(t){try{return new e(JSON.parse(o.readFileSync(t,"utf8")))}catch(e){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse service account json file: "+e)}},e}(),h=function(){function e(e){this.httpClient=new c.HttpClient,this.httpAgent=e}return e.prototype.getAccessToken=function(){var e=this.buildRequest("/computeMetadata/v1/instance/service-accounts/default/token");return v(this.httpClient,e)},e.prototype.getProjectId=function(){var e=this;if(this.projectId)return Promise.resolve(this.projectId);var t=this.buildRequest("/computeMetadata/v1/project/project-id");return this.httpClient.send(t).then((function(t){return e.projectId=t.text,e.projectId})).catch((function(e){var t=e instanceof c.HttpError?b(e.response):e.message;throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to determine project ID: "+t)}))},e.prototype.buildRequest=function(e){return{method:"GET",url:"http://metadata.google.internal"+e,headers:{"Metadata-Flavor":"Google"},httpAgent:this.httpAgent}},e}();t.ComputeEngineCredential=h;var g=function(){function e(e,t,r){void 0===r&&(r=!1),this.httpAgent=t,this.implicit=r,this.refreshToken="string"==typeof e?m.fromPath(e):new m(e),this.httpClient=new c.HttpClient}return e.prototype.getAccessToken=function(){var e={method:"POST",url:"https://www.googleapis.com/oauth2/v4/token",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"client_id="+this.refreshToken.clientId+"&client_secret="+this.refreshToken.clientSecret+"&refresh_token="+this.refreshToken.refreshToken+"&grant_type=refresh_token",httpAgent:this.httpAgent};return v(this.httpClient,e)},e}();t.RefreshTokenCredential=g;var m=function(){function e(e){var t;if(y(this,e,"clientId","client_id"),y(this,e,"clientSecret","client_secret"),y(this,e,"refreshToken","refresh_token"),y(this,e,"type","type"),l.isNonEmptyString(this.clientId)?l.isNonEmptyString(this.clientSecret)?l.isNonEmptyString(this.refreshToken)?l.isNonEmptyString(this.type)||(t='Refresh token must contain a "type" property.'):t='Refresh token must contain a "refresh_token" property.':t='Refresh token must contain a "client_secret" property.':t='Refresh token must contain a "client_id" property.',void 0!==t)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,t)}return e.fromPath=function(t){try{return new e(JSON.parse(o.readFileSync(t,"utf8")))}catch(e){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+e)}},e}();function y(e,t,r,n){var o=t[r]||t[n];void 0!==o&&(e[r]=o)}function v(e,t){return e.send(t).then((function(e){var t=e.data;if(!t.access_token||!t.expires_in)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Unexpected response while fetching access token: "+JSON.stringify(t));return t})).catch((function(e){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,function(e){return"Error fetching access token: "+(e instanceof c.HttpError?b(e.response):e.message)}(e))}))}function b(e){if(e.isJson()&&e.data.error){var t=e.data,r=t.error;return t.error_description&&(r+=" ("+t.error_description+")"),r}return e.text||"Missing error payload"}function w(e,t){var r;try{r=o.readFileSync(e,"utf8")}catch(r){if(t)return null;throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to read credentials from file "+e+": "+r)}try{return JSON.parse(r)}catch(e){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object: "+e)}}t.isApplicationDefault=function(e){return e instanceof h||e instanceof d&&e.implicit||e instanceof g&&e.implicit},t.getApplicationDefault=function(e){if(process.env.GOOGLE_APPLICATION_CREDENTIALS)return function(e,t){var r=w(e);if("object"!=typeof r||null===r)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object");if("service_account"===r.type)return new d(r,t,!0);if("authorized_user"===r.type)return new g(r,t,!0);throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Invalid contents in the credentials file")}(process.env.GOOGLE_APPLICATION_CREDENTIALS,e);if(p){var t=w(p,!0);if(t)return new g(t,e,!0)}return new h(e)}},25599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshToken=t.cert=t.applicationDefault=void 0;var n,o=r(8287),i={},s={};t.applicationDefault=function(e){return void 0===n&&(n=o.getApplicationDefault(e)),n},t.cert=function(e,t){var r=JSON.stringify(e);return r in i||(i[r]=new o.ServiceAccountCredential(e,t)),i[r]},t.refreshToken=function(e,t){var r=JSON.stringify(e);return r in s||(s[r]=new o.RefreshTokenCredential(e,t)),s[r]}},43445:(e,t,r)=>{"use strict";t.k=void 0;var n=r(78835),o=r(85622),i=r(56969),s=r(69173),a=r(78127),c=r(95134),l=function(){function e(e){if(this.databases={},!s.isNonNullObject(e)||!("options"in e))throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"First argument passed to admin.database() must be a valid Firebase app instance."});this.appInternal=e}return e.prototype.delete=function(){var e=this;this.tokenListener&&(this.appInternal.INTERNAL.removeAuthTokenListener(this.tokenListener),clearTimeout(this.tokenRefreshTimeout));for(var t=[],r=0,n=Object.keys(this.databases);r<n.length;r++){var o=n[r],i=this.databases[o];t.push(i.INTERNAL.delete())}return Promise.all(t).then((function(){e.databases={}}))},Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!1,configurable:!0}),e.prototype.getDatabase=function(e){var t=this.ensureUrl(e);if(!s.isNonEmptyString(t))throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"Database URL must be a valid, non-empty URL string."});var n=this.databases[t];if(void 0===n){n=r(25167).initStandalone(this.appInternal,t,c.getSdkVersion()).instance;var o=new u(this.app,t);n.getRules=function(){return o.getRules()},n.getRulesJSON=function(){return o.getRulesJSON()},n.setRules=function(e){return o.setRules(e)},this.databases[t]=n}return this.tokenListener||(this.tokenListener=this.onTokenChange.bind(this),this.appInternal.INTERNAL.addAuthTokenListener(this.tokenListener)),n},e.prototype.onTokenChange=function(e){var t=this.appInternal.INTERNAL.getCachedToken();if(t){var r=t.expirationTime-3e5-Date.now();r>0&&this.scheduleTokenRefresh(r)}},e.prototype.scheduleTokenRefresh=function(e){var t=this;clearTimeout(this.tokenRefreshTimeout),this.tokenRefreshTimeout=setTimeout((function(){t.appInternal.INTERNAL.getToken(!0).catch((function(){}))}),e)},e.prototype.ensureUrl=function(e){if(void 0!==e)return e;if(void 0!==this.appInternal.options.databaseURL)return this.appInternal.options.databaseURL;throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"Can't determine Firebase Database URL."})},e}();t.k=l;var u=function(){function e(e,t){var r=new n.URL(t),i=process.env.FIREBASE_DATABASE_EMULATOR_HOST;if(i){var s=function(e){var t=e.searchParams.get("ns");if(t)return t;var r=e.hostname,n=r.indexOf(".");return r.substring(0,n).toLowerCase()}(r);r=new n.URL("http://"+i+"?ns="+s)}r.pathname=o.join(r.pathname,".settings/rules.json"),this.dbUrl=r.toString(),this.httpClient=new a.AuthorizedHttpClient(e)}return e.prototype.getRules=function(){var e=this,t={method:"GET",url:this.dbUrl};return this.httpClient.send(t).then((function(e){if(!e.text)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");return e.text})).catch((function(t){throw e.handleError(t)}))},e.prototype.getRulesJSON=function(){var e=this,t={method:"GET",url:this.dbUrl,data:{format:"strict"}};return this.httpClient.send(t).then((function(e){return e.data})).catch((function(t){throw e.handleError(t)}))},e.prototype.setRules=function(e){var t=this;if(!s.isNonEmptyString(e)&&!s.isBuffer(e)&&!s.isNonNullObject(e)){var r=new i.FirebaseDatabaseError({code:"invalid-argument",message:"Source must be a non-empty string, Buffer or an object."});return Promise.reject(r)}var n={method:"PUT",url:this.dbUrl,data:e,headers:{"content-type":"application/json; charset=utf-8"}};return this.httpClient.send(n).then((function(){})).catch((function(e){throw t.handleError(e)}))},e.prototype.handleError=function(e){return e instanceof a.HttpError?new i.FirebaseDatabaseError({code:i.AppErrorCodes.INTERNAL_ERROR,message:this.getErrorMessage(e)}):e},e.prototype.getErrorMessage=function(e){var t="Error while accessing security rules";try{var r=e.response.data;if(r&&r.error)return t+": "+r.error.trim()}catch(e){}return t+": "+e.response.text},e}()},28102:(e,t,r)=>{"use strict";var n=new(r(68177).FirebaseNamespace);n.default=n,e.exports=n},67697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseApp=t.FirebaseAppInternals=void 0;var n=r(8287),o=r(69173),i=r(85326),s=r(56969),a=function(){function e(e){this.credential_=e,this.tokenListeners_=[]}return e.prototype.getToken=function(e){return void 0===e&&(e=!1),e||this.shouldRefresh()?this.refreshToken():Promise.resolve(this.cachedToken_)},e.prototype.getCachedToken=function(){return this.cachedToken_||null},e.prototype.refreshToken=function(){var e=this;return Promise.resolve(this.credential_.getAccessToken()).then((function(t){if(!o.isNonNullObject(t)||"number"!=typeof t.expires_in||"string"!=typeof t.access_token)throw new s.FirebaseAppError(s.AppErrorCodes.INVALID_CREDENTIAL,'Invalid access token generated: "'+JSON.stringify(t)+'". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.');var r={accessToken:t.access_token,expirationTime:Date.now()+1e3*t.expires_in};return e.cachedToken_&&e.cachedToken_.accessToken===r.accessToken&&e.cachedToken_.expirationTime===r.expirationTime||(e.cachedToken_=r,e.tokenListeners_.forEach((function(e){e(r.accessToken)}))),r})).catch((function(e){var t="string"==typeof e?e:e.message;throw-1!==(t='Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "'+t+'".').indexOf("invalid_grant")&&(t+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new s.FirebaseAppError(s.AppErrorCodes.INVALID_CREDENTIAL,t)}))},e.prototype.shouldRefresh=function(){return!this.cachedToken_||this.cachedToken_.expirationTime-Date.now()<=3e5},e.prototype.addAuthTokenListener=function(e){this.tokenListeners_.push(e),this.cachedToken_&&e(this.cachedToken_.accessToken)},e.prototype.removeAuthTokenListener=function(e){this.tokenListeners_=this.tokenListeners_.filter((function(t){return t!==e}))},e}();t.FirebaseAppInternals=a;var c=function(){function e(e,t,r){if(this.firebaseInternals_=r,this.services_={},this.isDeleted_=!1,this.name_=t,this.options_=i.deepCopy(e),!o.isNonNullObject(this.options_))throw new s.FirebaseAppError(s.AppErrorCodes.INVALID_APP_OPTIONS,'Invalid Firebase app options passed as the first argument to initializeApp() for the app named "'+this.name_+'". Options must be a non-null object.');"credential"in this.options_||(this.options_.credential=n.getApplicationDefault(this.options_.httpAgent));var c=this.options_.credential;if("object"!=typeof c||null===c||"function"!=typeof c.getAccessToken)throw new s.FirebaseAppError(s.AppErrorCodes.INVALID_APP_OPTIONS,'Invalid Firebase app options passed as the first argument to initializeApp() for the app named "'+this.name_+'". The "credential" property must be an object which implements the Credential interface.');this.INTERNAL=new a(c)}return e.prototype.auth=function(){var e=this;return this.ensureService_("auth",(function(){return new(0,r(37470).Auth)(e)}))},e.prototype.database=function(e){var t=this;return this.ensureService_("database",(function(){return new(0,r(43445).k)(t)})).getDatabase(e)},e.prototype.messaging=function(){var e=this;return this.ensureService_("messaging",(function(){return new(0,r(43845).Messaging)(e)}))},e.prototype.storage=function(){var e=this;return this.ensureService_("storage",(function(){return new(0,r(63092).K)(e)}))},e.prototype.firestore=function(){var e=this;return this.ensureService_("firestore",(function(){return new(0,r(32078).C5)(e)})).client},e.prototype.instanceId=function(){var e=this;return this.ensureService_("iid",(function(){return new(0,r(69889).T)(e)}))},e.prototype.machineLearning=function(){var e=this;return this.ensureService_("machine-learning",(function(){return new(0,r(82161).Sw)(e)}))},e.prototype.projectManagement=function(){var e=this;return this.ensureService_("project-management",(function(){return new(0,r(97095).D)(e)}))},e.prototype.securityRules=function(){var e=this;return this.ensureService_("security-rules",(function(){return new(0,r(6103).Wm)(e)}))},e.prototype.remoteConfig=function(){var e=this;return this.ensureService_("remoteConfig",(function(){return new(0,r(70391).a)(e)}))},e.prototype.appCheck=function(){var e=this;return this.ensureService_("appCheck",(function(){return new(0,r(74677).p)(e)}))},Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),i.deepCopy(this.options_)},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return this.checkDestroyed_(),this.firebaseInternals_.removeApp(this.name_),Promise.all(Object.keys(this.services_).map((function(t){var r=e.services_[t];return function(e){return"function"==typeof e.delete}(r)?r.delete():Promise.resolve()}))).then((function(){e.services_={},e.isDeleted_=!0}))},e.prototype.ensureService_=function(e,t){return this.checkDestroyed_(),e in this.services_||(this.services_[e]=t()),this.services_[e]},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw new s.FirebaseAppError(s.AppErrorCodes.APP_DELETED,'Firebase app named "'+this.name_+'" has already been deleted.')},e}();t.FirebaseApp=c},68177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseNamespace=t.FirebaseNamespaceInternals=t.FIREBASE_CONFIG_VAR=void 0;var n=r(35747),o=r(56969),i=r(67697),s=r(25599),a=r(8287),c=r(69173),l=r(95134),u="[DEFAULT]";t.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG";var p=function(){function e(e){this.firebase_=e,this.apps_={}}return e.prototype.initializeApp=function(e,t){if(void 0===t&&(t=u),void 0===e&&((e=this.loadOptionsFromEnvVar()).credential=a.getApplicationDefault()),"string"!=typeof t||""===t)throw new o.FirebaseAppError(o.AppErrorCodes.INVALID_APP_NAME,'Invalid Firebase app name "'+t+'" provided. App name must be a non-empty string.');if(t in this.apps_)throw t===u?new o.FirebaseAppError(o.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new o.FirebaseAppError(o.AppErrorCodes.DUPLICATE_APP,'Firebase app named "'+t+'" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().');var r=new i.FirebaseApp(e,t,this);return this.apps_[t]=r,r},e.prototype.app=function(e){if(void 0===e&&(e=u),"string"!=typeof e||""===e)throw new o.FirebaseAppError(o.AppErrorCodes.INVALID_APP_NAME,'Invalid Firebase app name "'+e+'" provided. App name must be a non-empty string.');if(!(e in this.apps_)){var t=e===u?"The default Firebase app does not exist. ":'Firebase app named "'+e+'" does not exist. ';throw t+="Make sure you call initializeApp() before using any of the Firebase services.",new o.FirebaseAppError(o.AppErrorCodes.NO_APP,t)}return this.apps_[e]},Object.defineProperty(e.prototype,"apps",{get:function(){var e=this;return Object.keys(this.apps_).map((function(t){return e.apps_[t]}))},enumerable:!1,configurable:!0}),e.prototype.removeApp=function(e){if(void 0===e)throw new o.FirebaseAppError(o.AppErrorCodes.INVALID_APP_NAME,"No Firebase app name provided. App name must be a non-empty string.");var t=this.app(e);delete this.apps_[t.name]},e.prototype.loadOptionsFromEnvVar=function(){var e=process.env[t.FIREBASE_CONFIG_VAR];if(!c.isNonEmptyString(e))return{};try{var r=e.startsWith("{")?e:n.readFileSync(e,"utf8");return JSON.parse(r)}catch(e){throw new o.FirebaseAppError(o.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+e)}},e}();t.FirebaseNamespaceInternals=p;var d={cert:s.cert,refreshToken:s.refreshToken,applicationDefault:s.applicationDefault},f=function(){function e(){this.__esModule=!0,this.credential=d,this.SDK_VERSION=l.getSdkVersion(),this.Promise=Promise,this.INTERNAL=new p(this)}return Object.defineProperty(e.prototype,"auth",{get:function(){var e=this,t=r(37470).Auth;return Object.assign((function(t){return e.ensureApp(t).auth()}),{Auth:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"database",{get:function(){var e=this;return Object.assign((function(t){return e.ensureApp(t).database()}),r(25167))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messaging",{get:function(){var e=this,t=r(43845).Messaging;return Object.assign((function(t){return e.ensureApp(t).messaging()}),{Messaging:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){var e=this,t=r(63092).K;return Object.assign((function(t){return e.ensureApp(t).storage()}),{Storage:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firestore",{get:function(){var e=this,t=function(t){return e.ensureApp(t).firestore()},n=r(18528);return t=Object.assign(t,n.Firestore),Object.defineProperty(t,"v1beta1",{get:function(){return n.v1beta1}}),Object.defineProperty(t,"v1",{get:function(){return n.v1}}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"machineLearning",{get:function(){var e=this,t=r(82161).Sw;return Object.assign((function(t){return e.ensureApp(t).machineLearning()}),{MachineLearning:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){var e=this,t=r(69889).T;return Object.assign((function(t){return e.ensureApp(t).instanceId()}),{InstanceId:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projectManagement",{get:function(){var e=this,t=r(97095).D;return Object.assign((function(t){return e.ensureApp(t).projectManagement()}),{ProjectManagement:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"securityRules",{get:function(){var e=this,t=r(6103).Wm;return Object.assign((function(t){return e.ensureApp(t).securityRules()}),{SecurityRules:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteConfig",{get:function(){var e=this,t=r(70391).a;return Object.assign((function(t){return e.ensureApp(t).remoteConfig()}),{RemoteConfig:t})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appCheck",{get:function(){var e=this,t=r(74677).p;return Object.assign((function(t){return e.ensureApp(t).appCheck()}),{AppCheck:t})},enumerable:!1,configurable:!0}),e.prototype.initializeApp=function(e,t){return this.INTERNAL.initializeApp(e,t)},e.prototype.app=function(e){return this.INTERNAL.app(e)},Object.defineProperty(e.prototype,"apps",{get:function(){return this.INTERNAL.apps},enumerable:!1,configurable:!0}),e.prototype.ensureApp=function(e){return void 0===e&&(e=this.app()),e},e}();t.FirebaseNamespace=f},32078:(e,t,r)=>{"use strict";t.C5=void 0;var n=r(56969),o=r(8287),i=r(69173),s=r(95134),a=function(){function e(e){this.firestoreClient=function(e){var t,a=function(e){if(!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseFirestoreError({code:"invalid-argument",message:"First argument passed to admin.firestore() must be a valid Firebase app instance."});var t=s.getExplicitProjectId(e),a=e.options.credential,c=r(90771).i8;if(a instanceof o.ServiceAccountCredential)return{credentials:{private_key:a.privateKey,client_email:a.clientEmail},projectId:t,firebaseVersion:c};if(o.isApplicationDefault(e.options.credential))return i.isNonEmptyString(t)?{projectId:t,firebaseVersion:c}:{firebaseVersion:c};throw new n.FirebaseFirestoreError({code:"invalid-credential",message:"Failed to initialize Google Cloud Firestore client with the available credentials. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Firestore API."})}(e);try{t=r(18528).Firestore}catch(e){throw new n.FirebaseFirestoreError({code:"missing-dependencies",message:'Failed to import the Cloud Firestore client library for Node.js. Make sure to install the "@google-cloud/firestore" npm package. Original error: '+e})}return new t(a)}(e),this.appInternal=e}return Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"client",{get:function(){return this.firestoreClient},enumerable:!1,configurable:!0}),e}();t.C5=a},29364:(e,t,r)=>{"use strict";var n=r(28102),o="undefined"!=typeof process?process:0;"[object process]"!==Object.prototype.toString.call(o)&&console.error("\n======== WARNING! ========\n\nfirebase-admin appears to have been installed in an unsupported environment.\nThis package should only be used in server-side or backend Node.js environments,\nand should not be used in web browsers or other client-side environments.\n\nUse the Firebase JS SDK for client-side Firebase integrations:\n\nhttps://firebase.google.com/docs/web/setup\n"),e.exports=n},47644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseInstanceIdRequestHandler=void 0;var n=r(56969),o=r(78127),i=r(95134),s=r(69173),a={400:"Malformed instance ID argument.",401:"Request not authorized.",403:"Project does not match instance ID or the client does not have sufficient privileges.",404:"Failed to find the instance ID.",409:"Already deleted.",429:"Request throttled out by the backend server.",500:"Internal server error.",503:"Backend servers are over capacity. Try again later."},c=function(){function e(e){this.app=e,this.host="console.firebase.google.com",this.timeout=1e4,this.httpClient=new o.AuthorizedHttpClient(e)}return e.prototype.deleteInstanceId=function(e){return s.isNonEmptyString(e)?this.invokeRequestHandler(new o.ApiSettings(e,"DELETE")):Promise.reject(new n.FirebaseInstanceIdError(n.InstanceIdClientErrorCode.INVALID_INSTANCE_ID,"Instance ID must be a non-empty string."))},e.prototype.invokeRequestHandler=function(e){var t=this;return this.getPathPrefix().then((function(r){var n={url:"https://"+t.host+r+e.getEndpoint(),method:e.getHttpMethod(),timeout:t.timeout};return t.httpClient.send(n)})).then((function(){})).catch((function(t){if(t instanceof o.HttpError){var r=t.response,i=r.isJson()&&"error"in r.data?r.data.error:r.text,s=a[r.status],c=s?'Instance ID "'+e.getEndpoint()+'": '+s:i;throw new n.FirebaseInstanceIdError(n.InstanceIdClientErrorCode.API_ERROR,c)}throw t}))},e.prototype.getPathPrefix=function(){var e=this;return this.path?Promise.resolve(this.path):i.findProjectId(this.app).then((function(t){if(!s.isNonEmptyString(t))throw new n.FirebaseInstanceIdError(n.InstanceIdClientErrorCode.INVALID_PROJECT_ID,"Failed to determine project ID for InstanceId. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return e.path="/v1/project/"+t+"/instanceId/",e.path}))},e}();t.FirebaseInstanceIdRequestHandler=c},69889:(e,t,r)=>{"use strict";t.T=void 0;var n=r(56969),o=r(47644),i=r(69173),s=function(){function e(e){if(!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseInstanceIdError(n.InstanceIdClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.instanceId() must be a valid Firebase app instance.");this.app_=e,this.requestHandler=new o.FirebaseInstanceIdRequestHandler(e)}return e.prototype.deleteInstanceId=function(e){return this.requestHandler.deleteInstanceId(e).then((function(){}))},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e}();t.T=s},95949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MachineLearningApiClient=t.isGcsTfliteModelOptions=void 0;var n=r(78127),o=r(56969),i=r(15378),s=r(95134),a=r(69173),c="https://firebaseml.googleapis.com/v1beta2",l={"X-Firebase-Client":"fire-admin-node/"+s.getSdkVersion()};t.isGcsTfliteModelOptions=function(e){var t,r;return void 0!==(null===(r=null===(t=e)||void 0===t?void 0:t.tfliteModel)||void 0===r?void 0:r.gcsTfliteUri)};var u=function(){function e(e){if(this.app=e,!a.isNonNullObject(e)||!("options"in e))throw new i.FirebaseMachineLearningError("invalid-argument","First argument passed to admin.machineLearning() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}return e.prototype.createModel=function(e){var t=this;if(!a.isNonNullObject(e)||!a.isNonEmptyString(e.displayName)){var r=new i.FirebaseMachineLearningError("invalid-argument","Invalid model content.");return Promise.reject(r)}return this.getProjectUrl().then((function(r){var n={method:"POST",url:r+"/models",data:e};return t.sendRequest(n)}))},e.prototype.updateModel=function(e,t,r){var n=this;if(!a.isNonEmptyString(e)||!a.isNonNullObject(t)||!a.isNonEmptyArray(r)){var o=new i.FirebaseMachineLearningError("invalid-argument","Invalid model or mask content.");return Promise.reject(o)}return this.getProjectUrl().then((function(o){var i={method:"PATCH",url:o+"/models/"+e+"?updateMask="+r.join(),data:t};return n.sendRequest(i)}))},e.prototype.getModel=function(e){var t=this;return Promise.resolve().then((function(){return t.getModelName(e)})).then((function(e){return t.getResourceWithShortName(e)}))},e.prototype.getOperation=function(e){var t=this;return Promise.resolve().then((function(){return t.getResourceWithFullName(e)}))},e.prototype.listModels=function(e){var t=this;if(void 0===e&&(e={}),!a.isNonNullObject(e)){var r=new i.FirebaseMachineLearningError("invalid-argument","Invalid ListModelsOptions");return Promise.reject(r)}if(void 0!==e.filter&&!a.isNonEmptyString(e.filter))return r=new i.FirebaseMachineLearningError("invalid-argument","Invalid list filter."),Promise.reject(r);if(void 0!==e.pageSize){if(!a.isNumber(e.pageSize))return r=new i.FirebaseMachineLearningError("invalid-argument","Invalid page size."),Promise.reject(r);if(e.pageSize<1||e.pageSize>100)return r=new i.FirebaseMachineLearningError("invalid-argument","Page size must be between 1 and 100."),Promise.reject(r)}return void 0===e.pageToken||a.isNonEmptyString(e.pageToken)?this.getProjectUrl().then((function(r){var n={method:"GET",url:r+"/models",data:e};return t.sendRequest(n)})):(r=new i.FirebaseMachineLearningError("invalid-argument","Next page token must be a non-empty string."),Promise.reject(r))},e.prototype.deleteModel=function(e){var t=this;return this.getProjectUrl().then((function(r){var n={method:"DELETE",url:r+"/"+t.getModelName(e)};return t.sendRequest(n)}))},e.prototype.handleOperation=function(e,t){if(e.done){if(e.response)return Promise.resolve(e.response);if(e.error){var r=i.FirebaseMachineLearningError.fromOperationError(e.error.code,e.error.message);return Promise.reject(r)}throw new i.FirebaseMachineLearningError("invalid-server-response","Invalid operation response.")}if(null==t?void 0:t.wait)return this.pollOperationWithExponentialBackoff(e.name,t);var n=e.metadata||{};if(!(n["@type"]||"").includes("ModelOperationMetadata"))throw new i.FirebaseMachineLearningError("invalid-server-response","Unknown Metadata type: "+JSON.stringify(n));return this.getModel(n.name.split("/").pop())},e.prototype.pollOperationWithExponentialBackoff=function(e,t){var r,o,s,a=this,c=null!==(r=null==t?void 0:t.maxTimeMillis)&&void 0!==r?r:12e4,l=null!==(o=null==t?void 0:t.baseWaitMillis)&&void 0!==o?o:3e3,u=null!==(s=null==t?void 0:t.maxWaitMillis)&&void 0!==s?s:3e4;return new n.ExponentialBackoffPoller(l,u,c).poll((function(){return a.getOperation(e).then((function(e){if(!e.done)return null;if(e.error)throw i.FirebaseMachineLearningError.fromOperationError(e.error.code,e.error.message);return e.response}))}))},e.prototype.getResourceWithShortName=function(e){var t=this;return this.getProjectUrl().then((function(r){var n={method:"GET",url:r+"/"+e};return t.sendRequest(n)}))},e.prototype.getResourceWithFullName=function(e){var t={method:"GET",url:c+"/"+e};return this.sendRequest(t)},e.prototype.sendRequest=function(e){var t=this;return e.headers=l,this.httpClient.send(e).then((function(e){return e.data})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.toFirebaseError=function(e){if(e instanceof o.PrefixedFirebaseError)return e;var t=e.response;if(!t.isJson())return new i.FirebaseMachineLearningError("unknown-error","Unexpected response with status: "+t.status+" and body: "+t.text);var r=t.data.error||{},n="unknown-error";r.status&&r.status in p&&(n=p[r.status]);var s=r.message||"Unknown server error: "+t.text;return new i.FirebaseMachineLearningError(n,s)},e.prototype.getProjectUrl=function(){return this.getProjectIdPrefix().then((function(e){return c+"/"+e}))},e.prototype.getProjectIdPrefix=function(){var e=this;return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):s.findProjectId(this.app).then((function(t){if(!a.isNonEmptyString(t))throw new i.FirebaseMachineLearningError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectIdPrefix="projects/"+t,e.projectIdPrefix}))},e.prototype.getModelName=function(e){if(!a.isNonEmptyString(e))throw new i.FirebaseMachineLearningError("invalid-argument","Model ID must be a non-empty string.");if(-1!==e.indexOf("/"))throw new i.FirebaseMachineLearningError("invalid-argument",'Model ID must not contain any "/" characters.');return"models/"+e},e}();t.MachineLearningApiClient=u;var p={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"}},15378:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseMachineLearningError=void 0;var i=function(e){function t(t,r){return e.call(this,"machine-learning",t,r)||this}return o(t,e),t.fromOperationError=function(e,r){switch(e){case 1:return new t("cancelled",r);case 2:return new t("unknown-error",r);case 3:return new t("invalid-argument",r);case 4:return new t("deadline-exceeded",r);case 5:return new t("not-found",r);case 6:return new t("already-exists",r);case 7:return new t("permission-denied",r);case 8:return new t("resource-exhausted",r);case 9:return new t("failed-precondition",r);case 10:return new t("aborted",r);case 11:return new t("out-of-range",r);case 13:return new t("internal-error",r);case 14:return new t("service-unavailable",r);case 15:return new t("data-loss",r);case 16:return new t("unauthenticated",r);default:return new t("unknown-error",r)}},t}(r(56969).PrefixedFirebaseError);t.FirebaseMachineLearningError=i},82161:(e,t,r)=>{"use strict";t.Sw=void 0;var n=r(95949),o=r(56969),i=r(69173),s=r(15378),a=r(85326),c=r(95134),l=function(){function e(e){if(!i.isNonNullObject(e)||!("options"in e))throw new o.FirebaseError({code:"machine-learning/invalid-argument",message:"First argument passed to admin.machineLearning() must be a valid Firebase app instance."});this.appInternal=e,this.client=new n.MachineLearningApiClient(e)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!1,configurable:!0}),e.prototype.createModel=function(e){var t=this;return this.signUrlIfPresent(e).then((function(e){return t.client.createModel(e)})).then((function(e){return t.client.handleOperation(e)})).then((function(e){return new u(e,t.client)}))},e.prototype.updateModel=function(e,t){var r=this,n=c.generateUpdateMask(t);return this.signUrlIfPresent(t).then((function(t){return r.client.updateModel(e,t,n)})).then((function(e){return r.client.handleOperation(e)})).then((function(e){return new u(e,r.client)}))},e.prototype.publishModel=function(e){return this.setPublishStatus(e,!0)},e.prototype.unpublishModel=function(e){return this.setPublishStatus(e,!1)},e.prototype.getModel=function(e){var t=this;return this.client.getModel(e).then((function(e){return new u(e,t.client)}))},e.prototype.listModels=function(e){var t=this;return void 0===e&&(e={}),this.client.listModels(e).then((function(e){if(!i.isNonNullObject(e))throw new s.FirebaseMachineLearningError("invalid-argument","Invalid ListModels response: "+JSON.stringify(e));var r=[];e.models&&(r=e.models.map((function(e){return new u(e,t.client)})));var n={models:r};return e.nextPageToken&&(n.pageToken=e.nextPageToken),n}))},e.prototype.deleteModel=function(e){return this.client.deleteModel(e)},e.prototype.setPublishStatus=function(e,t){var r=this,n={state:{published:t}};return this.client.updateModel(e,n,["state.published"]).then((function(e){return r.client.handleOperation(e)})).then((function(e){return new u(e,r.client)}))},e.prototype.signUrlIfPresent=function(e){var t=a.deepCopy(e);return n.isGcsTfliteModelOptions(t)?this.signUrl(t.tfliteModel.gcsTfliteUri).then((function(e){return t.tfliteModel.gcsTfliteUri=e,t})).catch((function(e){throw new s.FirebaseMachineLearningError("internal-error","Error during signing upload url: "+e.message)})):Promise.resolve(t)},e.prototype.signUrl=function(e){var t=/^gs:\/\/([a-z0-9_.-]{3,63})\/(.+)$/.exec(e);if(!t)throw new s.FirebaseMachineLearningError("invalid-argument","Invalid unsigned url: "+e);var r=t[1],n=t[2];return this.appInternal.storage().bucket(r).file(n).getSignedUrl({action:"read",expires:Date.now()+6e5}).then((function(e){return e[0]}))},e}();t.Sw=l;var u=function(){function e(t,r){this.model=e.validateAndClone(t),this.client=r}return Object.defineProperty(e.prototype,"modelId",{get:function(){return this.model.name.split("/").pop()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return this.model.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tags",{get:function(){return this.model.tags||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createTime",{get:function(){return new Date(this.model.createTime).toUTCString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateTime",{get:function(){return new Date(this.model.updateTime).toUTCString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationError",{get:function(){var e,t;return null===(t=null===(e=this.model.state)||void 0===e?void 0:e.validationError)||void 0===t?void 0:t.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"published",{get:function(){var e;return(null===(e=this.model.state)||void 0===e?void 0:e.published)||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etag",{get:function(){return this.model.etag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelHash",{get:function(){return this.model.modelHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tfliteModel",{get:function(){return a.deepCopy(this.model.tfliteModel)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){var e,t;return(null!==(t=null===(e=this.model.activeOperations)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e={modelId:this.modelId,displayName:this.displayName,tags:this.tags,createTime:this.createTime,updateTime:this.updateTime,published:this.published,etag:this.etag,locked:this.locked};return this.validationError&&(e.validationError=this.validationError),this.modelHash&&(e.modelHash=this.modelHash),this.tfliteModel&&(e.tfliteModel=this.tfliteModel),e},e.prototype.waitForUnlocked=function(t){var r,n,o=this;return(null!==(n=null===(r=this.model.activeOperations)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0?this.client.handleOperation(this.model.activeOperations[0],{wait:!0,maxTimeMillis:t}).then((function(t){o.model=e.validateAndClone(t)})):Promise.resolve()},e.validateAndClone=function(e){if(!(i.isNonNullObject(e)&&i.isNonEmptyString(e.name)&&i.isNonEmptyString(e.createTime)&&i.isNonEmptyString(e.updateTime)&&i.isNonEmptyString(e.displayName)&&i.isNonEmptyString(e.etag)))throw new s.FirebaseMachineLearningError("invalid-server-response","Invalid Model response: "+JSON.stringify(e));var t=a.deepCopy(e);return!e.tfliteModel||i.isNonEmptyString(e.tfliteModel.gcsTfliteUri)||i.isNonEmptyString(e.tfliteModel.automlModel)||delete t.tfliteModel,t["@type"]&&delete t["@type"],t},e}()},2952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchRequestClient=void 0;var n=r(78127),o=r(56969),i="__END_OF_PART__",s=function(){function e(e,t,r){this.httpClient=e,this.batchUrl=t,this.commonHeaders=r}return e.prototype.send=function(e){var t=this;e=e.map((function(e){return e.headers=Object.assign({},t.commonHeaders,e.headers),e}));var r={"Content-Type":"multipart/mixed; boundary="+i},s={method:"POST",url:this.batchUrl,data:this.getMultipartPayload(e),headers:Object.assign({},this.commonHeaders,r),timeout:1e4};return this.httpClient.send(s).then((function(e){if(!e.multipart)throw new o.FirebaseAppError(o.AppErrorCodes.INTERNAL_ERROR,"Expected a multipart response.");return e.multipart.map((function(e){return n.parseHttpResponse(e,s)}))}))},e.prototype.getMultipartPayload=function(e){var t="";return e.forEach((function(e,r){t+=function(e,t,r){var n=function(e){var t=JSON.stringify(e.body),r="POST "+e.url+" HTTP/1.1\r\n";return r+="Content-Length: "+t.length+"\r\n",r+="Content-Type: application/json; charset=UTF-8\r\n",e.headers&&Object.keys(e.headers).forEach((function(t){r+=t+": "+e.headers[t]+"\r\n"})),r+="\r\n",r+=t}(e),o="--__END_OF_PART__\r\n";return o+="Content-Length: "+n.length+"\r\n",o+="Content-Type: application/http\r\n",o+="content-id: "+(r+1)+"\r\n",o+="content-transfer-encoding: binary\r\n",(o+="\r\n")+(n+"\r\n")}(e,0,r)})),t+="--__END_OF_PART__--\r\n",Buffer.from(t,"utf-8")},e}();t.BatchRequestClient=s},87855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseMessagingRequestHandler=void 0;var n=r(78127),o=r(14144),i=r(2952),s=r(95134),a={"X-Firebase-Client":"fire-admin-node/"+s.getSdkVersion()},c={"X-Firebase-Client":"fire-admin-node/"+s.getSdkVersion(),access_token_auth:"true"},l=function(){function e(e){this.httpClient=new n.AuthorizedHttpClient(e),this.batchClient=new i.BatchRequestClient(this.httpClient,"https://fcm.googleapis.com/batch",a)}return e.prototype.invokeRequestHandler=function(e,t,r){var i={method:"POST",url:"https://"+e+t,data:r,headers:c,timeout:1e4};return this.httpClient.send(i).then((function(e){if(!e.isJson())throw new n.HttpError(e);if(o.getErrorCode(e.data))throw new n.HttpError(e);return e.data})).catch((function(e){if(e instanceof n.HttpError)throw o.createFirebaseError(e);throw e}))},e.prototype.sendBatchRequest=function(e){var t=this;return this.batchClient.send(e).then((function(e){return e.map((function(e){return t.buildSendResponse(e)}))})).then((function(e){var t=e.filter((function(e){return e.success})).length;return{responses:e,successCount:t,failureCount:e.length-t}})).catch((function(e){if(e instanceof n.HttpError)throw o.createFirebaseError(e);throw e}))},e.prototype.buildSendResponse=function(e){var t={success:200===e.status};return t.success?t.messageId=e.data.name:t.error=o.createFirebaseError(new n.HttpError(e)),t},e}();t.FirebaseMessagingRequestHandler=l},14144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.createFirebaseError=void 0;var n=r(56969),o=r(69173);function i(e){if(o.isNonNullObject(e)&&"error"in e){var t=e.error;if(o.isString(t))return t;if(o.isArray(t.details))for(var r=0,n=t.details;r<n.length;r++){var i=n[r];if("type.googleapis.com/google.firebase.fcm.v1.FcmError"===i["@type"])return i.errorCode}return"status"in t?t.status:t.message}return null}t.createFirebaseError=function(e){if(e.response.isJson()){var t=e.response.data,r=i(t),s=(a=t,o.isNonNullObject(a)&&"error"in a&&o.isNonEmptyString(a.error.message)?a.error.message:null);return n.FirebaseMessagingError.fromServerError(r,s,t)}var a,c;switch(e.response.status){case 400:c=n.MessagingClientErrorCode.INVALID_ARGUMENT;break;case 401:case 403:c=n.MessagingClientErrorCode.AUTHENTICATION_ERROR;break;case 500:c=n.MessagingClientErrorCode.INTERNAL_ERROR;break;case 503:c=n.MessagingClientErrorCode.SERVER_UNAVAILABLE;break;default:c=n.MessagingClientErrorCode.UNKNOWN_ERROR}return new n.FirebaseMessagingError({code:c.code,message:c.message+' Raw server response: "'+e.response.text+'". Status code: '+e.response.status+"."})},t.getErrorCode=i},81571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMessage=t.BLACKLISTED_OPTIONS_KEYS=t.BLACKLISTED_DATA_PAYLOAD_KEYS=void 0;var n=r(95134),o=r(56969),i=r(69173);function s(e,t){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,t+" must be a non-null object");Object.keys(e).forEach((function(r){if(!i.isString(e[r]))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,t+" must only contain string values")}))}}function a(e){var t,r=Math.floor(e/1e3),n=1e6*(e-1e3*r);if(n>0){for(var o=n.toString();o.length<9;)o="0"+o;t=r+"."+o+"s"}else t=r+"s";return t}t.BLACKLISTED_DATA_PAYLOAD_KEYS=["from"],t.BLACKLISTED_OPTIONS_KEYS=["condition","data","notification","registrationIds","registration_ids","to"],t.validateMessage=function(e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Message must be a non-null object");var t=e;if(t.topic&&(t.topic.startsWith("/topics/")&&(t.topic=t.topic.replace(/^\/topics\//,"")),!/^[a-zA-Z0-9-_.~%]+$/.test(t.topic)))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Malformed topic name");if(1!==[t.token,t.topic,t.condition].filter((function(e){return i.isNonEmptyString(e)})).length)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Exactly one of topic, token or condition is required");s(e.data,"data"),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android must be a non-null object");if(void 0!==e.ttl){if(!i.isNumber(e.ttl)||e.ttl<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"TTL must be a non-negative duration in milliseconds");var t=a(e.ttl);e.ttl=t}s(e.data,"android.data"),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification must be a non-null object");if(void 0!==e.color&&!/^#[0-9a-fA-F]{6}$/.test(e.color))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.color must be in the form #RRGGBB");if(i.isNonEmptyArray(e.bodyLocArgs)&&!i.isNonEmptyString(e.bodyLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.bodyLocKey is required when specifying bodyLocArgs");if(i.isNonEmptyArray(e.titleLocArgs)&&!i.isNonEmptyString(e.titleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.titleLocKey is required when specifying titleLocArgs");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.imageUrl must be a valid URL string");if(void 0!==e.eventTimestamp){if(!(e.eventTimestamp instanceof Date))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.eventTimestamp must be a valid `Date` object");var t=e.eventTimestamp.toISOString();e.eventTimestamp=t}if(void 0!==e.vibrateTimingsMillis){if(!i.isNonEmptyArray(e.vibrateTimingsMillis))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be a non-empty array of numbers");var r=[];e.vibrateTimingsMillis.forEach((function(e){if(!i.isNumber(e)||e<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be non-negative durations in milliseconds");var t=a(e);r.push(t)})),e.vibrateTimingsMillis=r}if(void 0!==e.priority){var s="PRIORITY_"+e.priority.toUpperCase();e.priority=s}if(void 0!==e.visibility){var c=e.visibility.toUpperCase();e.visibility=c}!function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings must be a non-null object");if(!i.isNumber(e.lightOnDurationMillis)||e.lightOnDurationMillis<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOnDurationMillis must be a non-negative duration in milliseconds");var t=a(e.lightOnDurationMillis);if(e.lightOnDurationMillis=t,!i.isNumber(e.lightOffDurationMillis)||e.lightOffDurationMillis<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOffDurationMillis must be a non-negative duration in milliseconds");var r=a(e.lightOffDurationMillis);if(e.lightOffDurationMillis=r,!i.isString(e.color)||!/^#[0-9a-fA-F]{6}$/.test(e.color)&&!/^#[0-9a-fA-F]{8}$/.test(e.color))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.color must be in the form #RRGGBB or #RRGGBBAA format");var s=7===e.color.length?e.color+"FF":e.color,c=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/i.exec(s);if(!c||c.length<4)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INTERNAL_ERROR,"regex to extract rgba values from "+s+" failed.");var l={red:parseInt(c[1],16)/255,green:parseInt(c[2],16)/255,blue:parseInt(c[3],16)/255,alpha:parseInt(c[4],16)/255};e.color=l;n.renameProperties(e,{lightOnDurationMillis:"light_on_duration",lightOffDurationMillis:"light_off_duration"})}}(e.lightSettings);n.renameProperties(e,{clickAction:"click_action",bodyLocKey:"body_loc_key",bodyLocArgs:"body_loc_args",titleLocKey:"title_loc_key",titleLocArgs:"title_loc_args",channelId:"channel_id",imageUrl:"image",eventTimestamp:"event_time",localOnly:"local_only",priority:"notification_priority",vibrateTimingsMillis:"vibrate_timings",defaultVibrateTimings:"default_vibrate_timings",defaultSound:"default_sound",lightSettings:"light_settings",defaultLightSettings:"default_light_settings",notificationCount:"notification_count"})}}(e.notification),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}}(e.fcmOptions);n.renameProperties(e,{collapseKey:"collapse_key",restrictedPackageName:"restricted_package_name"})}}(e.android),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"webpush must be a non-null object");s(e.headers,"webpush.headers"),s(e.data,"webpush.data")}}(e.webpush),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns must be a non-null object");s(e.headers,"apns.headers"),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload must be a non-null object");!function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps must be a non-null object");(function(e){if(void 0!==e&&!i.isString(e)){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert must be a string or a non-null object");var t=e;if(i.isNonEmptyArray(t.locArgs)&&!i.isNonEmptyString(t.locKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.locKey is required when specifying locArgs");if(i.isNonEmptyArray(t.titleLocArgs)&&!i.isNonEmptyString(t.titleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.titleLocKey is required when specifying titleLocArgs");if(i.isNonEmptyArray(t.subtitleLocArgs)&&!i.isNonEmptyString(t.subtitleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.subtitleLocKey is required when specifying subtitleLocArgs");n.renameProperties(t,{locKey:"loc-key",locArgs:"loc-args",titleLocKey:"title-loc-key",titleLocArgs:"title-loc-args",subtitleLocKey:"subtitle-loc-key",subtitleLocArgs:"subtitle-loc-args",actionLocKey:"action-loc-key",launchImage:"launch-image"})}})(e.alert),function(e){if(void 0!==e&&!i.isNonEmptyString(e)){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound must be a non-empty string or a non-null object");if(!i.isNonEmptyString(e.name))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.name must be a non-empty string");var t=e.volume;if(void 0!==t){if(!i.isNumber(t))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be a number");if(t<0||t>1)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be in the interval [0, 1]")}var r=e,n="critical",s=r[n];void 0!==s&&1!==s&&(!0===s?r[n]=1:delete r[n])}}(e.sound);var t={contentAvailable:"content-available",mutableContent:"mutable-content",threadId:"thread-id"};Object.keys(t).forEach((function(r){if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Multiple specifications for "+r+" in Aps")})),n.renameProperties(e,t);var r=e["content-available"];void 0!==r&&1!==r&&(!0===r?e["content-available"]=1:delete e["content-available"]);var s=e["mutable-content"];void 0!==s&&1!==s&&(!0===s?e["mutable-content"]=1:delete e["mutable-content"])}}(e.aps)}}(e.payload),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"imageUrl must be a valid URL string");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value");var t={imageUrl:"image"};Object.keys(t).forEach((function(r){if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Multiple specifications for "+r+" in ApnsFcmOptions")})),n.renameProperties(e,t)}}(e.fcmOptions)}}(e.apns),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}}(e.fcmOptions),function(e){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"notification must be a non-null object");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"notification.imageUrl must be a valid URL string");var t={imageUrl:"image"};Object.keys(t).forEach((function(r){if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Multiple specifications for "+r+" in Notification")})),n.renameProperties(e,t)}}(e.notification)}},43845:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Messaging=void 0;var o=r(85326),i=r(81571),s=r(87855),a=r(56969),c=r(95134),l=r(69173),u="fcm.googleapis.com",p="/fcm/send",d={bodyLocArgs:"body_loc_args",bodyLocKey:"body_loc_key",clickAction:"click_action",titleLocArgs:"title_loc_args",titleLocKey:"title_loc_key"},f={dryRun:"dry_run",timeToLive:"time_to_live",collapseKey:"collapse_key",mutableContent:"mutable_content",contentAvailable:"content_available",restrictedPackageName:"restricted_package_name"},h={message_id:"messageId",registration_id:"canonicalRegistrationToken"},g={canonical_ids:"canonicalRegistrationTokenCount",failure:"failureCount",success:"successCount",multicast_id:"multicastId"},m={success:"successCount",failure:"failureCount",failed_registration_ids:"failedRegistrationTokens"},y={message_id:"messageId"},v={message_id:"messageId"};function b(e){return c.renameProperties(e,g),"results"in e&&e.results.forEach((function(e){if(c.renameProperties(e,h),"error"in e){var t=a.FirebaseMessagingError.fromServerError(e.error,void 0,e.error);e.error=t}})),e}function w(e){return c.renameProperties(e,m),e.failedRegistrationTokens=e.failedRegistrationTokens||[],e}var E=function(){function e(e){if(!l.isNonNullObject(e)||!("options"in e))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.messaging() must be a valid Firebase app instance.");this.appInternal=e,this.messagingRequestHandler=new s.FirebaseMessagingRequestHandler(e)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!1,configurable:!0}),e.prototype.send=function(e,t){var r=this,n=o.deepCopy(e);if(i.validateMessage(n),void 0!==t&&!l.isBoolean(t))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");return this.getUrlPath().then((function(e){var o={message:n};return t&&(o.validate_only=!0),r.messagingRequestHandler.invokeRequestHandler(u,e,o)})).then((function(e){return e.name}))},e.prototype.sendAll=function(e,t){var r=this;l.isArray(e)&&e.constructor!==Array&&(e=Array.from(e));var n=o.deepCopy(e);if(!l.isNonEmptyArray(n))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"messages must be a non-empty array");if(n.length>500)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"messages list must not contain more than 500 items");if(void 0!==t&&!l.isBoolean(t))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");return this.getUrlPath().then((function(e){var o=n.map((function(r){i.validateMessage(r);var n={message:r};return t&&(n.validate_only=!0),{url:"https://"+u+e,body:n}}));return r.messagingRequestHandler.sendBatchRequest(o)}))},e.prototype.sendMulticast=function(e,t){var r=o.deepCopy(e);if(!l.isNonNullObject(r))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"MulticastMessage must be a non-null object");if(!l.isNonEmptyArray(r.tokens))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens must be a non-empty array");if(r.tokens.length>500)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens list must not contain more than 500 items");var n=r.tokens.map((function(e){return{token:e,android:r.android,apns:r.apns,data:r.data,notification:r.notification,webpush:r.webpush,fcmOptions:r.fcmOptions}}));return this.sendAll(n,t)},e.prototype.sendToDevice=function(e,t,r){var i=this;return void 0===r&&(r={}),this.validateRegistrationTokensType(e,"sendToDevice",a.MessagingClientErrorCode.INVALID_RECIPIENT),this.validateMessagingPayloadAndOptionsTypes(t,r),Promise.resolve().then((function(){i.validateRegistrationTokens(e,"sendToDevice",a.MessagingClientErrorCode.INVALID_RECIPIENT);var n=i.validateMessagingPayload(t),s=i.validateMessagingOptions(r),c=o.deepCopy(n);return o.deepExtend(c,s),l.isString(e)?c.to=e:c.registration_ids=e,i.messagingRequestHandler.invokeRequestHandler(u,p,c)})).then((function(e){if("multicast_id"in e)return b(e);var t=w(e);return n(n({},t),{canonicalRegistrationTokenCount:-1,multicastId:-1,results:[]})}))},e.prototype.sendToDeviceGroup=function(e,t,r){var i=this;if(void 0===r&&(r={}),!l.isNonEmptyString(e))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() must be a non-empty string.");return-1!==e.indexOf(":")?Promise.reject(new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() has the format of a registration token. You should use sendToDevice() instead.")):(this.validateMessagingPayloadAndOptionsTypes(t,r),Promise.resolve().then((function(){var n=i.validateMessagingPayload(t),s=i.validateMessagingOptions(r),a=o.deepCopy(n);return o.deepExtend(a,s),a.to=e,i.messagingRequestHandler.invokeRequestHandler(u,p,a)})).then((function(e){if("multicast_id"in e){if(0===e.success)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() is invalid.");var t=b(e);return n(n({},t),{failedRegistrationTokens:[]})}return w(e)})))},e.prototype.sendToTopic=function(e,t,r){var n=this;return void 0===r&&(r={}),this.validateTopicType(e,"sendToTopic",a.MessagingClientErrorCode.INVALID_RECIPIENT),this.validateMessagingPayloadAndOptionsTypes(t,r),e=this.normalizeTopic(e),Promise.resolve().then((function(){var i=n.validateMessagingPayload(t),s=n.validateMessagingOptions(r);n.validateTopic(e,"sendToTopic",a.MessagingClientErrorCode.INVALID_RECIPIENT);var c=o.deepCopy(i);return o.deepExtend(c,s),c.to=e,n.messagingRequestHandler.invokeRequestHandler(u,p,c)})).then((function(e){return c.renameProperties(e,y),e}))},e.prototype.sendToCondition=function(e,t,r){var n=this;if(void 0===r&&(r={}),!l.isNonEmptyString(e))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_RECIPIENT,"Condition provided to sendToCondition() must be a non-empty string.");return this.validateMessagingPayloadAndOptionsTypes(t,r),e=e.replace(/"/g,"'"),Promise.resolve().then((function(){var i=n.validateMessagingPayload(t),s=n.validateMessagingOptions(r),a=o.deepCopy(i);return o.deepExtend(a,s),a.condition=e,n.messagingRequestHandler.invokeRequestHandler(u,p,a)})).then((function(e){return c.renameProperties(e,v),e}))},e.prototype.subscribeToTopic=function(e,t){return this.sendTopicManagementRequest(e,t,"subscribeToTopic","/iid/v1:batchAdd")},e.prototype.unsubscribeFromTopic=function(e,t){return this.sendTopicManagementRequest(e,t,"unsubscribeFromTopic","/iid/v1:batchRemove")},e.prototype.getUrlPath=function(){var e=this;return this.urlPath?Promise.resolve(this.urlPath):c.findProjectId(this.app).then((function(t){if(!l.isNonEmptyString(t))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_ARGUMENT,"Failed to determine project ID for Messaging. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return e.urlPath="/v1/projects/"+t+"/messages:send",e.urlPath}))},e.prototype.sendTopicManagementRequest=function(e,t,r,n){var o=this;return this.validateRegistrationTokensType(e,r),this.validateTopicType(t,r),t=this.normalizeTopic(t),Promise.resolve().then((function(){o.validateRegistrationTokens(e,r),o.validateTopic(t,r);var i=e;l.isString(e)&&(i=[e]);var s={to:t,registration_tokens:i};return o.messagingRequestHandler.invokeRequestHandler("iid.googleapis.com",n,s)})).then((function(e){return function(e){var t={successCount:0,failureCount:0,errors:[]};return"results"in e&&e.results.forEach((function(e,r){if("error"in e){t.failureCount+=1;var n=a.FirebaseMessagingError.fromTopicManagementServerError(e.error,void 0,e.error);t.errors.push({index:r,error:n})}else t.successCount+=1})),t}(e)}))},e.prototype.validateMessagingPayloadAndOptionsTypes=function(e,t){if(!l.isNonNullObject(e))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload must be an object with at least one of the "data" or "notification" properties.');if(!l.isNonNullObject(t))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,"Messaging options must be an object.")},e.prototype.validateMessagingPayload=function(e){var t=o.deepCopy(e),r=Object.keys(t),n=["data","notification"],s=!1;if(r.forEach((function(e){if(-1===n.indexOf(e))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid "'+e+'" property. Valid properties are "data" and "notification".');s=!0})),!s)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload must contain at least one of the "data" or "notification" properties.');var u=function(e,t){if(!l.isNonNullObject(t))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid value for the "'+e+'" property. Value must be an object.');Object.keys(t).forEach((function(r){if(!l.isString(t[r]))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid value for the "'+e+"."+r+'" property. Values must be strings.');if("data"===e&&/^google\./.test(r))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains the blacklisted "data.'+r+'" property.')}))};return void 0!==t.data&&u("data",t.data),void 0!==t.notification&&u("notification",t.notification),"data"in t&&i.BLACKLISTED_DATA_PAYLOAD_KEYS.forEach((function(e){if(e in t.data)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains the blacklisted "data.'+e+'" property.')})),t.notification&&c.renameProperties(t.notification,d),t},e.prototype.validateMessagingOptions=function(e){var t=o.deepCopy(e);if(i.BLACKLISTED_OPTIONS_KEYS.forEach((function(e){if(e in t)throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains the blacklisted "'+e+'" property.')})),c.renameProperties(t,f),"collapse_key"in t&&!l.isNonEmptyString(t.collapse_key)){var r="collapseKey"in e?"collapseKey":"collapse_key";throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a non-empty string.')}if("dry_run"in t&&!l.isBoolean(t.dry_run))throw r="dryRun"in e?"dryRun":"dry_run",new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a boolean.');if("priority"in t&&!l.isNonEmptyString(t.priority))throw new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "priority" property. Value must be a non-empty string.');if("restricted_package_name"in t&&!l.isNonEmptyString(t.restricted_package_name))throw r="restrictedPackageName"in e?"restrictedPackageName":"restricted_package_name",new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a non-empty string.');if("time_to_live"in t&&!l.isNumber(t.time_to_live))throw r="timeToLive"in e?"timeToLive":"time_to_live",new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a number.');if("content_available"in t&&!l.isBoolean(t.content_available))throw r="contentAvailable"in e?"contentAvailable":"content_available",new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a boolean.');if("mutable_content"in t&&!l.isBoolean(t.mutable_content))throw r="mutableContent"in e?"mutableContent":"mutable_content",new a.FirebaseMessagingError(a.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+r+'" property. Value must be a boolean.');return t},e.prototype.validateRegistrationTokensType=function(e,t,r){if(void 0===r&&(r=a.MessagingClientErrorCode.INVALID_ARGUMENT),!l.isNonEmptyArray(e)&&!l.isNonEmptyString(e))throw new a.FirebaseMessagingError(r,"Registration token(s) provided to "+t+"() must be a non-empty string or a non-empty array.")},e.prototype.validateRegistrationTokens=function(e,t,r){if(void 0===r&&(r=a.MessagingClientErrorCode.INVALID_ARGUMENT),l.isArray(e)){if(e.length>1e3)throw new a.FirebaseMessagingError(r,"Too many registration tokens provided in a single request to "+t+"(). Batch your requests to contain no more than 1,000 registration tokens per request.");e.forEach((function(e,n){if(!l.isNonEmptyString(e))throw new a.FirebaseMessagingError(r,"Registration token provided to "+t+"() at index "+n+" must be a non-empty string.")}))}},e.prototype.validateTopicType=function(e,t,r){if(void 0===r&&(r=a.MessagingClientErrorCode.INVALID_ARGUMENT),!l.isNonEmptyString(e))throw new a.FirebaseMessagingError(r,"Topic provided to "+t+'() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".')},e.prototype.validateTopic=function(e,t,r){if(void 0===r&&(r=a.MessagingClientErrorCode.INVALID_ARGUMENT),!l.isTopic(e))throw new a.FirebaseMessagingError(r,"Topic provided to "+t+'() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".')},e.prototype.normalizeTopic=function(e){return/^\/topics\//.test(e)||(e="/topics/"+e),e},e}();t.Messaging=E},27547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShaCertificate=t.AndroidApp=void 0;var n=r(56969),o=r(69173),i=r(55565),s=r(38943).projectManagement.AppPlatform,a=function(){function e(e,t){if(this.appId=e,this.requestHandler=t,!o.isNonEmptyString(e))throw new n.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/androidApps/"+e}return e.prototype.getMetadata=function(){return this.requestHandler.getResource(this.resourceName).then((function(e){return i.assertServerResponse(o.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object."),["name","appId","projectId","packageName"].forEach((function(t){i.assertServerResponse(o.isNonEmptyString(e[t]),e,"getMetadata()'s responseData."+t+" must be a non-empty string.")})),{platform:s.ANDROID,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,packageName:e.packageName}}))},e.prototype.setDisplayName=function(e){return this.requestHandler.setDisplayName(this.resourceName,e)},e.prototype.getShaCertificates=function(){return this.requestHandler.getAndroidShaCertificates(this.resourceName).then((function(e){if(i.assertServerResponse(o.isNonNullObject(e),e,"getShaCertificates()'s responseData must be a non-null object."),!e.certificates)return[];i.assertServerResponse(o.isArray(e.certificates),e,'"certificates" field must be present in the getShaCertificates() response data.');var t=["name","shaHash"];return e.certificates.map((function(r){return t.forEach((function(t){i.assertServerResponse(o.isNonEmptyString(r[t]),e,"getShaCertificates()'s responseData.certificates[]."+t+" must be a non-empty string.")})),new c(r.shaHash,r.name)}))}))},e.prototype.addShaCertificate=function(e){return this.requestHandler.addAndroidShaCertificate(this.resourceName,e)},e.prototype.deleteShaCertificate=function(e){if(!e.resourceName)throw new n.FirebaseProjectManagementError("invalid-argument","Specified certificate does not include a resourceName. (Use AndroidApp.getShaCertificates() to retrieve certificates with a resourceName.");return this.requestHandler.deleteResource(e.resourceName)},e.prototype.getConfig=function(){return this.requestHandler.getConfig(this.resourceName).then((function(e){i.assertServerResponse(o.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");var t=e.configFileContents;return i.assertServerResponse(o.isBase64String(t),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(t,"base64").toString("utf8")}))},e}();t.AndroidApp=a;var c=function(e,t){if(this.shaHash=e,this.resourceName=t,/^[a-fA-F0-9]{40}$/.test(e))this.certType="sha1";else{if(!/^[a-fA-F0-9]{64}$/.test(e))throw new n.FirebaseProjectManagementError("invalid-argument","shaHash must be either a sha256 hash or a sha1 hash.");this.certType="sha256"}};t.ShaCertificate=c},38943:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.projectManagement=void 0,r=t.projectManagement||(t.projectManagement={}),(n=r.AppPlatform||(r.AppPlatform={})).PLATFORM_UNKNOWN="PLATFORM_UNKNOWN",n.IOS="IOS",n.ANDROID="ANDROID"},42675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IosApp=void 0;var n=r(56969),o=r(69173),i=r(55565),s=r(38943).projectManagement.AppPlatform,a=function(){function e(e,t){if(this.appId=e,this.requestHandler=t,!o.isNonEmptyString(e))throw new n.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/iosApps/"+e}return e.prototype.getMetadata=function(){return this.requestHandler.getResource(this.resourceName).then((function(e){return i.assertServerResponse(o.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object."),["name","appId","projectId","bundleId"].forEach((function(t){i.assertServerResponse(o.isNonEmptyString(e[t]),e,"getMetadata()'s responseData."+t+" must be a non-empty string.")})),{platform:s.IOS,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,bundleId:e.bundleId}}))},e.prototype.setDisplayName=function(e){return this.requestHandler.setDisplayName(this.resourceName,e)},e.prototype.getConfig=function(){return this.requestHandler.getConfig(this.resourceName).then((function(e){i.assertServerResponse(o.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");var t=e.configFileContents;return i.assertServerResponse(o.isBase64String(t),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(t,"base64").toString("utf8")}))},e}();t.IosApp=a},55565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectManagementRequestHandler=t.assertServerResponse=void 0;var n=r(78127),o=r(56969),i=r(69173),s={"X-Client-Version":"Node/Admin/"+r(95134).getSdkVersion()},a={sha1:"SHA_1",sha256:"SHA_256"};function c(e,t,r){if(!e)throw new o.FirebaseProjectManagementError("invalid-server-response",r+" Response data: "+JSON.stringify(t,null,2))}t.assertServerResponse=c;var l=function(){function e(e){this.baseUrl="https://firebase.googleapis.com:443/v1/",this.baseBetaUrl="https://firebase.googleapis.com:443/v1beta1/",this.httpClient=new n.AuthorizedHttpClient(e)}return e.wrapAndRethrowHttpError=function(e,t){var r,n;switch(e){case 400:r="invalid-argument",n="Invalid argument provided.";break;case 401:case 403:r="authentication-error",n="An error occurred when trying to authenticate. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions.";break;case 404:r="not-found",n="The specified entity could not be found.";break;case 409:r="already-exists",n="The specified entity already exists.";break;case 500:r="internal-error",n="An internal error has occurred. Please retry the request.";break;case 503:r="service-unavailable",n="The server could not process the request in time. See the error documentation for more details.";break;default:r="unknown-error",n="An unknown server error was returned."}throw t||(t="<missing>"),new o.FirebaseProjectManagementError(r,n+" Status code: "+e+'. Raw server response: "'+t+'".')},e.prototype.listAndroidApps=function(e){return this.invokeRequestHandler("GET",e+"/androidApps?page_size=100",null,"v1beta1")},e.prototype.listIosApps=function(e){return this.invokeRequestHandler("GET",e+"/iosApps?page_size=100",null,"v1beta1")},e.prototype.listAppMetadata=function(e){return this.invokeRequestHandler("GET",e+":searchApps?page_size=100",null,"v1beta1")},e.prototype.createAndroidApp=function(e,t,r){var n=this,o={packageName:t};return i.isNonEmptyString(r)&&(o.displayName=r),this.invokeRequestHandler("POST",e+"/androidApps",o,"v1beta1").then((function(e){return c(i.isNonNullObject(e),e,"createAndroidApp's responseData must be a non-null object."),c(i.isNonEmptyString(e.name),e,"createAndroidApp's responseData.name must be a non-empty string."),n.pollRemoteOperationWithExponentialBackoff(e.name)}))},e.prototype.createIosApp=function(e,t,r){var n=this,o={bundleId:t};return i.isNonEmptyString(r)&&(o.displayName=r),this.invokeRequestHandler("POST",e+"/iosApps",o,"v1beta1").then((function(e){return c(i.isNonNullObject(e),e,"createIosApp's responseData must be a non-null object."),c(i.isNonEmptyString(e.name),e,"createIosApp's responseData.name must be a non-empty string."),n.pollRemoteOperationWithExponentialBackoff(e.name)}))},e.prototype.setDisplayName=function(e,t){var r={displayName:t};return this.invokeRequestHandler("PATCH",e+"?update_mask=display_name",r,"v1beta1").then((function(){}))},e.prototype.getAndroidShaCertificates=function(e){return this.invokeRequestHandler("GET",e+"/sha",null,"v1beta1")},e.prototype.addAndroidShaCertificate=function(e,t){var r={shaHash:t.shaHash,certType:a[t.certType]};return this.invokeRequestHandler("POST",e+"/sha",r,"v1beta1").then((function(){}))},e.prototype.getConfig=function(e){return this.invokeRequestHandler("GET",e+"/config",null,"v1beta1")},e.prototype.getResource=function(e){return this.invokeRequestHandler("GET",e,null,"v1beta1")},e.prototype.deleteResource=function(e){return this.invokeRequestHandler("DELETE",e,null,"v1beta1").then((function(){}))},e.prototype.pollRemoteOperationWithExponentialBackoff=function(t){var r=this;return(new n.ExponentialBackoffPoller).poll((function(){return r.invokeRequestHandler("GET",t,null).then((function(t){if(t.error){var r=t.error.code||500,n=t.error.message||JSON.stringify(t.error);e.wrapAndRethrowHttpError(r,n)}return t.done?t.response:null}))}))},e.prototype.invokeRequestHandler=function(t,r,o,i){void 0===i&&(i="v1");var a={method:t,url:""+("v1"===i?this.baseUrl:this.baseBetaUrl)+r,headers:s,data:o,timeout:1e4};return this.httpClient.send(a).then((function(e){if(!e.isJson())throw new n.HttpError(e);return e.data})).catch((function(t){throw t instanceof n.HttpError&&e.wrapAndRethrowHttpError(t.response.status,t.response.text),t}))},e}();t.ProjectManagementRequestHandler=l},97095:(e,t,r)=>{"use strict";t.D=void 0;var n=r(56969),o=r(95134),i=r(69173),s=r(27547),a=r(42675),c=r(55565),l=r(38943).projectManagement.AppPlatform,u=function(){function e(e){if(this.app=e,!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseProjectManagementError("invalid-argument","First argument passed to admin.projectManagement() must be a valid Firebase app instance.");this.requestHandler=new c.ProjectManagementRequestHandler(e)}return e.prototype.listAndroidApps=function(){return this.listPlatformApps("android","listAndroidApps()")},e.prototype.listIosApps=function(){return this.listPlatformApps("ios","listIosApps()")},e.prototype.androidApp=function(e){return new s.AndroidApp(e,this.requestHandler)},e.prototype.iosApp=function(e){return new a.IosApp(e,this.requestHandler)},e.prototype.shaCertificate=function(e){return new s.ShaCertificate(e)},e.prototype.createAndroidApp=function(e,t){var r=this;return this.getResourceName().then((function(n){return r.requestHandler.createAndroidApp(n,e,t)})).then((function(e){return c.assertServerResponse(i.isNonNullObject(e),e,"createAndroidApp()'s responseData must be a non-null object."),c.assertServerResponse(i.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createAndroidApp()\'s response data.'),new s.AndroidApp(e.appId,r.requestHandler)}))},e.prototype.createIosApp=function(e,t){var r=this;return this.getResourceName().then((function(n){return r.requestHandler.createIosApp(n,e,t)})).then((function(e){return c.assertServerResponse(i.isNonNullObject(e),e,"createIosApp()'s responseData must be a non-null object."),c.assertServerResponse(i.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createIosApp()\'s response data.'),new a.IosApp(e.appId,r.requestHandler)}))},e.prototype.listAppMetadata=function(){var e=this;return this.getResourceName().then((function(t){return e.requestHandler.listAppMetadata(t)})).then((function(t){return e.getProjectId().then((function(r){return e.transformResponseToAppMetadata(t,r)}))}))},e.prototype.setDisplayName=function(e){var t=this;return this.getResourceName().then((function(r){return t.requestHandler.setDisplayName(r,e)}))},e.prototype.transformResponseToAppMetadata=function(e,t){return this.assertListAppsResponseData(e,"listAppMetadata()"),e.apps?e.apps.map((function(r){c.assertServerResponse(i.isNonEmptyString(r.appId),e,'"apps[].appId" field must be present in the listAppMetadata() response data.'),c.assertServerResponse(i.isNonEmptyString(r.platform),e,'"apps[].platform" field must be present in the listAppMetadata() response data.');var n={appId:r.appId,platform:l[r.platform]||l.PLATFORM_UNKNOWN,projectId:t,resourceName:r.name};return r.displayName&&(n.displayName=r.displayName),n})):[]},e.prototype.getResourceName=function(){return this.getProjectId().then((function(e){return"projects/"+e}))},e.prototype.getProjectId=function(){var e=this;return this.projectId?Promise.resolve(this.projectId):o.findProjectId(this.app).then((function(t){if(!i.isNonEmptyString(t))throw new n.FirebaseProjectManagementError("invalid-project-id","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectId=t,e.projectId}))},e.prototype.listPlatformApps=function(e,t){var r=this;return this.getResourceName().then((function(t){return"android"===e?r.requestHandler.listAndroidApps(t):r.requestHandler.listIosApps(t)})).then((function(n){return r.assertListAppsResponseData(n,t),n.apps?n.apps.map((function(o){return c.assertServerResponse(i.isNonEmptyString(o.appId),n,'"apps[].appId" field must be present in the '+t+" response data."),"android"===e?new s.AndroidApp(o.appId,r.requestHandler):new a.IosApp(o.appId,r.requestHandler)})):[]}))},e.prototype.assertListAppsResponseData=function(e,t){c.assertServerResponse(i.isNonNullObject(e),e,t+"'s responseData must be a non-null object."),e.apps&&c.assertServerResponse(i.isArray(e.apps),e,'"apps" field must be present in the '+t+" response data.")},e}();t.D=u},5482:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseRemoteConfigError=t.RemoteConfigApiClient=void 0;var s=r(78127),a=r(56969),c=r(95134),l=r(69173),u=r(85326),p={"X-Firebase-Client":"fire-admin-node/"+c.getSdkVersion(),"Accept-Encoding":"gzip"},d=function(){function e(e){if(this.app=e,!l.isNonNullObject(e)||!("options"in e))throw new h("invalid-argument","First argument passed to admin.remoteConfig() must be a valid Firebase app instance.");this.httpClient=new s.AuthorizedHttpClient(e)}return e.prototype.getTemplate=function(){var e=this;return this.getUrl().then((function(t){var r={method:"GET",url:t+"/remoteConfig",headers:p};return e.httpClient.send(r)})).then((function(t){return e.toRemoteConfigTemplate(t)})).catch((function(t){throw e.toFirebaseError(t)}))},e.prototype.getTemplateAtVersion=function(e){var t=this,r={versionNumber:this.validateVersionNumber(e)};return this.getUrl().then((function(e){var n={method:"GET",url:e+"/remoteConfig",headers:p,data:r};return t.httpClient.send(n)})).then((function(e){return t.toRemoteConfigTemplate(e)})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.validateTemplate=function(e){var t=this;return e=this.validateInputRemoteConfigTemplate(e),this.sendPutRequest(e,e.etag,!0).then((function(r){return t.validateEtag(r.headers.etag),t.toRemoteConfigTemplate(r,e.etag)})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.publishTemplate=function(e,t){var r=this,n=(e=this.validateInputRemoteConfigTemplate(e)).etag;return t&&1==t.force&&(n="*"),this.sendPutRequest(e,n).then((function(e){return r.toRemoteConfigTemplate(e)})).catch((function(e){throw r.toFirebaseError(e)}))},e.prototype.rollback=function(e){var t=this,r={versionNumber:this.validateVersionNumber(e)};return this.getUrl().then((function(e){var n={method:"POST",url:e+"/remoteConfig:rollback",headers:p,data:r};return t.httpClient.send(n)})).then((function(e){return t.toRemoteConfigTemplate(e)})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.listVersions=function(e){var t=this;return void 0!==e&&(e=this.validateListVersionsOptions(e)),this.getUrl().then((function(r){var n={method:"GET",url:r+"/remoteConfig:listVersions",headers:p,data:e};return t.httpClient.send(n)})).then((function(e){return e.data})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.sendPutRequest=function(e,t,r){var n=this,o="remoteConfig";return r&&(o+="?validate_only=true"),this.getUrl().then((function(r){var s={method:"PUT",url:r+"/"+o,headers:i(i({},p),{"If-Match":t}),data:{conditions:e.conditions,parameters:e.parameters,parameterGroups:e.parameterGroups,version:e.version}};return n.httpClient.send(s)}))},e.prototype.getUrl=function(){return this.getProjectIdPrefix().then((function(e){return"https://firebaseremoteconfig.googleapis.com/v1/"+e}))},e.prototype.getProjectIdPrefix=function(){var e=this;return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):c.findProjectId(this.app).then((function(t){if(!l.isNonEmptyString(t))throw new h("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectIdPrefix="projects/"+t,e.projectIdPrefix}))},e.prototype.toFirebaseError=function(e){if(e instanceof a.PrefixedFirebaseError)return e;var t=e.response;if(!t.isJson())return new h("unknown-error","Unexpected response with status: "+t.status+" and body: "+t.text);var r=t.data.error||{},n="unknown-error";r.status&&r.status in f&&(n=f[r.status]);var o=r.message||"Unknown server error: "+t.text;return new h(n,o)},e.prototype.toRemoteConfigTemplate=function(e,t){var r=void 0===t?e.headers.etag:t;return this.validateEtag(r),{conditions:e.data.conditions,parameters:e.data.parameters,parameterGroups:e.data.parameterGroups,etag:r,version:e.data.version}},e.prototype.validateInputRemoteConfigTemplate=function(e){var t=u.deepCopy(e);if(!l.isNonNullObject(t))throw new h("invalid-argument","Invalid Remote Config template: "+JSON.stringify(t));if(!l.isNonEmptyString(t.etag))throw new h("invalid-argument","ETag must be a non-empty string.");if(!l.isNonNullObject(t.parameters))throw new h("invalid-argument","Remote Config parameters must be a non-null object");if(!l.isNonNullObject(t.parameterGroups))throw new h("invalid-argument","Remote Config parameter groups must be a non-null object");if(!l.isArray(t.conditions))throw new h("invalid-argument","Remote Config conditions must be an array");return void 0!==t.version&&(t.version={description:t.version.description}),t},e.prototype.validateVersionNumber=function(e,t){if(void 0===t&&(t="versionNumber"),!l.isNonEmptyString(e)&&!l.isNumber(e))throw new h("invalid-argument",t+" must be a non-empty string in int64 format or a number");if(!Number.isInteger(Number(e)))throw new h("invalid-argument",t+" must be an integer or a string in int64 format");return e.toString()},e.prototype.validateEtag=function(e){if(!l.isNonEmptyString(e))throw new h("invalid-argument","ETag header is not present in the server response.")},e.prototype.validateListVersionsOptions=function(e){var t=u.deepCopy(e);if(!l.isNonNullObject(t))throw new h("invalid-argument","ListVersionsOptions must be a non-null object.");if(void 0!==t.pageSize){if(!l.isNumber(t.pageSize))throw new h("invalid-argument","pageSize must be a number.");if(t.pageSize<1||t.pageSize>300)throw new h("invalid-argument","pageSize must be a number between 1 and 300 (inclusive).")}if(void 0!==t.pageToken&&!l.isNonEmptyString(t.pageToken))throw new h("invalid-argument","pageToken must be a string value.");if(void 0!==t.endVersionNumber&&(t.endVersionNumber=this.validateVersionNumber(t.endVersionNumber,"endVersionNumber")),void 0!==t.startTime){if(!(t.startTime instanceof Date||l.isUTCDateString(t.startTime)))throw new h("invalid-argument","startTime must be a valid Date object or a UTC date string.");t.startTime instanceof Date?t.startTime=t.startTime.toISOString():t.startTime=new Date(t.startTime).toISOString()}if(void 0!==t.endTime){if(!(t.endTime instanceof Date||l.isUTCDateString(t.endTime)))throw new h("invalid-argument","endTime must be a valid Date object or a UTC date string.");t.endTime instanceof Date?t.endTime=t.endTime.toISOString():t.endTime=new Date(t.endTime).toISOString()}return Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),t},e}();t.RemoteConfigApiClient=d;var f={ABORTED:"aborted",ALREADY_EXISTS:"already-exists",INVALID_ARGUMENT:"invalid-argument",INTERNAL:"internal-error",FAILED_PRECONDITION:"failed-precondition",NOT_FOUND:"not-found",OUT_OF_RANGE:"out-of-range",PERMISSION_DENIED:"permission-denied",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"unauthenticated",UNKNOWN:"unknown-error"},h=function(e){function t(t,r){return e.call(this,"remote-config",t,r)||this}return o(t,e),t}(a.PrefixedFirebaseError);t.FirebaseRemoteConfigError=h},70391:(e,t,r)=>{"use strict";t.a=void 0;var n=r(69173),o=r(5482),i=function(){function e(e){this.app=e,this.client=new o.RemoteConfigApiClient(e)}return e.prototype.getTemplate=function(){return this.client.getTemplate().then((function(e){return new s(e)}))},e.prototype.getTemplateAtVersion=function(e){return this.client.getTemplateAtVersion(e).then((function(e){return new s(e)}))},e.prototype.validateTemplate=function(e){return this.client.validateTemplate(e).then((function(e){return new s(e)}))},e.prototype.publishTemplate=function(e,t){return this.client.publishTemplate(e,t).then((function(e){return new s(e)}))},e.prototype.rollback=function(e){return this.client.rollback(e).then((function(e){return new s(e)}))},e.prototype.listVersions=function(e){return this.client.listVersions(e).then((function(e){var t,r;return{versions:null!==(r=null===(t=e.versions)||void 0===t?void 0:t.map((function(e){return new a(e)})))&&void 0!==r?r:[],nextPageToken:e.nextPageToken}}))},e.prototype.createTemplateFromJSON=function(e){if(!n.isNonEmptyString(e))throw new o.FirebaseRemoteConfigError("invalid-argument","JSON string must be a valid non-empty string");var t;try{t=JSON.parse(e)}catch(t){throw new o.FirebaseRemoteConfigError("invalid-argument","Failed to parse the JSON string: "+e+". "+t)}return new s(t)},e}();t.a=i;var s=function(){function e(e){if(!n.isNonNullObject(e)||!n.isNonEmptyString(e.etag))throw new o.FirebaseRemoteConfigError("invalid-argument","Invalid Remote Config template: "+JSON.stringify(e));if(this.etagInternal=e.etag,void 0!==e.parameters){if(!n.isNonNullObject(e.parameters))throw new o.FirebaseRemoteConfigError("invalid-argument","Remote Config parameters must be a non-null object");this.parameters=e.parameters}else this.parameters={};if(void 0!==e.parameterGroups){if(!n.isNonNullObject(e.parameterGroups))throw new o.FirebaseRemoteConfigError("invalid-argument","Remote Config parameter groups must be a non-null object");this.parameterGroups=e.parameterGroups}else this.parameterGroups={};if(void 0!==e.conditions){if(!n.isArray(e.conditions))throw new o.FirebaseRemoteConfigError("invalid-argument","Remote Config conditions must be an array");this.conditions=e.conditions}else this.conditions=[];void 0!==e.version&&(this.version=new a(e.version))}return Object.defineProperty(e.prototype,"etag",{get:function(){return this.etagInternal},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{conditions:this.conditions,parameters:this.parameters,parameterGroups:this.parameterGroups,etag:this.etag,version:this.version}},e}(),a=function(){function e(e){if(!n.isNonNullObject(e))throw new o.FirebaseRemoteConfigError("invalid-argument","Invalid Remote Config version instance: "+JSON.stringify(e));if(void 0!==e.versionNumber){if(!n.isNonEmptyString(e.versionNumber)&&!n.isNumber(e.versionNumber))throw new o.FirebaseRemoteConfigError("invalid-argument","Version number must be a non-empty string in int64 format or a number");if(!Number.isInteger(Number(e.versionNumber)))throw new o.FirebaseRemoteConfigError("invalid-argument","Version number must be an integer or a string in int64 format");this.versionNumber=e.versionNumber}if(void 0!==e.updateOrigin){if(!n.isNonEmptyString(e.updateOrigin))throw new o.FirebaseRemoteConfigError("invalid-argument","Version update origin must be a non-empty string");this.updateOrigin=e.updateOrigin}if(void 0!==e.updateType){if(!n.isNonEmptyString(e.updateType))throw new o.FirebaseRemoteConfigError("invalid-argument","Version update type must be a non-empty string");this.updateType=e.updateType}if(void 0!==e.updateUser){if(!n.isNonNullObject(e.updateUser))throw new o.FirebaseRemoteConfigError("invalid-argument","Version update user must be a non-null object");this.updateUser=e.updateUser}if(void 0!==e.description){if(!n.isNonEmptyString(e.description))throw new o.FirebaseRemoteConfigError("invalid-argument","Version description must be a non-empty string");this.description=e.description}if(void 0!==e.rollbackSource){if(!n.isNonEmptyString(e.rollbackSource))throw new o.FirebaseRemoteConfigError("invalid-argument","Version rollback source must be a non-empty string");this.rollbackSource=e.rollbackSource}if(void 0!==e.isLegacy){if(!n.isBoolean(e.isLegacy))throw new o.FirebaseRemoteConfigError("invalid-argument","Version.isLegacy must be a boolean");this.isLegacy=e.isLegacy}if(void 0!==e.updateTime){if(!this.isValidTimestamp(e.updateTime))throw new o.FirebaseRemoteConfigError("invalid-argument","Version update time must be a valid date string");this.updateTime=new Date(e.updateTime).toUTCString()}}return e.prototype.toJSON=function(){return{versionNumber:this.versionNumber,updateOrigin:this.updateOrigin,updateType:this.updateType,updateUser:this.updateUser,description:this.description,rollbackSource:this.rollbackSource,isLegacy:this.isLegacy,updateTime:this.updateTime}},e.prototype.isValidTimestamp=function(e){return n.isNonEmptyString(e)&&new Date(e).getTime()>0},e}()},86029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityRulesApiClient=void 0;var n=r(78127),o=r(56969),i=r(83642),s=r(95134),a=r(69173),c={"X-Firebase-Client":"fire-admin-node/"+s.getSdkVersion()},l=function(){function e(e){if(this.app=e,!a.isNonNullObject(e)||!("options"in e))throw new i.FirebaseSecurityRulesError("invalid-argument","First argument passed to admin.securityRules() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}return e.prototype.getRuleset=function(e){var t=this;return Promise.resolve().then((function(){return t.getRulesetName(e)})).then((function(e){return t.getResource(e)}))},e.prototype.createRuleset=function(e){var t=this;if(!a.isNonNullObject(e)||!a.isNonNullObject(e.source)||!a.isNonEmptyArray(e.source.files)){var r=new i.FirebaseSecurityRulesError("invalid-argument","Invalid rules content.");return Promise.reject(r)}for(var n=0,o=e.source.files;n<o.length;n++){var s=o[n];if(!a.isNonNullObject(s)||!a.isNonEmptyString(s.name)||!a.isNonEmptyString(s.content))return r=new i.FirebaseSecurityRulesError("invalid-argument","Invalid rules file argument: "+JSON.stringify(s)),Promise.reject(r)}return this.getUrl().then((function(r){var n={method:"POST",url:r+"/rulesets",data:e};return t.sendRequest(n)}))},e.prototype.deleteRuleset=function(e){var t=this;return this.getUrl().then((function(r){var n={method:"DELETE",url:r+"/"+t.getRulesetName(e)};return t.sendRequest(n)}))},e.prototype.listRulesets=function(e,t){var r=this;if(void 0===e&&(e=100),!a.isNumber(e)){var n=new i.FirebaseSecurityRulesError("invalid-argument","Invalid page size.");return Promise.reject(n)}if(e<1||e>100)return n=new i.FirebaseSecurityRulesError("invalid-argument","Page size must be between 1 and 100."),Promise.reject(n);if(void 0!==t&&!a.isNonEmptyString(t))return n=new i.FirebaseSecurityRulesError("invalid-argument","Next page token must be a non-empty string."),Promise.reject(n);var o={pageSize:e,pageToken:t};return t||delete o.pageToken,this.getUrl().then((function(e){var t={method:"GET",url:e+"/rulesets",data:o};return r.sendRequest(t)}))},e.prototype.getRelease=function(e){return this.getResource("releases/"+e)},e.prototype.updateRelease=function(e,t){var r=this;return this.getUrl().then((function(n){return r.getReleaseDescription(e,t).then((function(t){var o={method:"PATCH",url:n+"/releases/"+e,data:{release:t}};return r.sendRequest(o)}))}))},e.prototype.getUrl=function(){return this.getProjectIdPrefix().then((function(e){return"https://firebaserules.googleapis.com/v1/"+e}))},e.prototype.getProjectIdPrefix=function(){var e=this;return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):s.findProjectId(this.app).then((function(t){if(!a.isNonEmptyString(t))throw new i.FirebaseSecurityRulesError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return e.projectIdPrefix="projects/"+t,e.projectIdPrefix}))},e.prototype.getResource=function(e){var t=this;return this.getUrl().then((function(r){var n={method:"GET",url:r+"/"+e};return t.sendRequest(n)}))},e.prototype.getReleaseDescription=function(e,t){var r=this;return this.getProjectIdPrefix().then((function(n){return{name:n+"/releases/"+e,rulesetName:n+"/"+r.getRulesetName(t)}}))},e.prototype.getRulesetName=function(e){if(!a.isNonEmptyString(e))throw new i.FirebaseSecurityRulesError("invalid-argument","Ruleset name must be a non-empty string.");if(-1!==e.indexOf("/"))throw new i.FirebaseSecurityRulesError("invalid-argument",'Ruleset name must not contain any "/" characters.');return"rulesets/"+e},e.prototype.sendRequest=function(e){var t=this;return e.headers=c,this.httpClient.send(e).then((function(e){return e.data})).catch((function(e){throw t.toFirebaseError(e)}))},e.prototype.toFirebaseError=function(e){if(e instanceof o.PrefixedFirebaseError)return e;var t=e.response;if(!t.isJson())return new i.FirebaseSecurityRulesError("unknown-error","Unexpected response with status: "+t.status+" and body: "+t.text);var r=t.data.error||{},n="unknown-error";r.status&&r.status in u&&(n=u[r.status]);var s=r.message||"Unknown server error: "+t.text;return new i.FirebaseSecurityRulesError(n,s)},e}();t.SecurityRulesApiClient=l;var u={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"}},83642:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseSecurityRulesError=void 0;var i=function(e){function t(t,r){return e.call(this,"security-rules",t,r)||this}return o(t,e),t}(r(56969).PrefixedFirebaseError);t.FirebaseSecurityRulesError=i},6103:(e,t,r)=>{"use strict";t.Wm=void 0;var n=r(69173),o=r(86029),i=r(83642),s=function(e){if(!n.isNonNullObject(e)||!n.isArray(e.rulesets))throw new i.FirebaseSecurityRulesError("invalid-argument","Invalid ListRulesets response: "+JSON.stringify(e));this.rulesets=e.rulesets.map((function(e){return{name:l(e.name),createTime:new Date(e.createTime).toUTCString()}})),e.nextPageToken&&(this.nextPageToken=e.nextPageToken)},a=function(e){if(!(n.isNonNullObject(e)&&n.isNonEmptyString(e.name)&&n.isNonEmptyString(e.createTime)&&n.isNonNullObject(e.source)))throw new i.FirebaseSecurityRulesError("invalid-argument","Invalid Ruleset response: "+JSON.stringify(e));this.name=l(e.name),this.createTime=new Date(e.createTime).toUTCString(),this.source=e.source.files||[]},c=function(){function e(e){this.app=e,this.client=new o.SecurityRulesApiClient(e)}return e.prototype.getRuleset=function(e){return this.client.getRuleset(e).then((function(e){return new a(e)}))},e.prototype.getFirestoreRuleset=function(){return this.getRulesetForRelease(e.CLOUD_FIRESTORE)},e.prototype.releaseFirestoreRulesetFromSource=function(e){var t=this;return Promise.resolve().then((function(){var r=t.createRulesFileFromSource("firestore.rules",e);return t.createRuleset(r)})).then((function(e){return t.releaseFirestoreRuleset(e).then((function(){return e}))}))},e.prototype.releaseFirestoreRuleset=function(t){return this.releaseRuleset(t,e.CLOUD_FIRESTORE)},e.prototype.getStorageRuleset=function(t){var r=this;return Promise.resolve().then((function(){return r.getBucketName(t)})).then((function(t){return r.getRulesetForRelease(e.FIREBASE_STORAGE+"/"+t)}))},e.prototype.releaseStorageRulesetFromSource=function(e,t){var r=this;return Promise.resolve().then((function(){r.getBucketName(t);var n=r.createRulesFileFromSource("storage.rules",e);return r.createRuleset(n)})).then((function(e){return r.releaseStorageRuleset(e,t).then((function(){return e}))}))},e.prototype.releaseStorageRuleset=function(t,r){var n=this;return Promise.resolve().then((function(){return n.getBucketName(r)})).then((function(r){return n.releaseRuleset(t,e.FIREBASE_STORAGE+"/"+r)}))},e.prototype.createRulesFileFromSource=function(e,t){if(!n.isNonEmptyString(e))throw new i.FirebaseSecurityRulesError("invalid-argument","Name must be a non-empty string.");var r;if(n.isNonEmptyString(t))r=t;else{if(!n.isBuffer(t))throw new i.FirebaseSecurityRulesError("invalid-argument","Source must be a non-empty string or a Buffer.");r=t.toString("utf-8")}return{name:e,content:r}},e.prototype.createRuleset=function(e){var t={source:{files:[e]}};return this.client.createRuleset(t).then((function(e){return new a(e)}))},e.prototype.deleteRuleset=function(e){return this.client.deleteRuleset(e)},e.prototype.listRulesetMetadata=function(e,t){return void 0===e&&(e=100),this.client.listRulesets(e,t).then((function(e){return new s(e)}))},e.prototype.getRulesetForRelease=function(e){var t=this;return this.client.getRelease(e).then((function(r){var o=r.rulesetName;if(!n.isNonEmptyString(o))throw new i.FirebaseSecurityRulesError("not-found","Ruleset name not found for "+e+".");return t.getRuleset(l(o))}))},e.prototype.releaseRuleset=function(e,t){if(!(n.isNonEmptyString(e)||n.isNonNullObject(e)&&n.isNonEmptyString(e.name))){var r=new i.FirebaseSecurityRulesError("invalid-argument","ruleset must be a non-empty name or a RulesetMetadata object.");return Promise.reject(r)}var o=n.isString(e)?e:e.name;return this.client.updateRelease(t,o).then((function(){}))},e.prototype.getBucketName=function(e){var t=void 0!==e?e:this.app.options.storageBucket;if(!n.isNonEmptyString(t))throw new i.FirebaseSecurityRulesError("invalid-argument","Bucket name not specified or invalid. Specify a default bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the rules API.");return t},e.CLOUD_FIRESTORE="cloud.firestore",e.FIREBASE_STORAGE="firebase.storage",e}();function l(e){return e.split("/").pop()}t.Wm=c},63092:(e,t,r)=>{"use strict";t.K=void 0;var n=r(56969),o=r(8287),i=r(95134),s=r(69173),a=function(){function e(e){if(!s.isNonNullObject(e)||!("options"in e))throw new n.FirebaseError({code:"storage/invalid-argument",message:"First argument passed to admin.storage() must be a valid Firebase app instance."});if(!process.env.STORAGE_EMULATOR_HOST&&process.env.FIREBASE_STORAGE_EMULATOR_HOST){if(process.env.FIREBASE_STORAGE_EMULATOR_HOST.match(/https?:\/\//))throw new n.FirebaseError({code:"storage/invalid-emulator-host",message:"FIREBASE_STORAGE_EMULATOR_HOST should not contain a protocol (http or https)."});process.env.STORAGE_EMULATOR_HOST="http://"+process.env.FIREBASE_STORAGE_EMULATOR_HOST}var t;try{t=r(20690).Ke}catch(e){throw new n.FirebaseError({code:"storage/missing-dependencies",message:'Failed to import the Cloud Storage client library for Node.js. Make sure to install the "@google-cloud/storage" npm package. Original error: '+e})}var a=i.getExplicitProjectId(e),c=e.options.credential;if(c instanceof o.ServiceAccountCredential)this.storageClient=new t({projectId:a,credentials:{private_key:c.privateKey,client_email:c.clientEmail}});else{if(!o.isApplicationDefault(e.options.credential))throw new n.FirebaseError({code:"storage/invalid-credential",message:"Failed to initialize Google Cloud Storage client with the available credential. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Storage API."});this.storageClient=new t}this.appInternal=e}return e.prototype.bucket=function(e){var t=void 0!==e?e:this.appInternal.options.storageBucket;if(s.isNonEmptyString(t))return this.storageClient.bucket(t);throw new n.FirebaseError({code:"storage/invalid-argument",message:"Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method."})},Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!1,configurable:!0}),e}();t.K=a},78127:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExponentialBackoffPoller=t.ApiSettings=t.AuthorizedHttpClient=t.parseHttpResponse=t.HttpClient=t.defaultRetryConfig=t.HttpError=void 0;var i=r(56969),s=r(69173),a=r(98605),c=r(57211),l=r(78835),u=r(28614),p=function(){function e(e){this.status=e.status,this.headers=e.headers,this.text=e.data;try{if(!e.data)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");this.parsedData=JSON.parse(e.data)}catch(e){this.parsedData=void 0,this.parseError=e}this.request=e.config.method+" "+e.config.url}return Object.defineProperty(e.prototype,"data",{get:function(){if(this.isJson())return this.parsedData;throw new i.FirebaseAppError(i.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,'Error while parsing response data: "'+this.parseError.toString()+'". Raw server response: "'+this.text+'". Status code: "'+this.status+'". Outgoing request: "'+this.request+'."')},enumerable:!1,configurable:!0}),e.prototype.isJson=function(){return void 0!==this.parsedData},e}(),d=function(){function e(e){this.status=e.status,this.headers=e.headers,this.multipart=e.multipart}return Object.defineProperty(e.prototype,"text",{get:function(){throw new i.FirebaseAppError(i.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as text")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){throw new i.FirebaseAppError(i.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as JSON")},enumerable:!1,configurable:!0}),e.prototype.isJson=function(){return!1},e}(),f=function(e){function t(r){var n=e.call(this,"Server responded with status "+r.status+".")||this;return n.response=r,Object.setPrototypeOf(n,t.prototype),n}return o(t,e),t}(Error);t.HttpError=f,t.defaultRetryConfig=function(){return{maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}};var h=function(){function e(e){void 0===e&&(e={maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}),this.retry=e,this.retry&&function(e){if(!s.isNumber(e.maxRetries)||e.maxRetries<0)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"maxRetries must be a non-negative integer");if(void 0!==e.backOffFactor&&(!s.isNumber(e.backOffFactor)||e.backOffFactor<0))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"backOffFactor must be a non-negative number");if(!s.isNumber(e.maxDelayInMillis)||e.maxDelayInMillis<0)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"maxDelayInMillis must be a non-negative integer");if(void 0!==e.statusCodes&&!s.isArray(e.statusCodes))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"statusCodes must be an array");if(void 0!==e.ioErrorCodes&&!s.isArray(e.ioErrorCodes))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"ioErrorCodes must be an array")}(this.retry)}return e.prototype.send=function(e){return this.sendWithRetry(e)},e.prototype.sendWithRetry=function(e,t){var r=this;return void 0===t&&(t=0),g.invoke(e).then((function(e){return r.createHttpResponse(e)})).catch((function(n){var o=r.getRetryDelayMillis(t,n),s=o[0];if(o[1]&&r.retry&&s<=r.retry.maxDelayInMillis)return r.waitForRetry(s).then((function(){return r.sendWithRetry(e,t+1)}));if(n.response)throw new f(r.createHttpResponse(n.response));if("ETIMEDOUT"===n.code)throw new i.FirebaseAppError(i.AppErrorCodes.NETWORK_TIMEOUT,"Error while making request: "+n.message+".");throw new i.FirebaseAppError(i.AppErrorCodes.NETWORK_ERROR,"Error while making request: "+n.message+". Error code: "+n.code)}))},e.prototype.createHttpResponse=function(e){return e.multipart?new d(e):new p(e)},e.prototype.waitForRetry=function(e){return e>0?new Promise((function(t){setTimeout(t,e)})):Promise.resolve()},e.prototype.getRetryDelayMillis=function(e,t){if(!this.isRetryEligible(e,t))return[0,!1];var r=t.response;if(r&&r.headers["retry-after"]){var n=this.parseRetryAfterIntoMillis(r.headers["retry-after"]);if(n>0)return[n,!0]}return[this.backOffDelayMillis(e),!0]},e.prototype.isRetryEligible=function(e,t){return!(!this.retry||e>=this.retry.maxRetries||(t.response?-1===(this.retry.statusCodes||[]).indexOf(t.response.status):!t.code||-1===(this.retry.ioErrorCodes||[]).indexOf(t.code)))},e.prototype.parseRetryAfterIntoMillis=function(e){var t=parseInt(e,10);if(!isNaN(t))return 1e3*t;var r=new Date(e);return isNaN(r.getTime())?-1:r.getTime()-Date.now()},e.prototype.backOffDelayMillis=function(e){if(0===e)return 0;if(!this.retry)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"Expected this.retry to exist.");var t=this.retry.backOffFactor||0,r=Math.pow(2,e)*t;return Math.min(1e3*r,this.retry.maxDelayInMillis)},e}();t.HttpClient=h,t.parseHttpResponse=function(e,t){var r=s.isBuffer(e)?e.toString("utf-8"):e,n=r.indexOf("\r\n\r\n"),o=r.substring(0,n).split("\r\n"),a=o[0].trim().split(/\s/)[1],c={};o.slice(1).forEach((function(e){var t=e.indexOf(":"),r=e.substring(0,t).trim().toLowerCase(),n=e.substring(t+1).trim();c[r]=n}));var l=r.substring(n+4);l.endsWith("\n")&&(l=l.slice(0,-1)),l.endsWith("\r")&&(l=l.slice(0,-1));var u={status:parseInt(a,10),headers:c,data:l,config:t,request:null};if(!s.isNumber(u.status))throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"Malformed HTTP status line.");return new p(u)};var g=function(){function e(e){var t=this;try{this.config=new m(e),this.options=this.config.buildRequestOptions(),this.entity=this.config.buildEntity(this.options.headers),this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r,t.execute()}))}catch(e){this.promise=Promise.reject(this.enhanceError(e,null))}}return e.invoke=function(t){return new e(t).promise},e.prototype.execute=function(){var e=this,t=("https:"===this.options.protocol?c:a).request(this.options,(function(r){e.handleResponse(r,t)}));t.on("error",(function(r){t.aborted||e.enhanceAndReject(r,null,t)}));var r=this.config.timeout,n=function(){t.abort(),e.rejectWithError("timeout of "+r+"ms exceeded","ETIMEDOUT",t)};r&&(t.setTimeout(r,n),t.on("socket",(function(e){e.setTimeout(r,n)}))),t.end(this.entity)},e.prototype.handleResponse=function(e,t){if(!t.aborted){if(!e.statusCode)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");var r={status:e.statusCode,headers:e.headers,request:t,data:void 0,config:this.config},n=this.getMultipartBoundary(e.headers),o=this.uncompressResponse(e);n?this.handleMultipartResponse(r,o,n):this.handleRegularResponse(r,o)}},e.prototype.getMultipartBoundary=function(e){var t=e["content-type"];return t&&t.startsWith("multipart/")?t.split(";").slice(1).map((function(e){return e.trim().split("=")})).reduce((function(e,t){if(2===t.length){var r={};return r[t[0]]=t[1],Object.assign(e,r)}return e}),{}).boundary:null},e.prototype.uncompressResponse=function(e){var t=e;if(e.headers["content-encoding"]&&-1!==["gzip","compress","deflate"].indexOf(e.headers["content-encoding"])){var n=r(78761);t=t.pipe(n.createUnzip()),delete e.headers["content-encoding"]}return t},e.prototype.handleMultipartResponse=function(e,t,n){var o=this,i=new(r(39322))({boundary:n}),s=[];i.on("part",(function(e){var t=[];e.on("data",(function(e){t.push(e)})),e.on("end",(function(){s.push(Buffer.concat(t))}))})),i.on("finish",(function(){e.data=void 0,e.multipart=s,o.finalizeResponse(e)})),t.pipe(i)},e.prototype.handleRegularResponse=function(e,t){var r=this,n=[];t.on("data",(function(e){n.push(e)})),t.on("error",(function(t){var n=e.request;n&&n.aborted||r.enhanceAndReject(t,null,n)})),t.on("end",(function(){e.data=Buffer.concat(n).toString(),r.finalizeResponse(e)}))},e.prototype.finalizeResponse=function(e){e.status>=200&&e.status<300?this.resolve(e):this.rejectWithError("Request failed with status code "+e.status,null,e.request,e)},e.prototype.rejectWithError=function(e,t,r,n){var o=new Error(e);this.enhanceAndReject(o,t,r,n)},e.prototype.enhanceAndReject=function(e,t,r,n){this.reject(this.enhanceError(e,t,r,n))},e.prototype.enhanceError=function(e,t,r,n){return e.config=this.config,t&&(e.code=t),e.request=r,e.response=n,e},e}(),m=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"method",{get:function(){return this.config.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.config.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.config.headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.config.data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this.config.timeout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"httpAgent",{get:function(){return this.config.httpAgent},enumerable:!1,configurable:!0}),e.prototype.buildRequestOptions=function(){var e=this.buildUrl(),t=e.protocol,r=e.port;return r||(r="https:"===t?"443":"80"),{protocol:t,hostname:e.hostname,port:r,path:e.path,method:this.method,agent:this.httpAgent,headers:Object.assign({},this.headers)}},e.prototype.buildEntity=function(e){var t;if(!this.hasEntity()||!this.isEntityEnclosingRequest())return t;if(s.isBuffer(this.data))t=this.data;else if(s.isObject(this.data))t=Buffer.from(JSON.stringify(this.data),"utf-8"),void 0===e["content-type"]&&(e["content-type"]="application/json;charset=utf-8");else{if(!s.isString(this.data))throw new Error("Request data must be a string, a Buffer or a json serializable object");t=Buffer.from(this.data,"utf-8")}return e["Content-Length"]=t.length.toString(),t},e.prototype.buildUrl=function(){var e=this.urlWithProtocol();if(!this.hasEntity()||this.isEntityEnclosingRequest())return l.parse(e);if(!s.isObject(this.data))throw new Error(this.method+" requests cannot have a body");var t=new l.URL(e),r=this.data;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.searchParams.append(n,r[n]);return l.parse(t.toString())},e.prototype.urlWithProtocol=function(){var e=this.url;return e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e},e.prototype.hasEntity=function(){return!!this.data},e.prototype.isEntityEnclosingRequest=function(){return"GET"!==this.method&&"HEAD"!==this.method},e}(),y=function(e){function t(t){var r=e.call(this)||this;return r.app=t,r}return o(t,e),t.prototype.send=function(t){var r=this;return this.getToken().then((function(n){var o=Object.assign({},t);return o.headers=Object.assign({},t.headers),o.headers.Authorization="Bearer "+n,!o.httpAgent&&r.app.options.httpAgent&&(o.httpAgent=r.app.options.httpAgent),e.prototype.send.call(r,o)}))},t.prototype.getToken=function(){return this.app.INTERNAL.getToken().then((function(e){return e.accessToken}))},t}(h);t.AuthorizedHttpClient=y;var v=function(){function e(e,t){void 0===t&&(t="POST"),this.endpoint=e,this.httpMethod=t,this.setRequestValidator(null).setResponseValidator(null)}return e.prototype.getEndpoint=function(){return this.endpoint},e.prototype.getHttpMethod=function(){return this.httpMethod},e.prototype.setRequestValidator=function(e){return this.requestValidator=e||function(){},this},e.prototype.getRequestValidator=function(){return this.requestValidator},e.prototype.setResponseValidator=function(e){return this.responseValidator=e||function(){},this},e.prototype.getResponseValidator=function(){return this.responseValidator},e}();t.ApiSettings=v;var b=function(e){function t(t,r,n){void 0===t&&(t=1e3),void 0===r&&(r=1e4),void 0===n&&(n=6e4);var o=e.call(this)||this;return o.initialPollingDelayMillis=t,o.maxPollingDelayMillis=r,o.masterTimeoutMillis=n,o.numTries=0,o.completed=!1,o}return o(t,e),t.prototype.poll=function(e){var t=this;if(this.pollCallback)throw new Error("poll() can only be called once per instance of ExponentialBackoffPoller");return this.pollCallback=e,this.on("poll",this.repoll),this.masterTimer=setTimeout((function(){t.completed||(t.markCompleted(),t.reject(new Error("ExponentialBackoffPoller deadline exceeded - Master timeout reached")))}),this.masterTimeoutMillis),new Promise((function(e,r){t.resolve=e,t.reject=r,t.repoll()}))},t.prototype.repoll=function(){var e=this;this.pollCallback().then((function(t){if(!e.completed){if(!t)return e.repollTimer=setTimeout((function(){return e.emit("poll")}),e.getPollingDelayMillis()),void e.numTries++;e.markCompleted(),e.resolve(t)}})).catch((function(t){e.completed||(e.markCompleted(),e.reject(t))}))},t.prototype.getPollingDelayMillis=function(){var e=Math.pow(2,this.numTries)*this.initialPollingDelayMillis;return Math.min(e,this.maxPollingDelayMillis)},t.prototype.markCompleted=function(){this.completed=!0,this.masterTimer&&clearTimeout(this.masterTimer),this.repollTimer&&clearTimeout(this.repollTimer)},t}(u.EventEmitter);t.ExponentialBackoffPoller=b},21371:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoSignerErrorCode=t.CryptoSignerError=t.cryptoSignerFromApp=t.IAMSigner=t.ServiceAccountSigner=void 0;var i=r(8287),s=r(78127),a=r(69173),c="RS256",l=function(){function e(e){if(this.credential=e,this.algorithm=c,!e)throw new p({code:d.INVALID_CREDENTIAL,message:"INTERNAL ASSERT: Must provide a service account credential to initialize ServiceAccountSigner."})}return e.prototype.sign=function(e){var t=r(76417).createSign("RSA-SHA256");return t.update(e),Promise.resolve(t.sign(this.credential.privateKey))},e.prototype.getAccountId=function(){return Promise.resolve(this.credential.clientEmail)},e}();t.ServiceAccountSigner=l;var u=function(){function e(e,t){if(this.algorithm=c,!e)throw new p({code:d.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a HTTP client to initialize IAMSigner."});if(void 0!==t&&!a.isNonEmptyString(t))throw new p({code:d.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Service account ID must be undefined or a non-empty string."});this.httpClient=e,this.serviceAccountId=t}return e.prototype.sign=function(e){var t=this;return this.getAccountId().then((function(r){var n={method:"POST",url:"https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/"+r+":signBlob",data:{payload:e.toString("base64")}};return t.httpClient.send(n)})).then((function(e){return Buffer.from(e.data.signedBlob,"base64")})).catch((function(e){if(e instanceof s.HttpError)throw new p({code:d.SERVER_ERROR,message:e.message,cause:e});throw e}))},e.prototype.getAccountId=function(){var e=this;return a.isNonEmptyString(this.serviceAccountId)?Promise.resolve(this.serviceAccountId):(new s.HttpClient).send({method:"GET",url:"http://metadata/computeMetadata/v1/instance/service-accounts/default/email",headers:{"Metadata-Flavor":"Google"}}).then((function(t){if(!t.text)throw new p({code:d.INTERNAL_ERROR,message:"HTTP Response missing payload"});return e.serviceAccountId=t.text,t.text})).catch((function(e){throw new p({code:d.INVALID_CREDENTIAL,message:"Failed to determine service account. Make sure to initialize the SDK with a service account credential. Alternatively specify a service account with iam.serviceAccounts.signBlob permission. Original error: "+e})}))},e}();t.IAMSigner=u,t.cryptoSignerFromApp=function(e){var t=e.options.credential;return t instanceof i.ServiceAccountCredential?new l(t):new u(new s.AuthorizedHttpClient(e),e.options.serviceAccountId)};var p=function(e){function t(r){var n=e.call(this,r.message)||this;return n.errorInfo=r,n.__proto__=t.prototype,n}return o(t,e),Object.defineProperty(t.prototype,"code",{get:function(){return this.errorInfo.code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.errorInfo.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cause",{get:function(){return this.errorInfo.cause},enumerable:!1,configurable:!0}),t}(Error);t.CryptoSignerError=p;var d=function(){function e(){}return e.INVALID_ARGUMENT="invalid-argument",e.INTERNAL_ERROR="internal-error",e.INVALID_CREDENTIAL="invalid-credential",e.SERVER_ERROR="server-error",e}();t.CryptoSignerErrorCode=d},85326:(e,t)=>{"use strict";function r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=r(e[n],t[n]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepExtend=t.deepCopy=void 0,t.deepCopy=function(e){return r(void 0,e)},t.deepExtend=r},56969:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceIdClientErrorCode=t.MessagingClientErrorCode=t.AuthClientErrorCode=t.AppErrorCodes=t.FirebaseProjectManagementError=t.FirebaseMessagingError=t.FirebaseInstanceIdError=t.FirebaseFirestoreError=t.FirebaseDatabaseError=t.FirebaseAuthError=t.FirebaseAppError=t.PrefixedFirebaseError=t.FirebaseError=void 0;var i=r(85326),s=function(e){function t(r){var n=e.call(this,r.message)||this;return n.errorInfo=r,n.__proto__=t.prototype,n}return o(t,e),Object.defineProperty(t.prototype,"code",{get:function(){return this.errorInfo.code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.errorInfo.message},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{code:this.code,message:this.message}},t}(Error);t.FirebaseError=s;var a=function(e){function t(r,n,o){var i=e.call(this,{code:r+"/"+n,message:o})||this;return i.codePrefix=r,i.__proto__=t.prototype,i}return o(t,e),t.prototype.hasCode=function(e){return this.codePrefix+"/"+e===this.code},t}(s);t.PrefixedFirebaseError=a;var c=function(e){function t(r,n){var o=e.call(this,"app",r,n)||this;return o.__proto__=t.prototype,o}return o(t,e),t}(a);t.FirebaseAppError=c;var l=function(e){function t(r,n){var o=e.call(this,"auth",r.code,n||r.message)||this;return o.__proto__=t.prototype,o}return o(t,e),t.fromServerError=function(e,r,n){var o=(e||"").indexOf(":"),s=null;-1!==o&&(s=e.substring(o+1).trim(),e=e.substring(0,o).trim());var a=b[e]||"INTERNAL_ERROR",c=i.deepCopy(m[a]);if(c.message=s||r||c.message,"INTERNAL_ERROR"===a&&void 0!==n)try{c.message+=' Raw server response: "'+JSON.stringify(n)+'"'}catch(e){}return new t(c)},t}(a);t.FirebaseAuthError=l;var u=function(e){function t(t,r){return e.call(this,{code:"database/"+t.code,message:r||t.message})||this}return o(t,e),t}(s);t.FirebaseDatabaseError=u;var p=function(e){function t(t,r){return e.call(this,{code:"firestore/"+t.code,message:r||t.message})||this}return o(t,e),t}(s);t.FirebaseFirestoreError=p;var d=function(e){function t(t,r){return e.call(this,{code:"instance-id/"+t.code,message:r||t.message})||this}return o(t,e),t}(s);t.FirebaseInstanceIdError=d;var f=function(e){function t(r,n){var o=e.call(this,"messaging",r.code,n||r.message)||this;return o.__proto__=t.prototype,o}return o(t,e),t.fromServerError=function(e,r,n){var o="UNKNOWN_ERROR";e&&e in w&&(o=w[e]);var s=i.deepCopy(y[o]);if(s.message=r||s.message,"UNKNOWN_ERROR"===o&&void 0!==n)try{s.message+=' Raw server response: "'+JSON.stringify(n)+'"'}catch(e){}return new t(s)},t.fromTopicManagementServerError=function(e,r,n){var o=E[e]||"UNKNOWN_ERROR",s=i.deepCopy(y[o]);if(s.message=r||s.message,"UNKNOWN_ERROR"===o&&void 0!==n)try{s.message+=' Raw server response: "'+JSON.stringify(n)+'"'}catch(e){}return new t(s)},t}(a);t.FirebaseMessagingError=f;var h=function(e){function t(r,n){var o=e.call(this,"project-management",r,n)||this;return o.__proto__=t.prototype,o}return o(t,e),t}(a);t.FirebaseProjectManagementError=h;var g=function(){function e(){}return e.APP_DELETED="app-deleted",e.DUPLICATE_APP="duplicate-app",e.INVALID_ARGUMENT="invalid-argument",e.INTERNAL_ERROR="internal-error",e.INVALID_APP_NAME="invalid-app-name",e.INVALID_APP_OPTIONS="invalid-app-options",e.INVALID_CREDENTIAL="invalid-credential",e.NETWORK_ERROR="network-error",e.NETWORK_TIMEOUT="network-timeout",e.NO_APP="no-app",e.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response",e}();t.AppErrorCodes=g;var m=function(){function e(){}return e.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."},e.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."},e.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."},e.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."},e.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."},e.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."},e.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."},e.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."},e.EMAIL_NOT_FOUND={code:"email-not-found",message:"There is no user record corresponding to the provided email."},e.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."},e.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."},e.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."},e.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."},e.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."},e.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."},e.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."},e.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."},e.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."},e.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."},e.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."},e.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."},e.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."},e.INVALID_ENROLLED_FACTORS={code:"invalid-enrolled-factors",message:"The enrolled factors must be a valid array of MultiFactorInfo objects."},e.INVALID_ENROLLMENT_TIME={code:"invalid-enrollment-time",message:"The second factor enrollment time must be a valid UTC date string."},e.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."},e.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."},e.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."},e.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."},e.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."},e.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."},e.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."},e.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."},e.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."},e.INVALID_NAME={code:"invalid-name",message:"The resource name provided is invalid."},e.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."},e.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."},e.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."},e.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."},e.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."},e.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."},e.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."},e.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid parent project. Either parent project doesn't exist or didn't enable multi-tenancy."},e.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."},e.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."},e.INVALID_PROVIDER_UID={code:"invalid-provider-uid",message:"The providerUid must be a valid provider uid string."},e.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."},e.INVALID_TENANT_ID={code:"invalid-tenant-id",message:"The tenant ID must be a valid non-empty string."},e.INVALID_TENANT_TYPE={code:"invalid-tenant-type",message:'Tenant type must be either "full_service" or "lightweight".'},e.INVALID_TESTING_PHONE_NUMBER={code:"invalid-testing-phone-number",message:"Invalid testing phone number or invalid test code provided."},e.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."},e.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."},e.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."},e.MISMATCHING_TENANT_ID={code:"mismatching-tenant-id",message:"User tenant ID does not match with the current TenantAwareAuth tenant ID."},e.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."},e.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."},e.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."},e.MISSING_DISPLAY_NAME={code:"missing-display-name",message:"The resource being created or edited is missing a valid display name."},e.MISSING_EMAIL={code:"missing-email",message:"The email is required for the specified action. For example, a multi-factor user requires a verified email."},e.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."},e.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."},e.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."},e.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."},e.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."},e.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."},e.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED={code:"test-phone-number-limit-exceeded",message:"The maximum allowed number of test phone number / code pairs has been exceeded."},e.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."},e.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."},e.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."},e.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."},e.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."},e.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'},e.QUOTA_EXCEEDED={code:"quota-exceeded",message:"The project quota for the specified operation has been exceeded."},e.SECOND_FACTOR_LIMIT_EXCEEDED={code:"second-factor-limit-exceeded",message:"The maximum number of allowed second factors on a user has been exceeded."},e.SECOND_FACTOR_UID_ALREADY_EXISTS={code:"second-factor-uid-already-exists",message:'The specified second factor "uid" already exists.'},e.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."},e.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."},e.TENANT_NOT_FOUND={code:"tenant-not-found",message:"There is no tenant corresponding to the provided identifier."},e.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."},e.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."},e.UNSUPPORTED_FIRST_FACTOR={code:"unsupported-first-factor",message:"A multi-factor user requires a supported first factor."},e.UNSUPPORTED_SECOND_FACTOR={code:"unsupported-second-factor",message:"The request specified an unsupported type of second factor."},e.UNSUPPORTED_TENANT_OPERATION={code:"unsupported-tenant-operation",message:"This operation is not supported in a multi-tenant context."},e.UNVERIFIED_EMAIL={code:"unverified-email",message:"A verified email is required for the specified action. For example, a multi-factor user requires a verified email."},e.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."},e.NOT_FOUND={code:"not-found",message:"The requested resource was not found."},e.USER_NOT_DISABLED={code:"user-not-disabled",message:"The user must be disabled in order to bulk delete it (or you must pass force=true)."},e}();t.AuthClientErrorCode=m;var y=function(){function e(){}return e.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},e.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."},e.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."},e.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."},e.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."},e.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."},e.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."},e.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."},e.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."},e.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'},e.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."},e.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."},e.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."},e.THIRD_PARTY_AUTH_ERROR={code:"third-party-auth-error",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."},e.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."},e.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."},e.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."},e.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."},e.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."},e}();t.MessagingClientErrorCode=y;var v=function(){function e(){}return e.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},e.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."},e.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."},e.API_ERROR={code:"api-error",message:"Instance ID API call failed."},e}();t.InstanceIdClientErrorCode=v;var b={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",DUPLICATE_MFA_ENROLLMENT_ID:"SECOND_FACTOR_UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",EMAIL_NOT_FOUND:"EMAIL_NOT_FOUND",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_DISPLAY_NAME:"INVALID_DISPLAY_NAME",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_NAME:"INVALID_NAME",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROJECT_ID:"INVALID_PROJECT_ID",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",INVALID_TESTING_PHONE_NUMBER:"INVALID_TESTING_PHONE_NUMBER",INVALID_TENANT_TYPE:"INVALID_TENANT_TYPE",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_DISPLAY_NAME:"MISSING_DISPLAY_NAME",MISSING_EMAIL:"MISSING_EMAIL",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",QUOTA_EXCEEDED:"QUOTA_EXCEEDED",SECOND_FACTOR_LIMIT_EXCEEDED:"SECOND_FACTOR_LIMIT_EXCEEDED",TENANT_NOT_FOUND:"TENANT_NOT_FOUND",TENANT_ID_MISMATCH:"MISMATCHING_TENANT_ID",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",UNSUPPORTED_FIRST_FACTOR:"UNSUPPORTED_FIRST_FACTOR",UNSUPPORTED_SECOND_FACTOR:"UNSUPPORTED_SECOND_FACTOR",UNSUPPORTED_TENANT_OPERATION:"UNSUPPORTED_TENANT_OPERATION",UNVERIFIED_EMAIL:"UNVERIFIED_EMAIL",USER_NOT_FOUND:"USER_NOT_FOUND",WEAK_PASSWORD:"INVALID_PASSWORD"},w={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"THIRD_PARTY_AUTH_ERROR",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"THIRD_PARTY_AUTH_ERROR",APNS_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",THIRD_PARTY_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},E={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"}},95134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUpdateMask=t.formatString=t.toWebSafeBase64=t.findProjectId=t.getExplicitProjectId=t.addReadonlyGetter=t.renameProperties=t.getSdkVersion=void 0;var n,o=r(8287),i=r(69173);function s(e){var t=e.options;if(i.isNonEmptyString(t.projectId))return t.projectId;var r=e.options.credential;if(r instanceof o.ServiceAccountCredential)return r.projectId;var n=process.env.GOOGLE_CLOUD_PROJECT||process.env.GCLOUD_PROJECT;return i.isNonEmptyString(n)?n:null}t.getSdkVersion=function(){if(!n){var e=r(90771).i8;n=e}return n},t.renameProperties=function(e,t){Object.keys(t).forEach((function(r){if(r in e){var n=t[r];e[n]=e[r],delete e[r]}}))},t.addReadonlyGetter=function(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,enumerable:!0})},t.getExplicitProjectId=s,t.findProjectId=function(e){var t=s(e);if(t)return Promise.resolve(t);var r=e.options.credential;return r instanceof o.ComputeEngineCredential?r.getProjectId():Promise.resolve(null)},t.toWebSafeBase64=function(e){return e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")},t.formatString=function(e,t){var r=e;return Object.keys(t||{}).forEach((function(e){r=r.replace(new RegExp("{"+e+"}","g"),t[e])})),r},t.generateUpdateMask=function e(t,r,n){void 0===r&&(r=[]),void 0===n&&(n="");var o=[];if(!i.isNonNullObject(t))return o;var s=function(i){if(void 0!==t[i]){var s=n?n+"."+i:i;if(-1!==r.indexOf(s))o.push(i);else{var a=e(t[i],r,s);a.length>0?a.forEach((function(e){o.push(i+"."+e)})):o.push(i)}}};for(var a in t)s(a);return o}},43409:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.JwtErrorCode=t.JwtError=t.decodeJwt=t.verifyJwtSignature=t.EmulatorSignatureVerifier=t.PublicKeySignatureVerifier=t.UrlKeyFetcher=t.JwksFetcher=t.ALGORITHM_RS256=void 0;var i=r(69173),s=r(49704),a=r(6064),c=r(78127);t.ALGORITHM_RS256="RS256";var l="error in secret or public key callback: ",u="no-matching-kid-error",p="no-kid-in-header-error",d=function(){function e(e){if(this.publicKeysExpireAt=0,!i.isURL(e))throw new Error("The provided JWKS URL is not a valid URL.");this.client=a({jwksUri:e,cache:!1})}return e.prototype.fetchPublicKeys=function(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)},e.prototype.shouldRefresh=function(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()},e.prototype.refresh=function(){var e=this;return this.client.getSigningKeys().then((function(t){e.publicKeysExpireAt=0;var r=t.reduce((function(e,t){return e[t.kid]=t.getPublicKey(),e}),{});return e.publicKeysExpireAt=Date.now()+864e5,e.publicKeys=r,r})).catch((function(e){throw new Error("Error fetching Json Web Keys: "+e.message)}))},e}();t.JwksFetcher=d;var f=function(){function e(e,t){if(this.clientCertUrl=e,this.httpAgent=t,this.publicKeysExpireAt=0,!i.isURL(e))throw new Error("The provided public client certificate URL is not a valid URL.")}return e.prototype.fetchPublicKeys=function(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)},e.prototype.shouldRefresh=function(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()},e.prototype.refresh=function(){var e=this,t=new c.HttpClient,r={method:"GET",url:this.clientCertUrl,httpAgent:this.httpAgent};return t.send(r).then((function(t){if(!t.isJson()||t.data.error)throw new c.HttpError(t);return e.publicKeysExpireAt=0,Object.prototype.hasOwnProperty.call(t.headers,"cache-control")&&t.headers["cache-control"].split(",").forEach((function(t){var r=t.trim().split("=");if("max-age"===r[0]){var n=+r[1];e.publicKeysExpireAt=Date.now()+1e3*n}})),e.publicKeys=t.data,t.data})).catch((function(e){if(e instanceof c.HttpError){var t="Error fetching public keys for Google certs: ",r=e.response;throw r.isJson()&&r.data.error?(t+=""+r.data.error,r.data.error_description&&(t+=" ("+r.data.error_description+")")):t+=""+r.text,new Error(t)}throw e}))},e}();t.UrlKeyFetcher=f;var h=function(){function e(e){if(this.keyFetcher=e,!i.isNonNullObject(e))throw new Error("The provided key fetcher is not an object or null.")}return e.withCertificateUrl=function(t,r){return new e(new f(t,r))},e.withJwksUrl=function(t){return new e(new d(t))},e.prototype.verify=function(e){var r,n=this;return i.isString(e)?m(e,(r=this.keyFetcher,function(e,t){e.kid||t(new Error(p));var n=e.kid||"";r.fetchPublicKeys().then((function(e){Object.prototype.hasOwnProperty.call(e,n)?t(null,e[n]):t(new Error(u))})).catch((function(e){t(e)}))}),{algorithms:[t.ALGORITHM_RS256]}).catch((function(t){if(t.code===y.NO_KID_IN_HEADER)return n.verifyWithoutKid(e);throw t})):Promise.reject(new v(y.INVALID_ARGUMENT,"The provided token must be a string."))},e.prototype.verifyWithoutKid=function(e){var t=this;return this.keyFetcher.fetchPublicKeys().then((function(r){return t.verifyWithAllKeys(e,r)}))},e.prototype.verifyWithAllKeys=function(e,t){var r=[];return Object.values(t).forEach((function(t){var n=m(e,t).then((function(){return!0})).catch((function(e){if(e.code===y.TOKEN_EXPIRED)throw e;return!1}));r.push(n)})),Promise.all(r).then((function(e){if(e.every((function(e){return!1===e})))throw new v(y.INVALID_SIGNATURE,"Invalid token signature.")}))},e}();t.PublicKeySignatureVerifier=h;var g=function(){function e(){}return e.prototype.verify=function(e){return m(e,"")},e}();function m(e,t,r){return i.isString(e)?new Promise((function(n,o){s.verify(e,t,r,(function(e){if(!e)return n();if("TokenExpiredError"===e.name)return o(new v(y.TOKEN_EXPIRED,"The provided token has expired. Get a fresh token from your client app and try again."));if("JsonWebTokenError"===e.name&&e.message&&e.message.includes(l)){var t=e.message.split(l).pop()||"Error fetching public keys.",r=y.KEY_FETCH_ERROR;return t===u?r=y.NO_MATCHING_KID:t===p&&(r=y.NO_KID_IN_HEADER),o(new v(r,t))}return o(new v(y.INVALID_SIGNATURE,e.message))}))})):Promise.reject(new v(y.INVALID_ARGUMENT,"The provided token must be a string."))}t.EmulatorSignatureVerifier=g,t.verifyJwtSignature=m,t.decodeJwt=function(e){if(!i.isString(e))return Promise.reject(new v(y.INVALID_ARGUMENT,"The provided token must be a string."));var t=s.decode(e,{complete:!0});if(!t)return Promise.reject(new v(y.INVALID_ARGUMENT,"Decoding token failed."));var r=null==t?void 0:t.header,n=null==t?void 0:t.payload;return Promise.resolve({header:r,payload:n})};var y,v=function(e){function t(r,n){var o=e.call(this,n)||this;return o.code=r,o.message=n,o.__proto__=t.prototype,o}return o(t,e),t}(Error);t.JwtError=v,function(e){e.INVALID_ARGUMENT="invalid-argument",e.INVALID_CREDENTIAL="invalid-credential",e.TOKEN_EXPIRED="token-expired",e.INVALID_SIGNATURE="invalid-token",e.NO_MATCHING_KID="no-matching-kid-error",e.NO_KID_IN_HEADER="no-kid-error",e.KEY_FETCH_ERROR="key-fetch-error"}(y=t.JwtErrorCode||(t.JwtErrorCode={}))},69173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTopic=t.isURL=t.isUTCDateString=t.isISODateString=t.isPhoneNumber=t.isEmail=t.isPassword=t.isUid=t.isNonNullObject=t.isObject=t.isNonEmptyString=t.isBase64String=t.isString=t.isNumber=t.isBoolean=t.isNonEmptyArray=t.isArray=t.isBuffer=void 0;var n=r(78835);function o(e){return Array.isArray(e)}function i(e){return"string"==typeof e}function s(e){return i(e)&&""!==e}function a(e){return"object"==typeof e&&!o(e)}t.isBuffer=function(e){return e instanceof Buffer},t.isArray=o,t.isNonEmptyArray=function(e){return o(e)&&0!==e.length},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isString=i,t.isBase64String=function(e){return!!i(e)&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},t.isNonEmptyString=s,t.isObject=a,t.isNonNullObject=function(e){return a(e)&&null!==e},t.isUid=function(e){return"string"==typeof e&&e.length>0&&e.length<=128},t.isPassword=function(e){return"string"==typeof e&&e.length>=6},t.isEmail=function(e){return"string"==typeof e&&/^[^@]+@[^@]+$/.test(e)},t.isPhoneNumber=function(e){return"string"==typeof e&&/^\+/.test(e)&&/[\da-zA-Z]+/.test(e)},t.isISODateString=function(e){try{return s(e)&&new Date(e).toISOString()===e}catch(e){return!1}},t.isUTCDateString=function(e){try{return s(e)&&new Date(e).toUTCString()===e}catch(e){return!1}},t.isURL=function(e){if("string"!=typeof e)return!1;if(/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(e))return!1;try{var t=n.parse(e),r=t.protocol,o=t.slashes,i=t.hostname,s=t.pathname;if("http:"!==r&&"https:"!==r||!o)return!1;if(!i||!/^[a-zA-Z0-9]+[\w-]*([.]?[a-zA-Z0-9]+[\w-]*)*$/.test(i))return!1;if(s&&"/"!==s&&!/^(\/[\w\-.~!$'()*+,;=:@%]+)*\/?$/.test(s))return!1}catch(e){return!1}return!0},t.isTopic=function(e){return"string"==typeof e&&/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(e)}},90771:e=>{"use strict";e.exports={i8:"9.8.0"}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var s,a=r.call(arguments,1),c=function(){if(this instanceof s){var t=i.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,a.concat(r.call(arguments)))},l=Math.max(0,i.length-a.length),u=[],p=0;p<l;p++)u.push("$"+p);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var d=function(){};d.prototype=i.prototype,s.prototype=new d,d.prototype=null}return s}},58612:(e,t,r)=>{"use strict";var n=r(17648);e.exports=Function.prototype.bind||n},44977:e=>{"use strict";function t(e,t,r,n,o,i){this._color=e,this.key=t,this.value=r,this.left=n,this.right=o,this._count=i}function r(e){return new t(e._color,e.key,e.value,e.left,e.right,e._count)}function n(e,r){return new t(e,r.key,r.value,r.left,r.right,r._count)}function o(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function i(e,t){this._compare=e,this.root=t}e.exports=function(e){return new i(e||f,null)};var s=i.prototype;function a(e,t){var r;return t.left&&(r=a(e,t.left))?r:(r=e(t.key,t.value))||(t.right?a(e,t.right):void 0)}function c(e,t,r,n){if(t(e,n.key)<=0){var o;if(n.left&&(o=c(e,t,r,n.left)))return o;if(o=r(n.key,n.value))return o}if(n.right)return c(e,t,r,n.right)}function l(e,t,r,n,o){var i,s=r(e,o.key),a=r(t,o.key);if(s<=0){if(o.left&&(i=l(e,t,r,n,o.left)))return i;if(a>0&&(i=n(o.key,o.value)))return i}if(a>0&&o.right)return l(e,t,r,n,o.right)}function u(e,t){this.tree=e,this._stack=t}Object.defineProperty(s,"keys",{get:function(){var e=[];return this.forEach((function(t,r){e.push(t)})),e}}),Object.defineProperty(s,"values",{get:function(){var e=[];return this.forEach((function(t,r){e.push(r)})),e}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(e,r){for(var s=this._compare,a=this.root,c=[],l=[];a;){var u=s(e,a.key);c.push(a),l.push(u),a=u<=0?a.left:a.right}c.push(new t(0,e,r,null,null,1));for(var p=c.length-2;p>=0;--p)a=c[p],l[p]<=0?c[p]=new t(a._color,a.key,a.value,c[p+1],a.right,a._count+1):c[p]=new t(a._color,a.key,a.value,a.left,c[p+1],a._count+1);for(p=c.length-1;p>1;--p){var d=c[p-1];if(a=c[p],1===d._color||1===a._color)break;var f=c[p-2];if(f.left===d)if(d.left===a){if(!(h=f.right)||0!==h._color){f._color=0,f.left=d.right,d._color=1,d.right=f,c[p-2]=d,c[p-1]=a,o(f),o(d),p>=3&&((g=c[p-3]).left===f?g.left=d:g.right=d);break}d._color=1,f.right=n(1,h),f._color=0,p-=1}else{if(!(h=f.right)||0!==h._color){d.right=a.left,f._color=0,f.left=a.right,a._color=1,a.left=d,a.right=f,c[p-2]=a,c[p-1]=d,o(f),o(d),o(a),p>=3&&((g=c[p-3]).left===f?g.left=a:g.right=a);break}d._color=1,f.right=n(1,h),f._color=0,p-=1}else if(d.right===a){if(!(h=f.left)||0!==h._color){f._color=0,f.right=d.left,d._color=1,d.left=f,c[p-2]=d,c[p-1]=a,o(f),o(d),p>=3&&((g=c[p-3]).right===f?g.right=d:g.left=d);break}d._color=1,f.left=n(1,h),f._color=0,p-=1}else{var h;if(!(h=f.left)||0!==h._color){var g;d.left=a.right,f._color=0,f.right=a.left,a._color=1,a.right=d,a.left=f,c[p-2]=a,c[p-1]=d,o(f),o(d),o(a),p>=3&&((g=c[p-3]).right===f?g.right=a:g.left=a);break}d._color=1,f.left=n(1,h),f._color=0,p-=1}}return c[0]._color=1,new i(s,c[0])},s.forEach=function(e,t,r){if(this.root)switch(arguments.length){case 1:return a(e,this.root);case 2:return c(t,this._compare,e,this.root);case 3:if(this._compare(t,r)>=0)return;return l(t,r,this._compare,e,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new u(this,e)}}),Object.defineProperty(s,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new u(this,e)}}),s.at=function(e){if(e<0)return new u(this,[]);for(var t=this.root,r=[];;){if(r.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new u(this,r);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new u(this,[])},s.ge=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i<=0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new u(this,n)},s.gt=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i<0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new u(this,n)},s.lt=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i>0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new u(this,n)},s.le=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i>=0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new u(this,n)},s.find=function(e){for(var t=this._compare,r=this.root,n=[];r;){var o=t(e,r.key);if(n.push(r),0===o)return new u(this,n);r=o<=0?r.left:r.right}return new u(this,[])},s.remove=function(e){var t=this.find(e);return t?t.remove():this},s.get=function(e){for(var t=this._compare,r=this.root;r;){var n=t(e,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var p=u.prototype;function d(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function f(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(p,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(p,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),p.clone=function(){return new u(this.tree,this._stack.slice())},p.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var s=new Array(e.length),a=e[e.length-1];s[s.length-1]=new t(a._color,a.key,a.value,a.left,a.right,a._count);for(var c=e.length-2;c>=0;--c)(a=e[c]).left===e[c+1]?s[c]=new t(a._color,a.key,a.value,s[c+1],a.right,a._count):s[c]=new t(a._color,a.key,a.value,a.left,s[c+1],a._count);if((a=s[s.length-1]).left&&a.right){var l=s.length;for(a=a.left;a.right;)s.push(a),a=a.right;var u=s[l-1];for(s.push(new t(a._color,u.key,u.value,a.left,a.right,a._count)),s[l-1].key=a.key,s[l-1].value=a.value,c=s.length-2;c>=l;--c)a=s[c],s[c]=new t(a._color,a.key,a.value,a.left,s[c+1],a._count);s[l-1].left=s[l]}if(0===(a=s[s.length-1])._color){var p=s[s.length-2];for(p.left===a?p.left=null:p.right===a&&(p.right=null),s.pop(),c=0;c<s.length;++c)s[c]._count--;return new i(this.tree._compare,s[0])}if(a.left||a.right){for(a.left?d(a,a.left):a.right&&d(a,a.right),a._color=1,c=0;c<s.length-1;++c)s[c]._count--;return new i(this.tree._compare,s[0])}if(1===s.length)return new i(this.tree._compare,null);for(c=0;c<s.length;++c)s[c]._count--;var f=s[s.length-2];return function(e){for(var t,i,s,a,c=e.length-1;c>=0;--c){if(t=e[c],0===c)return void(t._color=1);if((i=e[c-1]).left===t){if((s=i.right).right&&0===s.right._color)return a=(s=i.right=r(s)).right=r(s.right),i.right=s.left,s.left=i,s.right=a,s._color=i._color,t._color=1,i._color=1,a._color=1,o(i),o(s),c>1&&((l=e[c-2]).left===i?l.left=s:l.right=s),void(e[c-1]=s);if(s.left&&0===s.left._color)return a=(s=i.right=r(s)).left=r(s.left),i.right=a.left,s.left=a.right,a.left=i,a.right=s,a._color=i._color,i._color=1,s._color=1,t._color=1,o(i),o(s),o(a),c>1&&((l=e[c-2]).left===i?l.left=a:l.right=a),void(e[c-1]=a);if(1===s._color){if(0===i._color)return i._color=1,void(i.right=n(0,s));i.right=n(0,s);continue}s=r(s),i.right=s.left,s.left=i,s._color=i._color,i._color=0,o(i),o(s),c>1&&((l=e[c-2]).left===i?l.left=s:l.right=s),e[c-1]=s,e[c]=i,c+1<e.length?e[c+1]=t:e.push(t),c+=2}else{if((s=i.left).left&&0===s.left._color)return a=(s=i.left=r(s)).left=r(s.left),i.left=s.right,s.right=i,s.left=a,s._color=i._color,t._color=1,i._color=1,a._color=1,o(i),o(s),c>1&&((l=e[c-2]).right===i?l.right=s:l.left=s),void(e[c-1]=s);if(s.right&&0===s.right._color)return a=(s=i.left=r(s)).right=r(s.right),i.left=a.right,s.right=a.left,a.right=i,a.left=s,a._color=i._color,i._color=1,s._color=1,t._color=1,o(i),o(s),o(a),c>1&&((l=e[c-2]).right===i?l.right=a:l.left=a),void(e[c-1]=a);if(1===s._color){if(0===i._color)return i._color=1,void(i.left=n(0,s));i.left=n(0,s);continue}var l;s=r(s),i.left=s.right,s.right=i,s._color=i._color,i._color=0,o(i),o(s),c>1&&((l=e[c-2]).right===i?l.right=s:l.left=s),e[c-1]=s,e[c]=i,c+1<e.length?e[c+1]=t:e.push(t),c+=2}}}(s),f.left===a?f.left=null:f.right=null,new i(this.tree._compare,s[0])},Object.defineProperty(p,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(p,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(p,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var r=this.tree.root;return r?r._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var n=t.length-2;n>=0;--n)t[n+1]===t[n].right&&(++e,t[n].left&&(e+=t[n].left._count));return e},enumerable:!0}),p.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(p,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),p.update=function(e){var r=this._stack;if(0===r.length)throw new Error("Can't update empty node!");var n=new Array(r.length),o=r[r.length-1];n[n.length-1]=new t(o._color,o.key,e,o.left,o.right,o._count);for(var s=r.length-2;s>=0;--s)(o=r[s]).left===r[s+1]?n[s]=new t(o._color,o.key,o.value,n[s+1],o.right,o._count):n[s]=new t(o._color,o.key,o.value,o.left,n[s+1],o._count);return new i(this.tree._compare,n[0])},p.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(p,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},23265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GaxiosError=void 0;class r extends Error{constructor(e,t,r){super(e),this.response=r,this.config=t,this.code=r.status.toString()}}t.GaxiosError=r},23319:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gaxios=void 0;const o=n(r(94470)),i=n(r(83574)),s=n(r(71191)),a=n(r(24970)),c=r(23265),l=r(90659),u="undefined"!=typeof window&&window&&window.fetch?window.fetch:i.default;function p(e,t){return!!d(e,t)}function d(e,t){t=t.toLowerCase();for(const r of Object.keys((null==e?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}let f;function h(){const e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(f=r(26018)),e}h(),t.Gaxios=class{constructor(e){this.agentCache=new Map,this.defaults=e||{}}async request(e={}){return e=this.validateOpts(e),this._request(e)}async _defaultAdapter(e){const t=e.fetchImplementation||u,r=await t(e.url,e),n=await this.getResponseData(e,r);return this.translateResponse(e,r,n)}async _request(e={}){try{let t;if(t=e.adapter?await e.adapter(e,this._defaultAdapter.bind(this)):await this._defaultAdapter(e),!e.validateStatus(t.status))throw new c.GaxiosError(`Request failed with status code ${t.status}`,e,t);return t}catch(t){const r=t;r.config=e;const{shouldRetry:n,config:o}=await l.getRetryConfig(t);if(n&&o)return r.config.retryConfig.currentRetryAttempt=o.retryConfig.currentRetryAttempt,this._request(r.config);throw r}}async getResponseData(e,t){switch(e.responseType){case"stream":return t.body;case"json":{let e=await t.text();try{e=JSON.parse(e)}catch(e){}return e}case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();default:return t.text()}}validateOpts(e){const t=o.default(!0,{},this.defaults,e);if(!t.url)throw new Error("URL is required.");const r=t.baseUrl||t.baseURL;if(r&&(t.url=r+t.url),t.paramsSerializer=t.paramsSerializer||this.paramsSerializer,t.params&&Object.keys(t.params).length>0){let e=t.paramsSerializer(t.params);e.startsWith("?")&&(e=e.slice(1));const r=t.url.includes("?")?"&":"?";t.url=t.url+r+e}"number"==typeof e.maxContentLength&&(t.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(t.follow=e.maxRedirects),t.headers=t.headers||{},t.data&&(a.default.readable(t.data)?t.body=t.data:"undefined"!=typeof Buffer&&Buffer.isBuffer(t.data)?(t.body=t.data,p(t,"Content-Type")||(t.headers["Content-Type"]="application/json")):"object"==typeof t.data?"application/x-www-form-urlencoded"===d(t,"content-type")?t.body=t.paramsSerializer(t.data):(p(t,"Content-Type")||(t.headers["Content-Type"]="application/json"),t.body=JSON.stringify(t.data)):t.body=t.data),t.validateStatus=t.validateStatus||this.validateStatus,t.responseType=t.responseType||"json",t.headers.Accept||"json"!==t.responseType||(t.headers.Accept="application/json"),t.method=t.method||"GET";const n=function(e){var t;const r=null!==(t=process.env.NO_PROXY)&&void 0!==t?t:process.env.no_proxy;if(!r)return!1;const n=r.split(","),o=new URL(e);return!!n.find((e=>e.startsWith("*.")||e.startsWith(".")?(e=e.replace("*",""),o.hostname.endsWith(e)):e===o.origin||e===o.hostname))}(t.url)?void 0:h();return n&&(this.agentCache.has(n)?t.agent=this.agentCache.get(n):(t.agent=new f(n),this.agentCache.set(n,t.agent))),t}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return s.default.stringify(e)}translateResponse(e,t,r){const n={};return t.headers.forEach(((e,t)=>{n[t]=e})),{config:e,data:r,headers:n,status:t.status,statusText:t.statusText,request:{responseURL:t.url}}}}},96343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=t.instance=t.Gaxios=void 0;const n=r(23319);Object.defineProperty(t,"Gaxios",{enumerable:!0,get:function(){return n.Gaxios}});var o=r(23265);Object.defineProperty(t,"GaxiosError",{enumerable:!0,get:function(){return o.GaxiosError}}),t.instance=new n.Gaxios,t.request=async function(e){return t.instance.request(e)}},90659:(e,t)=>{"use strict";function r(e){const t=n(e);if("AbortError"===e.name)return!1;if(!t||0===t.retry)return!1;if(!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries)return!1;if(!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(const[n,o]of t.statusCodesToRetry){const t=e.response.status;if(t>=n&&t<=o){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function n(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}Object.defineProperty(t,"__esModule",{value:!0}),t.getRetryConfig=void 0,t.getRetryConfig=async function(e){var t;let o=n(e);if(!e||!e.config||!o&&!e.config.retry)return{shouldRetry:!1};o=o||{},o.currentRetryAttempt=o.currentRetryAttempt||0,o.retry=void 0===o.retry||null===o.retry?3:o.retry,o.httpMethodsToRetry=o.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],o.noResponseRetries=void 0===o.noResponseRetries||null===o.noResponseRetries?2:o.noResponseRetries,o.statusCodesToRetry=o.statusCodesToRetry||[[100,199],[429,429],[500,599]],e.config.retryConfig=o;const i=o.shouldRetry||r;if(!await i(e))return{shouldRetry:!1,config:e.config};const s=(o.currentRetryAttempt?0:null!==(t=o.retryDelay)&&void 0!==t?t:100)+(Math.pow(2,o.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;const a=new Promise((e=>{setTimeout(e,s)}));return o.onRetryAttempt&&o.onRetryAttempt(e),await a,{shouldRetry:!0,config:e.config}}},86108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestTimeout=t.resetIsAvailableCache=t.isAvailable=t.project=t.instance=t.HEADERS=t.HEADER_VALUE=t.HEADER_NAME=t.SECONDARY_HOST_ADDRESS=t.HOST_ADDRESS=t.BASE_PATH=void 0;const n=r(96343),o=r(4400);function i(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||t.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(t.BASE_PATH,e).href}async function s(e,r,s=3,c=!1){"string"==typeof(r=r||{})&&(r={property:r});let u="";"object"==typeof r&&r.property&&(u="/"+r.property),function(e){Object.keys(e).forEach((e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${e}' is not a valid configuration option.`)}}))}(r);try{const p=c?a:n.request,d=await p({url:`${i()}/${e}${u}`,headers:Object.assign({},t.HEADERS,r.headers),retryConfig:{noResponseRetries:s},params:r.params,responseType:"text",timeout:l()});if(d.headers[t.HEADER_NAME.toLowerCase()]!==t.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${t.HEADER_NAME} header.`);if(!d.data)throw new Error("Invalid response from the metadata service");if("string"==typeof d.data)try{return o.parse(d.data)}catch(e){}return d.data}catch(e){throw e.response&&200!==e.response.status&&(e.message=`Unsuccessful response status code. ${e.message}`),e}}async function a(e){const r={...e,url:e.url.replace(i(),i(t.SECONDARY_HOST_ADDRESS))};let o=!1;const s=n.request(e).then((e=>(o=!0,e))).catch((e=>{if(o)return a;throw o=!0,e})),a=n.request(r).then((e=>(o=!0,e))).catch((e=>{if(o)return s;throw o=!0,e}));return Promise.race([s,a])}let c;function l(){return process.env.K_SERVICE||process.env.FUNCTION_NAME?0:3e3}t.BASE_PATH="/computeMetadata/v1",t.HOST_ADDRESS="http://169.254.169.254",t.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",t.HEADER_NAME="Metadata-Flavor",t.HEADER_VALUE="Google",t.HEADERS=Object.freeze({[t.HEADER_NAME]:t.HEADER_VALUE}),t.instance=function(e){return s("instance",e)},t.project=function(e){return s("project",e)},t.isAvailable=async function(){try{return void 0===c&&(c=s("instance",void 0,process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0,!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),await c,!0}catch(e){if(process.env.DEBUG_AUTH&&console.info(e),"request-timeout"===e.type)return!1;if(e.response&&404===e.response.status)return!1;if(!(e.response&&404===e.response.status||e.code&&["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(e.code))){let t="UNKNOWN";e.code&&(t=e.code),process.emitWarning(`received unexpected error = ${e.message} code = ${t}`,"MetadataLookupWarning")}return!1}},t.resetIsAvailableCache=function(){c=void 0},t.requestTimeout=l},45033:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createURI=t.upload=t.Upload=t.PROTOCOL_REGEX=void 0;const n=r(60271),o=r(70214),i=r(76417),s=r(94470),a=r(96343),c=r(22790),l=r(4850),u=r(92413),p=r(65573),d=/.*\.googleapis\.com/;t.PROTOCOL_REGEX=/^(\w*):\/\//;class f extends l{constructor(e){if(super(),this.numBytesWritten=0,this.numRetries=0,p(this),!(e=e||{}).bucket||!e.file)throw new Error("A bucket and file name are required");e.authConfig=e.authConfig||{},e.authConfig.scopes=["https://www.googleapis.com/auth/devstorage.full_control"],this.authClient=e.authClient||new c.GoogleAuth(e.authConfig),this.apiEndpoint="https://storage.googleapis.com",e.apiEndpoint&&(this.apiEndpoint=this.sanitizeEndpoint(e.apiEndpoint),d.test(e.apiEndpoint)||(this.authClient=a)),this.baseURI=`${this.apiEndpoint}/upload/storage/v1/b`,this.bucket=e.bucket;const t=[e.bucket,e.file];if("number"==typeof e.generation&&t.push(`${e.generation}`),this.cacheKey=t.join("/"),this.customRequestOptions=e.customRequestOptions||{},this.file=e.file,this.generation=e.generation,this.kmsKeyName=e.kmsKeyName,this.metadata=e.metadata||{},this.offset=e.offset,this.origin=e.origin,this.params=e.params||{},this.userProject=e.userProject,e.key){const t=Buffer.from(e.key).toString("base64");this.encryption={key:t,hash:i.createHash("sha256").update(e.key).digest("base64")}}this.predefinedAcl=e.predefinedAcl,e.private&&(this.predefinedAcl="private"),e.public&&(this.predefinedAcl="publicRead");const r=e.configPath;this.configStore=new o("gcs-resumable-upload",null,{configPath:r}),this.uriProvidedManually=!!e.uri,this.uri=e.uri||this.get("uri"),this.numBytesWritten=0,this.numRetries=0;const n=e.metadata?Number(e.metadata.contentLength):NaN;this.contentLength=isNaN(n)?"*":n,this.once("writing",(()=>{this.uri?this.continueUploading():this.createURI((e=>{if(e)return this.destroy(e);this.startUploading()}))}))}createURI(e){if(!e)return this.createURIAsync();this.createURIAsync().then((t=>e(null,t)),e)}async createURIAsync(){const e=this.metadata,t={method:"POST",url:[this.baseURI,this.bucket,"o"].join("/"),params:Object.assign({name:this.file,uploadType:"resumable"},this.params),data:e,headers:{}};e.contentLength&&(t.headers["X-Upload-Content-Length"]=e.contentLength.toString()),e.contentType&&(t.headers["X-Upload-Content-Type"]=e.contentType),void 0!==this.generation&&(t.params.ifGenerationMatch=this.generation),this.kmsKeyName&&(t.params.kmsKeyName=this.kmsKeyName),this.predefinedAcl&&(t.params.predefinedAcl=this.predefinedAcl),this.origin&&(t.headers.Origin=this.origin);const r=(await this.makeRequest(t)).headers.location;return this.uri=r,this.set({uri:r}),this.offset=0,r}async continueUploading(){"number"!=typeof this.offset?(await this.getAndSetOffset(),this.startUploading()):this.startUploading()}async startUploading(){const e=this.bufferStream||new u.PassThrough;this.bufferStream=e;const t=this.offsetStream=new u.Transform({transform:this.onChunk.bind(this)}),r=new u.PassThrough,n=new u.PassThrough;r.on("prefinish",(()=>{this.cork()})),this.on("response",(e=>{e.data.error?this.destroy(e.data.error):e.status<200||e.status>299?this.destroy(new Error("Upload failed")):(e&&e.data&&(e.data.size=Number(e.data.size)),this.emit("metadata",e.data),this.deleteConfig(),this.uncork())})),this.setPipeline(e,t,r),this.pipe(n),this.once("restart",(()=>{this.unpipe(n)}));const o={method:"PUT",url:this.uri,headers:{"Content-Range":"bytes "+this.offset+"-*/"+this.contentLength},body:n};try{await this.makeRequestStream(o)}catch(e){this.destroy(e)}}onChunk(e,t,r){const n=this.offset,o=this.numBytesWritten;if(this.emit("progress",{bytesWritten:this.numBytesWritten,contentLength:this.contentLength}),0===o){let t=this.get("firstChunk");const r=e.slice(0,16).valueOf();if(t){t=Buffer.from(t);const n=Buffer.from(r);if(0!==Buffer.compare(t,n))return this.bufferStream.unshift(e),this.bufferStream.unpipe(this.offsetStream),void this.restart()}else this.set({uri:this.uri,firstChunk:r})}let i=e.length;"string"==typeof e&&(i=Buffer.byteLength(e,t)),o<n&&(e=e.slice(n-o)),this.numBytesWritten+=i,r(void 0,this.numBytesWritten>n?e:void 0)}async getAndSetOffset(){const e={method:"PUT",url:this.uri,headers:{"Content-Length":0,"Content-Range":"bytes */*"}};try{const t=await this.makeRequest(e);if(308===t.status&&t.headers.range){const e=t.headers.range;return void(this.offset=Number(e.split("-")[1])+1)}this.offset=0}catch(e){const t=e.response;if(t&&404===t.status&&!this.uriProvidedManually)return void this.restart();if(t&&410===t.status)return void this.restart();this.destroy(e)}}async makeRequest(e){this.encryption&&(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryption.key.toString(),e.headers["x-goog-encryption-key-sha256"]=this.encryption.hash.toString()),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.validateStatus=e=>e>=200&&e<300||308===e;const t=s(!0,{},this.customRequestOptions,e),r=await this.authClient.request(t);if(r.data&&r.data.error)throw r.data.error;return r}async makeRequestStream(e){const t=new n.default;this.once("error",(()=>t.abort())),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.signal=t.signal,e.validateStatus=()=>!0;const r=s(!0,{},this.customRequestOptions,e),o=await this.authClient.request(r);return this.onResponse(o),o}restart(){this.emit("restart"),this.numBytesWritten=0,this.deleteConfig(),this.createURI((e=>{if(e)return this.destroy(e);this.startUploading()}))}get(e){const t=this.configStore.get(this.cacheKey);return t&&t[e]}set(e){this.configStore.set(this.cacheKey,e)}deleteConfig(){this.configStore.delete(this.cacheKey)}onResponse(e){if(404===e.status)return this.numRetries<5?(this.numRetries++,this.startUploading()):this.destroy(new Error("Retry limit exceeded - "+e.data)),!1;if(e.status>499&&e.status<600){if(this.numRetries<5){const e=Math.round(1e3*Math.random()),t=1e3*Math.pow(2,this.numRetries)+e;this.numRetries++,setTimeout(this.continueUploading.bind(this),t)}else this.destroy(new Error("Retry limit exceeded - "+e.data));return!1}return this.emit("response",e),!0}sanitizeEndpoint(e){return t.PROTOCOL_REGEX.test(e)||(e=`https://${e}`),e.replace(/\/+$/,"")}}t.Upload=f,t.upload=function(e){return new f(e)},t.createURI=function(e,t){const r=new f(e);if(!t)return r.createURI();r.createURI().then((e=>t(null,e)),t)}},40210:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var l=function(){throw new s},u=c?function(){try{return l}catch(e){try{return c(arguments,"callee").get}catch(e){return l}}}():l,p=r(41405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return g[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(58612),b=r(17642),w=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),O=v.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,C=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return _(e,S,(function(e,t,r,o){n[n.length]=r?_(o,T,"$1"):t||e})),n},A=function(e,t){var r,n=e;if(b(y,n)&&(n="%"+(r=y[n])[0]+"%"),b(g,n)){var i=g[n];if(i===f&&(i=m(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",i=A("%"+n+"%",t),a=i.name,l=i.value,u=!1,p=i.alias;p&&(n=p[0],E(r,w([0,1],p)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],m=O(h,0,1),y=O(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&f||(u=!0),b(g,a="%"+(n+="."+h)+"%"))l=g[a];else if(null!=l){if(!(h in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=r.length){var v=c(l,h);l=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[h]}else f=b(l,h),l=l[h];f&&!u&&(g[a]=l)}}return l}},55105:(e,t,r)=>{"use strict";const{PassThrough:n}=r(92413);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const o="buffer"===r;let i=!1;t?i=!(r||o):r=r||"utf8",o&&(r=null);const s=new n({objectMode:i});r&&s.setEncoding(r);let a=0;const c=[];return s.on("data",(e=>{c.push(e),i?a=c.length:a+=e.length})),s.getBufferedValue=()=>t?c:o?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},10031:(e,t,r)=>{"use strict";const{constants:n}=r(64293),o=r(92413),{promisify:i}=r(31669),s=r(55105),a=i(o.pipeline);class c extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function l(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:r}=t,o=s(t);return await new Promise(((t,i)=>{const s=e=>{e&&o.getBufferedLength()<=n.MAX_LENGTH&&(e.bufferedData=o.getBufferedValue()),i(e)};(async()=>{try{await a(e,o),t()}catch(e){s(e)}})(),o.on("data",(()=>{o.getBufferedLength()>r&&s(new c)}))})),o.getBufferedValue()}e.exports=l,e.exports.buffer=(e,t)=>l(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>l(e,{...t,array:!0}),e.exports.MaxBufferError=c},51615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthClient=void 0;const n=r(28614),o=r(75197);class i extends n.EventEmitter{constructor(){super(...arguments),this.transporter=new o.DefaultTransporter,this.credentials={},this.eagerRefreshThresholdMillis=3e5,this.forceRefreshOnFailure=!1}setCredentials(e){this.credentials=e}addSharedMetadataHeaders(e){return!e["x-goog-user-project"]&&this.quotaProjectId&&(e["x-goog-user-project"]=this.quotaProjectId),e}}t.AuthClient=i},11e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsClient=void 0;const n=r(12926),o=r(25917);class i extends o.BaseExternalAccountClient{constructor(e,t){var r;super(e,t),this.environmentId=e.credential_source.environment_id,this.regionUrl=e.credential_source.region_url,this.securityCredentialsUrl=e.credential_source.url,this.regionalCredVerificationUrl=e.credential_source.regional_cred_verification_url;const n=null===(r=this.environmentId)||void 0===r?void 0:r.match(/^(aws)(\d+)$/);if(!n||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(1!==parseInt(n[2],10))throw new Error(`aws version "${n[2]}" is not supported in the current build.`);this.awsRequestSigner=null,this.region=""}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.getAwsRegion(),this.awsRequestSigner=new n.AwsRequestSigner((async()=>{if(process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY)return{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN};const e=await this.getAwsRoleName(),t=await this.getAwsSecurityCredentials(e);return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,token:t.Token}}),this.region));const e=await this.awsRequestSigner.getRequestOptions({url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),t=[],r=Object.assign({"x-goog-cloud-target-resource":this.audience},e.headers);for(const e in r)t.push({key:e,value:r[e]});return encodeURIComponent(JSON.stringify({url:e.url,method:e.method,headers:t}))}async getAwsRegion(){if(process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION)return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION;if(!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');const e={url:this.regionUrl,method:"GET",responseType:"text"},t=await this.transporter.request(e);return t.data.substr(0,t.data.length-1)}async getAwsRoleName(){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const e={url:this.securityCredentialsUrl,method:"GET",responseType:"text"};return(await this.transporter.request(e)).data}async getAwsSecurityCredentials(e){return(await this.transporter.request({url:`${this.securityCredentialsUrl}/${e}`,responseType:"json"})).data}}t.AwsClient=i},12926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsRequestSigner=void 0;const n=r(82326);async function o(e,t,r){return await e.signWithHmacSha256(t,r)}t.AwsRequestSigner=class{constructor(e,t){this.getCredentials=e,this.region=t,this.crypto=n.createCrypto()}async getRequestOptions(e){if(!e.url)throw new Error('"url" is required in "amzOptions"');const t="object"==typeof e.data?JSON.stringify(e.data):e.data,r=e.url,i=e.method||"GET",s=e.body||t,a=e.headers,c=await this.getCredentials(),l=new URL(r),u=await async function(e){const t=e.additionalAmzHeaders||{},r=e.requestPayload||"",i=e.host.split(".")[0],s=new Date,a=s.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),c=s.toISOString().replace(/[-]/g,"").replace(/T.*/,""),l={};Object.keys(t).forEach((e=>{l[e.toLowerCase()]=t[e]})),e.securityCredentials.token&&(l["x-amz-security-token"]=e.securityCredentials.token);const u=Object.assign({host:e.host},l.date?{}:{"x-amz-date":a},l);let p="";const d=Object.keys(u).sort();d.forEach((e=>{p+=`${e}:${u[e]}\n`}));const f=d.join(";"),h=await e.crypto.sha256DigestHex(r),g=`${e.method}\n${e.canonicalUri}\n${e.canonicalQuerystring}\n${p}\n${f}\n${h}`,m=`${c}/${e.region}/${i}/aws4_request`,y=`AWS4-HMAC-SHA256\n${a}\n${m}\n`+await e.crypto.sha256DigestHex(g),v=await async function(e,t,r,n,i){const s=await o(e,`AWS4${t}`,r),a=await o(e,s,n),c=await o(e,a,i);return await o(e,c,"aws4_request")}(e.crypto,e.securityCredentials.secretAccessKey,c,e.region,i),b=await o(e.crypto,v,y),w=`AWS4-HMAC-SHA256 Credential=${e.securityCredentials.accessKeyId}/${m}, SignedHeaders=${f}, Signature=${n.fromArrayBufferToHex(b)}`;return{amzDate:l.date?void 0:a,authorizationHeader:w,canonicalQuerystring:e.canonicalQuerystring}}({crypto:this.crypto,host:l.host,canonicalUri:l.pathname,canonicalQuerystring:l.search.substr(1),method:i,region:this.region,securityCredentials:c,requestPayload:s,additionalAmzHeaders:a}),p=Object.assign(u.amzDate?{"x-amz-date":u.amzDate}:{},{Authorization:u.authorizationHeader,host:l.host},a||{});c.token&&Object.assign(p,{"x-amz-security-token":c.token});const d={url:r,method:i,headers:p};return void 0!==s&&(d.body=s),d}}},25917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseExternalAccountClient=t.CLOUD_RESOURCE_MANAGER=t.EXTERNAL_ACCOUNT_TYPE=t.EXPIRATION_TIME_OFFSET=void 0;const n=r(92413),o=r(51615),i=r(40204),s="https://www.googleapis.com/auth/cloud-platform";t.EXPIRATION_TIME_OFFSET=3e5,t.EXTERNAL_ACCOUNT_TYPE="external_account",t.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";class a extends o.AuthClient{constructor(e,r){if(super(),e.type!==t.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${t.EXTERNAL_ACCOUNT_TYPE}" type but received "${e.type}"`);const n=e.client_id?{confidentialClientType:"basic",clientId:e.client_id,clientSecret:e.client_secret}:void 0;this.stsCredential=new i.StsCredentials(e.token_url,n),this.scopes=[s],this.cachedAccessToken=null,this.audience=e.audience,this.subjectTokenType=e.subject_token_type,this.quotaProjectId=e.quota_project_id,this.serviceAccountImpersonationUrl=e.service_account_impersonation_url,"number"!=typeof(null==r?void 0:r.eagerRefreshThresholdMillis)?this.eagerRefreshThresholdMillis=t.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=r.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(null==r?void 0:r.forceRefreshOnFailure),this.projectId=null,this.projectNumber=this.getProjectNumber(this.audience)}setCredentials(e){super.setCredentials(e),this.cachedAccessToken=e}async getAccessToken(){return this.cachedAccessToken&&!this.isExpired(this.cachedAccessToken)||await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const e={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(e)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then((e=>t(null,e)),(e=>t(e,e.response)))}async getProjectId(){if(this.projectId)return this.projectId;if(this.projectNumber){const e=await this.getRequestHeaders(),r=await this.transporter.request({headers:e,url:`${t.CLOUD_RESOURCE_MANAGER}${this.projectNumber}`,responseType:"json"});return this.projectId=r.data.projectId,this.projectId}return null}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(r){const o=r.response;if(o){const r=o.status,i=o.config.data instanceof n.Readable,s=401===r||403===r;if(!t&&s&&!i&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw r}return r}async refreshAccessTokenAsync(){const e=await this.retrieveSubjectToken(),t={grantType:"urn:ietf:params:oauth:grant-type:token-exchange",audience:this.audience,requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:e,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[s]:this.getScopesArray()},r=await this.stsCredential.exchangeToken(t);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(r.access_token):this.cachedAccessToken={access_token:r.access_token,expiry_date:(new Date).getTime()+1e3*r.expires_in,res:r.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}getProjectNumber(e){const t=e.match(/\/projects\/([^/]+)/);return t?t[1]:null}async getImpersonatedAccessToken(e){const t={url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},data:{scope:this.getScopesArray()},responseType:"json"},r=await this.transporter.request(t),n=r.data;return{access_token:n.accessToken,expiry_date:new Date(n.expireTime).getTime(),res:r}}isExpired(e){const t=(new Date).getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}getScopesArray(){return"string"==typeof this.scopes?[this.scopes]:void 0===this.scopes?[s]:this.scopes}}t.BaseExternalAccountClient=a},52937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compute=void 0;const n=r(61021),o=r(86108),i=r(97132);class s extends i.OAuth2Client{constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=n(e.scopes)}async refreshTokenNoCache(e){const t=`service-accounts/${this.serviceAccountEmail}/token`;let r;try{const e={property:t};this.scopes.length>0&&(e.params={scopes:this.scopes.join(",")}),r=await o.instance(e)}catch(e){throw e.message=`Could not refresh access token: ${e.message}`,this.wrapError(e),e}const n=r;return r&&r.expires_in&&(n.expiry_date=(new Date).getTime()+1e3*r.expires_in,delete n.expires_in),this.emit("tokens",n),{tokens:n,res:null}}async fetchIdToken(e){const t=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${e}`;let r;try{const e={property:t};r=await o.instance(e)}catch(e){throw e.message=`Could not fetch ID token: ${e.message}`,e}return r}wrapError(e){const t=e.response;t&&t.status&&(e.code=t.status.toString(),403===t.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===t.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}t.Compute=s},42838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=t.clear=t.GCPEnv=void 0;const n=r(86108);var o;let i;!function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.NONE="NONE"}(o=t.GCPEnv||(t.GCPEnv={})),t.clear=function(){i=void 0},t.getEnv=async function(){return i||(i=async function(){let e=o.NONE;return e=process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME?o.APP_ENGINE:process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET?o.CLOUD_FUNCTIONS:await async function(){return n.isAvailable()}()?await async function(){try{return await n.instance("attributes/cluster-name"),!0}catch(e){return!1}}()?o.KUBERNETES_ENGINE:o.COMPUTE_ENGINE:o.NONE,e}(),i)}},21985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalAccountClient=void 0;const n=r(25917),o=r(35020),i=r(11e3);t.ExternalAccountClient=class{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options) or via new GoogleAuth(options).getClient()")}static fromJSON(e,t){var r;return e&&e.type===n.EXTERNAL_ACCOUNT_TYPE?(null===(r=e.credential_source)||void 0===r?void 0:r.environment_id)?new i.AwsClient(e,t):new o.IdentityPoolClient(e,t):null}}},69303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.CLOUD_SDK_CLIENT_ID=void 0;const n=r(63129),o=r(35747),i=r(86108),s=r(12087),a=r(85622),c=r(82326),l=r(75197),u=r(52937),p=r(57772),d=r(42838),f=r(83930),h=r(70249),g=r(21985),m=r(25917);t.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";class y{constructor(e){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,e=e||{},this._cachedProjectId=e.projectId||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.jsonContent=e.credentials||null,this.clientOptions=e.clientOptions}get isGCE(){return this.checkIsGCE}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then((t=>e(null,t)),e)}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise((async(e,t)=>{try{const t=this.getProductionProjectId()||await this.getFileProjectId()||await this.getDefaultServiceProjectId()||await this.getGCEProjectId()||await this.getExternalAccountClientProjectId();if(this._cachedProjectId=t,!t)throw new Error("Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started");e(t)}catch(e){t(e)}}))),this._getDefaultProjectIdPromise)}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then((e=>t(null,e.credential,e.projectId)),t)}async getApplicationDefaultAsync(e={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:await this.getProjectIdAsync()};let t,r,n;if(t=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e),t)return t instanceof f.JWT?(t.defaultScopes=this.defaultScopes,t.scopes=this.scopes):t instanceof m.BaseExternalAccountClient&&(t.scopes=this.getAnyScopes()),this.cachedCredential=t,r=await this.getProjectId(),{credential:t,projectId:r};if(t=await this._tryGetApplicationCredentialsFromWellKnownFile(e),t)return t instanceof f.JWT?(t.defaultScopes=this.defaultScopes,t.scopes=this.scopes):t instanceof m.BaseExternalAccountClient&&(t.scopes=this.getAnyScopes()),this.cachedCredential=t,r=await this.getProjectId(),{credential:t,projectId:r};try{n=await this._checkIsGCE()}catch(e){throw e.message=`Unexpected error determining execution environment: ${e.message}`,e}if(!n)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return e.scopes=this.getAnyScopes(),this.cachedCredential=new u.Compute(e),r=await this.getProjectId(),{projectId:r,credential:this.cachedCredential}}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=await i.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){const t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(e){throw e.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${e.message}`,e}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let t=null;if(this._isWindows())t=process.env.APPDATA;else{const e=process.env.HOME;e&&(t=a.join(e,".config"))}return t&&(t=a.join(t,"gcloud","application_default_credentials.json"),o.existsSync(t)||(t=null)),t?await this._getApplicationCredentialsFromFilePath(t,e):null}async _getApplicationCredentialsFromFilePath(e,t={}){if(!e||0===e.length)throw new Error("The file path is invalid.");try{if(e=o.realpathSync(e),!o.lstatSync(e).isFile())throw new Error}catch(t){throw t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`,t}const r=o.createReadStream(e);return this.fromStream(r,t)}fromJSON(e,t){let r;if(!e)throw new Error("Must pass in a JSON object containing the Google auth settings.");return t=t||{},"authorized_user"===e.type?(r=new h.UserRefreshClient(t),r.fromJSON(e)):e.type===m.EXTERNAL_ACCOUNT_TYPE?(r=g.ExternalAccountClient.fromJSON(e,t),r.scopes=this.getAnyScopes()):(t.scopes=this.scopes,r=new f.JWT(t),r.defaultScopes=this.defaultScopes,r.fromJSON(e)),r}_cacheClientFromJSON(e,t){let r;return t=t||{},"authorized_user"===e.type?(r=new h.UserRefreshClient(t),r.fromJSON(e)):e.type===m.EXTERNAL_ACCOUNT_TYPE?(r=g.ExternalAccountClient.fromJSON(e,t),r.scopes=this.getAnyScopes()):(t.scopes=this.scopes,r=new f.JWT(t),r.defaultScopes=this.defaultScopes,r.fromJSON(e)),this.jsonContent=e,this.cachedCredential=r,this.cachedCredential}fromStream(e,t={},r){let n={};if("function"==typeof t?r=t:n=t,!r)return this.fromStreamAsync(e,n);this.fromStreamAsync(e,n).then((e=>r(null,e)),r)}fromStreamAsync(e,t){return new Promise(((r,n)=>{if(!e)throw new Error("Must pass in a stream containing the Google auth settings.");let o="";e.setEncoding("utf8").on("error",n).on("data",(e=>o+=e)).on("end",(()=>{try{try{const e=JSON.parse(o),n=this._cacheClientFromJSON(e,t);return r(n)}catch(e){if(!this.keyFilename)throw e;const t=new f.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=t,r(t)}}catch(e){return n(e)}}))}))}fromAPIKey(e,t){t=t||{};const r=new f.JWT(t);return r.fromAPIKey(e),r}_isWindows(){const e=s.platform();return!!(e&&e.length>=3&&"win"===e.substring(0,3).toLowerCase())}async getDefaultServiceProjectId(){return new Promise((e=>{n.exec("gcloud config config-helper --format json",((t,r)=>{if(!t&&r)try{const t=JSON.parse(r).configuration.properties.core.project;return void e(t)}catch(e){}e(null)}))}))}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const e=await this.getClient();if(e&&e.projectId)return e.projectId}const e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getExternalAccountClientProjectId(){if(!this.jsonContent||this.jsonContent.type!==m.EXTERNAL_ACCOUNT_TYPE)return null;const e=await this.getClient();return await e.getProjectId()}async getGCEProjectId(){try{return await i.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then((t=>e(null,t)),e)}async getCredentialsAsync(){if(await this.getClient(),this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key};if(!await this._checkIsGCE())throw new Error("Unknown error.");const e=await i.instance({property:"service-accounts/",params:{recursive:"true"}});if(!e||!e.default||!e.default.email)throw new Error("Failure from metadata server.");return{client_email:e.default.email}}async getClient(e){if(e)throw new Error("Passing options to getClient is forbidden in v5.0.0. Use new GoogleAuth(opts) instead.");if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){const e=a.resolve(this.keyFilename),t=o.createReadStream(e);await this.fromStreamAsync(t,this.clientOptions)}else await this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential}async getIdTokenClient(e){const t=await this.getClient();if(!("fetchIdToken"in t))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new p.IdTokenClient({targetAudience:e,idTokenProvider:t})}async getAccessToken(){const e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e){const t=(e=e||{}).url||e.uri,r=await this.getClient(),n=await r.getRequestHeaders(t);return e.headers=Object.assign(e.headers||{},n),e}async request(e){return(await this.getClient()).request(e)}getEnv(){return d.getEnv()}async sign(e){const t=await this.getClient(),r=c.createCrypto();if(t instanceof f.JWT&&t.key)return await r.sign(t.key,e);if(!await this.getProjectId())throw new Error("Cannot sign data without a project ID.");const n=await this.getCredentials();if(!n.client_email)throw new Error("Cannot sign data without `client_email`.");const o=`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${n.client_email}:signBlob`;return(await this.request({method:"POST",url:o,data:{payload:r.encodeBase64StringUtf8(e)}})).data.signedBlob}}t.GoogleAuth=y,y.DefaultTransporter=l.DefaultTransporter},68065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAMAuth=void 0,t.IAMAuth=class{constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}},35020:(e,t,r)=>{"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityPoolClient=void 0;const s=r(35747),a=r(31669),c=r(25917),l=a.promisify(null!==(n=s.readFile)&&void 0!==n?n:()=>{}),u=a.promisify(null!==(o=s.realpath)&&void 0!==o?o:()=>{}),p=a.promisify(null!==(i=s.lstat)&&void 0!==i?i:()=>{});class d extends c.BaseExternalAccountClient{constructor(e,t){var r,n;if(super(e,t),this.file=e.credential_source.file,this.url=e.credential_source.url,this.headers=e.credential_source.headers,!this.file&&!this.url)throw new Error('No valid Identity Pool "credential_source" provided');if(this.formatType=(null===(r=e.credential_source.format)||void 0===r?void 0:r.type)||"text",this.formatSubjectTokenFieldName=null===(n=e.credential_source.format)||void 0===n?void 0:n.subject_token_field_name,"json"!==this.formatType&&"text"!==this.formatType)throw new Error(`Invalid credential_source format "${this.formatType}"`);if("json"===this.formatType&&!this.formatSubjectTokenFieldName)throw new Error("Missing subject_token_field_name for JSON credential_source format")}async retrieveSubjectToken(){return this.file?await this.getTokenFromFile(this.file,this.formatType,this.formatSubjectTokenFieldName):await this.getTokenFromUrl(this.url,this.formatType,this.formatSubjectTokenFieldName,this.headers)}async getTokenFromFile(e,t,r){try{if(e=await u(e),!(await p(e)).isFile())throw new Error}catch(t){throw t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`,t}let n;const o=await l(e,{encoding:"utf8"});if("text"===t?n=o:"json"===t&&r&&(n=JSON.parse(o)[r]),!n)throw new Error("Unable to parse the subject_token from the credential_source file");return n}async getTokenFromUrl(e,t,r,n){const o={url:e,method:"GET",headers:n,responseType:t};let i;if("text"===t?i=(await this.transporter.request(o)).data:"json"===t&&r&&(i=(await this.transporter.request(o)).data[r]),!i)throw new Error("Unable to parse the subject_token from the credential_source URL");return i}}t.IdentityPoolClient=d},57772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdTokenClient=void 0;const n=r(97132);class o extends n.OAuth2Client{constructor(e){super(),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(e){if(!this.credentials.id_token||(this.credentials.expiry_date||0)<Date.now()){const e=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:e,expiry_date:this.getIdTokenExpiryDate(e)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(e){const t=e.split(".")[1];if(t)return 1e3*JSON.parse(Buffer.from(t,"base64").toString("ascii")).exp}}t.IdTokenClient=o},31723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWTAccess=void 0;const n=r(40158),o=r(39593),i={alg:"RS256",typ:"JWT"};class s{constructor(e,t,r,n){this.cache=new o({max:500,maxAge:36e5}),this.email=e,this.key=t,this.keyId=r,this.eagerRefreshThresholdMillis=null!=n?n:3e5}getRequestHeaders(e,t){const r=this.cache.get(e),o=Date.now();if(r&&r.expiration-o>this.eagerRefreshThresholdMillis)return r.headers;const a=Math.floor(Date.now()/1e3),c=s.getExpirationTime(a),l={iss:this.email,sub:this.email,aud:e,exp:c,iat:a};if(t)for(const e in l)if(t[e])throw new Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`);const u=this.keyId?{...i,kid:this.keyId}:i,p=Object.assign(l,t),d={Authorization:`Bearer ${n.sign({header:u,payload:p,secret:this.key})}`};return this.cache.set(e,{expiration:1e3*c,headers:d}),d}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then((()=>t()),t)}fromStreamAsync(e){return new Promise(((t,r)=>{e||r(new Error("Must pass in a stream containing the service account auth settings."));let n="";e.setEncoding("utf8").on("data",(e=>n+=e)).on("error",r).on("end",(()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}}))}))}}t.JWTAccess=s},83930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=void 0;const n=r(60419),o=r(31723),i=r(97132);class s extends i.OAuth2Client{constructor(e,t,r,n,o,i){const s=e&&"object"==typeof e?e:{email:e,keyFile:t,key:r,keyId:i,scopes:n,subject:o};super({eagerRefreshThresholdMillis:s.eagerRefreshThresholdMillis,forceRefreshOnFailure:s.forceRefreshOnFailure}),this.email=s.email,this.keyFile=s.keyFile,this.key=s.key,this.keyId=s.keyId,this.scopes=s.scopes,this.subject=s.subject,this.additionalClaims=s.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){return new s({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:e,subject:this.subject,additionalClaims:this.additionalClaims})}async getRequestMetadataAsync(e){if(this.apiKey||this.hasUserScopes()||!e)return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:{}};if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:e}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${e.id_token}`})}}{this.access||(this.access=new o.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));const t=await this.access.getRequestHeaders(e,this.additionalClaims);return{headers:this.addSharedMetadataHeaders(t)}}}async fetchIdToken(e){const t=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e}});if(await t.getToken({forceRefresh:!0}),!t.idToken)throw new Error("Unknown error: Failed to fetch ID token");return t.idToken}hasUserScopes(){return!!this.scopes&&this.scopes.length>0}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0)||!!(this.defaultScopes&&this.defaultScopes.length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then((t=>e(null,t)),e)}async authorizeAsync(){const e=await this.refreshToken();if(!e)throw new Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){const t=this.createGToken(),r={access_token:(await t.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:t.expiresAt,id_token:t.idToken};return this.emit("tokens",r),{res:null,tokens:r}}createGToken(){return this.gtoken||(this.gtoken=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then((()=>t()),t)}fromStreamAsync(e){return new Promise(((t,r)=>{if(!e)throw new Error("Must pass in a stream containing the service account auth settings.");let n="";e.setEncoding("utf8").on("error",r).on("data",(e=>n+=e)).on("end",(()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}}))}))}fromAPIKey(e){if("string"!=typeof e)throw new Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}t.JWT=s},62603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginTicket=void 0,t.LoginTicket=class{constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}},97132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuth2Client=t.CertificateFormat=t.CodeChallengeMethod=void 0;const n=r(71191),o=r(92413),i=r(35015),s=r(82326),a=r(51615),c=r(62603);var l,u;(u=t.CodeChallengeMethod||(t.CodeChallengeMethod={})).Plain="plain",u.S256="S256",function(e){e.PEM="PEM",e.JWK="JWK"}(l=t.CertificateFormat||(t.CertificateFormat={}));class p extends a.AuthClient{constructor(e,t,r){super(),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=l.PEM,this.refreshTokenPromises=new Map;const n=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,redirectUri:r};this._clientId=n.clientId,this._clientSecret=n.clientSecret,this.redirectUri=n.redirectUri,this.eagerRefreshThresholdMillis=n.eagerRefreshThresholdMillis||3e5,this.forceRefreshOnFailure=!!n.forceRefreshOnFailure}generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,e.scope instanceof Array&&(e.scope=e.scope.join(" ")),p.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+n.stringify(e)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const e=s.createCrypto(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-");return{codeVerifier:t,codeChallenge:(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}}getToken(e,t){const r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then((e=>t(null,e.tokens,e.res)),(e=>t(e,null,e.response)))}async getTokenAsync(e){const t=p.GOOGLE_OAUTH2_TOKEN_URL_,r={code:e.code,client_id:e.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:e.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:e.codeVerifier},o=await this.transporter.request({method:"POST",url:t,data:n.stringify(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),i=o.data;return o.data&&o.data.expires_in&&(i.expiry_date=(new Date).getTime()+1e3*o.data.expires_in,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:o}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);const t=this.refreshTokenNoCache(e).then((t=>(this.refreshTokenPromises.delete(e),t)),(t=>{throw this.refreshTokenPromises.delete(e),t}));return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(e){if(!e)throw new Error("No refresh token is set.");const t=p.GOOGLE_OAUTH2_TOKEN_URL_,r={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},o=await this.transporter.request({method:"POST",url:t,data:n.stringify(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),i=o.data;return o.data&&o.data.expires_in&&(i.expiry_date=(new Date).getTime()+1e3*o.data.expires_in,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:o}}refreshAccessToken(e){if(!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then((t=>e(null,t.credentials,t.res)),e)}async refreshAccessTokenAsync(){const e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then((t=>e(null,t.token,t.res)),e)}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)throw new Error("No refresh token is set.");const e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw new Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}return{token:this.credentials.access_token}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){const t=this.credentials;if(!t.access_token&&!t.refresh_token&&!this.apiKey)throw new Error("No access, refresh token or API key is set.");if(t.access_token&&!this.isTokenExpiring()){t.token_type=t.token_type||"Bearer";const e={Authorization:t.token_type+" "+t.access_token};return{headers:this.addSharedMetadataHeaders(e)}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let r=null,n=null;try{r=await this.refreshToken(t.refresh_token),n=r.tokens}catch(e){const t=e;throw!t.response||403!==t.response.status&&404!==t.response.status||(t.message=`Could not refresh access token: ${t.message}`),t}const o=this.credentials;o.token_type=o.token_type||"Bearer",n.refresh_token=o.refresh_token,this.credentials=n;const i={Authorization:o.token_type+" "+n.access_token};return{headers:this.addSharedMetadataHeaders(i),res:r.res}}static getRevokeTokenUrl(e){const t=n.stringify({token:e});return`${p.GOOGLE_OAUTH2_REVOKE_URL_}?${t}`}revokeToken(e,t){const r={url:p.getRevokeTokenUrl(e),method:"POST"};if(!t)return this.transporter.request(r);this.transporter.request(r).then((e=>t(null,e)),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then((t=>e(null,t)),e)}async revokeCredentialsAsync(){const e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw new Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then((e=>t(null,e)),(e=>t(e,e.response)))}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestMetadataAsync(e.url);e.headers=e.headers||{},t.headers&&t.headers["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t.headers["x-goog-user-project"]),t.headers&&t.headers.Authorization&&(e.headers.Authorization=t.headers.Authorization),this.apiKey&&(e.headers["X-Goog-Api-Key"]=this.apiKey),r=await this.transporter.request(e)}catch(r){const n=r.response;if(n){const r=n.status,i=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),s=n.config.data instanceof o.Readable,a=401===r||403===r;if(!t&&a&&!s&&i)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0)}throw r}return r}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then((e=>t(null,e)),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw new Error("The verifyIdToken method requires an ID Token");const t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,p.ISSUERS_,e.maxExpiry)}async getTokenInfo(e){const{data:t}=await this.transporter.request({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${e}`},url:p.GOOGLE_TOKEN_INFO_URL}),r=Object.assign({expiry_date:(new Date).getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then((t=>e(null,t.certs,t.res)),e)}async getFederatedSignonCertsAsync(){const e=(new Date).getTime(),t=s.hasBrowserCrypto()?l.JWK:l.PEM;if(this.certificateExpiry&&e<this.certificateExpiry.getTime()&&this.certificateCacheFormat===t)return{certs:this.certificateCache,format:t};let r,n;switch(t){case l.PEM:n=p.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case l.JWK:n=p.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error(`Unsupported certificate format ${t}`)}try{r=await this.transporter.request({url:n})}catch(e){throw e.message=`Failed to retrieve verification certificates: ${e.message}`,e}const o=r?r.headers["cache-control"]:void 0;let i=-1;if(o){const e=new RegExp("max-age=([0-9]*)").exec(o);e&&2===e.length&&(i=1e3*Number(e[1]))}let a={};switch(t){case l.PEM:a=r.data;break;case l.JWK:for(const e of r.data.keys)a[e.kid]=e;break;default:throw new Error(`Unsupported certificate format ${t}`)}const c=new Date;return this.certificateExpiry=-1===i?null:new Date(c.getTime()+i),this.certificateCache=a,this.certificateCacheFormat=t,{certs:a,format:t,res:r}}getIapPublicKeys(e){if(!e)return this.getIapPublicKeysAsync();this.getIapPublicKeysAsync().then((t=>e(null,t.pubkeys,t.res)),e)}async getIapPublicKeysAsync(){let e;const t=p.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_;try{e=await this.transporter.request({url:t})}catch(e){throw e.message=`Failed to retrieve verification certificates: ${e.message}`,e}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,r,n,o){const a=s.createCrypto();o||(o=p.MAX_TOKEN_LIFETIME_SECS_);const l=e.split(".");if(3!==l.length)throw new Error("Wrong number of segments in token: "+e);const u=l[0]+"."+l[1];let d,f,h=l[2];try{d=JSON.parse(a.decodeBase64StringUtf8(l[0]))}catch(e){throw e.message=`Can't parse token envelope: ${l[0]}': ${e.message}`,e}if(!d)throw new Error("Can't parse token envelope: "+l[0]);try{f=JSON.parse(a.decodeBase64StringUtf8(l[1]))}catch(e){throw e.message=`Can't parse token payload '${l[0]}`,e}if(!f)throw new Error("Can't parse token payload: "+l[1]);if(!Object.prototype.hasOwnProperty.call(t,d.kid))throw new Error("No pem found for envelope: "+JSON.stringify(d));const g=t[d.kid];if("ES256"===d.alg&&(h=i.joseToDer(h,"ES256").toString("base64")),!await a.verify(g,u,h))throw new Error("Invalid token signature: "+e);if(!f.iat)throw new Error("No issue time in token: "+JSON.stringify(f));if(!f.exp)throw new Error("No expiration time in token: "+JSON.stringify(f));const m=Number(f.iat);if(isNaN(m))throw new Error("iat field using invalid format");const y=Number(f.exp);if(isNaN(y))throw new Error("exp field using invalid format");const v=(new Date).getTime()/1e3;if(y>=v+o)throw new Error("Expiration time too far in future: "+JSON.stringify(f));const b=m-p.CLOCK_SKEW_SECS_,w=y+p.CLOCK_SKEW_SECS_;if(v<b)throw new Error("Token used too early, "+v+" < "+b+": "+JSON.stringify(f));if(v>w)throw new Error("Token used too late, "+v+" > "+w+": "+JSON.stringify(f));if(n&&n.indexOf(f.iss)<0)throw new Error("Invalid issuer, expected one of ["+n+"], but got "+f.iss);if(null!=r){const e=f.aud;let t=!1;if(t=r.constructor===Array?r.indexOf(e)>-1:e===r,!t)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new c.LoginTicket(d,f)}isTokenExpiring(){const e=this.credentials.expiry_date;return!!e&&e<=(new Date).getTime()+this.eagerRefreshThresholdMillis}}t.OAuth2Client=p,p.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",p.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth",p.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token",p.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke",p.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs",p.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs",p.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_="https://www.gstatic.com/iap/verify/public_key",p.CLOCK_SKEW_SECS_=300,p.MAX_TOKEN_LIFETIME_SECS_=86400,p.ISSUERS_=["accounts.google.com","https://accounts.google.com"]},27895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorFromOAuthErrorResponse=t.OAuthClientAuthHandler=void 0;const n=r(71191),o=r(82326),i=["PUT","POST","PATCH"];t.OAuthClientAuthHandler=class{constructor(e){this.clientAuthentication=e,this.crypto=o.createCrypto()}applyClientAuthenticationOptions(e,t){this.injectAuthenticatedHeaders(e,t),t||this.injectAuthenticatedRequestBody(e)}injectAuthenticatedHeaders(e,t){var r;if(t)e.headers=e.headers||{},Object.assign(e.headers,{Authorization:`Bearer ${t}}`});else if("basic"===(null===(r=this.clientAuthentication)||void 0===r?void 0:r.confidentialClientType)){e.headers=e.headers||{};const t=this.clientAuthentication.clientId,r=this.clientAuthentication.clientSecret||"",n=this.crypto.encodeBase64StringUtf8(`${t}:${r}`);Object.assign(e.headers,{Authorization:`Basic ${n}`})}}injectAuthenticatedRequestBody(e){var t;if("request-body"===(null===(t=this.clientAuthentication)||void 0===t?void 0:t.confidentialClientType)){const t=(e.method||"GET").toUpperCase();if(-1===i.indexOf(t))throw new Error(`${t} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`);{let t;const r=e.headers||{};for(const e in r)if("content-type"===e.toLowerCase()&&r[e]){t=r[e].toLowerCase();break}if("application/x-www-form-urlencoded"===t){e.data=e.data||"";const t=n.parse(e.data);Object.assign(t,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),e.data=n.stringify(t)}else{if("application/json"!==t)throw new Error(`${t} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`);e.data=e.data||{},Object.assign(e.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""})}}}}},t.getErrorFromOAuthErrorResponse=function(e,t){const r=e.error,n=e.error_description,o=e.error_uri;let i=`Error code ${r}`;void 0!==n&&(i+=`: ${n}`),void 0!==o&&(i+=` - ${o}`);const s=new Error(i);if(t){const e=Object.keys(t);t.stack&&e.push("stack"),e.forEach((e=>{"message"!==e&&Object.defineProperty(s,e,{value:t[e],writable:!1,enumerable:!0})}))}return s}},70249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserRefreshClient=void 0;const n=r(97132);class o extends n.OAuth2Client{constructor(e,t,r,n,o){const i=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,refreshToken:r,eagerRefreshThresholdMillis:n,forceRefreshOnFailure:o};super({clientId:i.clientId,clientSecret:i.clientSecret,eagerRefreshThresholdMillis:i.eagerRefreshThresholdMillis,forceRefreshOnFailure:i.forceRefreshOnFailure}),this._refreshToken=i.refreshToken,this.credentials.refresh_token=i.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then((()=>t()),t)}async fromStreamAsync(e){return new Promise(((t,r)=>{if(!e)return r(new Error("Must pass in a stream containing the user refresh token."));let n="";e.setEncoding("utf8").on("error",r).on("data",(e=>n+=e)).on("end",(()=>{try{const e=JSON.parse(n);return this.fromJSON(e),t()}catch(e){return r(e)}}))}))}}t.UserRefreshClient=o},40204:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StsCredentials=void 0;const n=r(71191),o=r(75197),i=r(27895);class s extends i.OAuthClientAuthHandler{constructor(e,t){super(t),this.tokenExchangeEndpoint=e,this.transporter=new o.DefaultTransporter}async exchangeToken(e,t,r){var o,s,a;const c={grant_type:e.grantType,resource:e.resource,audience:e.audience,scope:null===(o=e.scope)||void 0===o?void 0:o.join(" "),requested_token_type:e.requestedTokenType,subject_token:e.subjectToken,subject_token_type:e.subjectTokenType,actor_token:null===(s=e.actingParty)||void 0===s?void 0:s.actorToken,actor_token_type:null===(a=e.actingParty)||void 0===a?void 0:a.actorTokenType,options:r&&JSON.stringify(r)};Object.keys(c).forEach((e=>{void 0===c[e]&&delete c[e]}));const l={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(l,t||{});const u={url:this.tokenExchangeEndpoint,method:"POST",headers:l,data:n.stringify(c),responseType:"json"};this.applyClientAuthenticationOptions(u);try{const e=await this.transporter.request(u),t=e.data;return t.res=e,t}catch(e){if(e.response)throw i.getErrorFromOAuthErrorResponse(e.response.data,e);throw e}}}t.StsCredentials=s},24823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCrypto=void 0;const n=r(79742);"undefined"==typeof process&&"undefined"==typeof TextEncoder&&r(78806);const o=r(82326);class i{constructor(){if("undefined"==typeof window||void 0===window.crypto||void 0===window.crypto.subtle)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(e){const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return n.fromByteArray(new Uint8Array(r))}randomBytesBase64(e){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),n.fromByteArray(t)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(e,t,r){const o={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},s=(new TextEncoder).encode(t),a=n.toByteArray(i.padBase64(r)),c=await window.crypto.subtle.importKey("jwk",e,o,!0,["verify"]);return await window.crypto.subtle.verify(o,c,a,s)}async sign(e,t){const r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=(new TextEncoder).encode(t),i=await window.crypto.subtle.importKey("jwk",e,r,!0,["sign"]),s=await window.crypto.subtle.sign(r,i,o);return n.fromByteArray(new Uint8Array(s))}decodeBase64StringUtf8(e){const t=n.toByteArray(i.padBase64(e));return(new TextDecoder).decode(t)}encodeBase64StringUtf8(e){const t=(new TextEncoder).encode(e);return n.fromByteArray(t)}async sha256DigestHex(e){const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return o.fromArrayBufferToHex(r)}async signWithHmacSha256(e,t){const r="string"==typeof e?e:String.fromCharCode(...new Uint16Array(e)),n=new TextEncoder,o=await window.crypto.subtle.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",o,n.encode(t))}}t.BrowserCrypto=i},82326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromArrayBufferToHex=t.hasBrowserCrypto=t.createCrypto=void 0;const n=r(24823),o=r(63217);function i(){return"undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle}t.createCrypto=function(){return i()?new n.BrowserCrypto:new o.NodeCrypto},t.hasBrowserCrypto=i,t.fromArrayBufferToHex=function(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}},63217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCrypto=void 0;const n=r(76417);t.NodeCrypto=class{async sha256DigestBase64(e){return n.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return n.randomBytes(e).toString("base64")}async verify(e,t,r){const o=n.createVerify("sha256");return o.update(t),o.end(),o.verify(e,r,"base64")}async sign(e,t){const r=n.createSign("RSA-SHA256");return r.update(t),r.end(),r.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}async sha256DigestHex(e){return n.createHash("sha256").update(e).digest("hex")}async signWithHmacSha256(e,t){const r="string"==typeof e?e:(o=e,Buffer.from(o));var o,i;return(i=n.createHmac("sha256",r).update(t).digest()).buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}}},22790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.auth=void 0;const n=r(69303);Object.defineProperty(t,"GoogleAuth",{enumerable:!0,get:function(){return n.GoogleAuth}});var o=r(52937);Object.defineProperty(t,"Compute",{enumerable:!0,get:function(){return o.Compute}});var i=r(42838);Object.defineProperty(t,"GCPEnv",{enumerable:!0,get:function(){return i.GCPEnv}});var s=r(68065);Object.defineProperty(t,"IAMAuth",{enumerable:!0,get:function(){return s.IAMAuth}});var a=r(57772);Object.defineProperty(t,"IdTokenClient",{enumerable:!0,get:function(){return a.IdTokenClient}});var c=r(31723);Object.defineProperty(t,"JWTAccess",{enumerable:!0,get:function(){return c.JWTAccess}});var l=r(83930);Object.defineProperty(t,"JWT",{enumerable:!0,get:function(){return l.JWT}});var u=r(97132);Object.defineProperty(t,"CodeChallengeMethod",{enumerable:!0,get:function(){return u.CodeChallengeMethod}}),Object.defineProperty(t,"OAuth2Client",{enumerable:!0,get:function(){return u.OAuth2Client}});var p=r(62603);Object.defineProperty(t,"LoginTicket",{enumerable:!0,get:function(){return p.LoginTicket}});var d=r(70249);Object.defineProperty(t,"UserRefreshClient",{enumerable:!0,get:function(){return d.UserRefreshClient}});var f=r(11e3);Object.defineProperty(t,"AwsClient",{enumerable:!0,get:function(){return f.AwsClient}});var h=r(35020);Object.defineProperty(t,"IdentityPoolClient",{enumerable:!0,get:function(){return h.IdentityPoolClient}});var g=r(21985);Object.defineProperty(t,"ExternalAccountClient",{enumerable:!0,get:function(){return g.ExternalAccountClient}});var m=r(25917);Object.defineProperty(t,"BaseExternalAccountClient",{enumerable:!0,get:function(){return m.BaseExternalAccountClient}});var y=r(75197);Object.defineProperty(t,"DefaultTransporter",{enumerable:!0,get:function(){return y.DefaultTransporter}});const v=new n.GoogleAuth;t.auth=v},29665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0,t.validate=function(e){const t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const r of t)if(e[r.invalid]){const e=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(e)}}},75197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTransporter=void 0;const n=r(96343),o=r(29665),i=r(85477),s="google-api-nodejs-client";class a{configure(e={}){if(e.headers=e.headers||{},"undefined"==typeof window){const t=e.headers["User-Agent"];t?t.includes(`${s}/`)||(e.headers["User-Agent"]=`${t} ${a.USER_AGENT}`):e.headers["User-Agent"]=a.USER_AGENT;const r=`auth/${i.version}`;if(e.headers["x-goog-api-client"]&&!e.headers["x-goog-api-client"].includes(r))e.headers["x-goog-api-client"]=`${e.headers["x-goog-api-client"]} ${r}`;else if(!e.headers["x-goog-api-client"]){const t=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]=`gl-node/${t} ${r}`}}return e}request(e,t){e=this.configure(e);try{o.validate(e)}catch(e){if(t)return t(e);throw e}if(!t)return n.request(e).catch((e=>{throw this.processError(e)}));n.request(e).then((e=>{t(null,e)}),(e=>{t(this.processError(e))}))}processError(e){const t=e.response,r=e,n=t?t.data:null;return t&&n&&n.error&&200!==t.status?"string"==typeof n.error?(r.message=n.error,r.code=t.status.toString()):Array.isArray(n.error.errors)?(r.message=n.error.errors.map((e=>e.message)).join("\n"),r.code=n.error.code,r.errors=n.error.errors):(r.message=n.error.message,r.code=n.error.code||t.status):t&&t.status>=400&&(r.message=n,r.code=t.status.toString()),r}}t.DefaultTransporter=a,a.USER_AGENT=`${s}/${i.version}`},85477:e=>{"use strict";e.exports=JSON.parse('{"name":"google-auth-library","version":"7.0.4","author":"Google Inc.","description":"Google APIs Authentication Client Library for Node.js","engines":{"node":">=10"},"main":"./build/src/index.js","types":"./build/src/index.d.ts","repository":"googleapis/google-auth-library-nodejs.git","keywords":["google","api","google apis","client","client library"],"dependencies":{"arrify":"^2.0.0","base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","fast-text-encoding":"^1.0.0","gaxios":"^4.0.0","gcp-metadata":"^4.2.0","gtoken":"^5.0.4","jws":"^4.0.0","lru-cache":"^6.0.0"},"devDependencies":{"@compodoc/compodoc":"^1.1.7","@microsoft/api-documenter":"^7.8.10","@microsoft/api-extractor":"^7.8.10","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^8.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^10.5.1","@types/sinon":"^9.0.0","@types/tmp":"^0.2.0","assert-rejects":"^1.0.0","c8":"^7.0.0","chai":"^4.2.0","codecov":"^3.0.2","execa":"^5.0.0","gts":"^2.0.0","is-docker":"^2.0.0","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^5.0.0","keypair":"^1.0.1","linkinator":"^2.0.0","mocha":"^8.0.0","mv":"^2.1.1","ncp":"^2.0.0","nock":"^13.0.0","null-loader":"^4.0.0","puppeteer":"^8.0.0","sinon":"^10.0.0","tmp":"^0.2.0","ts-loader":"^8.0.0","typescript":"^3.8.3","webpack":"^5.21.2","webpack-cli":"^4.0.0"},"files":["build/src","!build/src/**/*.map"],"scripts":{"test":"c8 mocha build/test","clean":"gts clean","prepare":"npm run compile","lint":"gts check","compile":"tsc -p .","fix":"gts fix","pretest":"npm run compile","docs":"compodoc src/","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile","webpack":"webpack","browser-test":"karma start","docs-test":"linkinator docs","predocs-test":"npm run docs","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean","api-extractor":"api-extractor run --local","api-documenter":"api-documenter yaml --input-folder=temp"},"license":"Apache-2.0"}')},8096:function(e,t,r){var n,o,i;o=[r(62100)],void 0===(i="function"==typeof(n=function(e){"use strict";var t,r,n,o,i,s,a,c,l,u=e.Reader,p=e.Writer,d=e.util,f=e.roots.iam_protos||(e.roots.iam_protos={});return f.google=((l={}).iam=((n={}).v1=((r={}).IAMPolicy=function(){function t(t,r,n){e.rpc.Service.call(this,t,r,n)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(t.prototype.setIamPolicy=function e(t,r){return this.rpcCall(e,f.google.iam.v1.SetIamPolicyRequest,f.google.iam.v1.Policy,t,r)},"name",{value:"SetIamPolicy"}),Object.defineProperty(t.prototype.getIamPolicy=function e(t,r){return this.rpcCall(e,f.google.iam.v1.GetIamPolicyRequest,f.google.iam.v1.Policy,t,r)},"name",{value:"GetIamPolicy"}),Object.defineProperty(t.prototype.testIamPermissions=function e(t,r){return this.rpcCall(e,f.google.iam.v1.TestIamPermissionsRequest,f.google.iam.v1.TestIamPermissionsResponse,t,r)},"name",{value:"TestIamPermissions"}),t}(),r.SetIamPolicyRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.resource="",t.prototype.policy=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.policy&&Object.hasOwnProperty.call(e,"policy")&&f.google.iam.v1.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.SetIamPolicyRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.policy=f.google.iam.v1.Policy.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!d.isString(e.resource))return"resource: string expected";if(null!=e.policy&&e.hasOwnProperty("policy")){var t=f.google.iam.v1.Policy.verify(e.policy);if(t)return"policy."+t}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.SetIamPolicyRequest)return e;var t=new f.google.iam.v1.SetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.policy){if("object"!=typeof e.policy)throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");t.policy=f.google.iam.v1.Policy.fromObject(e.policy)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.resource="",r.policy=null),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),null!=e.policy&&e.hasOwnProperty("policy")&&(r.policy=f.google.iam.v1.Policy.toObject(e.policy,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.GetIamPolicyRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.resource="",t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.iam.v1.GetPolicyOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.GetIamPolicyRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.options=f.google.iam.v1.GetPolicyOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!d.isString(e.resource))return"resource: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.iam.v1.GetPolicyOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.GetIamPolicyRequest)return e;var t=new f.google.iam.v1.GetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");t.options=f.google.iam.v1.GetPolicyOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.resource="",r.options=null),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.iam.v1.GetPolicyOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.TestIamPermissionsRequest=function(){function t(e){if(this.permissions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.resource="",t.prototype.permissions=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)t.uint32(18).string(e.permissions[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.TestIamPermissionsRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.permissions&&n.permissions.length||(n.permissions=[]),n.permissions.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!d.isString(e.resource))return"resource: string expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!d.isString(e.permissions[t]))return"permissions: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.TestIamPermissionsRequest)return e;var t=new f.google.iam.v1.TestIamPermissionsRequest;if(null!=e.resource&&(t.resource=String(e.resource)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");t.permissions=[];for(var r=0;r<e.permissions.length;++r)t.permissions[r]=String(e.permissions[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.permissions=[]),t.defaults&&(r.resource=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),e.permissions&&e.permissions.length){r.permissions=[];for(var n=0;n<e.permissions.length;++n)r.permissions[n]=e.permissions[n]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.TestIamPermissionsResponse=function(){function t(e){if(this.permissions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.permissions=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)t.uint32(10).string(e.permissions[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.TestIamPermissionsResponse;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.permissions&&n.permissions.length||(n.permissions=[]),n.permissions.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!d.isString(e.permissions[t]))return"permissions: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.TestIamPermissionsResponse)return e;var t=new f.google.iam.v1.TestIamPermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");t.permissions=[];for(var r=0;r<e.permissions.length;++r)t.permissions[r]=String(e.permissions[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.permissions=[]),e.permissions&&e.permissions.length){r.permissions=[];for(var n=0;n<e.permissions.length;++n)r.permissions[n]=e.permissions[n]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.GetPolicyOptions=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.requestedPolicyVersion=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.requestedPolicyVersion&&Object.hasOwnProperty.call(e,"requestedPolicyVersion")&&t.uint32(8).int32(e.requestedPolicyVersion),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.GetPolicyOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.requestedPolicyVersion=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&!d.isInteger(e.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.GetPolicyOptions)return e;var t=new f.google.iam.v1.GetPolicyOptions;return null!=e.requestedPolicyVersion&&(t.requestedPolicyVersion=0|e.requestedPolicyVersion),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.requestedPolicyVersion=0),null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&(r.requestedPolicyVersion=e.requestedPolicyVersion),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.Policy=function(){function t(e){if(this.bindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.version=0,t.prototype.bindings=d.emptyArray,t.prototype.etag=d.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).int32(e.version),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(26).bytes(e.etag),null!=e.bindings&&e.bindings.length)for(var r=0;r<e.bindings.length;++r)f.google.iam.v1.Binding.encode(e.bindings[r],t.uint32(34).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.Policy;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.version=e.int32();break;case 4:n.bindings&&n.bindings.length||(n.bindings=[]),n.bindings.push(f.google.iam.v1.Binding.decode(e,e.uint32()));break;case 3:n.etag=e.bytes();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!d.isInteger(e.version))return"version: integer expected";if(null!=e.bindings&&e.hasOwnProperty("bindings")){if(!Array.isArray(e.bindings))return"bindings: array expected";for(var t=0;t<e.bindings.length;++t){var r=f.google.iam.v1.Binding.verify(e.bindings[t]);if(r)return"bindings."+r}}return null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||d.isString(e.etag))?"etag: buffer expected":null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.Policy)return e;var t=new f.google.iam.v1.Policy;if(null!=e.version&&(t.version=0|e.version),e.bindings){if(!Array.isArray(e.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");t.bindings=[];for(var r=0;r<e.bindings.length;++r){if("object"!=typeof e.bindings[r])throw TypeError(".google.iam.v1.Policy.bindings: object expected");t.bindings[r]=f.google.iam.v1.Binding.fromObject(e.bindings[r])}}return null!=e.etag&&("string"==typeof e.etag?d.base64.decode(e.etag,t.etag=d.newBuffer(d.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bindings=[]),t.defaults&&(r.version=0,t.bytes===String?r.etag="":(r.etag=[],t.bytes!==Array&&(r.etag=d.newBuffer(r.etag)))),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.etag&&e.hasOwnProperty("etag")&&(r.etag=t.bytes===String?d.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),e.bindings&&e.bindings.length){r.bindings=[];for(var n=0;n<e.bindings.length;++n)r.bindings[n]=f.google.iam.v1.Binding.toObject(e.bindings[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.Binding=function(){function t(e){if(this.members=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.role="",t.prototype.members=d.emptyArray,t.prototype.condition=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(10).string(e.role),null!=e.members&&e.members.length)for(var r=0;r<e.members.length;++r)t.uint32(18).string(e.members[r]);return null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&f.google.type.Expr.encode(e.condition,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.Binding;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.role=e.string();break;case 2:n.members&&n.members.length||(n.members=[]),n.members.push(e.string());break;case 3:n.condition=f.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.role&&e.hasOwnProperty("role")&&!d.isString(e.role))return"role: string expected";if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t)if(!d.isString(e.members[t]))return"members: string[] expected"}if(null!=e.condition&&e.hasOwnProperty("condition")){var r=f.google.type.Expr.verify(e.condition);if(r)return"condition."+r}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.Binding)return e;var t=new f.google.iam.v1.Binding;if(null!=e.role&&(t.role=String(e.role)),e.members){if(!Array.isArray(e.members))throw TypeError(".google.iam.v1.Binding.members: array expected");t.members=[];for(var r=0;r<e.members.length;++r)t.members[r]=String(e.members[r])}if(null!=e.condition){if("object"!=typeof e.condition)throw TypeError(".google.iam.v1.Binding.condition: object expected");t.condition=f.google.type.Expr.fromObject(e.condition)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.members=[]),t.defaults&&(r.role="",r.condition=null),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),e.members&&e.members.length){r.members=[];for(var n=0;n<e.members.length;++n)r.members[n]=e.members[n]}return null!=e.condition&&e.hasOwnProperty("condition")&&(r.condition=f.google.type.Expr.toObject(e.condition,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.PolicyDelta=function(){function t(e){if(this.bindingDeltas=[],this.auditConfigDeltas=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.bindingDeltas=d.emptyArray,t.prototype.auditConfigDeltas=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.bindingDeltas&&e.bindingDeltas.length)for(var r=0;r<e.bindingDeltas.length;++r)f.google.iam.v1.BindingDelta.encode(e.bindingDeltas[r],t.uint32(10).fork()).ldelim();if(null!=e.auditConfigDeltas&&e.auditConfigDeltas.length)for(r=0;r<e.auditConfigDeltas.length;++r)f.google.iam.v1.AuditConfigDelta.encode(e.auditConfigDeltas[r],t.uint32(18).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.PolicyDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.bindingDeltas&&n.bindingDeltas.length||(n.bindingDeltas=[]),n.bindingDeltas.push(f.google.iam.v1.BindingDelta.decode(e,e.uint32()));break;case 2:n.auditConfigDeltas&&n.auditConfigDeltas.length||(n.auditConfigDeltas=[]),n.auditConfigDeltas.push(f.google.iam.v1.AuditConfigDelta.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bindingDeltas&&e.hasOwnProperty("bindingDeltas")){if(!Array.isArray(e.bindingDeltas))return"bindingDeltas: array expected";for(var t=0;t<e.bindingDeltas.length;++t)if(r=f.google.iam.v1.BindingDelta.verify(e.bindingDeltas[t]))return"bindingDeltas."+r}if(null!=e.auditConfigDeltas&&e.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(e.auditConfigDeltas))return"auditConfigDeltas: array expected";for(t=0;t<e.auditConfigDeltas.length;++t){var r;if(r=f.google.iam.v1.AuditConfigDelta.verify(e.auditConfigDeltas[t]))return"auditConfigDeltas."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.PolicyDelta)return e;var t=new f.google.iam.v1.PolicyDelta;if(e.bindingDeltas){if(!Array.isArray(e.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");t.bindingDeltas=[];for(var r=0;r<e.bindingDeltas.length;++r){if("object"!=typeof e.bindingDeltas[r])throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");t.bindingDeltas[r]=f.google.iam.v1.BindingDelta.fromObject(e.bindingDeltas[r])}}if(e.auditConfigDeltas){if(!Array.isArray(e.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(t.auditConfigDeltas=[],r=0;r<e.auditConfigDeltas.length;++r){if("object"!=typeof e.auditConfigDeltas[r])throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");t.auditConfigDeltas[r]=f.google.iam.v1.AuditConfigDelta.fromObject(e.auditConfigDeltas[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bindingDeltas=[],r.auditConfigDeltas=[]),e.bindingDeltas&&e.bindingDeltas.length){r.bindingDeltas=[];for(var n=0;n<e.bindingDeltas.length;++n)r.bindingDeltas[n]=f.google.iam.v1.BindingDelta.toObject(e.bindingDeltas[n],t)}if(e.auditConfigDeltas&&e.auditConfigDeltas.length)for(r.auditConfigDeltas=[],n=0;n<e.auditConfigDeltas.length;++n)r.auditConfigDeltas[n]=f.google.iam.v1.AuditConfigDelta.toObject(e.auditConfigDeltas[n],t);return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.BindingDelta=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.action=0,t.prototype.role="",t.prototype.member="",t.prototype.condition=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),null!=e.member&&Object.hasOwnProperty.call(e,"member")&&t.uint32(26).string(e.member),null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&f.google.type.Expr.encode(e.condition,t.uint32(34).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.BindingDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.action=e.int32();break;case 2:n.role=e.string();break;case 3:n.member=e.string();break;case 4:n.condition=f.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}if(null!=e.role&&e.hasOwnProperty("role")&&!d.isString(e.role))return"role: string expected";if(null!=e.member&&e.hasOwnProperty("member")&&!d.isString(e.member))return"member: string expected";if(null!=e.condition&&e.hasOwnProperty("condition")){var t=f.google.type.Expr.verify(e.condition);if(t)return"condition."+t}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.BindingDelta)return e;var t=new f.google.iam.v1.BindingDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}if(null!=e.role&&(t.role=String(e.role)),null!=e.member&&(t.member=String(e.member)),null!=e.condition){if("object"!=typeof e.condition)throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");t.condition=f.google.type.Expr.fromObject(e.condition)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.action=t.enums===String?"ACTION_UNSPECIFIED":0,r.role="",r.member="",r.condition=null),null!=e.action&&e.hasOwnProperty("action")&&(r.action=t.enums===String?f.google.iam.v1.BindingDelta.Action[e.action]:e.action),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),null!=e.member&&e.hasOwnProperty("member")&&(r.member=e.member),null!=e.condition&&e.hasOwnProperty("condition")&&(r.condition=f.google.type.Expr.toObject(e.condition,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Action=(r={},(n=Object.create(r))[r[0]="ACTION_UNSPECIFIED"]=0,n[r[1]="ADD"]=1,n[r[2]="REMOVE"]=2,n),t}(),r.AuditConfigDelta=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.action=0,t.prototype.service="",t.prototype.exemptedMember="",t.prototype.logType="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(18).string(e.service),null!=e.exemptedMember&&Object.hasOwnProperty.call(e,"exemptedMember")&&t.uint32(26).string(e.exemptedMember),null!=e.logType&&Object.hasOwnProperty.call(e,"logType")&&t.uint32(34).string(e.logType),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.AuditConfigDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.action=e.int32();break;case 2:n.service=e.string();break;case 3:n.exemptedMember=e.string();break;case 4:n.logType=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}return null!=e.service&&e.hasOwnProperty("service")&&!d.isString(e.service)?"service: string expected":null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&!d.isString(e.exemptedMember)?"exemptedMember: string expected":null!=e.logType&&e.hasOwnProperty("logType")&&!d.isString(e.logType)?"logType: string expected":null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.AuditConfigDelta)return e;var t=new f.google.iam.v1.AuditConfigDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}return null!=e.service&&(t.service=String(e.service)),null!=e.exemptedMember&&(t.exemptedMember=String(e.exemptedMember)),null!=e.logType&&(t.logType=String(e.logType)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.action=t.enums===String?"ACTION_UNSPECIFIED":0,r.service="",r.exemptedMember="",r.logType=""),null!=e.action&&e.hasOwnProperty("action")&&(r.action=t.enums===String?f.google.iam.v1.AuditConfigDelta.Action[e.action]:e.action),null!=e.service&&e.hasOwnProperty("service")&&(r.service=e.service),null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&(r.exemptedMember=e.exemptedMember),null!=e.logType&&e.hasOwnProperty("logType")&&(r.logType=e.logType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Action=(r={},(n=Object.create(r))[r[0]="ACTION_UNSPECIFIED"]=0,n[r[1]="ADD"]=1,n[r[2]="REMOVE"]=2,n),t}(),r.logging=((t={}).AuditData=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.policyDelta=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.policyDelta&&Object.hasOwnProperty.call(e,"policyDelta")&&f.google.iam.v1.PolicyDelta.encode(e.policyDelta,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.iam.v1.logging.AuditData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.policyDelta=f.google.iam.v1.PolicyDelta.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.policyDelta&&e.hasOwnProperty("policyDelta")){var t=f.google.iam.v1.PolicyDelta.verify(e.policyDelta);if(t)return"policyDelta."+t}return null},t.fromObject=function(e){if(e instanceof f.google.iam.v1.logging.AuditData)return e;var t=new f.google.iam.v1.logging.AuditData;if(null!=e.policyDelta){if("object"!=typeof e.policyDelta)throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");t.policyDelta=f.google.iam.v1.PolicyDelta.fromObject(e.policyDelta)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.policyDelta=null),null!=e.policyDelta&&e.hasOwnProperty("policyDelta")&&(r.policyDelta=f.google.iam.v1.PolicyDelta.toObject(e.policyDelta,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t),r),n),l.api=((s={}).Http=function(){function t(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.rules=d.emptyArray,t.prototype.fullyDecodeReservedExpansion=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)f.google.api.HttpRule.encode(e.rules[r],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.api.Http;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(f.google.api.HttpRule.decode(e,e.uint32()));break;case 2:n.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var r=f.google.api.HttpRule.verify(e.rules[t]);if(r)return"rules."+r}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},t.fromObject=function(e){if(e instanceof f.google.api.Http)return e;var t=new f.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=f.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=f.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.HttpRule=function(){function t(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r;return t.prototype.selector="",t.prototype.get="",t.prototype.put="",t.prototype.post="",t.prototype.delete="",t.prototype.patch="",t.prototype.custom=null,t.prototype.body="",t.prototype.responseBody="",t.prototype.additionalBindings=d.emptyArray,Object.defineProperty(t.prototype,"pattern",{get:d.oneOfGetter(r=["get","put","post","delete","patch","custom"]),set:d.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&f.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var r=0;r<e.additionalBindings.length;++r)f.google.api.HttpRule.encode(e.additionalBindings[r],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.api.HttpRule;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.selector=e.string();break;case 2:n.get=e.string();break;case 3:n.put=e.string();break;case 4:n.post=e.string();break;case 5:n.delete=e.string();break;case 6:n.patch=e.string();break;case 8:n.custom=f.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:n.body=e.string();break;case 12:n.responseBody=e.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(f.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!d.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!d.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!d.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!d.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!d.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!d.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,n=f.google.api.CustomHttpPattern.verify(e.custom))return"custom."+n}if(null!=e.body&&e.hasOwnProperty("body")&&!d.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!d.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r=0;r<e.additionalBindings.length;++r){var n;if(n=f.google.api.HttpRule.verify(e.additionalBindings[r]))return"additionalBindings."+n}}return null},t.fromObject=function(e){if(e instanceof f.google.api.HttpRule)return e;var t=new f.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=f.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=f.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs&&(r.pattern="get")),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs&&(r.pattern="put")),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs&&(r.pattern="post")),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs&&(r.pattern="delete")),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs&&(r.pattern="patch")),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=f.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs&&(r.pattern="custom")),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=f.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.CustomHttpPattern=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.kind="",t.prototype.path="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.api.CustomHttpPattern;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.kind=e.string();break;case 2:n.path=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!d.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!d.isString(e.path)?"path: string expected":null},t.fromObject=function(e){if(e instanceof f.google.api.CustomHttpPattern)return e;var t=new f.google.api.CustomHttpPattern;return null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s.FieldBehavior=(o={},(i=Object.create(o))[o[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,i[o[1]="OPTIONAL"]=1,i[o[2]="REQUIRED"]=2,i[o[3]="OUTPUT_ONLY"]=3,i[o[4]="INPUT_ONLY"]=4,i[o[5]="IMMUTABLE"]=5,i),s.ResourceDescriptor=function(){function t(e){if(this.pattern=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type="",t.prototype.pattern=d.emptyArray,t.prototype.nameField="",t.prototype.history=0,t.prototype.plural="",t.prototype.singular="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.pattern&&e.pattern.length)for(var r=0;r<e.pattern.length;++r)t.uint32(18).string(e.pattern[r]);return null!=e.nameField&&Object.hasOwnProperty.call(e,"nameField")&&t.uint32(26).string(e.nameField),null!=e.history&&Object.hasOwnProperty.call(e,"history")&&t.uint32(32).int32(e.history),null!=e.plural&&Object.hasOwnProperty.call(e,"plural")&&t.uint32(42).string(e.plural),null!=e.singular&&Object.hasOwnProperty.call(e,"singular")&&t.uint32(50).string(e.singular),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.api.ResourceDescriptor;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type=e.string();break;case 2:n.pattern&&n.pattern.length||(n.pattern=[]),n.pattern.push(e.string());break;case 3:n.nameField=e.string();break;case 4:n.history=e.int32();break;case 5:n.plural=e.string();break;case 6:n.singular=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type))return"type: string expected";if(null!=e.pattern&&e.hasOwnProperty("pattern")){if(!Array.isArray(e.pattern))return"pattern: array expected";for(var t=0;t<e.pattern.length;++t)if(!d.isString(e.pattern[t]))return"pattern: string[] expected"}if(null!=e.nameField&&e.hasOwnProperty("nameField")&&!d.isString(e.nameField))return"nameField: string expected";if(null!=e.history&&e.hasOwnProperty("history"))switch(e.history){default:return"history: enum value expected";case 0:case 1:case 2:}return null!=e.plural&&e.hasOwnProperty("plural")&&!d.isString(e.plural)?"plural: string expected":null!=e.singular&&e.hasOwnProperty("singular")&&!d.isString(e.singular)?"singular: string expected":null},t.fromObject=function(e){if(e instanceof f.google.api.ResourceDescriptor)return e;var t=new f.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");t.pattern=[];for(var r=0;r<e.pattern.length;++r)t.pattern[r]=String(e.pattern[r])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case"HISTORY_UNSPECIFIED":case 0:t.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:t.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:t.history=2}return null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.pattern=[]),t.defaults&&(r.type="",r.nameField="",r.history=t.enums===String?"HISTORY_UNSPECIFIED":0,r.plural="",r.singular=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.pattern&&e.pattern.length){r.pattern=[];for(var n=0;n<e.pattern.length;++n)r.pattern[n]=e.pattern[n]}return null!=e.nameField&&e.hasOwnProperty("nameField")&&(r.nameField=e.nameField),null!=e.history&&e.hasOwnProperty("history")&&(r.history=t.enums===String?f.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty("plural")&&(r.plural=e.plural),null!=e.singular&&e.hasOwnProperty("singular")&&(r.singular=e.singular),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.History=function(){var e={},t=Object.create(e);return t[e[0]="HISTORY_UNSPECIFIED"]=0,t[e[1]="ORIGINALLY_SINGLE_PATTERN"]=1,t[e[2]="FUTURE_MULTI_PATTERN"]=2,t}(),t}(),s.ResourceReference=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type="",t.prototype.childType="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.childType&&Object.hasOwnProperty.call(e,"childType")&&t.uint32(18).string(e.childType),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.api.ResourceReference;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type=e.string();break;case 2:n.childType=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.childType&&e.hasOwnProperty("childType")&&!d.isString(e.childType)?"childType: string expected":null},t.fromObject=function(e){if(e instanceof f.google.api.ResourceReference)return e;var t=new f.google.api.ResourceReference;return null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type="",r.childType=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.childType&&e.hasOwnProperty("childType")&&(r.childType=e.childType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),s),l.protobuf=((a={}).FileDescriptorSet=function(){function t(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.file=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.file&&e.file.length)for(var r=0;r<e.file.length;++r)f.google.protobuf.FileDescriptorProto.encode(e.file[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.FileDescriptorSet;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.file&&n.file.length||(n.file=[]),n.file.push(f.google.protobuf.FileDescriptorProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var r=f.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(r)return"file."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.FileDescriptorSet)return e;var t=new f.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=f.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=f.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.FileDescriptorProto=function(){function t(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.package="",t.prototype.dependency=d.emptyArray,t.prototype.publicDependency=d.emptyArray,t.prototype.weakDependency=d.emptyArray,t.prototype.messageType=d.emptyArray,t.prototype.enumType=d.emptyArray,t.prototype.service=d.emptyArray,t.prototype.extension=d.emptyArray,t.prototype.options=null,t.prototype.sourceCodeInfo=null,t.prototype.syntax="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var r=0;r<e.dependency.length;++r)t.uint32(26).string(e.dependency[r]);if(null!=e.messageType&&e.messageType.length)for(r=0;r<e.messageType.length;++r)f.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)f.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(r=0;r<e.service.length;++r)f.google.protobuf.ServiceDescriptorProto.encode(e.service[r],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)f.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&f.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(r=0;r<e.publicDependency.length;++r)t.uint32(80).int32(e.publicDependency[r]);if(null!=e.weakDependency&&e.weakDependency.length)for(r=0;r<e.weakDependency.length;++r)t.uint32(88).int32(e.weakDependency[r]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.FileDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.package=e.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(e.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.publicDependency.push(e.int32());else n.publicDependency.push(e.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.weakDependency.push(e.int32());else n.weakDependency.push(e.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(f.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(f.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(f.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(f.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:n.options=f.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:n.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:n.syntax=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!d.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!d.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(t=0;t<e.publicDependency.length;++t)if(!d.isInteger(e.publicDependency[t]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(t=0;t<e.weakDependency.length;++t)if(!d.isInteger(e.weakDependency[t]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(t=0;t<e.messageType.length;++t)if(r=f.google.protobuf.DescriptorProto.verify(e.messageType[t]))return"messageType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=f.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(t=0;t<e.service.length;++t)if(r=f.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return"service."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=f.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=f.google.protobuf.FileOptions.verify(e.options))?"options."+r:null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r=f.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo))?"sourceCodeInfo."+r:null!=e.syntax&&e.hasOwnProperty("syntax")&&!d.isString(e.syntax)?"syntax: string expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.FileDescriptorProto)return e;var t=new f.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=f.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=f.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=f.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=f.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=f.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=f.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=f.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=f.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=f.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.DescriptorProto=function(){function t(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.field=d.emptyArray,t.prototype.extension=d.emptyArray,t.prototype.nestedType=d.emptyArray,t.prototype.enumType=d.emptyArray,t.prototype.extensionRange=d.emptyArray,t.prototype.oneofDecl=d.emptyArray,t.prototype.options=null,t.prototype.reservedRange=d.emptyArray,t.prototype.reservedName=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var r=0;r<e.field.length;++r)f.google.protobuf.FieldDescriptorProto.encode(e.field[r],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(r=0;r<e.nestedType.length;++r)f.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)f.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(r=0;r<e.extensionRange.length;++r)f.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[r],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)f.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(r=0;r<e.oneofDecl.length;++r)f.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[r],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)f.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[r],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(82).string(e.reservedName[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.DescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(f.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(f.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(f.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(f.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(f.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(f.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:n.options=f.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(f.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t)if(r=f.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return"field."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=f.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(t=0;t<e.nestedType.length;++t)if(r=f.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return"nestedType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=f.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(t=0;t<e.extensionRange.length;++t)if(r=f.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return"extensionRange."+r}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(t=0;t<e.oneofDecl.length;++t)if(r=f.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return"oneofDecl."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=f.google.protobuf.MessageOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";for(t=0;t<e.reservedRange.length;++t){var r;if(r=f.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!d.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.DescriptorProto)return e;var t=new f.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=f.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=f.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=f.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=f.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=f.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=f.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=f.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=f.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=f.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=f.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=f.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=f.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=f.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=f.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=f.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.ExtensionRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.DescriptorProto.ExtensionRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;case 3:n.options=f.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.start&&e.hasOwnProperty("start")&&!d.isInteger(e.start))return"start: integer expected";if(null!=e.end&&e.hasOwnProperty("end")&&!d.isInteger(e.end))return"end: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.protobuf.ExtensionRangeOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new f.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=f.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ReservedRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.DescriptorProto.ReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!d.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!d.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.DescriptorProto.ReservedRange)return e;var t=new f.google.protobuf.DescriptorProto.ReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),a.ExtensionRangeOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.uninterpretedOption=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.ExtensionRangeOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.ExtensionRangeOptions)return e;var t=new f.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.FieldDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.number=0,t.prototype.label=1,t.prototype.type=1,t.prototype.typeName="",t.prototype.extendee="",t.prototype.defaultValue="",t.prototype.oneofIndex=0,t.prototype.jsonName="",t.prototype.options=null,t.prototype.proto3Optional=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,"proto3Optional")&&t.uint32(136).bool(e.proto3Optional),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.FieldDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 3:n.number=e.int32();break;case 4:n.label=e.int32();break;case 5:n.type=e.int32();break;case 6:n.typeName=e.string();break;case 2:n.extendee=e.string();break;case 7:n.defaultValue=e.string();break;case 9:n.oneofIndex=e.int32();break;case 10:n.jsonName=e.string();break;case 8:n.options=f.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:n.proto3Optional=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!d.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!d.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!d.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!d.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!d.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!d.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&"boolean"!=typeof e.proto3Optional?"proto3Optional: boolean expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.FieldDescriptorProto)return e;var t=new f.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=f.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?f.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?f.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Type=function(){var e={},t=Object.create(e);return t[e[1]="TYPE_DOUBLE"]=1,t[e[2]="TYPE_FLOAT"]=2,t[e[3]="TYPE_INT64"]=3,t[e[4]="TYPE_UINT64"]=4,t[e[5]="TYPE_INT32"]=5,t[e[6]="TYPE_FIXED64"]=6,t[e[7]="TYPE_FIXED32"]=7,t[e[8]="TYPE_BOOL"]=8,t[e[9]="TYPE_STRING"]=9,t[e[10]="TYPE_GROUP"]=10,t[e[11]="TYPE_MESSAGE"]=11,t[e[12]="TYPE_BYTES"]=12,t[e[13]="TYPE_UINT32"]=13,t[e[14]="TYPE_ENUM"]=14,t[e[15]="TYPE_SFIXED32"]=15,t[e[16]="TYPE_SFIXED64"]=16,t[e[17]="TYPE_SINT32"]=17,t[e[18]="TYPE_SINT64"]=18,t}(),t.Label=function(){var e={},t=Object.create(e);return t[e[1]="LABEL_OPTIONAL"]=1,t[e[2]="LABEL_REQUIRED"]=2,t[e[3]="LABEL_REPEATED"]=3,t}(),t}(),a.OneofDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.OneofDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.options=f.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.protobuf.OneofOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.OneofDescriptorProto)return e;var t=new f.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=f.google.protobuf.OneofOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.OneofOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.EnumDescriptorProto=function(){function t(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.value=d.emptyArray,t.prototype.options=null,t.prototype.reservedRange=d.emptyArray,t.prototype.reservedName=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var r=0;r<e.value.length;++r)f.google.protobuf.EnumValueDescriptorProto.encode(e.value[r],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)f.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[r],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(42).string(e.reservedName[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.EnumDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(f.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=f.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(f.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(r=f.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return"value."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=f.google.protobuf.EnumOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";for(t=0;t<e.reservedRange.length;++t){var r;if(r=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!d.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.EnumDescriptorProto)return e;var t=new f.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=f.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=f.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=f.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.EnumReservedRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!d.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!d.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.EnumDescriptorProto.EnumReservedRange)return e;var t=new f.google.protobuf.EnumDescriptorProto.EnumReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),a.EnumValueDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.number=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.EnumValueDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.number=e.int32();break;case 3:n.options=f.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!d.isInteger(e.number))return"number: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.protobuf.EnumValueOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.EnumValueDescriptorProto)return e;var t=new f.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=f.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.ServiceDescriptorProto=function(){function t(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.method=d.emptyArray,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var r=0;r<e.method.length;++r)f.google.protobuf.MethodDescriptorProto.encode(e.method[r],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.ServiceDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(f.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=f.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t)if(r=f.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return"method."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=f.google.protobuf.ServiceOptions.verify(e.options))?"options."+r:null},t.fromObject=function(e){if(e instanceof f.google.protobuf.ServiceDescriptorProto)return e;var t=new f.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=f.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=f.google.protobuf.ServiceOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=f.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.ServiceOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.MethodDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.inputType="",t.prototype.outputType="",t.prototype.options=null,t.prototype.clientStreaming=!1,t.prototype.serverStreaming=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&f.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.MethodDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.inputType=e.string();break;case 3:n.outputType=e.string();break;case 4:n.options=f.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:n.clientStreaming=e.bool();break;case 6:n.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!d.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!d.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=f.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.MethodDescriptorProto)return e;var t=new f.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=f.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=f.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.FileOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.javaPackage="",t.prototype.javaOuterClassname="",t.prototype.javaMultipleFiles=!1,t.prototype.javaGenerateEqualsAndHash=!1,t.prototype.javaStringCheckUtf8=!1,t.prototype.optimizeFor=1,t.prototype.goPackage="",t.prototype.ccGenericServices=!1,t.prototype.javaGenericServices=!1,t.prototype.pyGenericServices=!1,t.prototype.phpGenericServices=!1,t.prototype.deprecated=!1,t.prototype.ccEnableArenas=!0,t.prototype.objcClassPrefix="",t.prototype.csharpNamespace="",t.prototype.swiftPrefix="",t.prototype.phpClassPrefix="",t.prototype.phpNamespace="",t.prototype.phpMetadataNamespace="",t.prototype.rubyPackage="",t.prototype.uninterpretedOption=d.emptyArray,t.prototype[".google.api.resourceDefinition"]=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r=0;r<e[".google.api.resourceDefinition"].length;++r)f.google.api.ResourceDescriptor.encode(e[".google.api.resourceDefinition"][r],t.uint32(8426).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.FileOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.javaPackage=e.string();break;case 8:n.javaOuterClassname=e.string();break;case 10:n.javaMultipleFiles=e.bool();break;case 20:n.javaGenerateEqualsAndHash=e.bool();break;case 27:n.javaStringCheckUtf8=e.bool();break;case 9:n.optimizeFor=e.int32();break;case 11:n.goPackage=e.string();break;case 16:n.ccGenericServices=e.bool();break;case 17:n.javaGenericServices=e.bool();break;case 18:n.pyGenericServices=e.bool();break;case 42:n.phpGenericServices=e.bool();break;case 23:n.deprecated=e.bool();break;case 31:n.ccEnableArenas=e.bool();break;case 36:n.objcClassPrefix=e.string();break;case 37:n.csharpNamespace=e.string();break;case 39:n.swiftPrefix=e.string();break;case 40:n.phpClassPrefix=e.string();break;case 41:n.phpNamespace=e.string();break;case 44:n.phpMetadataNamespace=e.string();break;case 45:n.rubyPackage=e.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:n[".google.api.resourceDefinition"]&&n[".google.api.resourceDefinition"].length||(n[".google.api.resourceDefinition"]=[]),n[".google.api.resourceDefinition"].push(f.google.api.ResourceDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!d.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!d.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!d.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&"boolean"!=typeof e.phpGenericServices)return"phpGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!d.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!d.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&!d.isString(e.swiftPrefix))return"swiftPrefix: string expected";if(null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&!d.isString(e.phpClassPrefix))return"phpClassPrefix: string expected";if(null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&!d.isString(e.phpNamespace))return"phpNamespace: string expected";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&!d.isString(e.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&!d.isString(e.rubyPackage))return"rubyPackage: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}if(null!=e[".google.api.resourceDefinition"]&&e.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(e[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(t=0;t<e[".google.api.resourceDefinition"].length;++t){var r;if(r=f.google.api.ResourceDescriptor.verify(e[".google.api.resourceDefinition"][t]))return".google.api.resourceDefinition."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.FileOptions)return e;var t=new f.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.resourceDefinition"]){if(!Array.isArray(e[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(t[".google.api.resourceDefinition"]=[],r=0;r<e[".google.api.resourceDefinition"].length;++r){if("object"!=typeof e[".google.api.resourceDefinition"][r])throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");t[".google.api.resourceDefinition"][r]=f.google.api.ResourceDescriptor.fromObject(e[".google.api.resourceDefinition"][r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.resourceDefinition"]=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpGenericServices=!1,r.phpMetadataNamespace="",r.rubyPackage=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?f.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&(r.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r[".google.api.resourceDefinition"]=[],n=0;n<e[".google.api.resourceDefinition"].length;++n)r[".google.api.resourceDefinition"][n]=f.google.api.ResourceDescriptor.toObject(e[".google.api.resourceDefinition"][n],t);return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.OptimizeMode=function(){var e={},t=Object.create(e);return t[e[1]="SPEED"]=1,t[e[2]="CODE_SIZE"]=2,t[e[3]="LITE_RUNTIME"]=3,t}(),t}(),a.MessageOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.messageSetWireFormat=!1,t.prototype.noStandardDescriptorAccessor=!1,t.prototype.deprecated=!1,t.prototype.mapEntry=!1,t.prototype.uninterpretedOption=d.emptyArray,t.prototype[".google.api.resource"]=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.resource"]&&Object.hasOwnProperty.call(e,".google.api.resource")&&f.google.api.ResourceDescriptor.encode(e[".google.api.resource"],t.uint32(8426).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.MessageOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageSetWireFormat=e.bool();break;case 2:n.noStandardDescriptorAccessor=e.bool();break;case 3:n.deprecated=e.bool();break;case 7:n.mapEntry=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:n[".google.api.resource"]=f.google.api.ResourceDescriptor.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r=f.google.api.ResourceDescriptor.verify(e[".google.api.resource"]))?".google.api.resource."+r:null},t.fromObject=function(e){if(e instanceof f.google.protobuf.MessageOptions)return e;var t=new f.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.resource"]){if("object"!=typeof e[".google.api.resource"])throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");t[".google.api.resource"]=f.google.api.ResourceDescriptor.fromObject(e[".google.api.resource"])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1,r[".google.api.resource"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r[".google.api.resource"]=f.google.api.ResourceDescriptor.toObject(e[".google.api.resource"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.FieldOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.ctype=0,t.prototype.packed=!1,t.prototype.jstype=0,t.prototype.lazy=!1,t.prototype.deprecated=!1,t.prototype.weak=!1,t.prototype.uninterpretedOption=d.emptyArray,t.prototype[".google.api.fieldBehavior"]=d.emptyArray,t.prototype[".google.api.resourceReference"]=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length){for(t.uint32(8418).fork(),r=0;r<e[".google.api.fieldBehavior"].length;++r)t.int32(e[".google.api.fieldBehavior"][r]);t.ldelim()}return null!=e[".google.api.resourceReference"]&&Object.hasOwnProperty.call(e,".google.api.resourceReference")&&f.google.api.ResourceReference.encode(e[".google.api.resourceReference"],t.uint32(8442).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.FieldOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.ctype=e.int32();break;case 2:n.packed=e.bool();break;case 6:n.jstype=e.int32();break;case 5:n.lazy=e.bool();break;case 3:n.deprecated=e.bool();break;case 10:n.weak=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1052:if(n[".google.api.fieldBehavior"]&&n[".google.api.fieldBehavior"].length||(n[".google.api.fieldBehavior"]=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n[".google.api.fieldBehavior"].push(e.int32());else n[".google.api.fieldBehavior"].push(e.int32());break;case 1055:n[".google.api.resourceReference"]=f.google.api.ResourceReference.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}if(null!=e[".google.api.fieldBehavior"]&&e.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(e[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(t=0;t<e[".google.api.fieldBehavior"].length;++t)switch(e[".google.api.fieldBehavior"][t]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var r;return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r=f.google.api.ResourceReference.verify(e[".google.api.resourceReference"]))?".google.api.resourceReference."+r:null},t.fromObject=function(e){if(e instanceof f.google.protobuf.FieldOptions)return e;var t=new f.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.fieldBehavior"]){if(!Array.isArray(e[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(t[".google.api.fieldBehavior"]=[],r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:t[".google.api.fieldBehavior"][r]=0;break;case"OPTIONAL":case 1:t[".google.api.fieldBehavior"][r]=1;break;case"REQUIRED":case 2:t[".google.api.fieldBehavior"][r]=2;break;case"OUTPUT_ONLY":case 3:t[".google.api.fieldBehavior"][r]=3;break;case"INPUT_ONLY":case 4:t[".google.api.fieldBehavior"][r]=4;break;case"IMMUTABLE":case 5:t[".google.api.fieldBehavior"][r]=5}}if(null!=e[".google.api.resourceReference"]){if("object"!=typeof e[".google.api.resourceReference"])throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");t[".google.api.resourceReference"]=f.google.api.ResourceReference.fromObject(e[".google.api.resourceReference"])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.fieldBehavior"]=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1,r[".google.api.resourceReference"]=null),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?f.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?f.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length)for(r[".google.api.fieldBehavior"]=[],n=0;n<e[".google.api.fieldBehavior"].length;++n)r[".google.api.fieldBehavior"][n]=t.enums===String?f.google.api.FieldBehavior[e[".google.api.fieldBehavior"][n]]:e[".google.api.fieldBehavior"][n];return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r[".google.api.resourceReference"]=f.google.api.ResourceReference.toObject(e[".google.api.resourceReference"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.CType=function(){var e={},t=Object.create(e);return t[e[0]="STRING"]=0,t[e[1]="CORD"]=1,t[e[2]="STRING_PIECE"]=2,t}(),t.JSType=function(){var e={},t=Object.create(e);return t[e[0]="JS_NORMAL"]=0,t[e[1]="JS_STRING"]=1,t[e[2]="JS_NUMBER"]=2,t}(),t}(),a.OneofOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.uninterpretedOption=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.OneofOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.OneofOptions)return e;var t=new f.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.EnumOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.allowAlias=!1,t.prototype.deprecated=!1,t.prototype.uninterpretedOption=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.EnumOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.allowAlias=e.bool();break;case 3:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.EnumOptions)return e;var t=new f.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.EnumValueOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.EnumValueOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.EnumValueOptions)return e;var t=new f.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.ServiceOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=d.emptyArray,t.prototype[".google.api.defaultHost"]="",t.prototype[".google.api.oauthScopes"]="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.ServiceOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.api.defaultHost"]=e.string();break;case 1050:n[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!d.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!d.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.ServiceOptions)return e;var t=new f.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),a.MethodOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.idempotencyLevel=0,t.prototype.uninterpretedOption=d.emptyArray,t.prototype[".google.api.http"]=null,t.prototype[".google.api.methodSignature"]=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)f.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&f.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.MethodOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 34:n.idempotencyLevel=e.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:n[".google.api.http"]=f.google.api.HttpRule.decode(e,e.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel"))switch(e.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=f.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r=f.google.api.HttpRule.verify(e[".google.api.http"])))return".google.api.http."+r;if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(t=0;t<e[".google.api.methodSignature"].length;++t)if(!d.isString(e[".google.api.methodSignature"][t]))return".google.api.methodSignature: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.MethodOptions)return e;var t=new f.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=f.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=f.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums===String?f.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=f.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=f.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.IdempotencyLevel=function(){var e={},t=Object.create(e);return t[e[0]="IDEMPOTENCY_UNKNOWN"]=0,t[e[1]="NO_SIDE_EFFECTS"]=1,t[e[2]="IDEMPOTENT"]=2,t}(),t}(),a.UninterpretedOption=function(){function t(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=d.emptyArray,t.prototype.identifierValue="",t.prototype.positiveIntValue=d.Long?d.Long.fromBits(0,0,!0):0,t.prototype.negativeIntValue=d.Long?d.Long.fromBits(0,0,!1):0,t.prototype.doubleValue=0,t.prototype.stringValue=d.newBuffer([]),t.prototype.aggregateValue="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.name&&e.name.length)for(var r=0;r<e.name.length;++r)f.google.protobuf.UninterpretedOption.NamePart.encode(e.name[r],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.UninterpretedOption;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(f.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:n.identifierValue=e.string();break;case 4:n.positiveIntValue=e.uint64();break;case 5:n.negativeIntValue=e.int64();break;case 6:n.doubleValue=e.double();break;case 7:n.stringValue=e.bytes();break;case 8:n.aggregateValue=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var r=f.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(r)return"name."+r}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!d.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(d.isInteger(e.positiveIntValue)||e.positiveIntValue&&d.isInteger(e.positiveIntValue.low)&&d.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(d.isInteger(e.negativeIntValue)||e.negativeIntValue&&d.isInteger(e.negativeIntValue.low)&&d.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||d.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!d.isString(e.aggregateValue)?"aggregateValue: string expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.UninterpretedOption)return e;var t=new f.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=f.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(d.Long?(t.positiveIntValue=d.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new d.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(d.Long?(t.negativeIntValue=d.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new d.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?d.base64.decode(e.stringValue,t.stringValue=d.newBuffer(d.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.name=[]),t.defaults){if(r.identifierValue="",d.Long){var n=new d.Long(0,0,!0);r.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.positiveIntValue=t.longs===String?"0":0;d.Long?(n=new d.Long(0,0,!1),r.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.negativeIntValue=t.longs===String?"0":0,r.doubleValue=0,t.bytes===String?r.stringValue="":(r.stringValue=[],t.bytes!==Array&&(r.stringValue=d.newBuffer(r.stringValue))),r.aggregateValue=""}if(e.name&&e.name.length){r.name=[];for(var o=0;o<e.name.length;++o)r.name[o]=f.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(r.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?r.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:r.positiveIntValue=t.longs===String?d.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new d.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?r.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:r.negativeIntValue=t.longs===String?d.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new d.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=t.bytes===String?d.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(r.aggregateValue=e.aggregateValue),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.NamePart=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.namePart="",t.prototype.isExtension=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),t.uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.UninterpretedOption.NamePart;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.namePart=e.string();break;case 2:n.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!n.hasOwnProperty("namePart"))throw d.ProtocolError("missing required 'namePart'",{instance:n});if(!n.hasOwnProperty("isExtension"))throw d.ProtocolError("missing required 'isExtension'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":d.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},t.fromObject=function(e){if(e instanceof f.google.protobuf.UninterpretedOption.NamePart)return e;var t=new f.google.protobuf.UninterpretedOption.NamePart;return null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),a.SourceCodeInfo=function(){function t(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.location=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.location&&e.location.length)for(var r=0;r<e.location.length;++r)f.google.protobuf.SourceCodeInfo.Location.encode(e.location[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.SourceCodeInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.location&&n.location.length||(n.location=[]),n.location.push(f.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var r=f.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(r)return"location."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.SourceCodeInfo)return e;var t=new f.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=f.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=f.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Location=function(){function t(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=d.emptyArray,t.prototype.span=d.emptyArray,t.prototype.leadingComments="",t.prototype.trailingComments="",t.prototype.leadingDetachedComments=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r=0;r<e.leadingDetachedComments.length;++r)t.uint32(50).string(e.leadingDetachedComments[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.SourceCodeInfo.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.span.push(e.int32());else n.span.push(e.int32());break;case 3:n.leadingComments=e.string();break;case 4:n.trailingComments=e.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!d.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(t=0;t<e.span.length;++t)if(!d.isInteger(e.span[t]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!d.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!d.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(t=0;t<e.leadingDetachedComments.length;++t)if(!d.isString(e.leadingDetachedComments[t]))return"leadingDetachedComments: string[] expected"}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.SourceCodeInfo.Location)return e;var t=new f.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),a.GeneratedCodeInfo=function(){function t(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.annotation=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.annotation&&e.annotation.length)for(var r=0;r<e.annotation.length;++r)f.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.GeneratedCodeInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(f.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var r=f.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(r)return"annotation."+r}}return null},t.fromObject=function(e){if(e instanceof f.google.protobuf.GeneratedCodeInfo)return e;var t=new f.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=f.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=f.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Annotation=function(){function t(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=d.emptyArray,t.prototype.sourceFile="",t.prototype.begin=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=p.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:n.sourceFile=e.string();break;case 3:n.begin=e.int32();break;case 4:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!d.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!d.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!d.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!d.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof f.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new f.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),a),l.type=((c={}).Expr=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.expression="",t.prototype.title="",t.prototype.description="",t.prototype.location="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=p.create()),null!=e.expression&&Object.hasOwnProperty.call(e,"expression")&&t.uint32(10).string(e.expression),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.location&&Object.hasOwnProperty.call(e,"location")&&t.uint32(34).string(e.location),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof u||(e=u.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new f.google.type.Expr;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.expression=e.string();break;case 2:n.title=e.string();break;case 3:n.description=e.string();break;case 4:n.location=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.expression&&e.hasOwnProperty("expression")&&!d.isString(e.expression)?"expression: string expected":null!=e.title&&e.hasOwnProperty("title")&&!d.isString(e.title)?"title: string expected":null!=e.description&&e.hasOwnProperty("description")&&!d.isString(e.description)?"description: string expected":null!=e.location&&e.hasOwnProperty("location")&&!d.isString(e.location)?"location: string expected":null},t.fromObject=function(e){if(e instanceof f.google.type.Expr)return e;var t=new f.google.type.Expr;return null!=e.expression&&(t.expression=String(e.expression)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.location&&(t.location=String(e.location)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.expression="",r.title="",r.description="",r.location=""),null!=e.expression&&e.hasOwnProperty("expression")&&(r.expression=e.expression),null!=e.title&&e.hasOwnProperty("title")&&(r.title=e.title),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.location&&e.hasOwnProperty("location")&&(r.location=e.location),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),c),l),f})?n.apply(t,o):n)||(e.exports=i)},57518:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}}')},79004:function(e,t,r){var n,o,i;o=[r(62100)],void 0===(i="function"==typeof(n=function(e){"use strict";var t,r,n,o,i,s=e.Reader,a=e.Writer,c=e.util,l=e.roots.operations_protos||(e.roots.operations_protos={});return l.google=((i={}).longrunning=((t={}).Operations=function(){function t(t,r,n){e.rpc.Service.call(this,t,r,n)}return(t.prototype=Object.create(e.rpc.Service.prototype)).constructor=t,t.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(t.prototype.listOperations=function e(t,r){return this.rpcCall(e,l.google.longrunning.ListOperationsRequest,l.google.longrunning.ListOperationsResponse,t,r)},"name",{value:"ListOperations"}),Object.defineProperty(t.prototype.getOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.GetOperationRequest,l.google.longrunning.Operation,t,r)},"name",{value:"GetOperation"}),Object.defineProperty(t.prototype.deleteOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.DeleteOperationRequest,l.google.protobuf.Empty,t,r)},"name",{value:"DeleteOperation"}),Object.defineProperty(t.prototype.cancelOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.CancelOperationRequest,l.google.protobuf.Empty,t,r)},"name",{value:"CancelOperation"}),Object.defineProperty(t.prototype.waitOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.WaitOperationRequest,l.google.longrunning.Operation,t,r)},"name",{value:"WaitOperation"}),t}(),t.Operation=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r;return t.prototype.name="",t.prototype.metadata=null,t.prototype.done=!1,t.prototype.error=null,t.prototype.response=null,Object.defineProperty(t.prototype,"result",{get:c.oneOfGetter(r=["error","response"]),set:c.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&l.google.protobuf.Any.encode(e.metadata,t.uint32(18).fork()).ldelim(),null!=e.done&&Object.hasOwnProperty.call(e,"done")&&t.uint32(24).bool(e.done),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&l.google.rpc.Status.encode(e.error,t.uint32(34).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&l.google.protobuf.Any.encode(e.response,t.uint32(42).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.Operation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.metadata=l.google.protobuf.Any.decode(e,e.uint32());break;case 3:n.done=e.bool();break;case 4:n.error=l.google.rpc.Status.decode(e,e.uint32());break;case 5:n.response=l.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")&&(r=l.google.protobuf.Any.verify(e.metadata)))return"metadata."+r;if(null!=e.done&&e.hasOwnProperty("done")&&"boolean"!=typeof e.done)return"done: boolean expected";if(null!=e.error&&e.hasOwnProperty("error")&&(t.result=1,r=l.google.rpc.Status.verify(e.error)))return"error."+r;if(null!=e.response&&e.hasOwnProperty("response")){if(1===t.result)return"result: multiple values";var r;if(t.result=1,r=l.google.protobuf.Any.verify(e.response))return"response."+r}return null},t.fromObject=function(e){if(e instanceof l.google.longrunning.Operation)return e;var t=new l.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".google.longrunning.Operation.metadata: object expected");t.metadata=l.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if("object"!=typeof e.error)throw TypeError(".google.longrunning.Operation.error: object expected");t.error=l.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if("object"!=typeof e.response)throw TypeError(".google.longrunning.Operation.response: object expected");t.response=l.google.protobuf.Any.fromObject(e.response)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.metadata=null,r.done=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=l.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty("done")&&(r.done=e.done),null!=e.error&&e.hasOwnProperty("error")&&(r.error=l.google.rpc.Status.toObject(e.error,t),t.oneofs&&(r.result="error")),null!=e.response&&e.hasOwnProperty("response")&&(r.response=l.google.protobuf.Any.toObject(e.response,t),t.oneofs&&(r.result="response")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.GetOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.GetOperationRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.GetOperationRequest)return e;var t=new l.google.longrunning.GetOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ListOperationsRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.filter="",t.prototype.pageSize=0,t.prototype.pageToken="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(10).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.ListOperationsRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 4:n.name=e.string();break;case 1:n.filter=e.string();break;case 2:n.pageSize=e.int32();break;case 3:n.pageToken=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.filter&&e.hasOwnProperty("filter")&&!c.isString(e.filter)?"filter: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!c.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!c.isString(e.pageToken)?"pageToken: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.ListOperationsRequest)return e;var t=new l.google.longrunning.ListOperationsRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.filter="",r.pageSize=0,r.pageToken="",r.name=""),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ListOperationsResponse=function(){function t(e){if(this.operations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.operations=c.emptyArray,t.prototype.nextPageToken="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.operations&&e.operations.length)for(var r=0;r<e.operations.length;++r)l.google.longrunning.Operation.encode(e.operations[r],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.ListOperationsResponse;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.operations&&n.operations.length||(n.operations=[]),n.operations.push(l.google.longrunning.Operation.decode(e,e.uint32()));break;case 2:n.nextPageToken=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.operations&&e.hasOwnProperty("operations")){if(!Array.isArray(e.operations))return"operations: array expected";for(var t=0;t<e.operations.length;++t){var r=l.google.longrunning.Operation.verify(e.operations[t]);if(r)return"operations."+r}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!c.isString(e.nextPageToken)?"nextPageToken: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.ListOperationsResponse)return e;var t=new l.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");t.operations=[];for(var r=0;r<e.operations.length;++r){if("object"!=typeof e.operations[r])throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");t.operations[r]=l.google.longrunning.Operation.fromObject(e.operations[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.operations=[]),t.defaults&&(r.nextPageToken=""),e.operations&&e.operations.length){r.operations=[];for(var n=0;n<e.operations.length;++n)r.operations[n]=l.google.longrunning.Operation.toObject(e.operations[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.CancelOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.CancelOperationRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.CancelOperationRequest)return e;var t=new l.google.longrunning.CancelOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.DeleteOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.DeleteOperationRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.DeleteOperationRequest)return e;var t=new l.google.longrunning.DeleteOperationRequest;return null!=e.name&&(t.name=String(e.name)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.WaitOperationRequest=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.timeout=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&l.google.protobuf.Duration.encode(e.timeout,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.WaitOperationRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.timeout=l.google.protobuf.Duration.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.timeout&&e.hasOwnProperty("timeout")){var t=l.google.protobuf.Duration.verify(e.timeout);if(t)return"timeout."+t}return null},t.fromObject=function(e){if(e instanceof l.google.longrunning.WaitOperationRequest)return e;var t=new l.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if("object"!=typeof e.timeout)throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");t.timeout=l.google.protobuf.Duration.fromObject(e.timeout)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.timeout=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.timeout&&e.hasOwnProperty("timeout")&&(r.timeout=l.google.protobuf.Duration.toObject(e.timeout,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.OperationInfo=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.responseType="",t.prototype.metadataType="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.responseType&&Object.hasOwnProperty.call(e,"responseType")&&t.uint32(10).string(e.responseType),null!=e.metadataType&&Object.hasOwnProperty.call(e,"metadataType")&&t.uint32(18).string(e.metadataType),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.OperationInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.responseType=e.string();break;case 2:n.metadataType=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.responseType&&e.hasOwnProperty("responseType")&&!c.isString(e.responseType)?"responseType: string expected":null!=e.metadataType&&e.hasOwnProperty("metadataType")&&!c.isString(e.metadataType)?"metadataType: string expected":null},t.fromObject=function(e){if(e instanceof l.google.longrunning.OperationInfo)return e;var t=new l.google.longrunning.OperationInfo;return null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.responseType="",r.metadataType=""),null!=e.responseType&&e.hasOwnProperty("responseType")&&(r.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty("metadataType")&&(r.metadataType=e.metadataType),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t),i.api=((r={}).Http=function(){function t(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.rules=c.emptyArray,t.prototype.fullyDecodeReservedExpansion=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)l.google.api.HttpRule.encode(e.rules[r],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.Http;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(l.google.api.HttpRule.decode(e,e.uint32()));break;case 2:n.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var r=l.google.api.HttpRule.verify(e.rules[t]);if(r)return"rules."+r}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},t.fromObject=function(e){if(e instanceof l.google.api.Http)return e;var t=new l.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=l.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=l.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.HttpRule=function(){function t(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r;return t.prototype.selector="",t.prototype.get="",t.prototype.put="",t.prototype.post="",t.prototype.delete="",t.prototype.patch="",t.prototype.custom=null,t.prototype.body="",t.prototype.responseBody="",t.prototype.additionalBindings=c.emptyArray,Object.defineProperty(t.prototype,"pattern",{get:c.oneOfGetter(r=["get","put","post","delete","patch","custom"]),set:c.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&l.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var r=0;r<e.additionalBindings.length;++r)l.google.api.HttpRule.encode(e.additionalBindings[r],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.HttpRule;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.selector=e.string();break;case 2:n.get=e.string();break;case 3:n.put=e.string();break;case 4:n.post=e.string();break;case 5:n.delete=e.string();break;case 6:n.patch=e.string();break;case 8:n.custom=l.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:n.body=e.string();break;case 12:n.responseBody=e.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(l.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!c.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!c.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!c.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!c.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!c.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!c.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,n=l.google.api.CustomHttpPattern.verify(e.custom))return"custom."+n}if(null!=e.body&&e.hasOwnProperty("body")&&!c.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!c.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r=0;r<e.additionalBindings.length;++r){var n;if(n=l.google.api.HttpRule.verify(e.additionalBindings[r]))return"additionalBindings."+n}}return null},t.fromObject=function(e){if(e instanceof l.google.api.HttpRule)return e;var t=new l.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=l.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=l.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs&&(r.pattern="get")),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs&&(r.pattern="put")),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs&&(r.pattern="post")),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs&&(r.pattern="delete")),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs&&(r.pattern="patch")),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=l.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs&&(r.pattern="custom")),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=l.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r.CustomHttpPattern=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.kind="",t.prototype.path="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.CustomHttpPattern;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.kind=e.string();break;case 2:n.path=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!c.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!c.isString(e.path)?"path: string expected":null},t.fromObject=function(e){if(e instanceof l.google.api.CustomHttpPattern)return e;var t=new l.google.api.CustomHttpPattern;return null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),r),i.protobuf=((n={}).FileDescriptorSet=function(){function t(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.file=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.file&&e.file.length)for(var r=0;r<e.file.length;++r)l.google.protobuf.FileDescriptorProto.encode(e.file[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorSet;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.file&&n.file.length||(n.file=[]),n.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var r=l.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(r)return"file."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorSet)return e;var t=new l.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=l.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=l.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.FileDescriptorProto=function(){function t(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.package="",t.prototype.dependency=c.emptyArray,t.prototype.publicDependency=c.emptyArray,t.prototype.weakDependency=c.emptyArray,t.prototype.messageType=c.emptyArray,t.prototype.enumType=c.emptyArray,t.prototype.service=c.emptyArray,t.prototype.extension=c.emptyArray,t.prototype.options=null,t.prototype.sourceCodeInfo=null,t.prototype.syntax="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var r=0;r<e.dependency.length;++r)t.uint32(26).string(e.dependency[r]);if(null!=e.messageType&&e.messageType.length)for(r=0;r<e.messageType.length;++r)l.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(r=0;r<e.service.length;++r)l.google.protobuf.ServiceDescriptorProto.encode(e.service[r],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(r=0;r<e.publicDependency.length;++r)t.uint32(80).int32(e.publicDependency[r]);if(null!=e.weakDependency&&e.weakDependency.length)for(r=0;r<e.weakDependency.length;++r)t.uint32(88).int32(e.weakDependency[r]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.package=e.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(e.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.publicDependency.push(e.int32());else n.publicDependency.push(e.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.weakDependency.push(e.int32());else n.weakDependency.push(e.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:n.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:n.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:n.syntax=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!c.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!c.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(t=0;t<e.publicDependency.length;++t)if(!c.isInteger(e.publicDependency[t]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(t=0;t<e.weakDependency.length;++t)if(!c.isInteger(e.weakDependency[t]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(t=0;t<e.messageType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.messageType[t]))return"messageType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(t=0;t<e.service.length;++t)if(r=l.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return"service."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.FileOptions.verify(e.options))?"options."+r:null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r=l.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo))?"sourceCodeInfo."+r:null!=e.syntax&&e.hasOwnProperty("syntax")&&!c.isString(e.syntax)?"syntax: string expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorProto)return e;var t=new l.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=l.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=l.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=l.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=l.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=l.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.DescriptorProto=function(){function t(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.field=c.emptyArray,t.prototype.extension=c.emptyArray,t.prototype.nestedType=c.emptyArray,t.prototype.enumType=c.emptyArray,t.prototype.extensionRange=c.emptyArray,t.prototype.oneofDecl=c.emptyArray,t.prototype.options=null,t.prototype.reservedRange=c.emptyArray,t.prototype.reservedName=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var r=0;r<e.field.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.field[r],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(r=0;r<e.nestedType.length;++r)l.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(r=0;r<e.extensionRange.length;++r)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[r],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(r=0;r<e.oneofDecl.length;++r)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[r],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[r],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(82).string(e.reservedName[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:n.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return"field."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(t=0;t<e.nestedType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return"nestedType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(t=0;t<e.extensionRange.length;++t)if(r=l.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return"extensionRange."+r}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(t=0;t<e.oneofDecl.length;++t)if(r=l.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return"oneofDecl."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.MessageOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";for(t=0;t<e.reservedRange.length;++t){var r;if(r=l.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!c.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto)return e;var t=new l.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=l.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=l.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=l.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=l.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=l.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=l.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=l.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.ExtensionRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;case 3:n.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.start&&e.hasOwnProperty("start")&&!c.isInteger(e.start))return"start: integer expected";if(null!=e.end&&e.hasOwnProperty("end")&&!c.isInteger(e.end))return"end: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.ExtensionRangeOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new l.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=l.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t.ReservedRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!c.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!c.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ReservedRange)return e;var t=new l.google.protobuf.DescriptorProto.ReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),n.ExtensionRangeOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ExtensionRangeOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.ExtensionRangeOptions)return e;var t=new l.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.FieldDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.name="",t.prototype.number=0,t.prototype.label=1,t.prototype.type=1,t.prototype.typeName="",t.prototype.extendee="",t.prototype.defaultValue="",t.prototype.oneofIndex=0,t.prototype.jsonName="",t.prototype.options=null,t.prototype.proto3Optional=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,"proto3Optional")&&t.uint32(136).bool(e.proto3Optional),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 3:n.number=e.int32();break;case 4:n.label=e.int32();break;case 5:n.type=e.int32();break;case 6:n.typeName=e.string();break;case 2:n.extendee=e.string();break;case 7:n.defaultValue=e.string();break;case 9:n.oneofIndex=e.int32();break;case 10:n.jsonName=e.string();break;case 8:n.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:n.proto3Optional=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!c.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!c.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!c.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!c.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!c.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!c.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&"boolean"!=typeof e.proto3Optional?"proto3Optional: boolean expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.FieldDescriptorProto)return e;var t=new l.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=l.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?l.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Type=(r={},(n=Object.create(r))[r[1]="TYPE_DOUBLE"]=1,n[r[2]="TYPE_FLOAT"]=2,n[r[3]="TYPE_INT64"]=3,n[r[4]="TYPE_UINT64"]=4,n[r[5]="TYPE_INT32"]=5,n[r[6]="TYPE_FIXED64"]=6,n[r[7]="TYPE_FIXED32"]=7,n[r[8]="TYPE_BOOL"]=8,n[r[9]="TYPE_STRING"]=9,n[r[10]="TYPE_GROUP"]=10,n[r[11]="TYPE_MESSAGE"]=11,n[r[12]="TYPE_BYTES"]=12,n[r[13]="TYPE_UINT32"]=13,n[r[14]="TYPE_ENUM"]=14,n[r[15]="TYPE_SFIXED32"]=15,n[r[16]="TYPE_SFIXED64"]=16,n[r[17]="TYPE_SINT32"]=17,n[r[18]="TYPE_SINT64"]=18,n),t.Label=function(){var e={},t=Object.create(e);return t[e[1]="LABEL_OPTIONAL"]=1,t[e[2]="LABEL_REQUIRED"]=2,t[e[3]="LABEL_REPEATED"]=3,t}(),t}(),n.OneofDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.OneofOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.OneofDescriptorProto)return e;var t=new l.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=l.google.protobuf.OneofOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.OneofOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.EnumDescriptorProto=function(){function t(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.value=c.emptyArray,t.prototype.options=null,t.prototype.reservedRange=c.emptyArray,t.prototype.reservedName=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var r=0;r<e.value.length;++r)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[r],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[r],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(42).string(e.reservedName[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(r=l.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return"value."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.EnumOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";for(t=0;t<e.reservedRange.length;++t){var r;if(r=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!c.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto)return e;var t=new l.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=l.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=l.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.EnumReservedRange=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!c.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!c.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto.EnumReservedRange)return e;var t=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;return null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),n.EnumValueDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.number=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.number=e.int32();break;case 3:n.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!c.isInteger(e.number))return"number: integer expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.EnumValueOptions.verify(e.options);if(t)return"options."+t}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueDescriptorProto)return e;var t=new l.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.ServiceDescriptorProto=function(){function t(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.method=c.emptyArray,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var r=0;r<e.method.length;++r)l.google.protobuf.MethodDescriptorProto.encode(e.method[r],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t)if(r=l.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return"method."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.ServiceOptions.verify(e.options))?"options."+r:null},t.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceDescriptorProto)return e;var t=new l.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=l.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=l.google.protobuf.ServiceOptions.fromObject(e.options)}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=l.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ServiceOptions.toObject(e.options,t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.MethodDescriptorProto=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name="",t.prototype.inputType="",t.prototype.outputType="",t.prototype.options=null,t.prototype.clientStreaming=!1,t.prototype.serverStreaming=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.inputType=e.string();break;case 3:n.outputType=e.string();break;case 4:n.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:n.clientStreaming=e.bool();break;case 6:n.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!c.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!c.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.MethodDescriptorProto)return e;var t=new l.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=l.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.FileOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.javaPackage="",t.prototype.javaOuterClassname="",t.prototype.javaMultipleFiles=!1,t.prototype.javaGenerateEqualsAndHash=!1,t.prototype.javaStringCheckUtf8=!1,t.prototype.optimizeFor=1,t.prototype.goPackage="",t.prototype.ccGenericServices=!1,t.prototype.javaGenericServices=!1,t.prototype.pyGenericServices=!1,t.prototype.phpGenericServices=!1,t.prototype.deprecated=!1,t.prototype.ccEnableArenas=!0,t.prototype.objcClassPrefix="",t.prototype.csharpNamespace="",t.prototype.swiftPrefix="",t.prototype.phpClassPrefix="",t.prototype.phpNamespace="",t.prototype.phpMetadataNamespace="",t.prototype.rubyPackage="",t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.javaPackage=e.string();break;case 8:n.javaOuterClassname=e.string();break;case 10:n.javaMultipleFiles=e.bool();break;case 20:n.javaGenerateEqualsAndHash=e.bool();break;case 27:n.javaStringCheckUtf8=e.bool();break;case 9:n.optimizeFor=e.int32();break;case 11:n.goPackage=e.string();break;case 16:n.ccGenericServices=e.bool();break;case 17:n.javaGenericServices=e.bool();break;case 18:n.pyGenericServices=e.bool();break;case 42:n.phpGenericServices=e.bool();break;case 23:n.deprecated=e.bool();break;case 31:n.ccEnableArenas=e.bool();break;case 36:n.objcClassPrefix=e.string();break;case 37:n.csharpNamespace=e.string();break;case 39:n.swiftPrefix=e.string();break;case 40:n.phpClassPrefix=e.string();break;case 41:n.phpNamespace=e.string();break;case 44:n.phpMetadataNamespace=e.string();break;case 45:n.rubyPackage=e.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!c.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!c.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!c.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&"boolean"!=typeof e.phpGenericServices)return"phpGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!c.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!c.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&!c.isString(e.swiftPrefix))return"swiftPrefix: string expected";if(null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&!c.isString(e.phpClassPrefix))return"phpClassPrefix: string expected";if(null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&!c.isString(e.phpNamespace))return"phpNamespace: string expected";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&!c.isString(e.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&!c.isString(e.rubyPackage))return"rubyPackage: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.FileOptions)return e;var t=new l.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpGenericServices=!1,r.phpMetadataNamespace="",r.rubyPackage=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?l.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&(r.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.OptimizeMode=(r={},(n=Object.create(r))[r[1]="SPEED"]=1,n[r[2]="CODE_SIZE"]=2,n[r[3]="LITE_RUNTIME"]=3,n),t}(),n.MessageOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.messageSetWireFormat=!1,t.prototype.noStandardDescriptorAccessor=!1,t.prototype.deprecated=!1,t.prototype.mapEntry=!1,t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MessageOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageSetWireFormat=e.bool();break;case 2:n.noStandardDescriptorAccessor=e.bool();break;case 3:n.deprecated=e.bool();break;case 7:n.mapEntry=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.MessageOptions)return e;var t=new l.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.FieldOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.ctype=0,t.prototype.packed=!1,t.prototype.jstype=0,t.prototype.lazy=!1,t.prototype.deprecated=!1,t.prototype.weak=!1,t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.ctype=e.int32();break;case 2:n.packed=e.bool();break;case 6:n.jstype=e.int32();break;case 5:n.lazy=e.bool();break;case 3:n.deprecated=e.bool();break;case 10:n.weak=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.FieldOptions)return e;var t=new l.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?l.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?l.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.CType=(r={},(n=Object.create(r))[r[0]="STRING"]=0,n[r[1]="CORD"]=1,n[r[2]="STRING_PIECE"]=2,n),t.JSType=function(){var e={},t=Object.create(e);return t[e[0]="JS_NORMAL"]=0,t[e[1]="JS_STRING"]=1,t[e[2]="JS_NUMBER"]=2,t}(),t}(),n.OneofOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.OneofOptions)return e;var t=new l.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.EnumOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.allowAlias=!1,t.prototype.deprecated=!1,t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.allowAlias=e.bool();break;case 3:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.EnumOptions)return e;var t=new l.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.EnumValueOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueOptions)return e;var t=new l.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.ServiceOptions=function(){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=c.emptyArray,t.prototype[".google.api.defaultHost"]="",t.prototype[".google.api.oauthScopes"]="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.api.defaultHost"]=e.string();break;case 1050:n[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!c.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!c.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceOptions)return e;var t=new l.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.MethodOptions=function(){function t(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r,n;return t.prototype.deprecated=!1,t.prototype.idempotencyLevel=0,t.prototype.uninterpretedOption=c.emptyArray,t.prototype[".google.longrunning.operationInfo"]=null,t.prototype[".google.api.http"]=null,t.prototype[".google.api.methodSignature"]=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.longrunning.operationInfo"]&&Object.hasOwnProperty.call(e,".google.longrunning.operationInfo")&&l.google.longrunning.OperationInfo.encode(e[".google.longrunning.operationInfo"],t.uint32(8394).fork()).ldelim(),null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&l.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 34:n.idempotencyLevel=e.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.decode(e,e.uint32());break;case 72295728:n[".google.api.http"]=l.google.api.HttpRule.decode(e,e.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel"))switch(e.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r=l.google.longrunning.OperationInfo.verify(e[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+r;if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r=l.google.api.HttpRule.verify(e[".google.api.http"])))return".google.api.http."+r;if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(t=0;t<e[".google.api.methodSignature"].length;++t)if(!c.isString(e[".google.api.methodSignature"][t]))return".google.api.methodSignature: string[] expected"}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.MethodOptions)return e;var t=new l.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.longrunning.operationInfo"]){if("object"!=typeof e[".google.longrunning.operationInfo"])throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");t[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.fromObject(e[".google.longrunning.operationInfo"])}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=l.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r[".google.longrunning.operationInfo"]=null,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums===String?l.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.toObject(e[".google.longrunning.operationInfo"],t)),e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=l.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.IdempotencyLevel=(r={},(n=Object.create(r))[r[0]="IDEMPOTENCY_UNKNOWN"]=0,n[r[1]="NO_SIDE_EFFECTS"]=1,n[r[2]="IDEMPOTENT"]=2,n),t}(),n.UninterpretedOption=function(){function t(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=c.emptyArray,t.prototype.identifierValue="",t.prototype.positiveIntValue=c.Long?c.Long.fromBits(0,0,!0):0,t.prototype.negativeIntValue=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.doubleValue=0,t.prototype.stringValue=c.newBuffer([]),t.prototype.aggregateValue="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&e.name.length)for(var r=0;r<e.name.length;++r)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[r],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:n.identifierValue=e.string();break;case 4:n.positiveIntValue=e.uint64();break;case 5:n.negativeIntValue=e.int64();break;case 6:n.doubleValue=e.double();break;case 7:n.stringValue=e.bytes();break;case 8:n.aggregateValue=e.string();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var r=l.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(r)return"name."+r}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!c.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(c.isInteger(e.positiveIntValue)||e.positiveIntValue&&c.isInteger(e.positiveIntValue.low)&&c.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(c.isInteger(e.negativeIntValue)||e.negativeIntValue&&c.isInteger(e.negativeIntValue.low)&&c.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||c.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!c.isString(e.aggregateValue)?"aggregateValue: string expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption)return e;var t=new l.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=l.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(c.Long?(t.positiveIntValue=c.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new c.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(c.Long?(t.negativeIntValue=c.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new c.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?c.base64.decode(e.stringValue,t.stringValue=c.newBuffer(c.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.name=[]),t.defaults){if(r.identifierValue="",c.Long){var n=new c.Long(0,0,!0);r.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.positiveIntValue=t.longs===String?"0":0;c.Long?(n=new c.Long(0,0,!1),r.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.negativeIntValue=t.longs===String?"0":0,r.doubleValue=0,t.bytes===String?r.stringValue="":(r.stringValue=[],t.bytes!==Array&&(r.stringValue=c.newBuffer(r.stringValue))),r.aggregateValue=""}if(e.name&&e.name.length){r.name=[];for(var o=0;o<e.name.length;++o)r.name[o]=l.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(r.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?r.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:r.positiveIntValue=t.longs===String?c.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new c.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?r.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:r.negativeIntValue=t.longs===String?c.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new c.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=t.bytes===String?c.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(r.aggregateValue=e.aggregateValue),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.NamePart=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.namePart="",t.prototype.isExtension=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),t.uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.namePart=e.string();break;case 2:n.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!n.hasOwnProperty("namePart"))throw c.ProtocolError("missing required 'namePart'",{instance:n});if(!n.hasOwnProperty("isExtension"))throw c.ProtocolError("missing required 'isExtension'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":c.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},t.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption.NamePart)return e;var t=new l.google.protobuf.UninterpretedOption.NamePart;return null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),n.SourceCodeInfo=function(){function t(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.location=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.location&&e.location.length)for(var r=0;r<e.location.length;++r)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.location&&n.location.length||(n.location=[]),n.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var r=l.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(r)return"location."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo)return e;var t=new l.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=l.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=l.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Location=function(){function t(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=c.emptyArray,t.prototype.span=c.emptyArray,t.prototype.leadingComments="",t.prototype.trailingComments="",t.prototype.leadingDetachedComments=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r=0;r<e.leadingDetachedComments.length;++r)t.uint32(50).string(e.leadingDetachedComments[r]);return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.span.push(e.int32());else n.span.push(e.int32());break;case 3:n.leadingComments=e.string();break;case 4:n.trailingComments=e.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!c.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(t=0;t<e.span.length;++t)if(!c.isInteger(e.span[t]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!c.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!c.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(t=0;t<e.leadingDetachedComments.length;++t)if(!c.isString(e.leadingDetachedComments[t]))return"leadingDetachedComments: string[] expected"}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo.Location)return e;var t=new l.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),n.GeneratedCodeInfo=function(){function t(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.annotation=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.annotation&&e.annotation.length)for(var r=0;r<e.annotation.length;++r)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[r],t.uint32(10).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var r=l.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(r)return"annotation."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo)return e;var t=new l.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=l.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=l.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t.Annotation=function(){function t(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.path=c.emptyArray,t.prototype.sourceFile="",t.prototype.begin=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:n.sourceFile=e.string();break;case 3:n.begin=e.int32();break;case 4:n.end=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!c.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!c.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!c.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!c.isInteger(e.end)?"end: integer expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new l.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t}(),n.Any=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.type_url="",t.prototype.value=c.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.type_url&&Object.hasOwnProperty.call(e,"type_url")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Any;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type_url=e.string();break;case 2:n.value=e.bytes();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type_url&&e.hasOwnProperty("type_url")&&!c.isString(e.type_url)?"type_url: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value))?"value: buffer expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.Any)return e;var t=new l.google.protobuf.Any;return null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type_url="",t.bytes===String?r.value="":(r.value=[],t.bytes!==Array&&(r.value=c.newBuffer(r.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(r.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.Duration=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.seconds=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.nanos=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(16).int32(e.nanos),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Duration;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.seconds=e.int64();break;case 2:n.nanos=e.int32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(c.isInteger(e.seconds)||e.seconds&&c.isInteger(e.seconds.low)&&c.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!c.isInteger(e.nanos)?"nanos: integer expected":null},t.fromObject=function(e){if(e instanceof l.google.protobuf.Duration)return e;var t=new l.google.protobuf.Duration;return null!=e.seconds&&(c.Long?(t.seconds=c.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new c.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},t.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(c.Long){var n=new c.Long(0,0,!1);r.seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.seconds=t.longs===String?"0":0;r.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?r.seconds=t.longs===String?String(e.seconds):e.seconds:r.seconds=t.longs===String?c.Long.prototype.toString.call(e.seconds):t.longs===Number?new c.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(r.nanos=e.nanos),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.Empty=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=a.create()),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Empty;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},t.fromObject=function(e){return e instanceof l.google.protobuf.Empty?e:new l.google.protobuf.Empty},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n),i.rpc=((o={}).Status=function(){function t(e){if(this.details=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.code=0,t.prototype.message="",t.prototype.details=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=a.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.details&&e.details.length)for(var r=0;r<e.details.length;++r)l.google.protobuf.Any.encode(e.details[r],t.uint32(26).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.rpc.Status;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.code=e.int32();break;case 2:n.message=e.string();break;case 3:n.details&&n.details.length||(n.details=[]),n.details.push(l.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!c.isInteger(e.code))return"code: integer expected";if(null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message))return"message: string expected";if(null!=e.details&&e.hasOwnProperty("details")){if(!Array.isArray(e.details))return"details: array expected";for(var t=0;t<e.details.length;++t){var r=l.google.protobuf.Any.verify(e.details[t]);if(r)return"details."+r}}return null},t.fromObject=function(e){if(e instanceof l.google.rpc.Status)return e;var t=new l.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".google.rpc.Status.details: array expected");t.details=[];for(var r=0;r<e.details.length;++r){if("object"!=typeof e.details[r])throw TypeError(".google.rpc.Status.details: object expected");t.details[r]=l.google.protobuf.Any.fromObject(e.details[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.details=[]),t.defaults&&(r.code=0,r.message=""),null!=e.code&&e.hasOwnProperty("code")&&(r.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),e.details&&e.details.length){r.details=[];for(var n=0;n<e.details.length;++n)r.details[n]=l.google.protobuf.Any.toObject(e.details[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),o),i),l})?n.apply(t,o):n)||(e.exports=i)},36934:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}')},20289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAPICaller=void 0;const n=r(16808);t.createAPICaller=function(e,t){return t?t.getApiCaller(e):new n.NormalApiCaller}},64940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleApiCaller=void 0;const n=r(81593),o=r(46525);t.BundleApiCaller=class{constructor(e){this.bundler=e}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){if(!r.isBundling)throw new o.GoogleError("Bundling enabled with no isBundling!");n.call(((t,r)=>(this.bundler.schedule(e,t,r),n)),t)}fail(e,t){e.callback(t)}result(e){return e.promise}}},91469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleDescriptor=void 0;const n=r(16808),o=r(64940),i=r(1287),s=r(93267);t.BundleDescriptor=class{constructor(e,t,r,n){n||"function"!=typeof r||(n=r,r=null),this.bundledField=e,this.requestDiscriminatorFields=t.map(s.snakeToCamelCase),this.subresponseField=r,this.byteLengthFunction=n}getApiCaller(e){return!1===e.isBundling?new n.NormalApiCaller:new o.BundleApiCaller(new i.BundleExecutor(e.bundleOptions,this))}}},1287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleExecutor=void 0;const n=r(62128),o=r(46525),i=r(72035),s=r(30290),a=r(17478);function c(){}t.BundleExecutor=class{constructor(e,t){this._options=e,this._descriptor=t,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(e,t,r){const l=s.computeBundleId(t,this._descriptor.requestDiscriminatorFields);if(r=r||c,void 0===l)return i.warn("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(t)} discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),e(t,r);if(void 0===t[this._descriptor.bundledField])return i.warn("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: ${JSON.stringify(t)}`),e(t,r);l in this._tasks||(this._tasks[l]=new a.Task(e,t,this._descriptor.bundledField,this._descriptor.subresponseField));let u=this._tasks[l];r.id=String(this._invocationId++),this._invocations[r.id]=l;const p=t[this._descriptor.bundledField],d=p.length;let f=0;const h=this;p.forEach((e=>{f+=this._descriptor.byteLengthFunction(e)}));const g=this._options.elementCountLimit||0,m=this._options.requestByteLimit||0;if(g>0&&d>g||m>0&&f>=m){let e;e=g>0&&d>g?"The number of elements "+d+" exceeds the limit "+this._options.elementCountLimit:"The required bytes "+f+" exceeds the limit "+this._options.requestByteLimit;const t=new o.GoogleError(e);return t.code=n.Status.INVALID_ARGUMENT,r(t),{cancel:c}}const y=u.getElementCount(),v=u.getRequestByteSize();(g>0&&d+y>=g||m>0&&f+v>=m)&&(this._runNow(l),this._tasks[l]=new a.Task(e,t,this._descriptor.bundledField,this._descriptor.subresponseField),u=this._tasks[l]),u.extend(p,f,r);const b={cancel(){h._cancel(r.id)}},w=this._options.elementCountThreshold||0,E=this._options.requestByteThreshold||0;return w>0&&u.getElementCount()>=w||E>0&&u.getRequestByteSize()>=E?(this._runNow(l),b):(!(l in this._timers)&&this._options.delayThreshold>0&&(this._timers[l]=setTimeout((()=>{delete this._timers[l],this._runNow(l)}),this._options.delayThreshold)),b)}_maybeClearTimeout(e){if(e in this._timers){const t=this._timers[e];delete this._timers[e],clearTimeout(t)}}_cancel(e){if(!(e in this._invocations))return;const t=this._invocations[e];if(!(t in this._tasks))return;const r=this._tasks[t];delete this._invocations[e],r.cancel(e)&&(this._maybeClearTimeout(t),delete this._tasks[t])}_runNow(e){if(!(e in this._tasks))return void i.warn("bundle_runnow_bundleid_unknown",`No such bundleid: ${e}`);this._maybeClearTimeout(e);const t=this._tasks[e];delete this._tasks[e],t.run().forEach((e=>{delete this._invocations[e]}))}}},30290:(e,t)=>{"use strict";function r(e,t){const r=t.split(".");let n=e;for(const e of r)n=null==n?void 0:n[e];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.computeBundleId=void 0,t.computeBundleId=function(e,t){const n=[];let o=!1;for(const i of t){const t=r(e,i);void 0===t?n.push(null):(o=!0,n.push(t))}if(o)return JSON.stringify(n)}},17478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Task=t.deepCopyForResponse=void 0;const n=r(62128),o=r(46525);function i(e,t){let r;return null===e?null:void 0!==e?Array.isArray(e)?(r=[],e.forEach((e=>{r.push(i(e,null))})),r):void 0!==e.copy?e.copy():e instanceof ArrayBuffer?e.slice(0):"object"==typeof e?(r={},Object.keys(e).forEach((n=>{t&&n===t.field&&Array.isArray(e[n])?r[n]=e[n].slice(t.start,t.end):r[n]=i(e[n],null)})),r):e:void 0}t.deepCopyForResponse=i,t.Task=class{constructor(e,t,r,n){this._apiCall=e,this._request=t,this._bundledField=r,this._subresponseField=n,this._data=[]}getElementCount(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].elements.length;return e}getRequestByteSize(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].bytes;return e}run(){if(0===this._data.length)return[];const e=this._request,t=[],r=[];for(let e=0;e<this._data.length;++e)t.push(...this._data[e].elements),r.push(this._data[e].callback.id);e[this._bundledField]=t;const s=this;return this.callCanceller=this._apiCall(e,((e,t)=>{const r=[];if(e)s._data.forEach((()=>{r.push(void 0)}));else{let e=null;s._subresponseField&&(e={field:s._subresponseField,start:0}),s._data.forEach((n=>{e&&(e.end=e.start+n.elements.length),r.push(i(t,e)),e&&(e.start=e.end)}))}for(let t=0;t<s._data.length;++t)if(s._data[t].cancelled){const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,s._data[t].callback(e)}else s._data[t].callback(e,r[t])})),r}extend(e,t,r){this._data.push({elements:e,bytes:t,callback:r})}cancel(e){if(this.callCanceller){let t=!0;return this._data.forEach((r=>{r.callback.id===e&&(r.cancelled=!0),r.cancelled||(t=!1)})),t&&this.callCanceller.cancel(),t}for(let t=0;t<this._data.length;++t)if(this._data[t].callback.id===e){const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,this._data[t].callback(e),this._data.splice(t,1);break}return 0===this._data.length}}},81593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OngoingCallPromise=t.OngoingCall=void 0;const n=r(62128),o=r(46525);class i{constructor(e){this.callback=e,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,this.callback(e)}}call(e,t){if(this.completed)return;const r=e(t,((...e)=>{this.completed=!0,setImmediate(this.callback,...e)}));this.cancelFunc=()=>r.cancel()}}t.OngoingCall=i,t.OngoingCallPromise=class extends i{constructor(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));super(((r,n,i,s)=>{if(r)t(r);else{if(void 0===n)throw new o.GoogleError("Neither error nor response are defined");e([n,i||null,s||null])}})),this.promise=r,this.promise.cancel=()=>{this.cancel()}}}},34472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApiCall=void 0;const n=r(20289),o=r(354),i=r(54580);t.createApiCall=function(e,t,r){const s="function"==typeof e?Promise.resolve(e):e,a=n.createAPICaller(t,r);return(e,r,c)=>{const l=t.merge(r);let u=a;t.isBundling&&!l.isBundling&&(u=n.createAPICaller(t,void 0));const p=u.init(c);return s.then((e=>{var t;e=u.wrap(e);const r=null===(t=u.descriptor)||void 0===t?void 0:t.streaming,n=l.retry;return!r&&n&&n.retryCodes&&n.retryCodes.length>0?(n.backoffSettings.initialRpcTimeoutMillis=n.backoffSettings.initialRpcTimeoutMillis||l.timeout,o.retryable(e,l.retry,l.otherArgs,l.apiName)):i.addTimeoutArg(e,l.timeout,l.otherArgs)})).then((t=>{u.call(t,e,l,p)})).catch((e=>{u.fail(p,e)})),u.result(p)}}},52495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98955);Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return n.LongRunningDescriptor}});var o=r(66323);Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return o.PageDescriptor}});var i=r(91269);Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return i.StreamDescriptor}});var s=r(91469);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return s.BundleDescriptor}})},21001:(e,t,r)=>{"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=t.protobuf=t.createApiCall=t.lro=t.GrpcClient=t.version=t.routingHeader=void 0;const i=r(74188);let s=!1;if(!i.isBrowser()||"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder||(s=!0),"undefined"!=typeof process&&(null===(n=null===process||void 0===process?void 0:process.versions)||void 0===n?void 0:n.node)&&(null===(o=null===process||void 0===process?void 0:process.versions)||void 0===o?void 0:o.node.match(/^10\./))){const e=r(31669);Object.assign(global,{TextDecoder:e.TextDecoder,TextEncoder:e.TextEncoder})}s&&r(78806);const a=r(43281);t.protobuf=a;const c=r(27231),l=r(83574),u=r(66427);t.routingHeader=u;const p=r(60271),d=r(62128),f=r(22790),h=r(49807),g=r(39129),m=r(34472),y=r(62023),v=r(96063);var b=r(12293);Object.defineProperty(t,"PathTemplate",{enumerable:!0,get:function(){return b.PathTemplate}});var w=r(27231);Object.defineProperty(t,"CallSettings",{enumerable:!0,get:function(){return w.CallSettings}}),Object.defineProperty(t,"constructSettings",{enumerable:!0,get:function(){return w.constructSettings}}),Object.defineProperty(t,"RetryOptions",{enumerable:!0,get:function(){return w.RetryOptions}}),t.version=r(56156).version+"-fallback";var E=r(52495);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return E.BundleDescriptor}}),Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return E.LongrunningDescriptor}}),Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return E.PageDescriptor}}),Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return E.StreamDescriptor}});var _=r(59938);Object.defineProperty(t,"StreamType",{enumerable:!0,get:function(){return _.StreamType}});class O{constructor(e={}){if(i.isBrowser()){if(!e.auth)throw new Error(JSON.stringify(e)+"You need to pass auth instance to use gRPC-fallback client in browser. Use OAuth2Client from google-auth-library.");this.auth=e.auth}else this.auth=e.auth||new f.GoogleAuth(e);this.fallback="rest"!==e.fallback?"proto":"rest",this.grpcVersion="fallback"}static clearProtoCache(){O.protoCache.clear()}loadProto(e){return a.Root.fromJSON(e)}loadProtoJSON(e,t=!1){const r=h(e),n=O.protoCache.get(r);if(n&&!t)return n;const o=a.Root.fromJSON(e);return O.protoCache.set(r,o),o}getServiceMethods(e){return Object.keys(e.methods).map((e=>e[0].toLowerCase()+e.substring(1)))}constructSettings(e,r,n,o){return c.constructSettings(e,r,n,d.Status,{metadataBuilder:function(e,r){const n={};o||(o={});for(const e in o)n[e]=Array.isArray(o[e])?o[e]:[o[e]];const i=[];if(n["x-goog-api-client"]&&n["x-goog-api-client"][0]&&i.push(...n["x-goog-api-client"][0].split(" ")),i.push(`grpc-web/${t.version}`),n["x-goog-api-client"]=[i.join(" ")],!r)return n;for(const e in r)if("x-goog-api-client"!==e.toLowerCase()){const t=r[e];if(Array.isArray(t))if(void 0===n[e])n[e]=t;else{if(!Array.isArray(n[e]))throw new Error(`Can not add value ${t} to the call metadata.`);n[e].push(...t)}else n[e]=[t]}return n}})}async createStub(e,t){function r(e,t,r){return[e,t,r]}const n=new y.FallbackErrorDecoder;if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");const o=await this.authClient.getRequestHeaders(),s=e.create(r,!1,!1),a=this.getServiceMethods(e),c=e.create(r,!1,!1);for(const r of a)c[r]=(a,c,u,d)=>{const[f,h,g]=s[r].apply(s,[a,d]);let m,y;m=i.isBrowser()||"undefined"!=typeof AbortController?new AbortController:new p.AbortController,m&&(y=m.signal);let b=!1;const w=Object.assign({},o);for(const e of Object.keys(c))w[e]=c[e][0];const E=t.protocol||"https";let _,O=t.servicePath;if(!O&&e.options&&e.options["(google.api.default_host)"]&&(O=e.options["(google.api.default_host)"]),!O)return void g(new Error("Service path is undefined"));const S=O.match(/^(.*):(\d+)$/);S&&(O=S[1],_=S[2]),t.port?_=t.port:_||(_=443);const T=[];let C=f.parent;for(;""!==C.name;)T.unshift(C.name),C=C.parent;const A=T.join("."),x=f.name;let I,k,N;if("rest"===this.fallback){w["Content-Type"]="application/json";const e=f.resolvedRequestType.decode(h),t=f.resolvedRequestType.toObject(e),r=v.transcode(t,f.parsedOptions,f.resolvedRequestType.fields);if(!r)throw new Error(`Cannot build HTTP request for ${JSON.stringify(t)}, method: ${f.name}`);N=r.httpMethod,k=JSON.stringify(r.data),I=`${E}://${O}:${_}/${r.url.replace(/^\//,"")}?${r.queryString}`}else w["Content-Type"]="application/x-protobuf",N="post",k=h,I=`${E}://${O}:${_}/$rpc/${A}/${x}`;const P=i.isBrowser()?window.fetch:l.default,R={headers:w,body:k,method:N,signal:y};return"get"!==N&&"delete"!==N&&"head"!==N||delete R.body,P(I,R).then((e=>Promise.all([Promise.resolve(e.ok),e.arrayBuffer()]))).then((([e,t])=>{if("rest"===this.fallback){const r=(new TextDecoder).decode(t),n=JSON.parse(r);if(!e)throw Object.assign(new Error(n.error.message),n.error);const o=f.resolvedResponseType.fromObject(n),i=f.resolvedResponseType.encode(o).finish();g(null,i)}else{if(!e)throw n.decodeErrorFromBuffer(t);g(null,new Uint8Array(t))}})).catch((e=>{b&&"AbortError"===e.name||g(e)})),{cancel:()=>{m?(b=!0,m.abort()):console.warn("AbortController not found: Cancellation is not supported in this environment")}}};return c}}t.GrpcClient=O,O.protoCache=new Map,t.lro=function(e){e=Object.assign({scopes:[]},e);const t=new O(e);return new g.OperationsClientBuilder(t)},t.createApiCall=function(e,t,r){return r&&"streaming"in r?()=>{throw new Error("The gRPC-fallback client library (e.g. browser version of the library) currently does not support streaming calls.")}:m.createApiCall(e,t,r)},t.protobufMinimal=r(62100);const S=e.exports;t.fallback=S},62023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackErrorDecoder=void 0;const n=r(43281),o=r(62128);t.FallbackErrorDecoder=class{constructor(){const e=r(8719);this.root=n.Root.fromJSON(e),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(e){const t=e.type_url.match(/^type.googleapis.com\/(.*)/);if(!t)throw new Error(`Unknown type encoded in google.protobuf.any: ${e.type_url}`);const r=t[1],n=this.root.lookupType(r);if(!n)throw new Error(`Cannot lookup type ${r}`);return n.decode(e.value)}decodeRpcStatus(e){const t=new Uint8Array(e),r=this.statusType.decode(t);return{code:r.code,message:r.message,details:r.details.map((e=>this.decodeProtobufAny(e)))}}callErrorFromStatus(e){return e.message=`${e.code} ${o.Status[e.code]}: ${e.message}`,Object.assign(new Error(e.message),e)}decodeErrorFromBuffer(e){return this.callErrorFromStatus(this.decodeRpcStatus(e))}}},27231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructSettings=t.createBundleOptions=t.createMaxRetriesBackoffSettings=t.createDefaultBackoffSettings=t.createBackoffSettings=t.createRetryOptions=t.CallSettings=t.RetryOptions=void 0,t.RetryOptions=class{constructor(e,t){this.retryCodes=e,this.backoffSettings=t}};class r{constructor(e){var t;e=e||{},this.timeout=e.timeout||3e4,this.retry=e.retry,this.autoPaginate=!("autoPaginate"in e)||e.autoPaginate,this.pageToken=e.pageToken,this.maxResults=e.maxResults,this.otherArgs=e.otherArgs||{},this.bundleOptions=e.bundleOptions,this.isBundling=!("isBundling"in e)||e.isBundling,this.longrunning="longrunning"in e?e.longrunning:void 0,this.apiName=null!==(t=e.apiName)&&void 0!==t?t:void 0,this.retryRequestOptions=e.retryRequestOptions}merge(e){if(!e)return new r(this);let t=this.timeout,n=this.retry,o=this.autoPaginate,i=this.pageToken,s=this.pageSize,c=this.maxResults,l=this.otherArgs,u=this.isBundling,p=this.longrunning,d=this.apiName,f=this.retryRequestOptions;if("timeout"in e&&(t=e.timeout),"retry"in e&&(n=a(n||{},e.retry)),"autoPaginate"in e&&!e.autoPaginate&&(o=!1),"pageToken"in e&&(o=!1,i=e.pageToken),"pageSize"in e&&(s=e.pageSize),"maxResults"in e&&(c=e.maxResults),"otherArgs"in e){l={};for(const e in this.otherArgs)l[e]=this.otherArgs[e];for(const t in e.otherArgs)l[t]=e.otherArgs[t]}return"isBundling"in e&&(u=e.isBundling),"maxRetries"in e&&(n.backoffSettings.maxRetries=e.maxRetries,delete n.backoffSettings.totalTimeoutMillis),"longrunning"in e&&(p=e.longrunning),"apiName"in e&&(d=e.apiName),"retryRequestOptions"in e&&(f=e.retryRequestOptions),new r({timeout:t,retry:n,bundleOptions:this.bundleOptions,longrunning:p,autoPaginate:o,pageToken:i,pageSize:s,maxResults:c,otherArgs:l,isBundling:u,apiName:d,retryRequestOptions:f})}}function n(e,t){return{retryCodes:e,backoffSettings:t}}function o(e,t,r,n,o,i,s){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:r,initialRpcTimeoutMillis:n,rpcTimeoutMultiplier:o,maxRpcTimeoutMillis:i,totalTimeoutMillis:s}}function i(e){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach((t=>{if(t in e&&"number"!=typeof e[t])throw new Error(`${t} should be a number`)}));const t=e.element_count_threshold||0,r=e.element_count_limit||0,n=e.request_byte_threshold||0,o=e.request_byte_limit||0,i=e.delay_threshold_millis||0;if(0===t&&0===n&&0===i)throw new Error("one threshold should be > 0");return{elementCountThreshold:t,elementCountLimit:r,requestByteThreshold:n,requestByteLimit:o,delayThreshold:i}}function s(e,t,r,i){if(!e)return null;let s=null;t&&"retry_codes_name"in e&&(s=(t[e.retry_codes_name]||[]).map((e=>Number(i[e]))));let a=null;if(r&&"retry_params_name"in e){const t=r[e.retry_params_name];a=o(t.initial_retry_delay_millis,t.retry_delay_multiplier,t.max_retry_delay_millis,t.initial_rpc_timeout_millis,t.rpc_timeout_multiplier,t.max_rpc_timeout_millis,t.total_timeout_millis)}return n(s,a)}function a(e,t){return t?t.retryCodes||t.backoffSettings?n(t.retryCodes?t.retryCodes:e.retryCodes,t.backoffSettings?t.backoffSettings:e.backoffSettings):e:null}t.CallSettings=r,t.createRetryOptions=n,t.createBackoffSettings=o,t.createDefaultBackoffSettings=function(){return o(100,1.3,6e4,null,null,null,null)},t.createMaxRetriesBackoffSettings=function(e,t,r,n,o,i,s){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:r,initialRpcTimeoutMillis:n,rpcTimeoutMultiplier:o,maxRpcTimeoutMillis:i,maxRetries:s}},t.createBundleOptions=i,t.constructSettings=function(e,t,n,o,c){c=c||{};const l={},u=(t.interfaces||{})[e];if(!u)return null;const p=(n.interfaces||{})[e]||{},d=u.methods,f=p.methods||{};for(const t in d){const n=d[t],h=t[0].toLowerCase()+t.slice(1);let g=s(n,u.retry_codes,u.retry_params,o),m=n.bundling,y=n.timeout_millis;if(t in f){const e=f[t];e&&("bundling"in e&&(m=e.bundling),"timeout_millis"in e&&(y=e.timeout_millis)),g=a(g,s(e,p.retry_codes,p.retry_params,o))}const v=e;l[h]=new r({timeout:y,retry:g,bundleOptions:m?i(m):null,otherArgs:c,apiName:v})}return l}},46525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleError=void 0;class r extends Error{}t.GoogleError=r},68415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleProtoFilesRoot=t.GrpcClient=t.ClientStub=void 0;const n=r(8693),o=r(35747),i=r(22790),s=r(66636),a=r(85622),c=r(43281),l=r(49807),u=r(27231),p=a.join(__dirname,"..","..","protos"),d=[];d.push(p);const f=r(9397).map((e=>e.replace(/[/\\]/g,a.sep)));class h extends s.Client{}t.ClientStub=h;class g{constructor(e={}){var t;this.auth=e.auth||new i.GoogleAuth(e),this.fallback=!1;const n=Number(null===(t=process.version.match(/^v(\d+)/))||void 0===t?void 0:t[1]);if(Number.isNaN(n)||n<10)throw new Error("Node.js v10.0.0 is a minimum requirement. To learn about legacy version support visit: https://github.com/googleapis/google-cloud-node#supported-nodejs-versions");"grpc"in e?(this.grpc=e.grpc,this.grpcVersion=""):(this.grpc=s,this.grpcVersion=r(68160).i8)}static protoCacheKey(e,t){if(e&&(!Array.isArray(e)||0!==e.length&&e[0]))return JSON.stringify(e)+" "+JSON.stringify(t)}static clearProtoCache(){g.protoCache.clear()}async _getCredentials(e){if(e.sslCreds)return e.sslCreds;const t=this.grpc,r=t.credentials.createSsl(),n=await this.auth.getClient();return t.credentials.combineChannelCredentials(r,t.credentials.createFromGoogleCredential(n))}static defaultOptions(){const e=d.slice();return{keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:e}}loadFromProto(e,t,r=!1){const o=g.protoCacheKey(e,t);let i=o?g.protoCache.get(o):void 0;if(r||!i){const r=n.loadSync(e,t);i=this.grpc.loadPackageDefinition(r),o&&g.protoCache.set(o,i)}return i}loadProto(e,t,r=!1){if(t||(t=a.basename(e),e=a.dirname(e)),Array.isArray(t)&&0===t.length)return{};const n=g.defaultOptions();return n.includeDirs.unshift(e),this.loadFromProto(t,n,r)}static _resolveFile(e,t){if(o.existsSync(a.join(e,t)))return a.join(e,t);if(f.indexOf(t)>-1)return a.join(p,t);throw new Error(t+" could not be found in "+e)}loadProtoJSON(e,t=!1){const r=l(e),o=g.protoCache.get(r);if(o&&!t)return o;const i=g.defaultOptions(),s=n.fromJSON(e,i),a=this.grpc.loadPackageDefinition(s);return g.protoCache.set(r,a),a}metadataBuilder(e){const t=new(0,this.grpc.Metadata);for(const r in e){const n=e[r];Array.isArray(n)?n.forEach((e=>t.add(r,e))):t.set(r,`${n}`)}return function(e,r){let n=!1,o=t;if(r)for(const e in r)if("x-goog-api-client"!==e.toLowerCase()){n||(n=!0,o=o.clone());const t=r[e];Array.isArray(t)?t.forEach((t=>o.add(e,t))):o.set(e,`${t}`)}return o}}constructSettings(e,t,r,n){return u.constructSettings(e,t,r,this.grpc.status,{metadataBuilder:this.metadataBuilder(n)})}async createStub(e,t){const r=["grpc.callInvocationTransformer","grpc.channelFactoryOverride","grpc.gcpApiConfig"],n=t.servicePath+":"+t.port,o=await this._getCredentials(t),i={"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.initial_reconnect_backoff_ms":1e3};return Object.keys(t).forEach((e=>{const n=t[e];e.startsWith("grpc.grpc.")&&(e=e.replace(/^grpc\./,"")),e.startsWith("grpc.")&&(r.includes(e)&&(e=e.replace(/^grpc\./,"")),i[e]=n)})),new e(n,o,i)}static createByteLengthFunction(e){return function(t){return e.encode(t).finish().length}}}t.GrpcClient=g,g.protoCache=new Map;class m extends c.Root{constructor(...e){super(...e)}resolvePath(e,t){if(e=a.normalize(e),t=a.normalize(t),a.isAbsolute(t)){if(!o.existsSync(t))throw new Error("The include `"+t+"` was not found.");return t}return f.indexOf(t)>-1?a.join(p,t):m._findIncludePath(e,t)}static _findIncludePath(e,t){e=a.normalize(e),t=a.normalize(t);let r=e,n=o.existsSync(a.join(r,t));for(;!n&&r.length>0;)r=r.substring(0,r.lastIndexOf(a.sep)),n=o.existsSync(a.join(r,t));if(!n)throw new Error("The include `"+t+"` was not found.");return a.join(r,t)}}t.GoogleProtoFilesRoot=m},36970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IamClient=void 0;const n=r(68415),o=r(21001),i=r(34472),s=r(66427),a=r(80784),c=r(21001);let l=r(56156).version;const u=r(57518);t.IamClient=class{constructor(e,t){this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{}},this.innerApiCalls={},this.gaxGrpc=e;const r=Object.assign({servicePath:t.servicePath,port:t.port,clientConfig:t.clientConfig,apiEndpoint:t.apiEndpoint,fallback:t.fallback},t);l=r.fallback?c.version:l,this._gaxGrpc=r.fallback?new o.GrpcClient(r):new n.GrpcClient(r),r.scopes=this.constructor.scopes,this._opts=r,this.auth=e.auth;const i=[`gax/${l}`,`gapic/${l}`];"undefined"!=typeof process&&"versions"in process?i.push(`gl-node/${process.versions.node}`):i.push(`gl-web/${l}`),r.fallback||i.push(`grpc/${e.grpcVersion}`),r.libName&&r.libVersion&&i.push(`${r.libName}/${r.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(u),this._defaults=e.constructSettings("google.iam.v1.IAMPolicy",a,r.clientConfig||{},{"x-goog-api-client":i.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const e=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const t of e){const e=this.iamPolicyStub.then((e=>(...r)=>this._terminated?Promise.reject("The client has already been closed."):e[t].apply(e,r)),(e=>()=>{throw e}));this.innerApiCalls[t]=i.createApiCall(e,this._defaults[t],this.descriptors.page[t])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(e){return this.auth&&"getProjectId"in this.auth?this.auth.getProjectId(e):e?void e(new Error("Cannot determine project ID.")):Promise.reject("Cannot determine project ID.")}getIamPolicy(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=s.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.getIamPolicy(e,n,r)}setIamPolicy(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=s.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.setIamPolicy(e,n,r)}testIamPermissions(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=s.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.testIamPermissions(e,n,r)}close(){return this.initialize(),this._terminated?Promise.resolve():this.iamPolicyStub.then((e=>{this._terminated=!0,e.close()}))}}},80784:e=>{"use strict";e.exports=JSON.parse('{"interfaces":{"google.iam.v1.IAMPolicy":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":20000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":20000,"total_timeout_millis":600000}},"methods":{"GetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"SetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"TestIamPermissions":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},15168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=t.protobuf=t.version=t.createByteLengthFunction=t.IamProtos=t.operationsProtos=t.lro=t.routingHeader=t.grpc=void 0;const n=r(66636);t.grpc=n;const o=r(68415),i=r(8096);t.IamProtos=i;const s=r(79004);t.operationsProtos=s;const a=r(39129),c=r(66427);t.routingHeader=c;var l=r(22790);Object.defineProperty(t,"GoogleAuth",{enumerable:!0,get:function(){return l.GoogleAuth}});var u=r(81593);Object.defineProperty(t,"OngoingCall",{enumerable:!0,get:function(){return u.OngoingCall}});var p=r(34472);Object.defineProperty(t,"createApiCall",{enumerable:!0,get:function(){return p.createApiCall}});var d=r(52495);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return d.BundleDescriptor}}),Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return d.LongrunningDescriptor}}),Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return d.PageDescriptor}}),Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return d.StreamDescriptor}});var f=r(27231);Object.defineProperty(t,"CallSettings",{enumerable:!0,get:function(){return f.CallSettings}}),Object.defineProperty(t,"constructSettings",{enumerable:!0,get:function(){return f.constructSettings}}),Object.defineProperty(t,"RetryOptions",{enumerable:!0,get:function(){return f.RetryOptions}}),Object.defineProperty(t,"createRetryOptions",{enumerable:!0,get:function(){return f.createRetryOptions}}),Object.defineProperty(t,"createBundleOptions",{enumerable:!0,get:function(){return f.createBundleOptions}}),Object.defineProperty(t,"createBackoffSettings",{enumerable:!0,get:function(){return f.createBackoffSettings}}),Object.defineProperty(t,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return f.createDefaultBackoffSettings}}),Object.defineProperty(t,"createMaxRetriesBackoffSettings",{enumerable:!0,get:function(){return f.createMaxRetriesBackoffSettings}});var h=r(46525);Object.defineProperty(t,"GoogleError",{enumerable:!0,get:function(){return h.GoogleError}});var g=r(68415);Object.defineProperty(t,"ClientStub",{enumerable:!0,get:function(){return g.ClientStub}}),Object.defineProperty(t,"GoogleProtoFilesRoot",{enumerable:!0,get:function(){return g.GoogleProtoFilesRoot}}),Object.defineProperty(t,"GrpcClient",{enumerable:!0,get:function(){return g.GrpcClient}});var m=r(60130);Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return m.Operation}}),Object.defineProperty(t,"operation",{enumerable:!0,get:function(){return m.operation}});var y=r(12293);Object.defineProperty(t,"PathTemplate",{enumerable:!0,get:function(){return y.PathTemplate}});var v=r(62128);Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return v.Status}});var b=r(59938);function w(e){e=Object.assign({scopes:w.ALL_SCOPES},e);const t=new o.GrpcClient(e);return new a.OperationsClientBuilder(t)}Object.defineProperty(t,"StreamType",{enumerable:!0,get:function(){return b.StreamType}}),t.lro=w,w.SERVICE_ADDRESS=a.SERVICE_ADDRESS,w.ALL_SCOPES=a.ALL_SCOPES;var E=r(39129);Object.defineProperty(t,"OperationsClient",{enumerable:!0,get:function(){return E.OperationsClient}});var _=r(36970);Object.defineProperty(t,"IamClient",{enumerable:!0,get:function(){return _.IamClient}}),t.createByteLengthFunction=o.GrpcClient.createByteLengthFunction,t.version=r(56156).version;const O=r(43281);t.protobuf=O,t.protobufMinimal=r(62100);const S=r(21001);t.fallback=S;var T=r(66636);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return T.ChannelCredentials}})},74188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!=typeof window}},48347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongrunningApiCaller=void 0;const n=r(81593),o=r(27231),i=r(60130);t.LongrunningApiCaller=class{constructor(e){this.longrunningDescriptor=e}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){n.call(((t,n)=>this._wrapOperation(e,r,t,n)),t)}_wrapOperation(e,t,r,n){let s=t.longrunning;s||(s=o.createDefaultBackoffSettings());const a=this.longrunningDescriptor;return e(r,((e,r)=>{if(e)return void n(e,null,null,r);const o=new i.Operation(r,a,s,t);n(null,o,r)}))}fail(e,t){e.callback(t)}result(e){return e.promise}}},98955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongRunningDescriptor=void 0;const n=r(48347);t.LongRunningDescriptor=class{constructor(e,t,r){this.operationsClient=e,this.responseDecoder=t,this.metadataDecoder=r}getApiCaller(){return new n.LongrunningApiCaller(this)}}},60130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operation=t.Operation=void 0;const n=r(28614),o=r(62128),i=r(46525),s=r(79004);class a extends n.EventEmitter{constructor(e,t,r,n){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=e,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=t,this.result=null,this.metadata=null,this.backoffSettings=r,this._unpackResponse(e),this._listenForEvents(),this._callOptions=n}_listenForEvents(){this.on("newListener",(e=>{"complete"===e&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))})),this.on("removeListener",(e=>{"complete"===e&&0==--this.completeListeners&&(this.hasActiveListeners=!1)}))}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const e=this.longrunningDescriptor.operationsClient,t=new s.google.longrunning.CancelOperationRequest;return t.name=this.latestResponse.name,e.cancelOperation(t)}getOperation(e){const t=this,r=this.longrunningDescriptor.operationsClient;function n(){if(!e)return new Promise(((e,r)=>{if(t.latestResponse.error){const e=new i.GoogleError(t.latestResponse.error.message);e.code=t.latestResponse.error.code,r(e)}else e([t.result,t.metadata,t.latestResponse])}))}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,e),n();const o=new s.google.longrunning.GetOperationRequest;o.name=this.latestResponse.name,this.currentCallPromise_=r.getOperationInternal(o,this._callOptions);const a=this.currentCallPromise_.then((r=>(t.latestResponse=r[0],t._unpackResponse(r[0],e),n())));return e?void 0:a}_unpackResponse(e,t){const r=this.longrunningDescriptor.responseDecoder,n=this.longrunningDescriptor.metadataDecoder;let o,s;if(e.done){if("error"===e.result){const r=new i.GoogleError(e.error.message);return r.code=e.error.code,this.error=r,void(t&&t(r))}r&&e.response&&(this.response=e.response,o=r(e.response.value),this.result=o,this.done=!0)}n&&e.metadata&&(s=n(e.metadata.value),this.metadata=s),t&&t(null,o,s,e)}startPolling_(){const e=this;let t=new Date;const r=this.backoffSettings.retryDelayMultiplier,n=this.backoffSettings.maxRetryDelayMillis;let s,a=this.backoffSettings.initialRetryDelayMillis,c=1/0;function l(t,...r){e.emit(t,...r)}this.backoffSettings.totalTimeoutMillis&&(c=t.getTime()+this.backoffSettings.totalTimeoutMillis),this.latestResponse.metadata&&(s=this.latestResponse.metadata.value),function u(){if(e.hasActiveListeners){if(t.getTime()>=c){const e=new i.GoogleError("Total timeout exceeded before any response was received");return e.code=o.Status.DEADLINE_EXCEEDED,void setImmediate(l,"error",e)}e.getOperation(((e,c,p,d)=>{if(e)setImmediate(l,"error",e);else if(c)setImmediate(l,"complete",c,p,d);else{if(d.metadata&&(!s||d&&!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;++r)if(e[r]!==t[r])return!1;return!0}(d.metadata.value,s))&&(setImmediate(l,"progress",p,d),s=d.metadata.value),d.done){const e=new i.GoogleError("Long running operation has finished but there was no result");return e.code=o.Status.UNKNOWN,void setImmediate(l,"error",e)}setTimeout((()=>{t=new Date,a=Math.min(a*r,n),u()}),a)}}))}}()}promise(){return new Promise(((e,t)=>{this.on("error",t).on("complete",((t,r,n)=>{e([t,r,n])}))}))}}t.Operation=a,t.operation=function(e,t,r,n){return new a(e,t,r,n)}},16808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalApiCaller=void 0;const n=r(81593);t.NormalApiCaller=class{init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){n.call(e,t)}fail(e,t){e.callback(t)}result(e){return e.promise}}},354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryable=void 0;const n=r(62128),o=r(46525),i=r(54580);t.retryable=function(e,t,r,s){const a=t.backoffSettings.retryDelayMultiplier,c=t.backoffSettings.maxRetryDelayMillis,l=t.backoffSettings.rpcTimeoutMultiplier,u=t.backoffSettings.maxRpcTimeoutMillis;let p=t.backoffSettings.initialRetryDelayMillis,d=t.backoffSettings.initialRpcTimeoutMillis;return(f,h)=>{let g,m,y,v=new Date;t.backoffSettings.totalTimeoutMillis&&(y=v.getTime()+t.backoffSettings.totalTimeoutMillis);let b=0;const w=t.backoffSettings.maxRetries;if(w&&y){const e=new o.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");e.code=n.Status.INVALID_ARGUMENT,h(e)}else!function E(){if(m=null,y&&v.getTime()>=y){const e=new o.GoogleError(`Total timeout of API ${s} exceeded ${t.backoffSettings.totalTimeoutMillis} milliseconds before any response was received.`);return e.code=n.Status.DEADLINE_EXCEEDED,void h(e)}if(b&&b>=w){const e=new o.GoogleError("Exceeded maximum number of retries before any response was received");return e.code=n.Status.DEADLINE_EXCEEDED,void h(e)}b++;const _=i.addTimeoutArg(e,d,r);g=_(f,((e,r,n,o)=>{if(e)if(g=null,t.retryCodes.indexOf(e.code)<0)e.note="Exception occurred in retry method that was not classified as transient",h(e);else{const e=Math.random()*p;m=setTimeout((()=>{v=new Date,p=Math.min(p*a,c);const e=d&&l?d*l:0,t=u||0,r=y?y-v.getTime():0;d=Math.min(e,t,r),E()}),e)}else h(null,r,n,o)}))}();return{cancel(){if(m&&clearTimeout(m),g)g.cancel();else{const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,h(e)}}}}}},54580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTimeoutArg=void 0,t.addTimeoutArg=function(e,t,r,n){return(o,i)=>{const s=new Date,a=r.options||{};a.deadline=new Date(s.getTime()+t);const c=r.metadataBuilder?r.metadataBuilder(n,r.headers||{}):null;return e(o,c,a,i)}}},39129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationsClientBuilder=t.OperationsClient=t.ALL_SCOPES=t.SERVICE_ADDRESS=void 0;const n=r(34472),o=r(52495),i=r(27231),s=r(86065),a=r(36934);t.SERVICE_ADDRESS="longrunning.googleapis.com";const c=r(56156).version;t.ALL_SCOPES=[];class l{constructor(e,r,i){const a=Object.assign({servicePath:t.SERVICE_ADDRESS,port:443,clientConfig:{}},i),l=["gl-node/"+process.versions.node];a.libName&&a.libVersion&&l.push(a.libName+"/"+a.libVersion),l.push("gapic/0.7.1","gax/"+c),a.fallback?l.push("gl-web/"+c):l.push("grpc/"+e.grpcVersion);const u=e.constructSettings("google.longrunning.Operations",s,a.clientConfig||{},{"x-goog-api-client":l.join(" ")});this.auth=e.auth,this.innerApiCalls={},this.descriptor={listOperations:new o.PageDescriptor("pageToken","nextPageToken","operations")};const p=e.createStub(a.fallback?r.lookupService("google.longrunning.Operations"):r.google.longrunning.Operations,a),d=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const e of d){const t=p.then((t=>(...r)=>t[e].apply(t,r)),(e=>()=>{throw e}));this.innerApiCalls[e]=n.createApiCall(t,u[e],this.descriptor[e])}}getProjectId(e){return this.auth&&"getProjectId"in this.auth?this.auth.getProjectId(e):e?void e(new Error("Cannot determine project ID.")):Promise.reject("Cannot determine project ID.")}getOperationInternal(e,t,r){return e=e||{},t=t||{},this.innerApiCalls.getOperation(e,t,r)}getOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.getOperation(e,n,r)}listOperations(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.listOperations(e,n,r)}listOperationsStream(e,t){const r=new i.CallSettings(t);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,e,r)}listOperationsAsync(e,t){e=e||{},t=t||{};const r=new i.CallSettings(t);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,e,r)}cancelOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.cancelOperation(e,n,r)}deleteOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.deleteOperation(e,n,r)}}t.OperationsClient=l,t.OperationsClientBuilder=class{constructor(e){const t=e.loadProtoJSON(a);this.operationsClient=r=>(e.fallback&&(r.fallback=!0),new l(e,t,r)),Object.assign(this.operationsClient,l)}}},86065:e=>{"use strict";e.exports=JSON.parse('{"interfaces":{"google.longrunning.Operations":{"retry_codes":{"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"non_idempotent":[]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":90000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":90000,"total_timeout_millis":600000}},"methods":{"GetOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListOperations":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"CancelOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"DeleteOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"}}}}}')},66323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageDescriptor=void 0;const n=r(84343),o=r(92413),i=r(16808),s=r(93798);t.PageDescriptor=class{constructor(e,t,r){this.requestPageTokenField=e,this.responsePageTokenField=t,this.resourceField=r}createStream(e,t,r){const i=new o.PassThrough({objectMode:!0}),s="maxResults"in(r=Object.assign({},r,{autoPaginate:!1}))?r.maxResults:-1;let a=0,c=!1;function l(o,u,p,d){if(o)i.emit("error",o);else{i.emit("response",d);for(let e=0;e<u.length;++e){if(n(i))return;null!==u[e]&&(i.push(u[e]),a++,a===s&&i.end())}n(i)||(p?("pageToken"in r&&delete r.pageToken,i.isPaused()?(t=p,c=!1):setImmediate(e,p,r,l)):i.end())}}return i.on("resume",(()=>{c||(c=!0,e(t,r,l))})),i}asyncIterate(e,t,r){return r=Object.assign({},r,{autoPaginate:!1}),this.createIterator(e,t,r)}createIterator(e,t,r){return{[Symbol.asyncIterator](){let n=t;const o=[];return{async next(){if(o.length>0)return Promise.resolve({done:!1,value:o.shift()});if(n){let t;[t,n]=await e(n,r),o.push(...t)}return 0===o.length?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:o.shift()})}}}}}getApiCaller(e){return e.autoPaginate?new s.PagedApiCaller(this):new i.NormalApiCaller}}},93798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PagedApiCaller=void 0;const n=r(81593),o=r(46525),i=r(94489);t.PagedApiCaller=class{constructor(e){this.pageDescriptor=e}generateParseResponseCallback(e,t){const r=this.pageDescriptor.resourceField,n=this.pageDescriptor.responsePageTokenField,i=this.pageDescriptor.requestPageTokenField;return(s,a)=>{if(s)return void t(s);if(!e)return void t(new o.GoogleError("Undefined request in pagination method callback."));if(!a)return void t(new o.GoogleError("Undefined response in pagination method callback."));const c=a[r],l=a[n];let u=null;l&&(u=Object.assign({},e),u[i]=l),t(s,c,u,a)}}wrap(e){const t=this;return function(r,n,o,i){return e(r,n,o,t.generateParseResponseCallback(r,i))}}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}call(e,t,r,n){if(t=Object.assign({},t),r.pageToken&&(t[this.pageDescriptor.requestPageTokenField]=r.pageToken),r.pageSize&&(t[this.pageDescriptor.requestPageSizeField]=r.pageSize),!r.autoPaginate)return void n.call(e,t);const o=r.maxResults||-1;new i.ResourceCollector(e,o).processAllPages(t).then((e=>n.callback(null,e)),(e=>n.callback(e)))}fail(e,t){e.callback(t)}result(e){return e.promise}}},94489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCollector=void 0,t.ResourceCollector=class{constructor(e,t=-1){this.apiCall=e,this.resources=[],this.maxResults=t}callback(e,t,r){if(e)this.rejectCallback(e);else{for(const e of t)if(this.resources.push(e),this.resources.length===this.maxResults){r=null;break}r?setImmediate(this.apiCall,r,((...e)=>this.callback(...e))):this.resolveCallback(this.resources)}}processAllPages(e){return new Promise(((t,r)=>{this.resolveCallback=t,this.rejectCallback=r,setImmediate(this.apiCall,e,((...e)=>this.callback(...e)))}))}}},12293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathTemplate=void 0,t.PathTemplate=class{constructor(e){this.bindings={},this.data=e,this.segments=this.parsePathTemplate(e),this.size=this.segments.length}match(e){let t=e.split("/");const r={};if(t.length!==this.segments.length){if(!this.data.includes("**"))throw new TypeError(`This path ${e} does not match path template ${this.data}, the number of parameters is not same.`);if(t.length!==this.segments.length+1)throw new TypeError(`This path ${e} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}for(let e=0;e<this.segments.length&&t.length>0;e++)if(this.segments[e]!==t[0]){if(!this.segments[e].includes("*"))throw new TypeError(`segment does not match, ${this.segments[e]} and  ${t[e]}.`);{let n=this.segments[e];const o=n.match(/(?<={)[$0-9a-zA-Z_]+(?==.*})/g)||[];if(n.includes("**"))r[o[0]]=t[0]+"/"+t[1],t=t.slice(2);else{if(1===o.length)r[o[0]]=t[0];else{const i=t[0].split(/[-_.~]/);if(i.length!==o.length)throw new Error(`segment ${n} does not match ${t[0]}`);for(const e of o)r[e]=i[0],n=n.replace(`{${e}=*}`,`${i[0]}`),i.shift();if(n!==t[0])throw new TypeError(`non slash resource pattern ${this.segments[e]} and ${t[0]} should have same separator`)}t.shift()}}}else t.shift();return r}render(e){if(Object.keys(e).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(e).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let t=this.inspect();for(const r of Object.keys(e)){const n=e[r].toString();if(!this.bindings[r])throw new TypeError(`render fails for not matching ${e[r]}`);const o=this.bindings[r];if("*"===o){if(!n.match(/[^/{}]+/))throw new TypeError(`render fails for not matching ${n}`);t=t.replace(`{${r}=*}`,`${n}`)}else if("**"===o){if(!n.match(/[^{}]+/))throw new TypeError(`render fails for not matching ${n}`);t=t.replace(`{${r}=**}`,`${n}`)}}return t}inspect(){return this.segments.join("/")}parsePathTemplate(e){const t=function(e){let t=0,r=0,n=0;const o=[];for(;r>=t&&r<e.length;){if("{"===e.charAt(r))n+=1;else if("}"===e.charAt(r))n-=1;else if("/"===e.charAt(r)){if(r===e.length-1)throw new TypeError("Invalid path, it can not be ended by /");0===n&&(o.push(e.substring(t,r)),t=r+1)}if(r===e.length-1){if(0!==n)throw new TypeError("Brackets are invalid.");o.push(e.substring(t))}r+=1}return o}(e);let r=0,n=0;const o=[];return t.forEach((e=>{if("*"===e||"**"===e)this.bindings[`$${r}`]=e,o.push(`{$${r}=${e}}`),r+=1,"**"===e&&(n+=1);else if(e.match(/(?<={)[0-9a-zA-Z-.~_]+(?:}[-._~]?{)[0-9a-zA-Z-.~_]+(?=})/)){const t=e.match(/(?<=\{).*?(?=(?:=.*?)?\})/g)||[];for(const r of t)this.bindings[r]="*",e=e.replace(r,r+"=*");o.push(e)}else if(e.match(/(?<={)[0-9a-zA-Z-.~_]+(?=(=\*)?})/)){const t=e.match(/(?<={)[0-9a-zA-Z-.~_]+(?=(=\*)?})/);this.bindings[t[0]]="*",o.push(`{${t[0]}=*}`)}else if(e.match(/(?<={)[0-9a-zA-Z-.~_]+(?=(=\*\*)})/)){const t=e.match(/(?<={)[0-9a-zA-Z-.~_]+(?=(=\*\*)})/);this.bindings[t[0]]="**",o.push(`{${t[0]}=**}`),n+=1}else(e.match(/(?<={)[0-9a-zA-Z-.~_]+=[^*]+(?=})/)||e.match(/[0-9a-zA-Z-.~_]+/))&&o.push(e);if(n>1)throw new TypeError("Can not have more than one wildcard.")})),o}}},9397:e=>{"use strict";e.exports=JSON.parse('["google/api/annotations.proto","google/api/auth.proto","google/api/backend.proto","google/api/billing.proto","google/api/client.proto","google/api/config_change.proto","google/api/consumer.proto","google/api/context.proto","google/api/control.proto","google/api/distribution.proto","google/api/documentation.proto","google/api/endpoint.proto","google/api/expr/v1alpha1/checked.proto","google/api/expr/v1alpha1/conformance_service.proto","google/api/expr/v1alpha1/eval.proto","google/api/expr/v1alpha1/explain.proto","google/api/expr/v1alpha1/syntax.proto","google/api/expr/v1alpha1/value.proto","google/api/expr/v1beta1/decl.proto","google/api/expr/v1beta1/eval.proto","google/api/expr/v1beta1/expr.proto","google/api/expr/v1beta1/source.proto","google/api/expr/v1beta1/value.proto","google/api/field_behavior.proto","google/api/http.proto","google/api/httpbody.proto","google/api/label.proto","google/api/launch_stage.proto","google/api/log.proto","google/api/logging.proto","google/api/metric.proto","google/api/monitored_resource.proto","google/api/monitoring.proto","google/api/quota.proto","google/api/resource.proto","google/api/service.proto","google/api/servicecontrol/v1/check_error.proto","google/api/servicecontrol/v1/distribution.proto","google/api/servicecontrol/v1/log_entry.proto","google/api/servicecontrol/v1/metric_value.proto","google/api/servicecontrol/v1/operation.proto","google/api/servicecontrol/v1/quota_controller.proto","google/api/servicecontrol/v1/service_controller.proto","google/api/servicemanagement/v1/resources.proto","google/api/servicemanagement/v1/servicemanager.proto","google/api/source_info.proto","google/api/system_parameter.proto","google/api/usage.proto","google/iam/v1/iam_policy.proto","google/iam/v1/logging/audit_data.proto","google/iam/v1/options.proto","google/iam/v1/policy.proto","google/logging/type/http_request.proto","google/logging/type/log_severity.proto","google/longrunning/operations.proto","google/monitoring/v3/alert.proto","google/monitoring/v3/alert_service.proto","google/monitoring/v3/common.proto","google/monitoring/v3/dropped_labels.proto","google/monitoring/v3/group.proto","google/monitoring/v3/group_service.proto","google/monitoring/v3/metric.proto","google/monitoring/v3/metric_service.proto","google/monitoring/v3/mutation_record.proto","google/monitoring/v3/notification.proto","google/monitoring/v3/notification_service.proto","google/monitoring/v3/service.proto","google/monitoring/v3/service_service.proto","google/monitoring/v3/span_context.proto","google/monitoring/v3/uptime.proto","google/monitoring/v3/uptime_service.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/compiler/plugin.proto","google/protobuf/compiler/ruby/ruby_generated_code.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit_legacy.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_implicit.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/util/json_format.proto","google/protobuf/util/json_format_proto3.proto","google/protobuf/wrappers.proto","google/rpc/code.proto","google/rpc/context/attribute_context.proto","google/rpc/error_details.proto","google/rpc/status.proto","google/type/calendar_period.proto","google/type/color.proto","google/type/date.proto","google/type/datetime.proto","google/type/dayofweek.proto","google/type/expr.proto","google/type/fraction.proto","google/type/latlng.proto","google/type/money.proto","google/type/month.proto","google/type/postal_address.proto","google/type/quaternion.proto","google/type/timeofday.proto"]')},66427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromParams=void 0;const n=r(71191);t.fromParams=function(e){return n.stringify(e)}},62128:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0,(r=t.Status||(t.Status={}))[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"},91269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDescriptor=void 0;const n=r(14462);t.StreamDescriptor=class{constructor(e){this.type=e,this.streaming=!0}getApiCaller(e){return e.retry=null,new n.StreamingApiCaller(this)}}},59938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProxy=t.StreamType=void 0;const n=r(25981),o=r(72971);var i;!function(e){e[e.SERVER_STREAMING=1]="SERVER_STREAMING",e[e.CLIENT_STREAMING=2]="CLIENT_STREAMING",e[e.BIDI_STREAMING=3]="BIDI_STREAMING"}(i=t.StreamType||(t.StreamType={})),t.StreamProxy=class extends n{constructor(e,t){super(void 0,void 0,{objectMode:!0,readable:e!==i.CLIENT_STREAMING,writable:e!==i.SERVER_STREAMING}),this.type=e,this._callback=t,this._isCancelCalled=!1}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}forwardEvents(e){["metadata","response","status"].forEach((t=>{e.on(t,this.emit.bind(this,t))})),e.on("metadata",(t=>{e.emit("response",{code:200,details:"",message:"OK",metadata:t})}))}setStream(e,t,r={}){if(this.type===i.SERVER_STREAMING){const n=o(null,{objectMode:!0,request:()=>{if(this._isCancelCalled)return void(this.stream&&this.stream.cancel());const r=e(t,this._callback);return this.stream=r,this.forwardEvents(r),r},retries:r.retries,currentRetryAttempt:r.currentRetryAttempt,noResponseRetries:r.noResponseRetries,shouldRetryFn:r.shouldRetryFn});return void this.setReadable(n)}const n=e(t,this._callback);this.stream=n,this.forwardEvents(n),this.type===i.CLIENT_STREAMING&&this.setWritable(n),this.type===i.BIDI_STREAMING&&(this.setReadable(n),this.setWritable(n)),this._isCancelCalled&&this.stream&&this.stream.cancel()}}},14462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingApiCaller=void 0;const n=r(72035),o=r(59938);t.StreamingApiCaller=class{constructor(e){this.descriptor=e}init(e){return new o.StreamProxy(this.descriptor.type,e)}wrap(e){switch(this.descriptor.type){case o.StreamType.SERVER_STREAMING:return(t,r,n)=>e(t,r,n);case o.StreamType.CLIENT_STREAMING:return(t,r,n,o)=>e(r,n,o);case o.StreamType.BIDI_STREAMING:return(t,r,n)=>e(r,n);default:n.warn("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return e}call(e,t,r,n){n.setStream(e,t,r.retryRequestOptions)}fail(e,t){e.emit("error",t)}result(e){return e}}},96063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transcode=t.getFieldNameOnBehavior=t.isRequiredField=t.isProto3OptionalField=t.requestChangeCaseAndCleanup=t.flattenObject=t.match=t.applyPattern=t.encodeWithoutSlashes=t.encodeWithSlashes=t.buildQueryStringComponents=t.deleteField=t.deepCopy=t.getField=void 0;const n=r(93267),o="(google.api.http)",i=["get","post","put","patch","delete"];function s(e,t){const r=t.split(".");let n=e;for(const e of r){if("object"!=typeof n)return;n=n[e]}if("object"!=typeof n||Array.isArray(n)||null===n)return n}function a(e){if("object"!=typeof e||null===e)return e;const t=Object.assign({},e);for(const e in t)Array.isArray(t[e])?t[e]=t[e].map(a):"object"==typeof t[e]&&null!==t[e]&&(t[e]=a(t[e]));return t}function c(e,t){const r=t.split(".");for(;r.length>1;){if("object"!=typeof e)return;e=e[r.shift()]}const n=r.shift();"object"==typeof e&&delete e[n]}function l(e,t=""){const r=[];for(const n in e)if(Array.isArray(e[n]))for(const o of e[n])r.push(`${t}${p(n)}=${p(o.toString())}`);else"object"==typeof e[n]&&null!==e[n]?r.push(...l(e[n],`${n}.`)):r.push(`${t}${p(n)}=${p(e[n].toString())}`);return r}function u(e){return e.split("").map((e=>e.match(/[-_.~0-9a-zA-Z]/)?e:encodeURIComponent(e))).join("")}function p(e){return e.split("").map((e=>e.match(/[-_.~0-9a-zA-Z/]/)?e:encodeURIComponent(e))).join("")}function d(e,t){if(!e||"*"===e)return u(t);if(!e.includes("*")&&e!==t)return;const r=new RegExp("^"+(n=e,n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");var n;return t.match(r)?p(t):void 0}function f(e,t){let r=t;const n=[];for(;;){const t=r.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!t)break;const[,o,i,a,c]=t;n.push(i);const l=s(e,i);if(void 0===l)return;const u=d(a,l.toString());if(void 0===u)return;r=o+u+c}return{matchedFields:n,url:r}}function h(e,t){if(!e||"object"!=typeof e)return e;const r={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const o=t(n),i=e[n];Array.isArray(i)?r[o]=i.map((e=>h(e,t))):r[o]=h(i,t)}return r}function g(e){return e&&e.options&&e.options.proto3_optional}function m(e){return e&&e.options&&"REQUIRED"===e.options["(google.api.field_behavior)"]}function y(e){const t=new Set,r=new Set;for(const n in e){const o=e[n];m(o)&&t.add(n),g(o)&&r.add(n)}return{requiredFields:t,optionalFields:r}}t.getField=s,t.deepCopy=a,t.deleteField=c,t.buildQueryStringComponents=l,t.encodeWithSlashes=u,t.encodeWithoutSlashes=p,t.applyPattern=d,t.match=f,t.flattenObject=function e(t){const r={};for(const n in t)if(void 0!==t[n])if(Array.isArray(t[n]))r[n]=t[n];else if("object"!=typeof t[n]||null===t[n])r[n]=t[n];else{const o=e(t[n]);for(const e in o)r[`${n}.${e}`]=o[e]}return r},t.requestChangeCaseAndCleanup=h,t.isProto3OptionalField=g,t.isRequiredField=m,t.getFieldNameOnBehavior=y,t.transcode=function(e,t,r){const{requiredFields:s,optionalFields:u}=y(r);for(const t of s)if(!(t in e)||"undefined"===e[t])throw new Error(`Required field ${t} is not present in the request.`);const p=h(e,n.camelToSnakeCase),d=[];for(const e of t){if(!(o in e))continue;const t=e[o];if(d.push(t),null==t?void 0:t.additional_bindings){const e=Array.isArray(t.additional_bindings)?t.additional_bindings:[t.additional_bindings];d.push(...e)}}for(const t of d)for(const r of i){if(!(r in t))continue;const o=f(p,t[r]);if(void 0===o)continue;const{url:i,matchedFields:s}=o;if("*"===t.body){const e=a(p);for(const t of s)c(e,t);for(const t in e)!u.has(n.snakeToCamelCase(t))||t in p&&"undefined"!==p[t]||delete e[t];return{httpMethod:r,url:i,queryString:"",data:h(e,n.snakeToCamelCase)}}const d=t.body;let g="";const m=a(e);d&&(c(m,n.snakeToCamelCase(d)),g=u.has(d)&&"undefined"===p[d]?"":p[d]);for(const e of s)c(m,n.snakeToCamelCase(e));for(const t in m)u.has(t)&&"undefined"===e[t]&&delete m[t];const y=l(m).join("&");let v;return v="string"==typeof g?g:h(g,n.snakeToCamelCase),{httpMethod:r,url:i,queryString:y,data:v}}}},93267:(e,t)=>{"use strict";function r(e){return 0===e.length?e:e[0].toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.snakeToCamelCase=t.camelToSnakeCase=void 0,t.camelToSnakeCase=function(e){return e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`))},t.snakeToCamelCase=function(e){const t=e.split(/(?=[A-Z])|[\s\W_]+/).filter((e=>e.length>0)).map((e=>e.toLowerCase()));return 0===t.length?e:[t[0],...t.slice(1).map(r)].join("")}},72035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=void 0;const n=r(74188),o=new Set;t.warn=function(e,t){o.has(e)||(o.add(e),n.isBrowser()?console.warn(t):process.emitWarning(t))}},8693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(76884),o=r(43281),i=r(93961),s=r(50095);t.isAnyExtension=function(e){return"@type"in e&&"string"==typeof e["@type"]};const a={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){const r=(n=t,i=e.name,""===n?i:n+"."+i);var n,i;return function(e){return e instanceof o.Service||e instanceof o.Type||e instanceof o.Enum}(e)?[[r,e]]:function(e){return e instanceof o.Namespace||e instanceof o.Root}(e)&&void 0!==e.nested?Object.keys(e.nested).map((t=>c(e.nested[t],r))).reduce(((e,t)=>e.concat(t)),[]):[]}function l(e,t){return function(r){return e.toObject(e.decode(r),t)}}function u(e){return function(t){const r=e.fromObject(t);return e.encode(r).finish()}}function p(e,t,r,o){const i=e.resolvedRequestType,s=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:u(i),requestDeserialize:l(i,r),responseSerialize:u(s),responseDeserialize:l(s,r),originalName:n(e.name),requestType:d(i,o),responseType:d(s,o)}}function d(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,a),fileDescriptorProtos:t}}function f(e,t,r,n){if(e instanceof o.Service)return function(e,t,r,n){const o={};for(const i of e.methodsArray)o[i.name]=p(i,t,r,n);return o}(e,t,r,n);if(e instanceof o.Type)return d(e,n);if(e instanceof o.Enum)return function(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,a),fileDescriptorProtos:t}}(e,n);throw new Error("Type mismatch in reflection object handling")}function h(e,t){const r={};e.resolveAll();const n=e.toDescriptor("proto3").file.map((e=>Buffer.from(i.FileDescriptorProto.encode(e).finish())));for(const[o,i]of c(e,""))r[o]=f(i,o,t,n);return r}function g(e,t){t=t||{};const r=o.Root.fromDescriptor(e);return r.resolveAll(),h(r,t)}t.load=function(e,t){return s.loadProtosWithOptions(e,t).then((e=>h(e,t)))},t.loadSync=function(e,t){return h(s.loadProtosWithOptionsSync(e,t),t)},t.fromJSON=function(e,t){t=t||{};const r=o.Root.fromJSON(e);return r.resolveAll(),h(r,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return g(i.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return g(i.FileDescriptorSet.fromObject(e),t)},s.addCommonProtos()},50095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35747),o=r(85622),i=r(43281);function s(e,t){const r=e.resolvePath;e.resolvePath=(e,i)=>{if(o.isAbsolute(i))return i;for(const e of t){const t=o.join(e,i);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${i} not found in any of the include paths ${t}`),r(e,i)}}t.loadProtosWithOptions=async function(e,t){const r=new i.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));s(r,t.includeDirs)}const n=await r.load(e,t);return n.resolveAll(),n},t.loadProtosWithOptionsSync=function(e,t){const r=new i.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");s(r,t.includeDirs)}const n=r.loadSync(e,t);return n.resolveAll(),n},t.addCommonProtos=function(){const e=r(78155),t=r(40333),n=r(56663),o=r(75715);i.common("api",e.nested.google.nested.protobuf.nested),i.common("descriptor",t.nested.google.nested.protobuf.nested),i.common("source_context",n.nested.google.nested.protobuf.nested),i.common("type",o.nested.google.nested.protobuf.nested)}},56156:e=>{"use strict";e.exports={version:"2.13.0"}},8719:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}}}},"rpc":{"options":{"go_package":"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails","java_multiple_files":true,"java_outer_classname":"ErrorDetailsProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}},"RetryInfo":{"fields":{"retryDelay":{"type":"google.protobuf.Duration","id":1}}},"DebugInfo":{"fields":{"stackEntries":{"rule":"repeated","type":"string","id":1},"detail":{"type":"string","id":2}}},"QuotaFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"subject":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"PreconditionFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"type":{"type":"string","id":1},"subject":{"type":"string","id":2},"description":{"type":"string","id":3}}}}},"BadRequest":{"fields":{"fieldViolations":{"rule":"repeated","type":"FieldViolation","id":1}},"nested":{"FieldViolation":{"fields":{"field":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"RequestInfo":{"fields":{"requestId":{"type":"string","id":1},"servingData":{"type":"string","id":2}}},"ResourceInfo":{"fields":{"resourceType":{"type":"string","id":1},"resourceName":{"type":"string","id":2},"owner":{"type":"string","id":3},"description":{"type":"string","id":4}}},"Help":{"fields":{"links":{"rule":"repeated","type":"Link","id":1}},"nested":{"Link":{"fields":{"description":{"type":"string","id":1},"url":{"type":"string","id":2}}}}},"LocalizedMessage":{"fields":{"locale":{"type":"string","id":1},"message":{"type":"string","id":2}}}}}}}}}')},99520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPem=void 0;const n=r(35747),o=r(22079),i=r(31669).promisify(n.readFile);function s(e){return i(e,{encoding:"base64"}).then((e=>function(e){const t=o.util.decode64(e),r=o.asn1.fromDer(t),n=o.pkcs12.pkcs12FromAsn1(r,"notasecret").getBags({friendlyName:"privatekey"});if(n.friendlyName){const e=n.friendlyName[0].key;return o.pki.privateKeyToPem(e).replace(/\r\n/g,"\n")}throw new Error("Unable to get friendly name.")}(e)))}t.getPem=function(e,t){if(!t)return s(e);s(e).then((e=>t(null,e))).catch((e=>t(e,null)))}},66458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},20077:(e,t,r)=>{var n,o,i=r(35747),s=r(72161),a=r(78520),c=r(66458),l=r(31669);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var p=function(){};if(l.debuglog?p=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[n]){var d=global[n]||[];u(i,d),i.close=function(e){function t(t,r){return e.call(i,t,(function(e){e||g(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),g()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(i[n]),r(42357).equal(i[n].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,o){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof o&&o.apply(this,arguments),g()):h([e,[r,n,o]])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,i){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),g()):h([e,[t,n,o,i]])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,i){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),g()):h([e,[t,r,o,i]])}))}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),o(e,t,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof n&&n.apply(this,arguments),g()):h([o,[e,t,r,n]])}))});var i=e.readdir;function c(t){return i.apply(e,t)}if(e.readdir=function(e,t,r){var n=[e];return"function"!=typeof t?n.push(t):r=t,n.push((function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof r&&r.apply(this,arguments),g()):h([c,[n]])})),c(n)},"v0.8"===process.version.substr(0,4)){var l=a(e);y=l.ReadStream,v=l.WriteStream}var u=e.ReadStream;u&&(y.prototype=Object.create(u.prototype),y.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var p=e.WriteStream;p&&(v.prototype=Object.create(p.prototype),v.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0});var d=y;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var m=v;function y(e,t){return this instanceof y?(u.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function v(e,t){return this instanceof v?(p.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var b=e.open;function w(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o){return b(t,r,n,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),g()):h([e,[t,r,n,o]])}))}(e,t,r,n)}return e.open=w,e}function h(e){p("ENQUEUE",e[0].name,e[1]),i[n].push(e)}function g(){var e=i[n].shift();e&&(p("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[n]||u(global,i[n]),e.exports=f(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=f(i),i.__patched=!0)},78520:(e,t,r)=>{var n=r(92413).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=o[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()})):process.nextTick((function(){i._read()}))},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var c=i[s];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},72161:(e,t,r)=>{var n=r(27619),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){var t,r;function o(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){p(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function i(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!p(e))throw e}}:t}function a(t){return t?function(r,n,o,i){return t.call(e,r,n,o,(function(e){p(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function c(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!p(e))throw e}}:t}function l(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function u(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:t}function p(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?o&&o(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,r){var o,i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{o=e.fchmodSync(i,r),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,(function(t,n){t?i&&i(t):e.futimes(n,r,o,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lutimesSync=function(t,r,o){var i,s=e.openSync(t,n.O_SYMLINK),a=!0;try{i=e.futimesSync(s,r,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=o(e.chmod),e.fchmod=o(e.fchmod),e.lchmod=o(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename=(t=e.rename,function(r,n,o){var i=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(n,(function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(c)}))}),s),void(s<100&&(s+=10));o&&o(c)}))})),e.read=function(t){function r(r,n,o,i,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,p,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,o,i,s,c);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync=(r=e.readSync,function(t,n,o,i,s){for(var a=0;;)try{return r.call(e,t,n,o,i,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})}},60419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleToken=void 0;const n=r(35747),o=r(96343),i=r(40158),s=r(85622),a=r(31669),c=n.readFile?a.promisify(n.readFile):async()=>{throw new u("use key rather than keyFile.","MISSING_CREDENTIALS")},l="https://www.googleapis.com/oauth2/v4/token";class u extends Error{constructor(e,t){super(e),this.code=t}}let p;t.GoogleToken=class{constructor(e){this.configure(e)}get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}hasExpired(){const e=(new Date).getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}isTokenExpiring(){var e;const t=(new Date).getTime(),r=null!==(e=this.eagerRefreshThresholdMillis)&&void 0!==e?e:0;return!this.rawToken||!this.expiresAt||this.expiresAt<=t+r}getToken(e,t={}){if("object"==typeof e&&(t=e,e=void 0),t=Object.assign({forceRefresh:!1},t),!e)return this.getTokenAsync(t);{const r=e;this.getTokenAsync(t).then((e=>r(null,e)),e)}}async getCredentials(e){switch(s.extname(e)){case".json":{const t=await c(e,"utf8"),r=JSON.parse(t),n=r.private_key,o=r.client_email;if(!n||!o)throw new u("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:n,clientEmail:o}}case".der":case".crt":case".pem":return{privateKey:await c(e,"utf8")};case".p12":case".pfx":return p||(p=(await Promise.resolve().then((()=>r(99520)))).getPem),{privateKey:await p(e)};default:throw new u("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}}async getTokenAsync(e){if(this.inFlightRequest&&!e.forceRefresh)return this.inFlightRequest;try{return await(this.inFlightRequest=this.getTokenAsyncInner(e))}finally{this.inFlightRequest=void 0}}async getTokenAsyncInner(e){if(!1===this.isTokenExpiring()&&!1===e.forceRefresh)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const e=await this.getCredentials(this.keyFile);this.key=e.privateKey,this.iss=e.clientEmail||this.iss,e.clientEmail||this.ensureEmail()}return this.requestToken()}ensureEmail(){if(!this.iss)throw new u("email is required.","MISSING_CREDENTIALS")}revokeToken(e){if(!e)return this.revokeTokenAsync();this.revokeTokenAsync().then((()=>e()),e)}async revokeTokenAsync(){if(!this.accessToken)throw new Error("No token to revoke.");const e="https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken;await o.request({url:e}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})}configure(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"==typeof e.scope?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis}async requestToken(){const e=Math.floor((new Date).getTime()/1e3),t=this.additionalClaims||{},r=Object.assign({iss:this.iss,scope:this.scope,aud:l,exp:e+3600,iat:e,sub:this.sub},t),n=i.sign({header:{alg:"RS256"},payload:r,secret:this.key});try{const t=await o.request({method:"POST",url:l,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:n},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=t.data,this.expiresAt=null===t.data.expires_in||void 0===t.data.expires_in?void 0:1e3*(e+t.data.expires_in),this.rawToken}catch(e){this.rawToken=void 0,this.tokenExpires=void 0;const t=e.response&&e.response.data?e.response.data:{};if(t.error){const r=t.error_description?`: ${t.error_description}`:"";e.message=`${t.error}${r}`}throw e}}}},86560:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},41405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(55419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},17642:(e,t,r)=>{"use strict";var n=r(58612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},77485:e=>{"use strict";var t=new Int32Array([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]);e.exports={calculate:function(e,r){Buffer.isBuffer(e)||(e=Buffer.from(e));for(var n=-1^(0|r),o=0;o<e.length;o++)n=t[255&(n^e[o])]^n>>>8;return(-1^n)>>>0}}},63075:(e,t,r)=>{"use strict";var n;try{n=r(Object(function(){var e=new Error("Cannot find module 'fast-crc32c'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){n=r(77485)}var o=r(76417),{PassThrough:i}=r(92413);e.exports=function(e){var t=!1!==(e=e||{}).crc32c,r=!1!==e.md5,s={};r&&(s.md5=o.createHash("md5"));var a=new i({transform:function(e,o,i){t&&(s.crc32c=n.calculate(e,s.crc32c||0)),r&&s.md5.update(e),i(null,e)},flush:function(e){t&&(s.crc32c=Buffer.from([s.crc32c]).toString("base64")),r&&(s.md5=s.md5.digest("base64")),e()}});return a.test=function(e,t){return s[e]===t},a}},78370:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(11631)),s=o(r(4016)),a=o(r(78835)),c=o(r(36945)),l=o(r(22046)),u=r(88054),p=c.default("http-proxy-agent");class d extends u.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");p("Creating new HttpProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this,o=a.default.parse(e.path);let c;if(o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=t.hostname||t.host||null),null==o.port&&(t.port,1)&&(o.port=String(t.port)),"80"===o.port&&delete o.port,e.path=a.default.format(o),r.auth&&e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`),n?(p("Creating `tls.Socket`: %o",r),c=s.default.connect(r)):(p("Creating `net.Socket`: %o",r),c=i.default.connect(r)),e._header){let t,r;p("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(p("Patching connection write() output buffer with updated header"),t=e.output[0],r=t.indexOf("\r\n\r\n")+4,e.output[0]=e._header+t.substring(r),p("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(p("Patching connection write() output buffer with updated header"),t=e.outputData[0].data,r=t.indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+t.substring(r),p("Output buffer: %o",e.outputData[0].data))}return yield l.default(c,"connect"),c}))}}t.default=d},39201:function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(78370));function o(e){return new n.default(e)}!function(e){e.HttpProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},14347:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(44795)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},44795:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(42744),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},36945:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(14347):e.exports=r(22004)},22004:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(44795)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},42744:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},39146:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(11631)),s=o(r(4016)),a=o(r(78835)),c=o(r(42357)),l=o(r(27050)),u=r(88054),p=o(r(59829)),d=l.default("https-proxy-agent:agent");class f extends u.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d("creating new HttpsProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let o;n?(d("Creating `tls.Socket`: %o",r),o=s.default.connect(r)):(d("Creating `net.Socket`: %o",r),o=i.default.connect(r));const a=Object.assign({},r.headers);let l=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;r.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:u,port:f,secureEndpoint:g}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(f,g)||(u+=`:${f}`),a.Host=u,a.Connection="close";for(const e of Object.keys(a))l+=`${e}: ${a[e]}\r\n`;const m=p.default(o);o.write(`${l}\r\n`);const{statusCode:y,buffered:v}=yield m;if(200===y){if(e.once("socket",h),t.secureEndpoint){const e=t.servername||t.host;if(!e)throw new Error('Could not determine "servername"');return d("Upgrading socket connection to TLS"),s.default.connect(Object.assign(Object.assign({},function(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const b=new i.default.Socket;return b.readable=!0,e.once("socket",(e=>{d("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(v),e.push(null)})),b}))}}function h(e){e.resume()}t.default=f},26018:function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(39146));function o(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},59829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(27050)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise(((t,r)=>{let n=0;const i=[];function s(){const r=e.read();r?function(e){i.push(e),n+=e.length;const r=Buffer.concat(i,n);if(-1===r.indexOf("\r\n\r\n"))return o("have not received end of HTTP headers yet..."),void s();const a=r.toString("ascii",0,r.indexOf("\r\n")),c=+a.split(" ")[1];o("got proxy server response: %o",a),t({statusCode:c,buffered:r})}(r):e.once("readable",s)}function a(e){o("onclose had error %o",e)}function c(){o("onend")}e.on("error",(function t(n){e.removeListener("end",c),e.removeListener("error",t),e.removeListener("close",a),e.removeListener("readable",s),o("onerror %o",n),r(n)})),e.on("close",a),e.on("end",c),s()}))}},2942:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(20086)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},20086:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7203),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},27050:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(2942):e.exports=r(60127)},60127:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(20086)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},7203:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4269:e=>{!function(){var t;function r(e,n){var o=this instanceof r?this:t;if(o.reset(n),"string"==typeof e&&e.length>0&&o.hash(e),o!==this)return o}r.prototype.hash=function(e){var t,r,n,o,i;switch(i=e.length,this.len+=i,r=this.k1,n=0,this.rem){case 0:r^=i>n?65535&e.charCodeAt(n++):0;case 1:r^=i>n?(65535&e.charCodeAt(n++))<<8:0;case 2:r^=i>n?(65535&e.charCodeAt(n++))<<16:0;case 3:r^=i>n?(255&e.charCodeAt(n))<<24:0,r^=i>n?(65280&e.charCodeAt(n++))>>8:0}if(this.rem=i+this.rem&3,(i-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=r=13715*(r=(r=11601*r+3432906752*(65535&r)&4294967295)<<15|r>>>17)+461832192*(65535&r)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(n>=i);)r=65535&e.charCodeAt(n++)^(65535&e.charCodeAt(n++))<<8^(65535&e.charCodeAt(n++))<<16,r^=(255&(o=e.charCodeAt(n++)))<<24^(65280&o)>>8;switch(r=0,this.rem){case 3:r^=(65535&e.charCodeAt(n+2))<<16;case 2:r^=(65535&e.charCodeAt(n+1))<<8;case 1:r^=65535&e.charCodeAt(n)}this.h1=t}return this.k1=r,this},r.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new r,e.exports=r}()},94378:(e,t,r)=>{try{var n=r(31669);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(35717)}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},98611:e=>{"use strict";e.exports=function(e){return e!=e}},20360:(e,t,r)=>{"use strict";var n=r(55559),o=r(4289),i=r(98611),s=r(29415),a=r(23194),c=n(s(),Number);o(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},29415:(e,t,r)=>{"use strict";var n=r(98611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},23194:(e,t,r)=>{"use strict";var n=r(4289),o=r(29415);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},64290:e=>{"use strict";e.exports=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)}},84343:e=>{"use strict";e.exports=function(e){var t;return t=void 0!==e.ended?e.ended:e._readableState.ended,Boolean(t).valueOf()}},24970:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},4501:e=>{e.exports=n,n.strict=o,n.loose=i;var t=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function n(e){return o(e)||i(e)}function o(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function i(e){return r[t.call(e)]}},8293:e=>{const t={JOSEAlgNotWhitelisted:"ERR_JOSE_ALG_NOT_WHITELISTED",JOSECritNotUnderstood:"ERR_JOSE_CRIT_NOT_UNDERSTOOD",JOSEInvalidEncoding:"ERR_JOSE_INVALID_ENCODING",JOSEMultiError:"ERR_JOSE_MULTIPLE_ERRORS",JOSENotSupported:"ERR_JOSE_NOT_SUPPORTED",JWEDecryptionFailed:"ERR_JWE_DECRYPTION_FAILED",JWEInvalid:"ERR_JWE_INVALID",JWKImportFailed:"ERR_JWK_IMPORT_FAILED",JWKInvalid:"ERR_JWK_INVALID",JWKKeySupport:"ERR_JWK_KEY_SUPPORT",JWKSNoMatchingKey:"ERR_JWKS_NO_MATCHING_KEY",JWSInvalid:"ERR_JWS_INVALID",JWSVerificationFailed:"ERR_JWS_VERIFICATION_FAILED",JWTClaimInvalid:"ERR_JWT_CLAIM_INVALID",JWTExpired:"ERR_JWT_EXPIRED",JWTMalformed:"ERR_JWT_MALFORMED"},r={JWEDecryptionFailed:"decryption operation failed",JWEInvalid:"JWE invalid",JWKSNoMatchingKey:"no matching key found in the KeyStore",JWSInvalid:"JWS invalid",JWSVerificationFailed:"signature verification failed"};class n extends Error{constructor(e){super(e),void 0===e&&(this.message=r[this.constructor.name]),this.name=this.constructor.name,this.code=t[this.constructor.name],Error.captureStackTrace(this,this.constructor)}}const o=e=>e instanceof i;class i extends n{constructor(e){let t;for(super();(t=e.findIndex(o))&&-1!==t;)e.splice(t,1,...e[t]);Object.defineProperty(this,"errors",{value:e})}*[Symbol.iterator](){for(const e of this.errors)yield e}}e.exports.JOSEError=n,e.exports.JOSEAlgNotWhitelisted=class extends n{},e.exports.JOSECritNotUnderstood=class extends n{},e.exports.JOSEInvalidEncoding=class extends n{},e.exports.JOSEMultiError=i,e.exports.JOSENotSupported=class extends n{},e.exports.JWEDecryptionFailed=class extends n{},e.exports.JWEInvalid=class extends n{},e.exports.JWKImportFailed=class extends n{},e.exports.JWKInvalid=class extends n{},e.exports.JWKKeySupport=class extends n{},e.exports.JWKSNoMatchingKey=class extends n{},e.exports.JWSInvalid=class extends n{},e.exports.JWSVerificationFailed=class extends n{};class s extends n{constructor(e,t="unspecified",r="unspecified"){super(e),this.claim=t,this.reason=r}}e.exports.JWTClaimInvalid=s,e.exports.JWTExpired=class extends s{},e.exports.JWTMalformed=class extends n{}},16200:(e,t,r)=>{const n=r(23020);e.exports=function(){this.seq().obj(this.key("algorithm").objid(n),this.key("parameters").optional().choice({namedCurve:this.objid(n),null:this.null_()}))}},11192:(e,t,r)=>{const n=r(23020);e.exports=function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid(n)}),this.key("publicKey").explicit(1).optional().bitstr())}},42993:(e,t,r)=>{const n=r(16617),o=new Map,i=n.define("AlgorithmIdentifier",r(16200));o.set("AlgorithmIdentifier",i);const s=n.define("ECPrivateKey",r(11192));o.set("ECPrivateKey",s);const a=n.define("PrivateKeyInfo",r(97895)(i));o.set("PrivateKeyInfo",a);const c=n.define("PublicKeyInfo",r(35910)(i));o.set("PublicKeyInfo",c);const l=n.define("PrivateKey",r(53960));o.set("PrivateKey",l);const u=n.define("OneAsymmetricKey",r(18676)(i,l));o.set("OneAsymmetricKey",u);const p=n.define("RSAPrivateKey",r(40893));o.set("RSAPrivateKey",p);const d=n.define("RSAPublicKey",r(99778));o.set("RSAPublicKey",d),e.exports=o},23020:e=>{e.exports={"1 2 840 10045 3 1 7":"P-256","1 3 132 0 10":"secp256k1","1 3 132 0 34":"P-384","1 3 132 0 35":"P-521","1 2 840 10045 2 1":"ecPublicKey","1 2 840 113549 1 1 1":"rsaEncryption","1 3 101 110":"X25519","1 3 101 111":"X448","1 3 101 112":"Ed25519","1 3 101 113":"Ed448"}},18676:e=>{e.exports=(e,t)=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").use(t))}},53960:e=>{e.exports=function(){this.octstr().contains().obj(this.key("privateKey").octstr())}},97895:e=>{e.exports=e=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").octstr())}},35910:e=>{e.exports=e=>function(){this.seq().obj(this.key("algorithm").use(e),this.key("publicKey").bitstr())}},40893:e=>{e.exports=function(){this.seq().obj(this.key("version").int({0:"two-prime",1:"multi"}),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int())}},99778:e=>{e.exports=function(){this.seq().obj(this.key("n").int(),this.key("e").int())}},37448:e=>{let t,r;if(Buffer.isEncoding("base64url"))t=(e,t="utf8")=>Buffer.from(e,t).toString("base64url"),r=e=>e.toString("base64url");else{const e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t=(t,r="utf8")=>e(Buffer.from(t,r).toString("base64")),r=t=>e(t.toString("base64"))}const n=e=>Buffer.from(e,"base64"),o=(e,t="utf8")=>n(e).toString(t),i={encode:e=>t(JSON.stringify(e)),decode:(e,t="utf8")=>JSON.parse(o(e,t))};i.decode.try=(e,t="utf8")=>{try{return i.decode(e,t)}catch(r){return o(e,t)}},e.exports.decode=o,e.exports.decodeToBuffer=n,e.exports.encode=t,e.exports.encodeBuffer=r,e.exports.JSON=i,e.exports.encodeBigInt=e=>r(Buffer.from((e=>{let t=BigInt(e).toString(16);t.length%2&&(t=`0${t}`);const r=t.length/2,n=new Uint8Array(r);let o=0,i=0;for(;o<r;)n[o]=parseInt(t.slice(i,i+2),16),o+=1,i+=2;return n})(e)))},92931:e=>{e.exports.KEYOBJECT=Symbol("KEYOBJECT"),e.exports.PRIVATE_MEMBERS=Symbol("PRIVATE_MEMBERS"),e.exports.PUBLIC_MEMBERS=Symbol("PUBLIC_MEMBERS"),e.exports.THUMBPRINT_MATERIAL=Symbol("THUMBPRINT_MATERIAL"),e.exports.JWK_MEMBERS=Symbol("JWK_MEMBERS"),e.exports.KEY_MANAGEMENT_ENCRYPT=Symbol("KEY_MANAGEMENT_ENCRYPT"),e.exports.KEY_MANAGEMENT_DECRYPT=Symbol("KEY_MANAGEMENT_DECRYPT");const t={sig:new Set(["sign","verify"]),enc:new Set(["encrypt","decrypt","wrapKey","unwrapKey","deriveKey"])},r=new Set([...t.sig,...t.enc]),n=new Set(Object.keys(t));e.exports.USES_MAPPING=t,e.exports.OPS=r,e.exports.USES=n},49270:e=>{e.exports=e=>JSON.parse(JSON.stringify(e))},62867:e=>{const t=e=>(e/8|0)+(e%8==0?0:1),r={ES256:t(256),ES256K:t(256),ES384:t(384),ES512:t(521)},n=(e,t,r)=>{let n=0;for(;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n};e.exports.derToJose=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!r[t])throw new Error(`Unknown algorithm "${t}"`);const n=r[t],o=n+1,i=e.length;let s=0;if(48!==e[s++])throw new Error('Could not find expected "seq"');let a=e[s++];if(129===a&&(a=e[s++]),i-s<a)throw new Error(`"seq" specified length of ${a}", only ${i-s}" remaining`);if(2!==e[s++])throw new Error('Could not find expected "int" for "r"');const c=e[s++];if(i-s-2<c)throw new Error(`"r" specified length of "${c}", only "${i-s-2}" available`);if(o<c)throw new Error(`"r" specified length of "${c}", max of "${o}" is acceptable`);const l=s;if(s+=c,2!==e[s++])throw new Error('Could not find expected "int" for "s"');const u=e[s++];if(i-s!==u)throw new Error(`"s" specified length of "${u}", expected "${i-s}"`);if(o<u)throw new Error(`"s" specified length of "${u}", max of "${o}" is acceptable`);const p=s;if(s+=u,s!==i)throw new Error(`Expected to consume entire buffer, but "${i-s}" bytes remain`);const d=n-c,f=n-u,h=Buffer.allocUnsafe(d+c+f+u);for(s=0;s<d;++s)h[s]=0;e.copy(h,s,l+Math.max(-d,0),l+c),s=n;for(const e=s;s<e+f;++s)h[s]=0;return e.copy(h,s,p+Math.max(-f,0),p+u),h},e.exports.joseToDer=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!r[t])throw new TypeError(`Unknown algorithm "${t}"`);const o=r[t],i=e.length;if(i!==2*o)throw new Error(`"${t}" signatures must be "${2*o}" bytes, saw "${i}"`);const s=n(e,0,o),a=n(e,o,e.length),c=o-s,l=o-a,u=2+c+1+1+l,p=u<128,d=Buffer.allocUnsafe((p?2:3)+u);let f=0;return d[f++]=48,p?d[f++]=u:(d[f++]=129,d[f++]=255&u),d[f++]=2,d[f++]=c,s<0?(d[f++]=0,f+=e.copy(d,f,0,o)):f+=e.copy(d,f,s,o),d[f++]=2,d[f++]=l,a<0?(d[f++]=0,e.copy(d,f,o)):e.copy(d,f,o+a),d}},7374:e=>{e.exports=e=>Math.floor(e.getTime()/1e3)},3501:(e,t,r)=>{const{randomBytes:n}=r(76417),{IVLENGTHS:o}=r(7422);e.exports=e=>n(o.get(e)/8)},75579:(e,t,r)=>{const n=r(8293),o=r(52155),i=r(86698),{KeyStore:s}=r(47031);e.exports=(e,t=!1)=>{if(e instanceof o)return e;if(e instanceof s){if(!t)throw new TypeError("key argument for this operation must not be a JWKS.KeyStore instance");return e}try{return i(e)}catch(e){if(e instanceof n.JOSEError&&!(e instanceof n.JWKImportFailed))throw e;let r;throw r=t?"key must be an instance of a key instantiated by JWK.asKey, a valid JWK.asKey input, or a JWKS.KeyStore instance":"key must be an instance of a key instantiated by JWK.asKey, or a valid JWK.asKey input",new TypeError(r)}}},970:e=>{e.exports=(e={},t={})=>{const r=Object.keys(e),n=new Set(Object.keys(t));return!r.some((e=>n.has(e)))}},94336:e=>{e.exports=e=>!!e&&e.constructor===Object},57658:(e,t,r)=>{const{keyObjectSupported:n}=r(17945);let o,i,s,a,c;if(n)({createPublicKey:o,createPrivateKey:i,createSecretKey:s,KeyObject:a}=r(76417)),c=e=>e;else{const{EOL:e}=r(12087),t=r(8293),n=r(94336),l=r(42993),u=Symbol("toInput"),p=Symbol("namedCurve");c=(e,t)=>e instanceof a?e[u](t):s(e)[u](t);const d=e=>Buffer.from(e.replace(/(?:-----(?:BEGIN|END)(?: (?:RSA|EC))? (?:PRIVATE|PUBLIC) KEY-----|\s)/g,""),"base64"),f=(t,r)=>`-----BEGIN ${r}-----${e}${(t.toString("base64").match(/.{1,64}/g)||[]).join(e)}${e}-----END ${r}-----`,h=e=>{const r="string"==typeof e?e:`OID ${e.join(".")}`;throw new t.JOSENotSupported(`${r} is not supported in your Node.js runtime version`)};a=class{export({cipher:e,passphrase:r,type:n,format:o}={}){if("secret"===this._type)return this._buffer;if("public"===this._type){if("rsa"===this.asymmetricKeyType)switch(n){case"pkcs1":return"pem"===o?this._pem:d(this._pem);case"spki":{const e=l.get("PublicKeyInfo").encode({algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}},publicKey:{unused:0,data:d(this._pem)}},"pem",{label:"PUBLIC KEY"});return"pem"===o?e:d(e)}default:throw new TypeError(`The value ${n} is invalid for option "type"`)}if("ec"===this.asymmetricKeyType){if("spki"!==n)throw new TypeError(`The value ${n} is invalid for option "type"`);return"pem"===o?this._pem:d(this._pem)}}if("private"===this._type){if(void 0!==r||void 0!==e)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if("pkcs8"===n){if(this._pkcs8)return"der"===o&&"string"==typeof this._pkcs8?d(this._pkcs8):"pem"===o&&Buffer.isBuffer(this._pkcs8)?f(this._pkcs8,"PRIVATE KEY"):this._pkcs8;if("rsa"===this.asymmetricKeyType){const e=this._asn1,t=l.get("RSAPrivateKey").encode(e),r=l.get("PrivateKeyInfo").encode({version:0,privateKey:t,algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}}});return this._pkcs8=r,this.export({type:n,format:o})}if("ec"===this.asymmetricKeyType){const e=this._asn1,t=l.get("ECPrivateKey").encode({version:e.version,privateKey:e.privateKey,publicKey:e.publicKey}),r=l.get("PrivateKeyInfo").encode({version:0,privateKey:t,algorithm:{algorithm:"ecPublicKey",parameters:this._asn1.parameters}});return this._pkcs8=r,this.export({type:n,format:o})}}if("rsa"===this.asymmetricKeyType&&"pkcs1"===n)return"pem"===o?this._pem:d(this._pem);if("ec"===this.asymmetricKeyType&&"sec1"===n)return"pem"===o?this._pem:d(this._pem);throw new TypeError(`The value ${n} is invalid for option "type"`)}}get type(){return this._type}get asymmetricKeyType(){return this._asymmetricKeyType}get symmetricKeySize(){return this._symmetricKeySize}[u](e){switch(this._type){case"secret":return this._buffer;case"public":return this._pem;default:return e?("_pub"in this||(this._pub=o(this)),this._pub[u](!1)):this._pem}}},s=e=>{if(!Buffer.isBuffer(e)||!e.length)throw new TypeError("input must be a non-empty Buffer instance");const t=new a;return t._buffer=Buffer.from(e),t._symmetricKeySize=e.length,t._type="secret",t},o=e=>{if(e instanceof a){if("private"!==e.type)throw new TypeError(`Invalid key object type ${e.type}, expected private.`);switch(e.asymmetricKeyType){case"ec":{const t=l.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:e._asn1.parameters},publicKey:e._asn1.publicKey});return o({key:t,format:"der",type:"spki"})}case"rsa":{const t=l.get("RSAPublicKey").encode(e._asn1);return o({key:t,format:"der",type:"pkcs1"})}}}if(("string"==typeof e||Buffer.isBuffer(e))&&(e={key:e,format:"pem"}),!n(e))throw new TypeError("input must be a string, Buffer or an object");const{format:r,passphrase:s}=e;let c,{key:u,type:p}=e;if("string"!=typeof u&&!Buffer.isBuffer(u))throw new TypeError("key must be a string or Buffer");if("pem"!==r&&"der"!==r)throw new TypeError('format must be one of "pem" or "der"');if("pem"===r)switch(u=u.toString(),u.split(/\r?\n/g)[0].toString()){case"-----BEGIN PUBLIC KEY-----":p="spki",c="PUBLIC KEY";break;case"-----BEGIN RSA PUBLIC KEY-----":p="pkcs1",c="RSA PUBLIC KEY";break;case"-----BEGIN CERTIFICATE-----":throw new t.JOSENotSupported("X.509 certificates are not supported in your Node.js runtime version");case"-----BEGIN PRIVATE KEY-----":case"-----BEGIN EC PRIVATE KEY-----":case"-----BEGIN RSA PRIVATE KEY-----":return o(i(u));default:throw new TypeError("unknown/unsupported PEM type")}switch(p){case"spki":{const e=l.get("PublicKeyInfo"),t=e.decode(u,r,{label:c});let n,i;switch(t.algorithm.algorithm){case"ecPublicKey":i=new a,i._asn1=t,i._asymmetricKeyType="ec",i._type="public",i._pem=e.encode(t,"pem",{label:"PUBLIC KEY"});break;case"rsaEncryption":n="pkcs1",i=o({type:n,key:t.publicKey.data,format:"der"});break;default:h(t.algorithm.algorithm)}return i}case"pkcs1":{const e=l.get("RSAPublicKey"),t=e.decode(u,r,{label:c});if(t.n===BigInt(0))return o(i({key:u,format:r,type:p,passphrase:s}));const n=new a;return n._asn1=t,n._asymmetricKeyType="rsa",n._type="public",n._pem=e.encode(t,"pem",{label:"RSA PUBLIC KEY"}),n}case"pkcs8":case"sec1":return o(i({format:r,key:u,type:p,passphrase:s}));default:throw new TypeError(`The value ${p} is invalid for option "type"`)}},i=(e,r)=>{if(("string"==typeof e||Buffer.isBuffer(e))&&(e={key:e,format:"pem"}),!n(e))throw new TypeError("input must be a string, Buffer or an object");const{format:o,passphrase:s}=e;let c,{key:u,type:d}=e;if("string"!=typeof u&&!Buffer.isBuffer(u))throw new TypeError("key must be a string or Buffer");if(void 0!==s)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if("pem"!==o&&"der"!==o)throw new TypeError('format must be one of "pem" or "der"');if("pem"===o)switch(u=u.toString(),u.split(/\r?\n/g)[0].toString()){case"-----BEGIN PRIVATE KEY-----":d="pkcs8",c="PRIVATE KEY";break;case"-----BEGIN EC PRIVATE KEY-----":d="sec1",c="EC PRIVATE KEY";break;case"-----BEGIN RSA PRIVATE KEY-----":d="pkcs1",c="RSA PRIVATE KEY";break;default:throw new TypeError("unknown/unsupported PEM type")}switch(d){case"pkcs8":{const e=l.get("PrivateKeyInfo").decode(u,o,{label:c});let t,r;switch(e.algorithm.algorithm){case"ecPublicKey":t="sec1",r=i({type:t,key:e.privateKey,format:"der"},{[p]:e.algorithm.parameters.value});break;case"rsaEncryption":t="pkcs1",r=i({type:t,key:e.privateKey,format:"der"});break;default:h(e.algorithm.algorithm)}return r._pkcs8=u,r}case"pkcs1":{const e=l.get("RSAPrivateKey"),t=e.decode(u,o,{label:c}),r=new a;return r._asn1=t,r._asymmetricKeyType="rsa",r._type="private",r._pem=e.encode(t,"pem",{label:"RSA PRIVATE KEY"}),r}case"sec1":{const e=l.get("ECPrivateKey");let t=e.decode(u,o,{label:c});if(!("parameters"in t)&&!r[p])throw new Error("invalid sec1");"parameters"in t||(t={...t,parameters:{type:"namedCurve",value:r[p]}});const n=new a;return n._asn1=t,n._asymmetricKeyType="ec",n._type="private",n._pem=e.encode(t,"pem",{label:"EC PRIVATE KEY"}),n}default:throw new TypeError(`The value ${d} is invalid for option "type"`)}}}e.exports={createPublicKey:o,createPrivateKey:i,createSecretKey:s,KeyObject:a,asInput:c}},91166:(e,t,r)=>{const{EOL:n}=r(12087),o=r(8293),{keyObjectSupported:i}=r(17945),{createPublicKey:s}=r(57658),a=r(37448),c=r(42993),l=r(14504),{OKP_CURVES:u,EC_CURVES:p}=r(7422),d={private(e,t){const r=t.export({type:"pkcs8",format:"der"}),n=c.get("OneAsymmetricKey"),{privateKey:{privateKey:o}}=n.decode(r);return{...d.public(e,s(t)),d:a.encodeBuffer(o)}},public(e,t){const r=t.export({type:"spki",format:"der"}),n=c.get("PublicKeyInfo"),{publicKey:{data:o}}=n.decode(r);return{kty:"OKP",crv:e,x:a.encodeBuffer(o)}}},f={rsa:{private(e){const t=e.export({type:"pkcs8",format:"der"}),r=c.get("PrivateKeyInfo"),n=c.get("RSAPrivateKey"),{privateKey:i}=r.decode(t),{version:s,n:l,e:u,d:p,p:d,q:f,dp:h,dq:g,qi:m}=n.decode(i);if("two-prime"!==s)throw new o.JOSENotSupported("Private RSA keys with more than two primes are not supported");return{kty:"RSA",n:a.encodeBigInt(l),e:a.encodeBigInt(u),d:a.encodeBigInt(p),p:a.encodeBigInt(d),q:a.encodeBigInt(f),dp:a.encodeBigInt(h),dq:a.encodeBigInt(g),qi:a.encodeBigInt(m)}},public(e){const t=e.export({type:"spki",format:"der"}),r=c.get("PublicKeyInfo"),n=c.get("RSAPublicKey"),{publicKey:{data:o}}=r.decode(t),{n:i,e:s}=n.decode(o);return{kty:"RSA",n:a.encodeBigInt(i),e:a.encodeBigInt(s)}}},ec:{private(e){const t=e.export({type:"pkcs8",format:"der"}),r=c.get("PrivateKeyInfo"),n=c.get("ECPrivateKey"),{privateKey:l,algorithm:{parameters:{value:u}}}=r.decode(t),{privateKey:p,publicKey:d}=n.decode(l);if(void 0===d){if(i)return{...f.ec.public(s(e)),d:a.encodeBuffer(p)};throw new o.JOSENotSupported("Private EC keys without the public key embedded are not supported in your Node.js runtime version")}const h=d.data.slice(1,(d.data.length-1)/2+1),g=d.data.slice((d.data.length-1)/2+1);return{kty:"EC",crv:u,d:a.encodeBuffer(p),x:a.encodeBuffer(h),y:a.encodeBuffer(g)}},public(e){const t=e.export({type:"spki",format:"der"}),r=c.get("PublicKeyInfo"),{publicKey:{data:n},algorithm:{parameters:{value:o}}}=r.decode(t),i=n.slice(1,(n.length-1)/2+1),s=n.slice((n.length-1)/2+1);return{kty:"EC",crv:o,x:a.encodeBuffer(i),y:a.encodeBuffer(s)}}},ed25519:{private:e=>d.private("Ed25519",e),public:e=>d.public("Ed25519",e)},ed448:{private:e=>d.private("Ed448",e),public:e=>d.public("Ed448",e)},x25519:{private:e=>d.private("X25519",e),public:e=>d.public("X25519",e)},x448:{private:e=>d.private("X448",e),public:e=>d.public("X448",e)}};e.exports.keyObjectToJWK=e=>"private"===e.type?f[e.asymmetricKeyType].private(e):f[e.asymmetricKeyType].public(e);const h=(e,t)=>({unused:0,data:Buffer.concat([Buffer.alloc(1,4),a.decodeToBuffer(e),a.decodeToBuffer(t)])}),g={RSA:{private(e,{calculateMissingRSAPrimes:t}){const r=c.get("RSAPrivateKey");if("oth"in e)throw new o.JOSENotSupported("Private RSA keys with more than two primes are not supported");if(e.p||e.q||e.dp||e.dq||e.qi){if(!(e.p&&e.q&&e.dp&&e.dq&&e.qi))throw new o.JWKInvalid("all other private key parameters must be present when any one of them is present")}else if(t)e=l(e);else if(!t)throw new o.JOSENotSupported("importing private RSA keys without all other private key parameters is not enabled, see documentation and its advisory on how and when its ok to enable it");return r.encode({version:0,n:BigInt(`0x${a.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${a.decodeToBuffer(e.e).toString("hex")}`),d:BigInt(`0x${a.decodeToBuffer(e.d).toString("hex")}`),p:BigInt(`0x${a.decodeToBuffer(e.p).toString("hex")}`),q:BigInt(`0x${a.decodeToBuffer(e.q).toString("hex")}`),dp:BigInt(`0x${a.decodeToBuffer(e.dp).toString("hex")}`),dq:BigInt(`0x${a.decodeToBuffer(e.dq).toString("hex")}`),qi:BigInt(`0x${a.decodeToBuffer(e.qi).toString("hex")}`)},"pem",{label:"RSA PRIVATE KEY"})},public:e=>c.get("RSAPublicKey").encode({version:0,n:BigInt(`0x${a.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${a.decodeToBuffer(e.e).toString("hex")}`)},"pem",{label:"RSA PUBLIC KEY"})},EC:{private:e=>c.get("ECPrivateKey").encode({version:1,privateKey:a.decodeToBuffer(e.d),parameters:{type:"namedCurve",value:e.crv},publicKey:h(e.x,e.y)},"pem",{label:"EC PRIVATE KEY"}),public:e=>c.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:{type:"namedCurve",value:e.crv}},publicKey:h(e.x,e.y)},"pem",{label:"PUBLIC KEY"})},OKP:{private(e){const t=c.get("OneAsymmetricKey").encode({version:0,privateKey:{privateKey:a.decodeToBuffer(e.d)},algorithm:{algorithm:e.crv}},"der");return t.write("04",12,1,"hex"),r=t.toString("base64"),`-----BEGIN ${"PRIVATE"} KEY-----${n}${(r.match(/.{1,64}/g)||[]).join(n)}${n}-----END PRIVATE KEY-----`;var r},public:e=>c.get("PublicKeyInfo").encode({algorithm:{algorithm:e.crv},publicKey:{unused:0,data:a.decodeToBuffer(e.x)}},"pem",{label:"PUBLIC KEY"})}};e.exports.jwkToPem=(e,{calculateMissingRSAPrimes:t=!1}={})=>{switch(e.kty){case"EC":if(!p.has(e.crv))throw new o.JOSENotSupported(`unsupported EC key curve: ${e.crv}`);break;case"OKP":if(!u.has(e.crv))throw new o.JOSENotSupported(`unsupported OKP key curve: ${e.crv}`);break;case"RSA":break;default:throw new o.JOSENotSupported(`unsupported key type: ${e.kty}`)}return e.d?g[e.kty].private(e,{calculateMissingRSAPrimes:t}):g[e.kty].public(e)}},89231:e=>{e.exports=e=>`sha${e.substr(2,3)}`},14504:(e,t,r)=>{const{randomBytes:n}=r(76417),o=r(37448),i=r(8293),s=BigInt(0),a=BigInt(1),c=BigInt(2),l=e=>{const t=e.toString(16);return o.encodeBuffer(Buffer.from(t.length%2?`0${t}`:t,"hex"))},u=e=>BigInt(`0x${e.toString("hex")}`),p=(e,t,r)=>{e=h(e,r);let n=a,o=e;for(;t>0;){const e=t%c;t/=c,e===a&&(n*=o,n%=r),o*=o,o%=r}return n},d=(e,t)=>{const r=t-e,n=r.toString(2).length;let o;do{o=u(f(n))}while(o>r);return o+e},f=e=>{const t=Math.ceil(e/8),r=n(t);return r[0]=r[0]&2**(e%8)-1,r},h=(e,t)=>(e%=t)<0?e+t:e;e.exports=e=>{const t=u(o.decodeToBuffer(e.e)),r=u(o.decodeToBuffer(e.d)),n=u(o.decodeToBuffer(e.n));if(r>=n)throw new i.JWKInvalid("invalid RSA private exponent");const{p:f,q:g}=((e,t,r)=>{const n=(e=>{let t=e;for(;t%c===s;)t/=c;return t})(e*t-a);let o,l=0;do{if(l++,30===l)throw new i.JWKImportFailed("failed to calculate missing primes");let e=0,t=p(d(c,r),n,r),u=s;for(;t!==a;){if(e++,22===e)throw new i.JWKImportFailed("failed to calculate missing primes");u=t,t=t*t%r}u!==r-a&&(o=u)}while(!o);const u=((e,t)=>{let r=s;for(;!((e|t)&a);)e>>=a,t>>=a,r++;for(;!(e&a);)e>>=a;do{for(;!(t&a);)t>>=a;if(e>t){const r=e;e=t,t=r}t-=e}while(t);return e<<r})(o-a,r),f=r/u;return u>f?{p:u,q:f}:{p:f,q:u}})(t,r,n),m=r%(f-a),y=r%(g-a),v=h(((e,t)=>{let r=s,n=a,o=a,i=s;for(;e!==s;){const s=t/e,a=t%e,c=r-o*s,l=n-i*s;t=e,e=a,r=o,n=i,o=c,i=l}return r})(h(g,f),f),f);return{...e,p:l(f),q:l(g),dp:l(m),dq:l(y),qi:l(v)}}},17945:(e,t,r)=>{const{diffieHellman:n,KeyObject:o,sign:i,verify:s}=r(76417),[a,c]=process.version.substr(1).split(".").map((e=>parseInt(e,10)));e.exports={oaepHashSupported:a>12||12===a&&c>=9,keyObjectSupported:!!o&&a>=12,edDSASupported:!!i&&!!s,dsaEncodingSupported:a>13||13===a&&c>=2||12===a&&c>=16,improvedDH:!!n}},73232:e=>{const t=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;e.exports=e=>{const r=t.exec(e);if(!r)throw new TypeError(`invalid time period format ("${e}")`);const n=parseFloat(r[1]);switch(r[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);case"year":case"years":case"yr":case"yrs":case"y":return Math.round(31557600*n)}}},2683:(e,t,r)=>{const{timingSafeEqual:n}=r(76417),o=(e,t)=>{if(e.length===t)return e;const r=Buffer.alloc(t);return e.copy(r),r};e.exports=(e,t)=>{const r=Math.max(e.length,t.length);return n(o(e,r),o(t,r))}},29980:e=>{const t=Math.pow(2,32);e.exports=(e,r=Buffer.allocUnsafe(8))=>{const n=Math.floor(e/t),o=e%t;return r.writeUInt32BE(n,0),r.writeUInt32BE(o,4),r}},16542:(e,t,r)=>{const{JOSECritNotUnderstood:n,JWSInvalid:o}=r(8293),i=new Set(["alg","jku","jwk","kid","x5u","x5c","x5t","x5t#S256","typ","cty","crit","enc","zip","epk","apu","apv","iv","tag","p2s","p2c"]);e.exports=function(e,t,r,s){if(t&&"crit"in t){if(!Array.isArray(t.crit)||0===t.crit.length||t.crit.some((e=>"string"!=typeof e||!e)))throw new e('"crit" Header Parameter MUST be an array of non-empty strings when present');const a=new Set(s),c={...t,...r};t.crit.forEach((r=>{if(i.has(r))throw new e(`The critical list contains a non-extension Header Parameter ${r}`);if(!a.has(r))throw new n(`critical "${r}" is not understood`);if("b64"===r){if(!("b64"in t))throw new o('"b64" critical parameter must be integrity protected');if("boolean"!=typeof t.b64)throw new o('"b64" critical parameter must be a boolean')}else if(!(r in c))throw new e(`critical parameter "${r}" is missing`)}))}if(r&&"crit"in r)throw new e('"crit" Header Parameter MUST be integrity protected when present')}},4948:(e,t,r)=>{e.exports={JWE:r(48033),JWK:r(86887),JWKS:r(718),JWS:r(94207),JWT:r(26698),errors:r(8293)}},67074:(e,t,r)=>{const{createCipheriv:n,createDecipheriv:o,getCiphers:i}=r(76417),s=r(29980),a=r(2683),{KEYOBJECT:c}=r(92931),{JWEInvalid:l,JWEDecryptionFailed:u}=r(8293),p=function(e,t,r){if(16!==t.length)throw new l("invalid iv");if(3===arguments.length&&r.length!==e/8)throw new l("invalid tag")},d=(e,t,{[c]:r},o,{iv:i,aad:a=Buffer.alloc(0)})=>{const l=r.export();p(e,i);const u=e/8,d=l.slice(u),f=n(`aes-${e}-cbc`,d,i),h=Buffer.concat([f.update(o),f.final()]),g=Buffer.concat([a,i,h,s(8*a.length)]),m=l.slice(0,u);return{ciphertext:h,tag:t({[c]:m},g).slice(0,u)}},f=(e,t,{[c]:r},n,{iv:i,tag:l=Buffer.alloc(0),aad:d=Buffer.alloc(0)})=>{p(e,i,l);const f=e/8,h=r.export(),g=h.slice(f),m=h.slice(0,f),y=Buffer.concat([d,i,n,s(8*d.length)]),v=t({[c]:m},y,l).slice(0,f);if(!a(l,v))throw new u;let b;try{const t=o(`aes-${e}-cbc`,g,i);b=Buffer.concat([t.update(n),t.final()])}catch(e){}if(!b)throw new u;return b};e.exports=(e,t)=>{["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach((r=>{const n=parseInt(r.substr(1,3),10),o=e.sign.get("HS"+2*n);i().includes(`aes-${n}-cbc`)&&(e.encrypt.set(r,d.bind(void 0,n,o)),e.decrypt.set(r,f.bind(void 0,n,o)),t.oct.encrypt[r]=t.oct.decrypt[r]=e=>("enc"===e.use||void 0===e.use)&&e.length/2===n)}))}},39303:(e,t,r)=>{const{createCipheriv:n,createDecipheriv:o,getCiphers:i}=r(76417),{KEYOBJECT:s}=r(92931),{JWEInvalid:a,JWEDecryptionFailed:c}=r(8293),{asInput:l}=r(57658),u=function(e,t,r){if(12!==t.length)throw new a("invalid iv");if(3===arguments.length&&16!==r.length)throw new a("invalid tag")},p=(e,{[s]:t},r,{iv:o,aad:i=Buffer.alloc(0)})=>{const a=l(t,!1);u(e,o);const c=n(`aes-${e}-gcm`,a,o,{authTagLength:16});return c.setAAD(i),{ciphertext:Buffer.concat([c.update(r),c.final()]),tag:c.getAuthTag()}},d=(e,{[s]:t},r,{iv:n,tag:i=Buffer.alloc(0),aad:a=Buffer.alloc(0)})=>{const p=l(t,!1);u(e,n,i);try{const t=o(`aes-${e}-gcm`,p,n,{authTagLength:16});return t.setAuthTag(i),t.setAAD(a),Buffer.concat([t.update(r),t.final()])}catch(e){throw new c}};e.exports=(e,t)=>{["A128GCM","A192GCM","A256GCM"].forEach((r=>{const n=parseInt(r.substr(1,3),10);i().includes(`aes-${n}-gcm`)&&(e.encrypt.set(r,p.bind(void 0,n)),e.decrypt.set(r,d.bind(void 0,n)),t.oct.encrypt[r]=t.oct.decrypt[r]=e=>("enc"===e.use||void 0===e.use)&&e.length===n)}))}},46269:(e,t,r)=>{const n=r(3501),o=r(37448);e.exports=(e,t)=>{["A128GCMKW","A192GCMKW","A256GCMKW"].forEach((r=>{const i=r.substr(0,7),s=parseInt(r.substr(1,3),10),a=e.encrypt.get(i),c=e.decrypt.get(i);a&&c&&(e.keyManagementEncrypt.set(r,((e,t)=>{const i=n(r),{ciphertext:s,tag:c}=a(e,t,{iv:i});return{wrapped:s,header:{tag:o.encodeBuffer(c),iv:o.encodeBuffer(i)}}})),e.keyManagementDecrypt.set(r,c),t.oct.wrapKey[r]=t.oct.unwrapKey[r]=e=>("enc"===e.use||void 0===e.use)&&e.length===s)}))}},2409:(e,t,r)=>{const{createCipheriv:n,createDecipheriv:o,getCiphers:i}=r(76417),{KEYOBJECT:s}=r(92931),{asInput:a}=r(57658),c=(e,{[s]:t},r)=>{const o=a(t,!1),i=n(e,o,Buffer.alloc(8,"a6","hex"));return{wrapped:Buffer.concat([i.update(r),i.final()])}},l=(e,{[s]:t},r)=>{const n=a(t,!1);(e=>{if(void 0!==e&&e.length%8!=0)throw new Error("invalid data length")})(r);const i=o(e,n,Buffer.alloc(8,"a6","hex"));return Buffer.concat([i.update(r),i.final()])};e.exports=(e,t)=>{["A128KW","A192KW","A256KW"].forEach((r=>{const n=parseInt(r.substr(1,3),10),o=`aes${n}-wrap`;i().includes(o)&&(e.keyManagementEncrypt.set(r,c.bind(void 0,o)),e.keyManagementDecrypt.set(r,l.bind(void 0,o)),t.oct.wrapKey[r]=t.oct.unwrapKey[r]=e=>("enc"===e.use||void 0===e.use)&&e.length===n)}))}},10391:(e,t,r)=>{const{improvedDH:n}=r(17945);if(n){const{diffieHellman:t}=r(76417),{KeyObject:n}=r(57658),o=r(86698);e.exports=({keyObject:e},r)=>(r instanceof n||({keyObject:r}=o(r)),t({privateKey:e,publicKey:r}))}else{const{createECDH:t,constants:{POINT_CONVERSION_UNCOMPRESSED:n}}=r(76417),o=r(37448),i=e=>{switch(e){case"P-256":return"prime256v1";case"P-384":return"secp384r1";case"P-521":return"secp521r1"}},s=Buffer.alloc(1,n),a=(e,t)=>Buffer.concat([s,o.decodeToBuffer(e),o.decodeToBuffer(t)]);e.exports=({crv:e,d:r},{x:n,y:s})=>{const c=i(e),l=t(c);return l.setPrivateKey(o.decodeToBuffer(r)),l.computeSecret(a(n,s))}}},37029:(e,t,r)=>{const{createHash:n}=r(76417),o=r(10391),i=(e,t=Buffer.allocUnsafe(4))=>(t.writeUInt32BE(e),t),s=e=>Buffer.concat([i(e.length),e]);e.exports=(e,t,r,a,{apu:c=Buffer.alloc(0),apv:l=Buffer.alloc(0)}={},u=o)=>{const p=Buffer.concat([s(Buffer.from(e)),s(c),s(l),i(t)]);return((e,t,r)=>{const o=Math.ceil(t/32);let i;for(let t=1;t<=o;t++){const o=Buffer.allocUnsafe(4+e.length+r.length);o.writeUInt32BE(t,0),e.copy(o,4),r.copy(o,4+e.length),i=i?Buffer.concat([i,n("sha256").update(o).digest()]):n("sha256").update(o).digest()}return i.slice(0,t)})(u(r,a),t/8,p)}},50428:(e,t,r)=>{const{improvedDH:n}=r(17945),{KEYLENGTHS:o}=r(7422),{generateSync:i}=r(47943),s=r(37029),a=(e,t,{enc:r})=>{const n=i(e.kty,e.crv);return{wrapped:s(r,o.get(r),n,e),header:{epk:{kty:e.kty,crv:e.crv,x:n.x,y:n.y}}}},c=(e,t,r)=>{const{enc:n,epk:i}=r;return s(n,o.get(n),e,i,r)};e.exports=(e,t)=>{e.keyManagementEncrypt.set("ECDH-ES",a),e.keyManagementDecrypt.set("ECDH-ES",c),t.EC.deriveKey["ECDH-ES"]=e=>("enc"===e.use||void 0===e.use)&&"secp256k1"!==e.crv,n&&(t.OKP.deriveKey["ECDH-ES"]=e=>("enc"===e.use||void 0===e.use)&&e.keyObject.asymmetricKeyType.startsWith("x"))}},32953:(e,t,r)=>{const{improvedDH:n}=r(17945),{KEYOBJECT:o}=r(92931),{generateSync:i}=r(47943),{ECDH_DERIVE_LENGTHS:s}=r(7422),a=r(37029),c=(e,t,r,n)=>{const s=i(r.kty,r.crv),a=t(s,r,n),c=e({[o]:a},n);return c.header=c.header||{},Object.assign(c.header,{epk:{kty:r.kty,crv:r.crv,x:s.x,y:s.y}}),c},l=(e,t,r,n,i)=>{const{epk:s}=i,a=t(r,s,i);return e({[o]:a},n,i)};e.exports=(e,t)=>{["ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach((r=>{const o=r.substr(-6),i=e.keyManagementEncrypt.get(o),u=e.keyManagementDecrypt.get(o),p=parseInt(r.substr(9,3),10);s.set(r,p),i&&u&&(e.keyManagementEncrypt.set(r,c.bind(void 0,i,a.bind(void 0,r,p))),e.keyManagementDecrypt.set(r,l.bind(void 0,u,a.bind(void 0,r,p))),t.EC.deriveKey[r]=e=>("enc"===e.use||void 0===e.use)&&"secp256k1"!==e.crv,n&&(t.OKP.deriveKey[r]=e=>("enc"===e.use||void 0===e.use)&&e.keyObject.asymmetricKeyType.startsWith("x")))}))},e.exports.wrapKey=c,e.exports.unwrapKey=l},36275:(e,t,r)=>{const{sign:n,verify:o,createSign:i,createVerify:s,getCurves:a}=r(76417),{derToJose:c,joseToDer:l}=r(62867),{KEYOBJECT:u}=r(92931),p=r(89231),{asInput:d}=r(57658),{dsaEncodingSupported:f}=r(17945);let h,g;f?(h=(e,t,{[u]:r},o)=>("string"==typeof o&&(o=Buffer.from(o)),n(t,o,{key:d(r,!1),dsaEncoding:"ieee-p1363"})),g=(e,t,{[u]:r},n,i)=>{try{return o(t,n,{key:d(r,!0),dsaEncoding:"ieee-p1363"},i)}catch(e){return!1}}):(h=(e,t,{[u]:r},n)=>c(i(t).update(n).sign(d(r,!1)),e),g=(e,t,{[u]:r},n,o)=>{try{return s(t).update(n).verify(d(r,!0),l(o,e))}catch(e){return!1}}),e.exports=(e,t)=>{const r=[];a().includes("prime256v1")&&r.push("ES256"),a().includes("secp256k1")&&r.push("ES256K"),a().includes("secp384r1")&&r.push("ES384"),a().includes("secp521r1")&&r.push("ES512"),r.forEach((r=>{const n=p(r);e.sign.set(r,h.bind(void 0,r,n)),e.verify.set(r,g.bind(void 0,r,n)),t.EC.sign[r]=e=>e.private&&t.EC.verify[r](e),t.EC.verify[r]=e=>("sig"===e.use||void 0===e.use)&&(e=>{switch(e){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}})(e.crv)===r}))}},12466:(e,t,r)=>{const{sign:n,verify:o}=r(76417),{KEYOBJECT:i}=r(92931),{edDSASupported:s}=r(17945),a=({[i]:e},t)=>("string"==typeof t&&(t=Buffer.from(t)),n(void 0,t,e)),c=({[i]:e},t,r)=>o(void 0,t,e,r);e.exports=(e,t)=>{s&&(e.sign.set("EdDSA",a),e.verify.set("EdDSA",c),t.OKP.sign.EdDSA=e=>e.private&&t.OKP.verify.EdDSA(e),t.OKP.verify.EdDSA=e=>("sig"===e.use||void 0===e.use)&&e.keyObject.asymmetricKeyType.startsWith("ed"))}},44354:(e,t,r)=>{const{createHmac:n}=r(76417),{KEYOBJECT:o}=r(92931),i=r(2683),s=r(89231),{asInput:a}=r(57658),c=(e,t,{[o]:r},i)=>{const s=n(t,a(r,!1));return s.update(i),s.digest()},l=(e,t,r,n,o)=>{const s=c(0,t,r,n);return i(o,s)};e.exports=(e,t)=>{["HS256","HS384","HS512"].forEach((r=>{const n=s(r);e.sign.set(r,c.bind(void 0,r,n)),e.verify.set(r,l.bind(void 0,r,n)),t.oct.sign[r]=t.oct.verify[r]=e=>"sig"===e.use||void 0===e.use}))}},45889:(e,t,r)=>{const{JWKKeySupport:n,JOSENotSupported:o}=r(8293),{KEY_MANAGEMENT_ENCRYPT:i,KEY_MANAGEMENT_DECRYPT:s}=r(92931),{JWA:a,JWK:c}=r(7422);r(44354)(a,c),r(36275)(a,c),r(12466)(a,c),r(53721)(a,c),r(65415)(a,c),r(3928)(a),r(67074)(a,c),r(39303)(a,c),r(58353)(a,c),r(2409)(a,c),r(46269)(a,c),r(84782)(a,c),r(50428)(a,c),r(32953)(a,c);const l=(e,t,r)=>{const c=`_${t}_${r}`;let u,p;if("keyManagementEncrypt"===t?(u="key management (encryption)",p=i):"keyManagementDecrypt"===t&&(u="key management (decryption)",p=s),c in e){if(e[c])return;throw new n(`the key does not support ${r} ${u||t} algorithm`)}let d=!0;if(!a[t].has(r))throw new o(`unsupported ${u||t} alg: ${r}`);if(e.algorithms(p).has(r)||(d=!1),Object.defineProperty(e,c,{value:d,enumerable:!1}),!d)return l(e,t,r)};e.exports={check:l,sign:(e,t,r)=>(l(t,"sign",e),a.sign.get(e)(t,r)),verify:(e,t,r,n)=>(l(t,"verify",e),a.verify.get(e)(t,r,n)),keyManagementEncrypt:(e,t,r,n)=>(l(t,"keyManagementEncrypt",e),a.keyManagementEncrypt.get(e)(t,r,n)),keyManagementDecrypt:(e,t,r,n)=>(l(t,"keyManagementDecrypt",e),a.keyManagementDecrypt.get(e)(t,r,n)),encrypt:(e,t,r,n)=>(l(t,"encrypt",e),a.encrypt.get(e)(t,r,n)),decrypt:(e,t,r,n)=>(l(t,"decrypt",e),a.decrypt.get(e)(t,r,n))}},3928:e=>{const t=()=>Buffer.from(""),r=(e,t,r)=>!r.length;e.exports=(e,n)=>{e.sign.set("none",t),e.verify.set("none",r)}},84782:(e,t,r)=>{const{pbkdf2Sync:n,randomBytes:o}=r(76417),{KEYOBJECT:i}=r(92931),s=r(37448),a=Buffer.alloc(1,0),c=(e,t)=>Buffer.concat([Buffer.from(e,"utf8"),a,t]),l=(e,t,r,a,{[i]:c},l)=>{const u=Math.floor(2049*Math.random()+2048),p=o(16),d=r(p),f=n(c.export(),d,u,e,t),h=a({[i]:f},l);return h.header=h.header||{},Object.assign(h.header,{p2c:u,p2s:s.encodeBuffer(p)}),h},u=(e,t,r,o,{[i]:s},a,c)=>{const{p2s:l,p2c:u}=c,p=r(l),d=n(s.export(),p,u,e,t);return o({[i]:d},a,c)};e.exports=(e,t)=>{["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach((r=>{const n=r.substr(-6),o=e.keyManagementEncrypt.get(n),i=e.keyManagementDecrypt.get(n),s=parseInt(r.substr(13,3),10)/8,a=`sha${r.substr(8,3)}`;o&&i&&(e.keyManagementEncrypt.set(r,l.bind(void 0,s,a,c.bind(void 0,r),o)),e.keyManagementDecrypt.set(r,u.bind(void 0,s,a,c.bind(void 0,r),i)),t.oct.deriveKey[r]=e=>"enc"===e.use||void 0===e.use)}))}},58353:(e,t,r)=>{const{publicEncrypt:n,privateDecrypt:o,constants:i}=r(76417),{oaepHashSupported:s}=r(17945),{KEYOBJECT:a}=r(92931),{asInput:c}=r(57658),l=(e,t,{[a]:r},o)=>{const i=c(r,!0);return{wrapped:n({key:i,oaepHash:t,padding:e},o)}},u=(e,t,{[a]:r},n)=>{const i=c(r,!1);return o({key:i,oaepHash:t,padding:e},n)},p={RSA1_5:0,"RSA-OAEP":592,"RSA-OAEP-256":784,"RSA-OAEP-384":1040,"RSA-OAEP-512":1296};e.exports=(e,t)=>{const r=["RSA-OAEP","RSA1_5"];s&&r.splice(1,0,"RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"),r.forEach((r=>{const n=(e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return i.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return i.RSA_PKCS1_PADDING}})(r),o=(e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}})(r);e.keyManagementEncrypt.set(r,l.bind(void 0,n,o)),e.keyManagementDecrypt.set(r,u.bind(void 0,n,o)),t.RSA.wrapKey[r]=e=>("enc"===e.use||void 0===e.use)&&e.length>=p[r],t.RSA.unwrapKey[r]=e=>e.private&&("enc"===e.use||void 0===e.use)&&e.length>=p[r]}))}},65415:(e,t,r)=>{const{createSign:n,createVerify:o}=r(76417),{KEYOBJECT:i}=r(92931),s=r(89231),{asInput:a}=r(57658),c=(e,{[i]:t},r)=>n(e).update(r).sign(a(t,!1)),l=(e,{[i]:t},r,n)=>o(e).update(r).verify(a(t,!0),n),u={RS256:0,RS384:624,RS512:752};e.exports=(e,t)=>{["RS256","RS384","RS512"].forEach((r=>{const n=s(r);e.sign.set(r,c.bind(void 0,n)),e.verify.set(r,l.bind(void 0,n)),t.RSA.sign[r]=e=>e.private&&t.RSA.verify[r](e),t.RSA.verify[r]=e=>("sig"===e.use||void 0===e.use)&&e.length>=u[r]}))}},53721:(e,t,r)=>{const{createSign:n,createVerify:o,constants:i}=r(76417),{KEYOBJECT:s}=r(92931),a=r(89231),{asInput:c}=r(57658),l=(e,{[s]:t},r)=>{const o=c(t,!1);return n(e).update(r).sign({key:o,padding:i.RSA_PKCS1_PSS_PADDING,saltLength:i.RSA_PSS_SALTLEN_DIGEST})},u=(e,{[s]:t},r,n)=>{const a=c(t,!0);return o(e).update(r).verify({key:a,padding:i.RSA_PKCS1_PSS_PADDING,saltLength:i.RSA_PSS_SALTLEN_DIGEST},n)},p={PS256:528,PS384:784,PS512:1040};e.exports=(e,t)=>{["PS256","PS384","PS512"].forEach((r=>{const n=a(r);e.sign.set(r,l.bind(void 0,n)),e.verify.set(r,u.bind(void 0,n)),t.RSA.sign[r]=e=>e.private&&t.RSA.verify[r](e),t.RSA.verify[r]=e=>("sig"===e.use||void 0===e.use)&&e.length>=p[r]}))}},26319:(e,t,r)=>{const{inflateRawSync:n}=r(78761),o=r(37448),i=r(75579),{KeyStore:s}=r(718),a=r(8293),{check:c,decrypt:l,keyManagementDecrypt:u}=r(45889),p=r(86887),{createSecretKey:d}=r(57658),f=r(42967),h=r(66557),{detect:g}=r(11757),m=new Set(["compact","flattened"]),y=(e,t)=>{if(void 0!==e&&(!Array.isArray(e)||e.some((e=>"string"!=typeof e||!e))))throw new TypeError(`"${t}" option must be an array of non-empty strings`);if(e)return new Set(e)},v=(e,t,r,b,{crit:w=[],complete:E=!1,keyManagementAlgorithms:_,contentEncryptionAlgorithms:O}={})=>{if(b=i(b,!0),_=y(_,"keyManagementAlgorithms"),O=y(O,"contentEncryptionAlgorithms"),!Array.isArray(w)||w.some((e=>"string"!=typeof e||!e)))throw new TypeError('"crit" option must be an array of non-empty strings');let S,T,C,A,x,I,k,N,P,R,j,D;if(t||(t=g(r)),"general"===t&&1===r.recipients.length){t="flattened";const{recipients:e,...n}=r;r={...n,...e[0]}}if(m.has(t)){if("compact"===t?[k,A,x,T,N]=r.split("."):({protected:k,encrypted_key:A,iv:x,ciphertext:T,tag:N,unprotected:P,aad:j,header:D}=r),e||h(k,P,[{header:D}],!0,w),I=((e={},t={},r={})=>{"string"==typeof e&&(e=o.JSON.decode(e));const n=e.p2s||t.p2s||r.p2s,i=e.apu||t.apu||r.apu,s=e.apv||t.apv||r.apv,a=e.iv||t.iv||r.iv,c=e.tag||t.tag||r.tag;return{...e,...t,...r,..."string"==typeof n?{p2s:o.decodeToBuffer(n)}:void 0,..."string"==typeof i?{apu:o.decodeToBuffer(i)}:void 0,..."string"==typeof s?{apv:o.decodeToBuffer(s)}:void 0,..."string"==typeof a?{iv:o.decodeToBuffer(a)}:void 0,..."string"==typeof c?{tag:o.decodeToBuffer(c)}:void 0}})(k,P,D),({alg:S,enc:C}=I),_&&!_.has(S))throw new a.JOSEAlgNotWhitelisted("key management algorithm not whitelisted");if(O&&!O.has(C))throw new a.JOSEAlgNotWhitelisted("content encryption algorithm not whitelisted");if(b instanceof s){const e=b;let n;switch(n="dir"===I.alg?e.all({kid:I.kid,alg:I.enc,key_ops:["decrypt"]}):e.all({kid:I.kid,alg:I.alg,key_ops:["unwrapKey"]}),n.length){case 0:throw new a.JWKSNoMatchingKey;case 1:b=n[0];break;default:{const e=[];for(const o of n)try{return v(!0,t,r,o,{crit:w,complete:E,contentEncryptionAlgorithms:O?[...O]:void 0,keyManagementAlgorithms:_?[..._]:void 0})}catch(t){e.push(t);continue}const o=new a.JOSEMultiError(e);if([...o].some((e=>e instanceof a.JWEDecryptionFailed)))throw new a.JWEDecryptionFailed;throw o}}}c(b,..."dir"===S?["decrypt",C]:["keyManagementDecrypt",S]);try{if("dir"===S)R=p.asKey(b,{alg:C,use:"enc"});else if("ECDH-ES"===S){const e=u(S,b,void 0,I);R=p.asKey(d(e),{alg:C,use:"enc"})}else{const e=u(S,b,o.decodeToBuffer(A),I);R=p.asKey(d(e),{alg:C,use:"enc"})}}catch(e){R=f(C)}let i;i=j?Buffer.concat([Buffer.from(k||""),Buffer.from("."),Buffer.from(j)]):Buffer.from(k||"");try{x=o.decodeToBuffer(x)}catch(e){}try{N=o.decodeToBuffer(N)}catch(e){}let g=l(C,R,o.decodeToBuffer(T),{iv:x,tag:N,aad:i});if(I.zip&&(g=n(g)),E){const e={cleartext:g,key:b,cek:R};return j&&(e.aad=j),D&&(e.header=D),P&&(e.unprotected=P),k&&(e.protected=o.JSON.decode(k)),e}return g}h(r.protected,r.unprotected,r.recipients.map((({header:e})=>({header:e}))),!0,w);const{recipients:L,...F}=r,M=[];for(const e of L)try{return v(!0,"flattened",{...F,...e},b,{crit:w,complete:E,contentEncryptionAlgorithms:O?[...O]:void 0,keyManagementAlgorithms:_?[..._]:void 0})}catch(e){M.push(e);continue}const B=new a.JOSEMultiError(M);if([...B].some((e=>e instanceof a.JWEDecryptionFailed)))throw new a.JWEDecryptionFailed;if([...B].every((e=>e instanceof a.JWKSNoMatchingKey)))throw new a.JWKSNoMatchingKey;throw B};e.exports=v.bind(void 0,!1,void 0)},93677:(e,t,r)=>{const{deflateRawSync:n}=r(78761),{KEYOBJECT:o}=r(92931),i=r(3501),s=r(37448),a=r(75579),c=r(94336),{createSecretKey:l}=r(57658),u=r(49270),p=r(86698),{JWEInvalid:d}=r(8293),{check:f,keyManagementEncrypt:h,encrypt:g}=r(45889),m=r(11757),y=r(42967),v=r(66557),b=Symbol("PROCESS_RECIPIENT");e.exports=class{constructor(e,t,r,n){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("cleartext argument must be a Buffer or a string");if(e=Buffer.from(e),void 0!==r&&!Buffer.isBuffer(r)&&"string"!=typeof r)throw new TypeError("aad argument must be a Buffer or a string when provided");if(r=r?Buffer.from(r):void 0,void 0!==t&&!c(t))throw new TypeError("protectedHeader argument must be a plain object when provided");if(void 0!==n&&!c(n))throw new TypeError("unprotectedHeader argument must be a plain object when provided");this._recipients=[],this._cleartext=e,this._aad=r,this._unprotected=n?u(n):void 0,this._protected=t?u(t):void 0}recipient(e,t){if(e=a(e),void 0!==t&&!c(t))throw new TypeError("header argument must be a plain object when provided");return this._recipients.push({key:e,header:t?u(t):void 0}),this}[b](e){const t=this._unprotected,r=this._protected,{length:n}=this._recipients,i={...r,...t,...e.header},{key:a}=e,c=i.enc;let u,g,m=i.alg;if("sig"===a.use)throw new TypeError('a key with "use":"sig" is not usable for encryption');if("dir"===m)f(a,"encrypt",c);else if(m)f(a,"keyManagementEncrypt",m);else{if(m=a.alg||[...a.algorithms("wrapKey")][0]||[...a.algorithms("deriveKey")][0],"ECDH-ES"===m&&1!==n&&(m=[...a.algorithms("deriveKey")][1]),!m)throw new d('could not resolve a usable "alg" for a recipient');1===n?r?r.alg=m:this._protected={alg:m}:e.header?e.header.alg=m:e.header={alg:m}}"oct"===a.kty&&"dir"===m?this._cek=p(a[o],{use:"enc",alg:c}):(f(this._cek,"encrypt",c),({wrapped:u,header:g}=h(m,a,this._cek[o].export(),{enc:c,alg:m})),"ECDH-ES"===m&&(this._cek=p(l(u),{use:"enc",alg:c}))),e.encrypted_key="dir"===m||"ECDH-ES"===m?"":s.encodeBuffer(u),g&&(e.generatedHeader=g)}encrypt(e){const t=m[e];if(!t)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new d("missing recipients");t.validate(this._protected,this._unprotected,this._aad,this._recipients);let r=v(this._protected,this._unprotected,this._recipients,!1,this._protected?this._protected.crit:void 0);r||(r="A128CBC-HS256",this._protected?this._protected.enc=r:this._protected={enc:r});const o={};this._cek=y(r);for(const e of this._recipients)this[b](e);const a=i(r);if(o.iv=s.encodeBuffer(a),1===this._recipients.length&&this._recipients[0].generatedHeader){const[{generatedHeader:e}]=this._recipients;delete this._recipients[0].generatedHeader,this._protected={...this._protected,...e}}let c;this._protected&&(o.protected=s.JSON.encode(this._protected)),o.unprotected=this._unprotected,this._aad?(o.aad=s.encode(this._aad),c=Buffer.concat([Buffer.from(o.protected||""),Buffer.from("."),Buffer.from(o.aad)])):c=Buffer.from(o.protected||"");let l=this._cleartext;this._protected&&"zip"in this._protected&&(l=n(l));const{ciphertext:u,tag:p}=g(r,this._cek,l,{iv:a,aad:c});return o.tag=s.encodeBuffer(p),o.ciphertext=s.encodeBuffer(u),t(o,this._recipients)}}},42967:(e,t,r)=>{const{randomBytes:n}=r(76417),{createSecretKey:o}=r(57658),{KEYLENGTHS:i}=r(7422),s=r(91933);e.exports=e=>{const t=i.get(e);return t?new s(o(n(t/8)),{use:"enc",alg:e}):new s({type:"secret"})}},48033:(e,t,r)=>{const n=r(93677),o=r(26319),i=(e,t,r,o,i,s)=>new n(t,o,i,s).recipient(r).encrypt(e);e.exports.Encrypt=n,e.exports.encrypt=i.bind(void 0,"compact"),e.exports.encrypt.flattened=i.bind(void 0,"flattened"),e.exports.encrypt.general=i.bind(void 0,"general"),e.exports.decrypt=o},11757:(e,t,r)=>{const n=r(94336);let o=r(16542);const{JWEInvalid:i}=r(8293);o=o.bind(void 0,i);const s=(e,[t])=>`${e.protected}.${t.encrypted_key}.${e.iv}.${e.ciphertext}.${e.tag}`;s.validate=(e,t,r,{0:{header:n},length:s})=>{if(1!==s||r||t||n)throw new i("JWE Compact Serialization doesn't support multiple recipients, JWE unprotected headers or AAD");o(e,t,e?e.crit:void 0)};const a=(e,[t])=>{const{header:r,encrypted_key:n}=t;return{...e.protected?{protected:e.protected}:void 0,...e.unprotected?{unprotected:e.unprotected}:void 0,...r?{header:r}:void 0,...n?{encrypted_key:n}:void 0,...e.aad?{aad:e.aad}:void 0,iv:e.iv,ciphertext:e.ciphertext,tag:e.tag}};a.validate=(e,t,r,{0:{header:n},length:s})=>{if(1!==s)throw new i("Flattened JWE JSON Serialization doesn't support multiple recipients");o(e,{...t,...n},e?e.crit:void 0)};const c=(e,t)=>{const r={...e.protected?{protected:e.protected}:void 0,...e.unprotected?{unprotected:e.unprotected}:void 0,recipients:t.map((({header:e,encrypted_key:t,generatedHeader:r})=>!!(e||t||r)&&{...e||r?{header:{...e,...r}}:void 0,...t?{encrypted_key:t}:void 0})).filter(Boolean),...e.aad?{aad:e.aad}:void 0,iv:e.iv,ciphertext:e.ciphertext,tag:e.tag};return r.recipients.length||delete r.recipients,r};c.validate=(e,t,r,n)=>{n.forEach((({header:r})=>{o(e,{...r,...t},e?e.crit:void 0)}))};const l=e=>n(e)&&"string"==typeof e.encrypted_key&&(void 0===e.header||n(e.header));e.exports={compact:s,flattened:a,general:c,detect:e=>{if("string"==typeof e&&5===e.split(".").length)return"compact";if((e=>n(e)&&"string"==typeof e.ciphertext&&"string"==typeof e.iv&&"string"==typeof e.tag&&(void 0===e.unprotected||n(e.unprotected))&&(void 0===e.protected||"string"==typeof e.protected)&&(void 0===e.aad||"string"==typeof e.aad))(e)){if((e=>!(!Array.isArray(e.recipients)||!e.recipients.every(l)))(e))return"general";if((e=>(void 0===e.encrypted_key||"string"==typeof e.encrypted_key)&&(void 0===e.header||n(e.header)))(e))return"flattened"}throw new i("JWE malformed or invalid serialization")}}},66557:(e,t,r)=>{const n=r(970),o=r(37448);let i=r(16542);const{JWEInvalid:s,JOSENotSupported:a}=r(8293);i=i.bind(void 0,s),e.exports=(e,t,r,c,l)=>{if("string"==typeof e)try{e=o.JSON.decode(e)}catch(e){throw new s("could not parse JWE protected header")}let u=[];const p=new Set;if(!n(e,t)||!r.every((({header:r})=>{"object"==typeof r&&(u.push(r.alg),p.add(r.enc));const o={...t,...r};if(i(e,o,l),"zip"in o)throw new s('"zip" Header Parameter MUST be integrity protected');if(e&&"zip"in e&&"DEF"!==e.zip)throw new a('only "DEF" compression algorithm is supported');return n(r,e)&&n(r,t)})))throw new s("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");if("object"==typeof e&&(u.push(e.alg),p.add(e.enc)),"object"==typeof t&&(u.push(t.alg),p.add(t.enc)),u=u.filter(Boolean),p.delete(void 0),1!==r.length&&(u.includes("dir")||u.includes("ECDH-ES")))throw new s("dir and ECDH-ES alg may only be used with a single recipient");if(c){if(u.length!==r.length)throw new s("missing Key Management algorithm");if(0===p.size)throw new s("missing Content Encryption algorithm");if(1!==p.size)throw new s("there must only be one Content Encryption algorithm")}else if(p.size>1)throw new s("there must only be one Content Encryption algorithm");return[...p][0]}},47943:(e,t,r)=>{const n=r(8293),o=r(86698),i=r(32285),s=r(61661),a=r(76618),c=r(91933);e.exports.generate=async(e,t,r,l=!0)=>{switch(e){case"RSA":return o(await i.generate(t,l),r);case"EC":return o(await s.generate(t,l),r);case"OKP":return o(await a.generate(t,l),r);case"oct":return o(await c.generate(t,l),r);default:throw new n.JOSENotSupported(`unsupported key type: ${e}`)}},e.exports.generateSync=(e,t,r,l=!0)=>{switch(e){case"RSA":return o(i.generateSync(t,l),r);case"EC":return o(s.generateSync(t,l),r);case"OKP":return o(a.generateSync(t,l),r);case"oct":return o(c.generateSync(t,l),r);default:throw new n.JOSENotSupported(`unsupported key type: ${e}`)}}},86698:(e,t,r)=>{const{createPublicKey:n,createPrivateKey:o,createSecretKey:i,KeyObject:s}=r(57658),a=r(37448),c=r(94336),{jwkToPem:l}=r(91166),u=r(8293),p=r(32285),d=r(61661),f=r(76618),h=r(91933),g=new Set(["string","buffer","object"]),m=(e={},t={})=>({alg:t.alg,key_ops:t.key_ops,kid:t.kid,use:t.use,x5c:t.x5c,x5t:t.x5t,"x5t#S256":t["x5t#S256"],...e}),y=/^[a-zA-Z0-9-]+ AAAA(?:[0-9A-Za-z+/])+(?:==|=)?(?: .*)?$/;e.exports=(e,t,{calculateMissingRSAPrimes:r=!1}={})=>{let v,b,w;if(!g.has(typeof e))throw new TypeError("key argument must be a string, buffer or an object");if(void 0!==t&&!c(t))throw new TypeError("parameters argument must be a plain object when provided");if(e instanceof s)switch(e.type){case"private":v=e;break;case"public":b=e;break;case"secret":w=e}else if("object"==typeof e&&e&&"kty"in e&&"oct"===e.kty){try{w=i(a.decodeToBuffer(e.k))}catch(t){"k"in e||(w={type:"secret"})}t=m(t,e)}else if("object"==typeof e&&e&&"kty"in e){let i;({calculateMissingRSAPrimes:r=!1}=t||{calculateMissingRSAPrimes:r});try{i=l(e,{calculateMissingRSAPrimes:r})}catch(e){if(e instanceof u.JOSEError)throw e}i&&e.d?v=o(i):i&&(b=n(i)),t=m({},e)}else if(e&&("object"==typeof e||"string"==typeof e)){try{v=o(e)}catch(e){if(e instanceof u.JOSEError)throw e}try{b=n(e),!e.startsWith("-----BEGIN CERTIFICATE-----")||t&&"x5c"in t||(t=m(t,{x5c:[e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,"")]}))}catch(e){if(e instanceof u.JOSEError)throw e}try{e.includes("-----BEGIN")||y.test(e.toString("ascii").replace(/[\r\n]/g,""))||(w=i(Buffer.isBuffer(e)?e:Buffer.from(e)))}catch(e){}}const E=v||b||w;if(v||b)switch(E.asymmetricKeyType){case"rsa":return new p(E,t);case"ec":return new d(E,t);case"ed25519":case"ed448":case"x25519":case"x448":return new f(E,t);default:throw new u.JOSENotSupported("only RSA, EC and OKP asymmetric keys are supported")}else if(w)return new h(E,t);throw new u.JWKImportFailed("key import failed")}},86887:(e,t,r)=>{const n=r(52155),o=r(97306),i=r(77762),s=r(48482),a=r(86698),c=r(47943);e.exports={...c,asKey:a,isKey:e=>e instanceof n,None:o,EmbeddedJWK:i,EmbeddedX5C:s}},52155:(e,t,r)=>{const{strict:n}=r(42357),{inspect:o}=r(31669),{EOL:i}=r(12087),{keyObjectSupported:s}=r(17945),{createPublicKey:a}=r(57658),{keyObjectToJWK:c}=r(91166),{THUMBPRINT_MATERIAL:l,PUBLIC_MEMBERS:u,PRIVATE_MEMBERS:p,JWK_MEMBERS:d,KEYOBJECT:f,USES_MAPPING:h,OPS:g,USES:m}=r(92931),y=r(94336),v=r(62e3),b=r(8293),w=Symbol("privateApi"),{JWK:E}=r(7422);class _{constructor(e,{alg:t,use:r,kid:o,key_ops:c,x5c:u,x5t:p,"x5t#S256":d}={}){if(void 0!==r&&("string"!=typeof r||!m.has(r)))throw new TypeError('`use` must be either "sig" or "enc" string when provided');if(void 0!==t&&("string"!=typeof t||!t))throw new TypeError("`alg` must be a non-empty string when provided");if(void 0!==o&&("string"!=typeof o||!o))throw new TypeError("`kid` must be a non-empty string when provided");if(void 0!==c){if(!Array.isArray(c)||!c.length||c.some((e=>"string"!=typeof e)))throw new TypeError("`key_ops` must be a non-empty array of strings when provided");c=Array.from(new Set(c)).filter((e=>g.has(e)))}if(c&&r&&("enc"===r&&c.some((e=>h.sig.has(e)))||"sig"===r&&c.some((e=>h.enc.has(e)))))throw new b.JWKInvalid('inconsistent JWK "use" and "key_ops"');if(s&&void 0!==u){if(!Array.isArray(u)||!u.length||u.some((e=>"string"!=typeof e)))throw new TypeError("`x5c` must be an array of one or more PKIX certificates when provided");u.forEach(((t,r)=>{let o;try{o=a({key:`-----BEGIN CERTIFICATE-----${i}${(t.match(/.{1,64}/g)||[]).join(i)}${i}-----END CERTIFICATE-----`,format:"pem"})}catch(e){throw new b.JWKInvalid(`\`x5c\` member at index ${r} is not a valid base64-encoded DER PKIX certificate`)}if(0===r)try{n.deepEqual(o.export({type:"spki",format:"der"}),("public"===e.type?e:a(e)).export({type:"spki",format:"der"}))}catch(e){throw new b.JWKInvalid("The key in the first `x5c` certificate MUST match the public key represented by the JWK")}}))}Object.defineProperties(this,{[f]:{value:y(e)?void 0:e},keyObject:{get(){if(!s)throw new b.JOSENotSupported("KeyObject class is not supported in your Node.js runtime version");return this[f]}},type:{value:e.type},private:{value:"private"===e.type},public:{value:"public"===e.type},secret:{value:"secret"===e.type},alg:{value:t,enumerable:void 0!==t},use:{value:r,enumerable:void 0!==r},x5c:{enumerable:void 0!==u,...u?{get:()=>[...u]}:{value:void 0}},key_ops:{enumerable:void 0!==c,...c?{get:()=>[...c]}:{value:void 0}},kid:{enumerable:!0,...o?{value:o}:{get(){return Object.defineProperty(this,"kid",{value:this.thumbprint,configurable:!1}),this.kid},configurable:!0}},...u?{x5t:{enumerable:!0,...p?{value:p}:{get(){return Object.defineProperty(this,"x5t",{value:v.x5t(this.x5c[0]),configurable:!1}),this.x5t},configurable:!0}}}:void 0,...u?{"x5t#S256":{enumerable:!0,...d?{value:d}:{get(){return Object.defineProperty(this,"x5t#S256",{value:v["x5t#S256"](this.x5c[0]),configurable:!1}),this["x5t#S256"]},configurable:!0}}}:void 0,thumbprint:{get(){return Object.defineProperty(this,"thumbprint",{value:v.kid(this[l]()),configurable:!1}),this.thumbprint},configurable:!0}})}toPEM(e=!1,t={}){if(this.secret)throw new TypeError("symmetric keys cannot be exported as PEM");if(e&&!0===this.public)throw new TypeError("public key cannot be exported as private");const{type:r=(e?"pkcs8":"spki"),cipher:n,passphrase:o}=t;let i=this[f];if(!e&&(this.private&&(i=a(i)),n||o))throw new TypeError("cipher and passphrase can only be applied when exporting private keys");return e?i.export({format:"pem",type:r,cipher:n,passphrase:o}):i.export({format:"pem",type:r})}toJWK(e=!1){if(e&&!0===this.public)throw new TypeError("public key cannot be exported as private");const t=[...this.constructor[e?p:u]].map((e=>[e,this[e]])),r={};return Object.keys(t).forEach((e=>{const[n,o]=t[e];r[n]=o})),r.kty=this.kty,r.kid=this.kid,this.alg&&(r.alg=this.alg),this.key_ops&&this.key_ops.length&&(r.key_ops=this.key_ops),this.use&&(r.use=this.use),this.x5c&&(r.x5c=this.x5c),this.x5t&&(r.x5t=this.x5t),this["x5t#S256"]&&(r["x5t#S256"]=this["x5t#S256"]),r}[d](){const e="private"===this[f].type?this.constructor[p]:this.constructor[u];Object.defineProperties(this,[...e].reduce(((t,r)=>(t[r]={get(){const t=c(this[f]);return Object.defineProperties(this,Object.entries(t).filter((([t])=>e.has(t))).reduce(((e,[t,r])=>(e[t]={value:r,enumerable:this.constructor[u].has(t),configurable:!1},e)),{})),this[r]},enumerable:this.constructor[u].has(r),configurable:!0},t)),{}))}[o.custom](){return`${this.constructor.name} ${o(this.toJWK(!1),{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}[l](){throw new Error(`"[THUMBPRINT_MATERIAL]()" is not implemented on ${this.constructor.name}`)}algorithms(e,t,r){const{use:n=this.use,alg:o=this.alg,key_ops:i=this.key_ops}=t===w?r:{};if(o)return new Set(this.algorithms(e,w,{alg:null,use:n,key_ops:i}).has(o)?[o]:void 0);if("symbol"==typeof e)try{return this[e]()}catch(e){return new Set}if(e&&i&&!i.includes(e))return new Set;switch(e){case"decrypt":case"deriveKey":case"encrypt":case"sign":case"unwrapKey":case"verify":case"wrapKey":return new Set(Object.entries(E[this.kty][e]).map((([e,t])=>t(this)?e:void 0)).filter(Boolean));case void 0:return new Set([...this.algorithms("sign"),...this.algorithms("verify"),...this.algorithms("decrypt"),...this.algorithms("encrypt"),...this.algorithms("unwrapKey"),...this.algorithms("wrapKey"),...this.algorithms("deriveKey")]);default:throw new TypeError("invalid key operation")}}static async generate(){throw new Error(`"static async generate()" is not implemented on ${this.name}`)}static generateSync(){throw new Error(`"static generateSync()" is not implemented on ${this.name}`)}static get[u](){throw new Error(`"static get [PUBLIC_MEMBERS]()" is not implemented on ${this.name}`)}static get[p](){throw new Error(`"static get [PRIVATE_MEMBERS]()" is not implemented on ${this.name}`)}}e.exports=_},61661:(e,t,r)=>{const{generateKeyPairSync:n,generateKeyPair:o}=r(76417),{promisify:i}=r(31669),{THUMBPRINT_MATERIAL:s,JWK_MEMBERS:a,PUBLIC_MEMBERS:c,PRIVATE_MEMBERS:l,KEY_MANAGEMENT_DECRYPT:u,KEY_MANAGEMENT_ENCRYPT:p}=r(92931),{EC_CURVES:d}=r(7422),{keyObjectSupported:f}=r(17945),{createPublicKey:h,createPrivateKey:g}=r(57658),m=r(8293),y=r(52155),v=i(o),b=new Set(["crv","x","y"]);Object.freeze(b);const w=new Set([...b,"d"]);Object.freeze(w),e.exports=class extends y{constructor(...e){if(super(...e),this[a](),Object.defineProperty(this,"kty",{value:"EC",enumerable:!0}),!d.has(this.crv))throw new m.JOSENotSupported("unsupported EC key curve")}static get[c](){return b}static get[l](){return w}[s](){return{crv:this.crv,kty:"EC",x:this.x,y:this.y}}[p](){return this.algorithms("deriveKey")}[u](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="P-256",t=!0){if(!d.has(e))throw new m.JOSENotSupported(`unsupported EC key curve: ${e}`);let r,n;return f?(({privateKey:r,publicKey:n}=await v("ec",{namedCurve:e})),t?r:n):(({privateKey:r,publicKey:n}=await v("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}})),t?g(r):h(n))}static generateSync(e="P-256",t=!0){if(!d.has(e))throw new m.JOSENotSupported(`unsupported EC key curve: ${e}`);let r,o;return f?(({privateKey:r,publicKey:o}=n("ec",{namedCurve:e})),t?r:o):(({privateKey:r,publicKey:o}=n("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}})),t?g(r):h(o))}}},77762:(e,t,r)=>{const{inspect:n}=r(31669),o=r(52155);class i extends o{constructor(){super({type:"embedded"}),Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[n.custom](){return"Embedded.JWK {}"}algorithms(){return new Set}}e.exports=new i},48482:(e,t,r)=>{const{inspect:n}=r(31669),o=r(52155);class i extends o{constructor(){super({type:"embedded"}),Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[n.custom](){return"Embedded.X5C {}"}algorithms(){return new Set}}e.exports=new i},97306:(e,t,r)=>{const{inspect:n}=r(31669),o=r(52155);class i extends o{constructor(){super({type:"unsecured"},{alg:"none"}),Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[n.custom](){return"None {}"}algorithms(e){switch(e){case"sign":case"verify":case void 0:return new Set(["none"]);default:return new Set}}}e.exports=new i},91933:(e,t,r)=>{const{randomBytes:n}=r(76417),{createSecretKey:o}=r(57658),i=r(37448),{THUMBPRINT_MATERIAL:s,PUBLIC_MEMBERS:a,PRIVATE_MEMBERS:c,KEY_MANAGEMENT_DECRYPT:l,KEY_MANAGEMENT_ENCRYPT:u,KEYOBJECT:p}=r(92931),d=r(52155),f=new Set;Object.freeze(f);const h=new Set(["k"]);Object.freeze(h),e.exports=class extends d{constructor(...e){super(...e),Object.defineProperties(this,{kty:{value:"oct",enumerable:!0},length:{value:this[p]?8*this[p].symmetricKeySize:void 0},k:{enumerable:!1,get(){return this[p]?Object.defineProperty(this,"k",{value:i.encodeBuffer(this[p].export()),configurable:!1}):Object.defineProperty(this,"k",{value:void 0,configurable:!1}),this.k},configurable:!0}})}static get[a](){return f}static get[c](){return h}[s](){if(!this[p])throw new TypeError('reference "oct" keys without "k" cannot have their thumbprint calculated');return{k:this.k,kty:"oct"}}[u](){return new Set([...this.algorithms("wrapKey"),...this.algorithms("deriveKey")])}[l](){return this[u]()}algorithms(...e){return this[p]?d.prototype.algorithms.call(this,...e):new Set}static async generate(...e){return this.generateSync(...e)}static generateSync(e=256,t=!0){if(!t)throw new TypeError('"oct" keys cannot be generated as public');if(!Number.isSafeInteger(e)||!e||e%8!=0)throw new TypeError("invalid bit length");return o(n(e/8))}}},76618:(e,t,r)=>{const{generateKeyPairSync:n,generateKeyPair:o}=r(76417),{promisify:i}=r(31669),{THUMBPRINT_MATERIAL:s,JWK_MEMBERS:a,PUBLIC_MEMBERS:c,PRIVATE_MEMBERS:l,KEY_MANAGEMENT_DECRYPT:u,KEY_MANAGEMENT_ENCRYPT:p}=r(92931),{OKP_CURVES:d}=r(7422),{edDSASupported:f}=r(17945),h=r(8293),g=r(52155),m=i(o),y=new Set(["crv","x"]);Object.freeze(y);const v=new Set([...y,"d"]);Object.freeze(v),e.exports=class extends g{constructor(...e){if(super(...e),this[a](),Object.defineProperty(this,"kty",{value:"OKP",enumerable:!0}),!d.has(this.crv))throw new h.JOSENotSupported("unsupported OKP key curve")}static get[c](){return y}static get[l](){return v}[s](){return{crv:this.crv,kty:"OKP",x:this.x}}[p](){return this.algorithms("deriveKey")}[u](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="Ed25519",t=!0){if(!f)throw new h.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!d.has(e))throw new h.JOSENotSupported(`unsupported OKP key curve: ${e}`);const{privateKey:r,publicKey:n}=await m(e.toLowerCase());return t?r:n}static generateSync(e="Ed25519",t=!0){if(!f)throw new h.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!d.has(e))throw new h.JOSENotSupported(`unsupported OKP key curve: ${e}`);const{privateKey:r,publicKey:o}=n(e.toLowerCase());return t?r:o}}},32285:(e,t,r)=>{const{generateKeyPairSync:n,generateKeyPair:o}=r(76417),{promisify:i}=r(31669),{THUMBPRINT_MATERIAL:s,JWK_MEMBERS:a,PUBLIC_MEMBERS:c,PRIVATE_MEMBERS:l,KEY_MANAGEMENT_DECRYPT:u,KEY_MANAGEMENT_ENCRYPT:p}=r(92931),{keyObjectSupported:d}=r(17945),{createPublicKey:f,createPrivateKey:h}=r(57658),g=r(52155),m=i(o),y=new Set(["e","n"]);Object.freeze(y);const v=new Set([...y,"d","p","q","dp","dq","qi"]);Object.freeze(v),e.exports=class extends g{constructor(...e){super(...e),this[a](),Object.defineProperties(this,{kty:{value:"RSA",enumerable:!0},length:{get(){return Object.defineProperty(this,"length",{value:8*Buffer.byteLength(this.n,"base64"),configurable:!1}),this.length},configurable:!0}})}static get[c](){return y}static get[l](){return v}[s](){return{e:this.e,kty:"RSA",n:this.n}}[p](){return this.algorithms("wrapKey")}[u](){return this.algorithms("unwrapKey")}static async generate(e=2048,t=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let r,n;return d?(({privateKey:r,publicKey:n}=await m("rsa",{modulusLength:e})),t?r:n):(({privateKey:r,publicKey:n}=await m("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}})),t?h(r):f(n))}static generateSync(e=2048,t=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let r,o;return d?(({privateKey:r,publicKey:o}=n("rsa",{modulusLength:e})),t?r:o):(({privateKey:r,publicKey:o}=n("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}})),t?h(r):f(o))}}},62e3:(e,t,r)=>{const{createHash:n}=r(76417),o=r(37448),i=(e,t)=>o.encodeBuffer(n(e).update(Buffer.from(t,"base64")).digest());e.exports.kid=e=>o.encodeBuffer(n("sha256").update(JSON.stringify(e)).digest()),e.exports.x5t=i.bind(void 0,"sha1"),e.exports["x5t#S256"]=i.bind(void 0,"sha256")},718:(e,t,r)=>{const n=r(47031);e.exports=n},47031:(e,t,r)=>{const{inspect:n}=r(31669),o=r(94336),{generate:i,generateSync:s}=r(47943),{USES_MAPPING:a}=r(92931),{isKey:c,asKey:l}=r(86887),u=(e,{alg:t,use:r,ops:n})=>{let o=0;return t&&e.alg&&o++,r&&e.use&&o++,n&&e.key_ops&&o++,o};class p{constructor(...e){for(;e.some(Array.isArray);)e=e.flat?e.flat():e.reduce(((e,t)=>Array.isArray(t)?[...e,...t]:(e.push(t),e)),[]);if(e.some((e=>!c(e)||!e.kty)))throw new TypeError("all keys must be instances of a key instantiated by JWK.asKey");this._keys=new Set(e)}all({alg:e,kid:t,thumbprint:r,use:n,kty:o,key_ops:i,x5t:s,"x5t#S256":c,crv:l}={}){if(void 0!==i&&(!Array.isArray(i)||!i.length||i.some((e=>"string"!=typeof e))))throw new TypeError("`key_ops` must be a non-empty array of strings");const p={alg:e,use:n,ops:i};return[...this._keys].filter((u=>{let p=!0;if(p&&void 0!==t&&u.kid!==t&&(p=!1),p&&void 0!==r&&u.thumbprint!==r&&(p=!1),p&&void 0!==s&&u.x5t!==s&&(p=!1),p&&void 0!==c&&u["x5t#S256"]!==c&&(p=!1),p&&void 0!==o&&u.kty!==o&&(p=!1),p&&void 0!==l&&u.crv!==l&&(p=!1),void 0===e||u.algorithms().has(e)||(p=!1),p&&void 0!==n&&void 0!==u.use&&u.use!==n&&(p=!1),p&&void 0!==i&&(void 0!==u.key_ops||void 0!==u.use)){let e;e=u.key_ops?new Set(u.key_ops):a[u.use],i.some((t=>!e.has(t)))&&(p=!1)}return p})).sort(((e,t)=>u(t,p)-u(e,p)))}get(...e){return this.all(...e)[0]}add(e){if(!c(e)||!e.kty)throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.add(e)}remove(e){if(!c(e))throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.delete(e)}toJWKS(e=!1){return{keys:[...this._keys.values()].map((t=>t.toJWK(e&&(t.private||t.secret&&t.k))))}}async generate(...e){this._keys.add(await i(...e))}generateSync(...e){this._keys.add(s(...e))}get size(){return this._keys.size}[n.custom](){return`${this.constructor.name} ${n(this.toJWKS(!1),{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}*[Symbol.iterator](){for(const e of this._keys)yield e}}e.exports={KeyStore:p,asKeyStore:function(e,{ignoreErrors:t=!1,calculateMissingRSAPrimes:r=!1}={}){if(!o(e)||!Array.isArray(e.keys)||e.keys.some((e=>!o(e)||!("kty"in e))))throw new TypeError("jwks must be a JSON Web Key Set formatted object");const n=e.keys.map((e=>{try{return l(e,{calculateMissingRSAPrimes:r})}catch(e){if(!t)throw e;return}})).filter(Boolean);return new p(...n)}}},94207:(e,t,r)=>{const n=r(919),{verify:o}=r(18508),i=(e,t,r,o,i)=>new n(t).recipient(r,o,i).sign(e);e.exports.Sign=n,e.exports.sign=i.bind(void 0,"compact"),e.exports.sign.flattened=i.bind(void 0,"flattened"),e.exports.sign.general=i.bind(void 0,"general"),e.exports.verify=o},59606:(e,t,r)=>{const n=r(94336);let o=r(16542);const{JWSInvalid:i}=r(8293);o=o.bind(void 0,i);const s=(e,[t])=>`${t.protected}.${e}.${t.signature}`;s.validate=(e,{0:{unprotectedHeader:t,protectedHeader:r},length:n})=>{if(1!==n||t)throw new i("JWS Compact Serialization doesn't support multiple recipients or JWS unprotected headers");o(r,t,r?r.crit:void 0)};const a=(e,[t])=>{const{header:r,signature:n,protected:o}=t;return{payload:e,...o?{protected:o}:void 0,...r?{header:r}:void 0,signature:n}};a.validate=(e,{0:{unprotectedHeader:t,protectedHeader:r},length:n})=>{if(1!==n)throw new i("Flattened JWS JSON Serialization doesn't support multiple recipients");o(r,t,r?r.crit:void 0)};const c=(e,t)=>({payload:e,signatures:t.map((({header:e,signature:t,protected:r})=>({...r?{protected:r}:void 0,...e?{header:e}:void 0,signature:t})))});c.validate=(e,t)=>{let r=!1;if(t.forEach((({protectedHeader:e,unprotectedHeader:t})=>{e&&!r&&"b64"in e&&(r=!0),o(e,t,e?e.crit:void 0)})),r&&!t.map((({protectedHeader:e})=>e&&e.b64)).every(((e,t,[r])=>e===r)))throw new i('the "b64" Header Parameter value MUST be the same for all recipients')};const l=e=>n(e)&&"string"==typeof e.signature&&(void 0===e.header||n(e.header))&&(void 0===e.protected||"string"==typeof e.protected);e.exports={compact:s,flattened:a,general:c,detect:e=>{if("string"==typeof e&&3===e.split(".").length)return"compact";if((e=>n(e)&&("string"==typeof e.payload||Buffer.isBuffer(e.payload)))(e)){if((e=>!(!Array.isArray(e.signatures)||!e.signatures.every(l)))(e))return"general";if(l(e))return"flattened"}throw new i("JWS malformed or invalid serialization")}}},919:(e,t,r)=>{const n=r(37448),o=r(970),i=r(94336),s=r(49270),{JWSInvalid:a}=r(8293),{sign:c}=r(45889),l=r(75579),u=r(59606),p=Symbol("PROCESS_RECIPIENT");e.exports=class{constructor(e){if("string"==typeof e)e=n.encode(e);else if(Buffer.isBuffer(e))e=n.encodeBuffer(e),this._binary=!0;else{if(!i(e))throw new TypeError("payload argument must be a Buffer, string or an object");e=n.JSON.encode(e)}this._payload=e,this._recipients=[]}recipient(e,t,r){if(e=l(e),void 0!==t&&!i(t))throw new TypeError("protectedHeader argument must be a plain object when provided");if(void 0!==r&&!i(r))throw new TypeError("unprotectedHeader argument must be a plain object when provided");if(!o(t,r))throw new a("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");return this._recipients.push({key:e,protectedHeader:t?s(t):void 0,unprotectedHeader:r?s(r):void 0}),this}[p](e,t){const{key:r,protectedHeader:o,unprotectedHeader:i}=e;if("enc"===r.use)throw new TypeError('a key with "use":"enc" is not usable for signing');const s={protected:o||{},unprotected:i||{}};let l=s.protected.alg||s.unprotected.alg;if(l||(l=r.alg||[...r.algorithms("sign")][0],e.protectedHeader?s.protected.alg=e.protectedHeader.alg=l:s.protected=e.protectedHeader={alg:l}),!l)throw new a('could not resolve a usable "alg" for a recipient');e.header=i,e.protected=Object.keys(s.protected).length?n.JSON.encode(s.protected):"",t&&s.protected.crit&&s.protected.crit.includes("b64")&&!1===s.protected.b64&&(this._binary?this._payload=n.decodeToBuffer(this._payload):this._payload=n.decode(this._payload));const u=Buffer.concat([Buffer.from(e.protected||""),Buffer.from("."),Buffer.from(this._payload)]);e.signature=n.encodeBuffer(c(l,r,u))}sign(e){const t=u[e];if(!t)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new a("missing recipients");return t.validate(this,this._recipients),this._recipients.forEach(((e,t)=>{this[p](e,0===t)})),t(this._payload,this._recipients)}}},18508:(e,t,r)=>{const{EOL:n}=r(12087),o=r(37448),i=r(970),s=r(94336);let a=r(16542);const c=r(75579),{KeyStore:l}=r(718),u=r(8293),{check:p,verify:d}=r(45889),f=r(86887),{detect:h}=r(59606);a=a.bind(void 0,u.JWSInvalid);const g=new Set(["compact","flattened","preparsed"]),m=(e,t,r,y,{crit:v=[],complete:b=!1,algorithms:w}={})=>{if(y=c(y,!0),void 0!==w&&(!Array.isArray(w)||w.some((e=>"string"!=typeof e||!e))))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(w&&(w=new Set(w)),!Array.isArray(v)||v.some((e=>"string"!=typeof e||!e)))throw new TypeError('"crit" option must be an array of non-empty strings');let E,_,O,S,T,C;if(t||(t=h(r)),"general"===t&&1===r.signatures.length){t="flattened";const{signatures:e,...n}=r;r={...n,...e[0]}}if(g.has(t)){let c={};switch(t){case"compact":[E,O,S]=r.split(".");break;case"flattened":({protected:E,payload:O,signature:S,header:_}=r);break;case"preparsed":({decoded:C}=r),[E,O,S]=r.token.split(".")}if(_||(e=!0),C)c=C.header;else if(E)try{c=o.JSON.decode(E)}catch(e){throw new u.JWSInvalid("could not parse JWS protected header")}else e=e||!0;if(!e&&!i(c,_))throw new u.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const h={...c,..._};if(a(c,_,v),T=c.alg||_&&_.alg,!T)throw new u.JWSInvalid("missing JWS signature algorithm");if(w&&!w.has(T))throw new u.JOSEAlgNotWhitelisted("alg not whitelisted");if(y instanceof l){const e=y.all({kid:h.kid,alg:h.alg,key_ops:["verify"]});switch(e.length){case 0:throw new u.JWKSNoMatchingKey;case 1:y=e[0];break;default:{const n=[];for(const o of e)try{return m(!0,t,r,o,{crit:v,complete:b,algorithms:w?[...w]:void 0})}catch(e){n.push(e);continue}const o=new u.JOSEMultiError(n);if([...o].some((e=>e instanceof u.JWSVerificationFailed)))throw new u.JWSVerificationFailed;throw o}}}if(y===f.EmbeddedJWK){if(!s(h.jwk))throw new u.JWSInvalid('JWS Header Parameter "jwk" must be a JSON object');if("public"!==(y=f.asKey(h.jwk)).type)throw new u.JWSInvalid('JWS Header Parameter "jwk" must be a public key')}else if(y===f.EmbeddedX5C){if(!Array.isArray(h.x5c)||!h.x5c.length||h.x5c.some((e=>"string"!=typeof e||!e)))throw new u.JWSInvalid('JWS Header Parameter "x5c" must be a JSON array of certificate value strings');y=f.asKey(`-----BEGIN CERTIFICATE-----${n}${(h.x5c[0].match(/.{1,64}/g)||[]).join(n)}${n}-----END CERTIFICATE-----`,{x5c:h.x5c})}p(y,"verify",T);const g=Buffer.concat([Buffer.from(E||""),Buffer.from("."),Buffer.isBuffer(O)?O:Buffer.from(O)]);if(!d(T,y,g,o.decodeToBuffer(S)))throw new u.JWSVerificationFailed;if(O=!1===h.b64?Buffer.from(O):o.decodeToBuffer(O),b){const e={payload:O,key:y};return E&&(e.protected=c),_&&(e.header=_),e}return O}const{signatures:A,...x}=r,I=[];for(const e of A)try{return m(!1,"flattened",{...x,...e},y,{crit:v,complete:b,algorithms:w?[...w]:void 0})}catch(e){I.push(e);continue}const k=new u.JOSEMultiError(I);if([...k].some((e=>e instanceof u.JWSVerificationFailed)))throw new u.JWSVerificationFailed;if([...k].every((e=>e instanceof u.JWKSNoMatchingKey)))throw new u.JWKSNoMatchingKey;throw k};e.exports={bare:m,verify:m.bind(void 0,!1,void 0)}},24889:(e,t,r)=>{const n=r(37448),o=r(8293);e.exports=(e,{complete:t=!1}={})=>{if("string"!=typeof e||!e)throw new TypeError("JWT must be a string");const{0:r,1:i,2:s,length:a}=e.split(".");if(5===a)throw new TypeError("encrypted JWTs cannot be decoded");if(3!==a)throw new o.JWTMalformed("JWTs must have three components");try{const e={header:n.JSON.decode(r),payload:n.JSON.decode(i),signature:s};return t?e:e.payload}catch(e){throw new o.JWTMalformed("JWT is malformed")}}},26698:(e,t,r)=>{const n=r(24889),o=r(58838),i=r(27459),s=r(94611);e.exports={sign:o,verify:i,...s},Object.defineProperty(e.exports,"decode",{enumerable:!1,configurable:!0,value:n})},94611:(e,t,r)=>{const{JWTClaimInvalid:n}=r(8293),o=r(73232),i=r(7374),s=r(94336),a=r(27459),{isString:c,isRequired:l,isTimestamp:u,isStringOrArrayOfStrings:p}=r(72563),d=l.bind(void 0,n),f=c.bind(void 0,n),h=c.bind(void 0,TypeError),g=(e,t,r,n)=>{Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:(...o)=>(process.emitWarning(`The ${r} API implements an IETF draft. Breaking draft implementations are included as minor versions of the jose library, therefore, the ~ semver operator should be used and close attention be payed to library changelog as well as the drafts themselves.`,"DraftWarning"),Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:n}),e[t](...o))})},m=(e,t)=>{if(!s(e))throw new TypeError("options must be an object");if(!e.issuer)throw new TypeError(`"issuer" option is required to validate ${t}`);if(!e.audience)throw new TypeError(`"audience" option is required to validate ${t}`)};e.exports={IdToken:{verify:(e,t,r={})=>{m(r,"an ID Token"),"maxAuthAge"in r&&h(r.maxAuthAge,"options.maxAuthAge"),"nonce"in r&&h(r.nonce,"options.nonce");const s=i(r.now||new Date),c=a(e,t,{...r}),l=r.complete?c.payload:c;if(Array.isArray(l.aud)&&l.aud.length>1&&d(l.azp,'"azp" claim',"azp"),d(l.iat,'"iat" claim',"iat"),d(l.sub,'"sub" claim',"sub"),d(l.exp,'"exp" claim',"exp"),u(l.auth_time,"auth_time",!!r.maxAuthAge),f(l.nonce,'"nonce" claim',"nonce",!!r.nonce),f(l.acr,'"acr" claim',"acr"),p(l.amr,"amr"),r.nonce&&l.nonce!==r.nonce)throw new n('unexpected "nonce" claim value',"nonce","check_failed");const g=r.clockTolerance?o(r.clockTolerance):0;if(r.maxAuthAge){const e=o(r.maxAuthAge);if(l.auth_time+e<s-g)throw new n('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}if(Array.isArray(l.aud)&&l.aud.length>1&&l.azp!==r.audience)throw new n('unexpected "azp" claim value',"azp","check_failed");return c}},LogoutToken:{},AccessToken:{}},g(e.exports.LogoutToken,"verify","jose.JWT.LogoutToken.verify",((e,t,r={})=>{m(r,"a Logout Token");const o=a(e,t,{...r}),i=r.complete?o.payload:o;if(d(i.iat,'"iat" claim',"iat"),d(i.jti,'"jti" claim',"jti"),f(i.sid,'"sid" claim',"sid"),!("sid"in i)&&!("sub"in i))throw new n('either "sid" or "sub" (or both) claims must be present');if("nonce"in i)throw new n('"nonce" claim is prohibited',"nonce","prohibited");if(!("events"in i))throw new n('"events" claim is missing',"events","missing");if(!s(i.events))throw new n('"events" claim must be an object',"events","invalid");if(!("http://schemas.openid.net/event/backchannel-logout"in i.events))throw new n('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim',"events","invalid");if(!s(i.events["http://schemas.openid.net/event/backchannel-logout"]))throw new n('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object',"events","invalid");return o})),g(e.exports.AccessToken,"verify","jose.JWT.AccessToken.verify",((e,t,r={})=>{m(r,"a JWT Access Token"),h(r.maxAuthAge,"options.maxAuthAge");const s=i(r.now||new Date),c=a(e,t,{...r,typ:"at+JWT"}),l=r.complete?c.payload:c;d(l.iat,'"iat" claim',"iat"),d(l.exp,'"exp" claim',"exp"),d(l.sub,'"sub" claim',"sub"),d(l.jti,'"jti" claim',"jti"),f(l.client_id,'"client_id" claim',"client_id",!0),u(l.auth_time,"auth_time",!!r.maxAuthAge),f(l.acr,'"acr" claim',"acr"),p(l.amr,"amr");const g=r.clockTolerance?o(r.clockTolerance):0;if(r.maxAuthAge){const e=o(r.maxAuthAge);if(l.auth_time+e<s-g)throw new n('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}return c}))},72563:(e,t,r)=>{const{JWTClaimInvalid:n}=r(8293),o=e=>"string"!=typeof e||0===e.length,i=e=>!Array.isArray(e)||0===e.length||e.some(o),s=(e,t,r,n)=>{if(void 0===t)throw new e(`${r} is missing`,n,"missing")};e.exports={isNotArrayOfStrings:i,isRequired:s,isNotString:o,isString:(e,t,r,n,i=!1)=>{if(i&&s(e,t,r,n),void 0!==t&&o(t))throw new e(`${r} must be a string`,n,"invalid")},isTimestamp:(e,t,r=!1)=>{if(r&&void 0===e)throw new n(`"${t}" claim is missing`,t,"missing");if(void 0!==e&&"number"!=typeof e)throw new n(`"${t}" claim must be a JSON numeric value`,t,"invalid")},isStringOrArrayOfStrings:(e,t,r=!1)=>{if(r&&void 0===e)throw new n(`"${t}" claim is missing`,t,"missing");if(void 0!==e&&o(e)&&i(e))throw new n(`"${t}" claim must be a string or array of strings`,t,"invalid")}}},58838:(e,t,r)=>{const n=r(94336),o=r(73232),i=r(7374),s=r(75579),a=r(94207),c=r(72563).isString.bind(void 0,TypeError);e.exports=(e,t,r={})=>{if(!n(r))throw new TypeError("options must be an object");const{algorithm:l,audience:u,expiresIn:p,header:d={},iat:f=!0,issuer:h,jti:g,kid:m=!0,notBefore:y,subject:v,now:b}=r;if((e=>{if("boolean"!=typeof e.iat)throw new TypeError("options.iat must be a boolean");if("boolean"!=typeof e.kid)throw new TypeError("options.kid must be a boolean");if(c(e.subject,"options.subject"),c(e.issuer,"options.issuer"),void 0!==e.audience&&("string"!=typeof e.audience||!e.audience)&&(!Array.isArray(e.audience)||0===e.audience.length||e.audience.some((e=>!e||"string"!=typeof e))))throw new TypeError("options.audience must be a string or an array of strings");if(!n(e.header))throw new TypeError("options.header must be an object");if(c(e.algorithm,"options.algorithm"),c(e.expiresIn,"options.expiresIn"),c(e.notBefore,"options.notBefore"),c(e.jti,"options.jti"),!(void 0===e.now||e.now instanceof Date&&e.now.getTime()))throw new TypeError("options.now must be a valid Date object")})({algorithm:l,audience:u,expiresIn:p,header:d,iat:f,issuer:h,jti:g,kid:m,notBefore:y,now:b,subject:v}),!n(e))throw new TypeError("payload must be an object");let w,E;return(p||y||f)&&(w=i(b||new Date)),e={...e,sub:v||e.sub,aud:u||e.aud,iss:h||e.iss,jti:g||e.jti,iat:f?w:e.iat,exp:p?w+o(p):e.exp,nbf:y?w+o(y):e.nbf},t=s(t),E="boolean"==typeof r.kid?m:!t.secret,a.sign(JSON.stringify(e),t,{...d,alg:l||d.alg,kid:E?t.kid:d.kid})}},27459:(e,t,r)=>{const n=r(94336),o=r(7374),i=r(73232),s=r(75579),{bare:a}=r(18508),{JWTClaimInvalid:c,JWTExpired:l}=r(8293),{isString:u,isNotString:p,isNotArrayOfStrings:d,isTimestamp:f,isStringOrArrayOfStrings:h}=r(72563),g=r(24889),m=u.bind(void 0,c),y=u.bind(void 0,TypeError),v=e=>e.toLowerCase().replace(/^application\//,"");e.exports=(e,t,r={})=>{if(!n(r))throw new TypeError("options must be an object");const{algorithms:u,audience:b,clockTolerance:w,complete:E,crit:_,ignoreExp:O,ignoreIat:S,ignoreNbf:T,issuer:C,jti:A,maxTokenAge:x,now:I,subject:k,typ:N}=r=(({algorithms:e,audience:t,clockTolerance:r,complete:n=!1,crit:o,ignoreExp:i=!1,ignoreIat:s=!1,ignoreNbf:a=!1,issuer:c,jti:l,maxTokenAge:u,now:f=new Date,subject:h,typ:g})=>{if("boolean"!=typeof n)throw new TypeError("options.complete must be a boolean");if("boolean"!=typeof i)throw new TypeError("options.ignoreExp must be a boolean");if("boolean"!=typeof a)throw new TypeError("options.ignoreNbf must be a boolean");if("boolean"!=typeof s)throw new TypeError("options.ignoreIat must be a boolean");if(y(u,"options.maxTokenAge"),y(h,"options.subject"),y(l,"options.jti"),y(r,"options.clockTolerance"),y(g,"options.typ"),void 0!==c&&p(c)&&d(c))throw new TypeError("options.issuer must be a string or an array of strings");if(void 0!==t&&p(t)&&d(t))throw new TypeError("options.audience must be a string or an array of strings");if(void 0!==e&&d(e))throw new TypeError("options.algorithms must be an array of strings");if(!(f instanceof Date&&f.getTime()))throw new TypeError("options.now must be a valid Date object");if(s&&void 0!==u)throw new TypeError("options.ignoreIat and options.maxTokenAge cannot used together");if(void 0!==o&&d(o))throw new TypeError("options.crit must be an array of strings");return{algorithms:e,audience:t,clockTolerance:r,complete:n,crit:o,ignoreExp:i,ignoreIat:s,ignoreNbf:a,issuer:c,jti:l,maxTokenAge:u,now:f,subject:h,typ:g}})(r),P=g(e,{complete:!0});t=s(t,!0),E?(({key:t}=a(!0,"preparsed",{decoded:P,token:e},t,{crit:_,algorithms:u,complete:!0})),P.key=t):a(!0,"preparsed",{decoded:P,token:e},t,{crit:_,algorithms:u});const R=o(I);if((({header:e,payload:t},r)=>{m(e.alg,'"alg" header parameter',"alg",!0),f(t.iat,"iat",!!r.maxTokenAge),f(t.exp,"exp"),f(t.nbf,"nbf"),m(t.jti,'"jti" claim',"jti",!!r.jti),h(t.iss,"iss",!!r.issuer),m(t.sub,'"sub" claim',"sub",!!r.subject),h(t.aud,"aud",!!r.audience),m(e.typ,'"typ" header parameter',"typ",!!r.typ)})(P,r),C&&("string"!=typeof P.payload.iss||!("string"==typeof C?[C]:C).includes(P.payload.iss)))throw new c('unexpected "iss" claim value',"iss","check_failed");if(k&&P.payload.sub!==k)throw new c('unexpected "sub" claim value',"sub","check_failed");if(A&&P.payload.jti!==A)throw new c('unexpected "jti" claim value',"jti","check_failed");if(b&&(D="string"==typeof b?[b]:b,!("string"==typeof(j=P.payload.aud)?D.includes(j):(j=new Set(j),D.some(Set.prototype.has.bind(j))))))throw new c('unexpected "aud" claim value',"aud","check_failed");var j,D;if(N&&v(P.header.typ)!==v(N))throw new c('unexpected "typ" JWT header value',"typ","check_failed");const L=w?i(w):0;if(!S&&!("exp"in P.payload)&&"iat"in P.payload&&P.payload.iat>R+L)throw new c('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed");if(!T&&"nbf"in P.payload&&P.payload.nbf>R+L)throw new c('"nbf" claim timestamp check failed',"nbf","check_failed");if(!O&&"exp"in P.payload&&P.payload.exp<=R-L)throw new l('"exp" claim timestamp check failed',"exp","check_failed");if(x){const e=R-P.payload.iat;if(e-L>i(x))throw new l('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-L)throw new c('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return E?P:P.payload}},80796:(e,t,r)=>{const{getCurves:n}=r(76417),o=new Set;n().includes("prime256v1")&&o.add("P-256"),n().includes("secp256k1")&&o.add("secp256k1"),n().includes("secp384r1")&&o.add("P-384"),n().includes("secp521r1")&&o.add("P-521"),e.exports=o},97106:e=>{e.exports=new Map},7422:(e,t,r)=>{const n=r(80796),o=r(75319),i=r(6954),s=r(39484),a=r(55347),c=r(74047),l=r(97106);e.exports={EC_CURVES:n,ECDH_DERIVE_LENGTHS:l,IVLENGTHS:o,JWA:i,JWK:s,KEYLENGTHS:a,OKP_CURVES:c}},75319:e=>{e.exports=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]])},6954:e=>{e.exports={sign:new Map,verify:new Map,keyManagementEncrypt:new Map,keyManagementDecrypt:new Map,encrypt:new Map,decrypt:new Map}},39484:e=>{e.exports={oct:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},EC:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},RSA:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},OKP:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}}}},55347:e=>{e.exports=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]])},74047:e=>{const t=new Set(["Ed25519"]);"electron"in process.versions||(t.add("Ed448"),t.add("X25519"),t.add("X448")),e.exports=t},4400:(e,t,r)=>{var n=r(54123).stringify,o=r(26813);e.exports=function(e){return{parse:o(e),stringify:n}},e.exports.parse=o(),e.exports.stringify=n},26813:(e,t,r)=>{var n=null;const o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`);t.protoAction=e.protoAction}}var s,a,c,l,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},p=function(e){throw{name:"SyntaxError",message:e,at:s,text:c}},d=function(e){return e&&e!==a&&p("Expected '"+e+"' instead of '"+a+"'"),a=c.charAt(s),s+=1,a},f=function(){var e,o="";for("-"===a&&(o="-",d("-"));a>="0"&&a<="9";)o+=a,d();if("."===a)for(o+=".";d()&&a>="0"&&a<="9";)o+=a;if("e"===a||"E"===a)for(o+=a,d(),"-"!==a&&"+"!==a||(o+=a,d());a>="0"&&a<="9";)o+=a,d();if(e=+o,isFinite(e))return null==n&&(n=r(905)),o.length>15?t.storeAsString?o:t.useNativeBigInt?BigInt(o):new n(o):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;p("Bad number")},h=function(){var e,t,r,n="";if('"'===a)for(var o=s;d();){if('"'===a)return s-1>o&&(n+=c.substring(o,s-1)),d(),n;if("\\"===a){if(s-1>o&&(n+=c.substring(o,s-1)),d(),"u"===a){for(r=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof u[a])break;n+=u[a]}o=s}}p("Bad string")},g=function(){for(;a&&a<=" ";)d()};return l=function(){switch(g(),a){case"{":return function(){var e,r=Object.create(null);if("{"===a){if(d("{"),g(),"}"===a)return d("}"),r;for(;a;){if(e=h(),g(),d(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&p('Duplicate key "'+e+'"'),!0===o.test(e)?"error"===t.protoAction?p("Object contains forbidden prototype property"):"ignore"===t.protoAction?l():r[e]=l():!0===i.test(e)?"error"===t.constructorAction?p("Object contains forbidden constructor property"):"ignore"===t.constructorAction?l():r[e]=l():r[e]=l(),g(),"}"===a)return d("}"),r;d(","),g()}}p("Bad object")}();case"[":return function(){var e=[];if("["===a){if(d("["),g(),"]"===a)return d("]"),e;for(;a;){if(e.push(l()),g(),"]"===a)return d("]"),e;d(","),g()}}p("Bad array")}();case'"':return h();case"-":return f();default:return a>="0"&&a<="9"?f():function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}p("Unexpected '"+a+"'")}()}},function(e,t){var r;return c=e+"",s=0,a=" ",r=l(),g(),a&&p("Syntax error"),"function"==typeof t?function e(r,n){var o,i=r[n];return i&&"object"==typeof i&&Object.keys(i).forEach((function(t){void 0!==(o=e(i,t))?i[t]=o:delete i[t]})),t.call(r,n,i)}({"":r},""):r}}},54123:(e,t,r)=>{var n=r(905),o=e.exports;!function(){"use strict";var e,t,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function c(o,i){var s,l,u,p,d,f=e,h=i[o],g=null!=h&&(h instanceof n||n.isBigNumber(h));switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(o)),"function"==typeof r&&(h=r.call(i,o,h)),typeof h){case"string":return g?h:a(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":case"bigint":return String(h);case"object":if(!h)return"null";if(e+=t,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(p=h.length,s=0;s<p;s+=1)d[s]=c(s,h)||"null";return u=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+f+"]":"["+d.join(",")+"]",e=f,u}if(r&&"object"==typeof r)for(p=r.length,s=0;s<p;s+=1)"string"==typeof r[s]&&(u=c(l=r[s],h))&&d.push(a(l)+(e?": ":":")+u);else Object.keys(h).forEach((function(t){var r=c(t,h);r&&d.push(a(t)+(e?": ":":")+r)}));return u=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+f+"}":"{"+d.join(",")+"}",e=f,u}}"function"!=typeof o.stringify&&(o.stringify=function(n,o,i){var s;if(e="",t="","number"==typeof i)for(s=0;s<i;s+=1)t+=" ";else"string"==typeof i&&(t=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return c("",{"":n})})}()},97626:(e,t,r)=>{var n=r(39828);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var o=r.payload;if("string"==typeof o)try{var i=JSON.parse(o);null!==i&&"object"==typeof i&&(o=i)}catch(e){}return!0===t.complete?{header:r.header,payload:o,signature:r.signature}:o}},49704:(e,t,r)=>{e.exports={decode:r(97626),verify:r(17030),sign:r(22506),JsonWebTokenError:r(58619),NotBeforeError:r(71826),TokenExpiredError:r(2340)}},58619:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(t.prototype=Object.create(Error.prototype)).constructor=t,e.exports=t},71826:(e,t,r)=>{var n=r(58619),o=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},2340:(e,t,r)=>{var n=r(58619),o=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},14964:(e,t,r)=>{var n=r(36625);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},68034:(e,t,r)=>{var n=r(82042);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var o=n(e);if(void 0===o)return;return Math.floor(r+o/1e3)}return"number"==typeof e?r+e:void 0}},51464:(e,t,r)=>{var n=r(88500),o=r(89509).Buffer,i=r(76417),s=r(35015),a=r(31669),c="secret must be a string or buffer",l="key must be a string or a buffer",u="function"==typeof i.createPublicKey;function p(e){if(!o.isBuffer(e)&&"string"!=typeof e){if(!u)throw g(l);if("object"!=typeof e)throw g(l);if("string"!=typeof e.type)throw g(l);if("string"!=typeof e.asymmetricKeyType)throw g(l);if("function"!=typeof e.export)throw g(l)}}function d(e){if(!o.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=a.format.bind(a,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,o.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!o.isBuffer(e)){if("string"==typeof e)return e;if(!u)throw g(c);if("object"!=typeof e)throw g(c);if("secret"!==e.type)throw g(c);if("function"!=typeof e.export)throw g(c)}}(r),t=m(t);var n=i.createHmac("sha"+e,r);return f((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,i){var s=y(e)(t,i);return n(o.from(r),o.from(s))}}function b(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return f((n.update(t),n.sign(r,"base64")))}}function w(e){return function(t,r,n){p(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify(n,r,"base64")}}function E(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return f((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,n){p(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function O(e){var t=b(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function S(e){var t=w(e);return function(r,n,o){return n=s.joseToDer(n,"ES"+e).toString("base64"),t(r,n,o)}}function T(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(l+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:b,ps:E,es:O,none:T},r={hs:v,rs:w,ps:_,es:S,none:C},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}},39828:(e,t,r)=>{var n=r(96580),o=r(4744);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=o.verify,t.decode=o.decode,t.isValid=o.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new o(e)}},79961:(e,t,r)=>{var n=r(89509).Buffer,o=r(92413);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(31669).inherits(i,o),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=i},96580:(e,t,r)=>{var n=r(89509).Buffer,o=r(79961),i=r(51464),s=r(92413),a=r(91540),c=r(31669);function l(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,o=e.encoding,s=i(t.alg),u=function(e,t,r){r=r||"utf8";var n=l(a(e),"binary"),o=l(a(t),r);return c.format("%s.%s",n,o)}(t,r,o),p=s.sign(u,n);return c.format("%s.%s",u,p)}function p(e){var t=e.secret||e.privateKey||e.key,r=new o(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new o(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(p,s),p.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},p.sign=u,e.exports=p},91540:(e,t,r)=>{var n=r(64293).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},4744:(e,t,r)=>{var n=r(89509).Buffer,o=r(79961),i=r(51464),s=r(92413),a=r(91540),c=r(31669),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".")[2]}function d(e){return l.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var o=p(e=a(e)),s=function(e){return e.split(".",2).join(".")}(e);return i(t).verify(s,o,r)}function h(e,t){if(t=t||{},!d(e=a(e)))return null;var r=u(e);if(!r)return null;var o=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:r,payload:o,signature:p(e)}}function g(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new o(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new o(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(g,s),g.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=h(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},g.decode=h,g.isValid=d,g.verify=f,e.exports=g},82042:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},22506:(e,t,r)=>{var n=r(68034),o=r(14964),i=r(39828),s=r(28922),a=r(48094),c=r(55928),l=r(23126),u=r(8146),p=r(25751),d=r(38917),f=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];o&&f.splice(3,0,"PS256","PS384","PS512");var h={expiresIn:{isValid:function(e){return c(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,f),message:'"algorithm" must be a valid string enum value'},header:{isValid:u,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'}},g={iat:{isValid:l,message:'"iat" should be a number of seconds'},exp:{isValid:l,message:'"exp" should be a number of seconds'},nbf:{isValid:l,message:'"nbf" should be a number of seconds'}};function m(e,t,r,n){if(!u(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(o){var i=e[o];if(i){if(!i.isValid(r[o]))throw new Error(i.message)}else if(!t)throw new Error('"'+o+'" is not allowed in "'+n+'"')}))}var y={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},v=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,o){"function"==typeof r?(o=r,r={}):r=r||{};var s="object"==typeof e&&!Buffer.isBuffer(e),a=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function c(e){if(o)return o(e);throw e}if(!t&&"none"!==r.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(void 0===e)return c(new Error("payload is required"));if(s){try{!function(e){m(g,!0,e,"payload")}(e)}catch(e){return c(e)}r.mutatePayload||(e=Object.assign({},e))}else{var l=v.filter((function(e){return void 0!==r[e]}));if(l.length>0)return c(new Error("invalid "+l.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){m(h,!1,e,"options")}(r)}catch(e){return c(e)}var u=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=u),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,u)}catch(e){return c(e)}if(void 0===e.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,u)}catch(e){return c(e)}if(void 0===e.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(y).forEach((function(t){var n=y[t];if(void 0!==r[t]){if(void 0!==e[n])return c(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));var p=r.encoding||"utf8";if("function"!=typeof o)return i.sign({header:a,payload:e,secret:t,encoding:p});o=o&&d(o),i.createSign({header:a,privateKey:t,payload:e,encoding:p}).once("error",o).once("done",(function(e){o(null,e)}))}},17030:(e,t,r)=>{var n=r(58619),o=r(71826),i=r(2340),s=r(97626),a=r(68034),c=r(14964),l=r(39828),u=["RS256","RS384","RS512","ES256","ES384","ES512"],p=["RS256","RS384","RS512"],d=["HS256","HS384","HS512"];c&&(u.splice(3,0,"PS256","PS384","PS512"),p.splice(3,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){var f;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),f=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return f(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return f(new n("nonce must be a non-empty string"));var h=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return f(new n("jwt must be provided"));if("string"!=typeof e)return f(new n("jwt must be a string"));var g,m=e.split(".");if(3!==m.length)return f(new n("jwt malformed"));try{g=s(e,{complete:!0})}catch(e){return f(e)}if(!g)return f(new n("invalid token"));var y,v=g.header;if("function"==typeof t){if(!c)return f(new n("verify must be called asynchronous if secret or public key is provided as a callback"));y=t}else y=function(e,r){return r(null,t)};return y(v,(function(t,s){if(t)return f(new n("error in secret or public key callback: "+t.message));var c,y=""!==m[2].trim();if(!y&&s)return f(new n("jwt signature is required"));if(y&&!s)return f(new n("secret or public key must be provided"));if(y||r.algorithms||(r.algorithms=["none"]),r.algorithms||(r.algorithms=~s.toString().indexOf("BEGIN CERTIFICATE")||~s.toString().indexOf("BEGIN PUBLIC KEY")?u:~s.toString().indexOf("BEGIN RSA PUBLIC KEY")?p:d),!~r.algorithms.indexOf(g.header.alg))return f(new n("invalid algorithm"));try{c=l.verify(e,g.header.alg,s)}catch(e){return f(e)}if(!c)return f(new n("invalid signature"));var b=g.payload;if(void 0!==b.nbf&&!r.ignoreNotBefore){if("number"!=typeof b.nbf)return f(new n("invalid nbf value"));if(b.nbf>h+(r.clockTolerance||0))return f(new o("jwt not active",new Date(1e3*b.nbf)))}if(void 0!==b.exp&&!r.ignoreExpiration){if("number"!=typeof b.exp)return f(new n("invalid exp value"));if(h>=b.exp+(r.clockTolerance||0))return f(new i("jwt expired",new Date(1e3*b.exp)))}if(r.audience){var w=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(b.aud)?b.aud:[b.aud]).some((function(e){return w.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return f(new n("jwt audience invalid. expected: "+w.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&b.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(b.iss)))return f(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&b.sub!==r.subject)return f(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&b.jti!==r.jwtid)return f(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&b.nonce!==r.nonce)return f(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof b.iat)return f(new n("iat required when maxAge is specified"));var E=a(r.maxAge,b.iat);if(void 0===E)return f(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(h>=E+(r.clockTolerance||0))return f(new i("maxAge exceeded",new Date(1e3*E)))}if(!0===r.complete){var _=g.signature;return f(null,{header:v,payload:b,signature:_})}return f(null,b)}))}},54178:(e,t,r)=>{var n=r(88500),o=r(89509).Buffer,i=r(76417),s=r(35015),a=r(31669),c="secret must be a string or buffer",l="key must be a string or a buffer",u="function"==typeof i.createPublicKey;function p(e){if(!o.isBuffer(e)&&"string"!=typeof e){if(!u)throw g(l);if("object"!=typeof e)throw g(l);if("string"!=typeof e.type)throw g(l);if("string"!=typeof e.asymmetricKeyType)throw g(l);if("function"!=typeof e.export)throw g(l)}}function d(e){if(!o.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=a.format.bind(a,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,o.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!o.isBuffer(e)){if("string"==typeof e)return e;if(!u)throw g(c);if("object"!=typeof e)throw g(c);if("secret"!==e.type)throw g(c);if("function"!=typeof e.export)throw g(c)}}(r),t=m(t);var n=i.createHmac("sha"+e,r);return f((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,i){var s=y(e)(t,i);return n(o.from(r),o.from(s))}}function b(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return f((n.update(t),n.sign(r,"base64")))}}function w(e){return function(t,r,n){p(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify(n,r,"base64")}}function E(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return f((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,n){p(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function O(e){var t=b(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function S(e){var t=w(e);return function(r,n,o){return n=s.joseToDer(n,"ES"+e).toString("base64"),t(r,n,o)}}function T(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(l+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:b,ps:E,es:O,none:T},r={hs:v,rs:w,ps:_,es:S,none:C},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}},5303:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(10750)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},10750:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(3976),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},82432:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(5303):e.exports=r(23061)},23061:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(10750)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},3976:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},66503:(e,t,r)=>{const n=r(82432),{retrieveSigningKeys:o}=r(62270),{request:i,cacheSigningKey:s,rateLimitSigningKey:a,getKeysInterceptor:c,callbackSupport:l}=r(24821),u=r(69110),p=r(45224);e.exports={JwksClient:class{constructor(e){this.options={rateLimit:!1,cache:!0,timeout:3e4,...e},this.logger=n("jwks"),this.options.getKeysInterceptor&&(this.getSigningKey=c(this,e)),this.options.rateLimit&&(this.getSigningKey=a(this,e)),this.options.cache&&(this.getSigningKey=s(this,e)),this.getSigningKey=l(this,e)}async getKeys(){this.logger(`Fetching keys from '${this.options.jwksUri}'`);try{const e=await i({uri:this.options.jwksUri,headers:this.options.requestHeaders,agent:this.options.requestAgent,timeout:this.options.timeout,fetcher:this.options.fetcher});return this.logger("Keys:",e.keys),e.keys}catch(e){const{errorMsg:t}=e;throw this.logger("Failure:",t||e),t?new u(t):e}}async getSigningKeys(){const e=await this.getKeys();if(!e||!e.length)throw new u("The JWKS endpoint did not contain any keys");const t=o(e);if(!t.length)throw new u("The JWKS endpoint did not contain any signing keys");return this.logger("Signing Keys:",t),t}async getSigningKey(e){this.logger(`Fetching signing key for '${e}'`);const t=await this.getSigningKeys(),r=null!=e;if(!r&&t.length>1)throw this.logger("No KID specified and JWKS endpoint returned more than 1 key"),new p("No KID specified and JWKS endpoint returned more than 1 key");const n=t.find((t=>!r||t.kid===e));if(n)return n;throw this.logger(`Unable to find a signing key that matches '${e}'`),new p(`Unable to find a signing key that matches '${e}'`)}}}},75992:e=>{function t(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},69110:e=>{function t(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},16037:e=>{function t(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},45224:e=>{function t(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},68927:(e,t,r)=>{e.exports={ArgumentError:r(75992),JwksError:r(69110),JwksRateLimitError:r(16037),SigningKeyNotFoundError:r(45224)}},6064:(e,t,r)=>{const{JwksClient:n}=r(66503),o=r(68927),{hapiJwt2Key:i,hapiJwt2KeyAsync:s}=r(77454),{expressJwtSecret:a}=r(700),{koaJwtSecret:c}=r(61765),{passportJwtSecret:l}=r(10186);e.exports=e=>new n(e),e.exports.JwksClient=n,e.exports.ArgumentError=o.ArgumentError,e.exports.JwksError=o.JwksError,e.exports.JwksRateLimitError=o.JwksRateLimitError,e.exports.SigningKeyNotFoundError=o.SigningKeyNotFoundError,e.exports.expressJwtSecret=a,e.exports.hapiJwt2Key=i,e.exports.hapiJwt2KeyAsync=s,e.exports.koaJwtSecret=c,e.exports.passportJwtSecret=l},41614:e=>{e.exports=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES256K","ES384","ES512","EdDSA"]},700:(e,t,r)=>{const{ArgumentError:n}=r(68927),{JwksClient:o}=r(66503),i=r(41614),s=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.expressJwtSecret=function(e){if(null==e)throw new n("An options object must be provided when initializing expressJwtSecret");const t=new o(e),r=e.handleSigningKeyError||s;return function(e,n,o,s){if(!n||!i.includes(n.alg))return s(null,null);t.getSigningKey(n.kid).then((e=>{s(null,e.publicKey||e.rsaPublicKey)})).catch((e=>{r(e,(e=>s(e,null)))}))}}},77454:(e,t,r)=>{const{ArgumentError:n}=r(68927),{JwksClient:o}=r(66503),i=r(41614),s=(e,t)=>e&&"SigningKeyNotFoundError"===e.name||e?t(e,null,null):void 0;e.exports.hapiJwt2KeyAsync=t=>{const r=e.exports.hapiJwt2Key(t);return function(e){return new Promise(((t,n)=>{r(e,((e,r)=>{!r||e?n(e):t({key:r})}))}))}},e.exports.hapiJwt2Key=function(e){if(null==e)throw new n("An options object must be provided when initializing hapiJwt2Key");const t=new o(e),r=e.handleSigningKeyError||s;return function(e,n){return e&&e.header?i.includes(e.header.alg)?void t.getSigningKey(e.header.kid).then((e=>n(null,e.publicKey||e.rsaPublicKey,e))).catch((e=>r(e,(e=>n(e,null,null))))):n(new Error("Unsupported algorithm "+e.header.alg+" supplied."),null,null):n(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},61765:(e,t,r)=>{const{ArgumentError:n}=r(68927),{JwksClient:o}=r(66503),i=r(41614);e.exports.koaJwtSecret=function(e={}){if(!e.jwksUri)throw new n("No JWKS provided. Please provide a jwksUri");const t=new o(e);return function({alg:r,kid:n}={}){return new Promise(((o,s)=>{if(!i.includes(r))return s(new Error("Missing / invalid token algorithm"));t.getSigningKey(n).then((e=>{o(e.publicKey||e.rsaPublicKey)})).catch((t=>e.handleSigningKeyError?e.handleSigningKeyError(t).then(s):s(t)))}))}}},10186:(e,t,r)=>{const n=r(4948).JWT,{ArgumentError:o}=r(68927),{JwksClient:i}=r(66503),s=r(41614),a=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.passportJwtSecret=function(e){if(null==e)throw new o("An options object must be provided when initializing passportJwtSecret");if(!e.jwksUri)throw new o("No JWKS provided. Please provide a jwksUri");const t=new i(e),r=e.handleSigningKeyError||a;return function(e,o,i){let a;try{a=n.decode(o,{complete:!0})}catch(e){a=null}if(!a||!s.includes(a.header.alg))return i(null,null);t.getSigningKey(a.header.kid).then((e=>{i(null,e.publicKey||e.rsaPublicKey)})).catch((e=>{r(e,(e=>i(e,null)))}))}}},62270:(e,t,r)=>{const n=r(4948);e.exports={retrieveSigningKeys:function(e){return n.JWKS.asKeyStore({keys:e},{ignoreErrors:!0}).all({use:"sig"}).map((e=>({kid:e.kid,alg:e.alg,get publicKey(){return e.toPEM(!1)},get rsaPublicKey(){return e.toPEM(!1)},getPublicKey:()=>e.toPEM(!1)})))}}},38757:(e,t,r)=>{const n=r(82432),o=r(39723);e.exports.Z=function(e,{cacheMaxEntries:t=5,cacheMaxAge:r=6e5}){return n("jwks")(`Configured caching of signing keys. Max: ${t} / Age: ${r}`),o.sync({hash:e=>e,load:e.getSigningKey.bind(e),maxAge:r,max:t})}},59176:(e,t,r)=>{const{callbackify:n}=r(31669);e.exports.Z=e=>{const t=e.getSigningKey.bind(e);return(e,r)=>r?n(t)(e,r):t(e)}},24821:(e,t,r)=>{e.exports={request:r(76007).Z,cacheSigningKey:r(38757).Z,rateLimitSigningKey:r(53147).Z,getKeysInterceptor:r(80193).Z,callbackSupport:r(59176).Z}},80193:(e,t,r)=>{const n=r(62270).retrieveSigningKeys;e.exports.Z=function(e,{getKeysInterceptor:t}){const r=e.getSigningKey.bind(e);return async e=>{const o=await t();let i;if(o&&o.length&&(i=n(o)),i&&i.length){const t=i.find((t=>!e||t.kid===e));if(t)return t}return r(e)}}},53147:(e,t,r)=>{const n=r(82432),{RateLimiter:o}=r(75516),i=r(16037);e.exports.Z=function(e,{jwksRequestsPerMinute:t=10}){const r=n("jwks"),s=e.getSigningKey.bind(e),a=new o(t,"minute",!0);return r(`Configured rate limiting to JWKS endpoint at ${t}/minute`),async e=>await new Promise(((t,n)=>{a.removeTokens(1,(async(o,a)=>{if(o&&n(o),r("Requests to the JWKS endpoint available for the next minute:",a),a<0)r("Too many requests to the JWKS endpoint"),n(new i("Too many requests to the JWKS endpoint"));else try{const r=await s(e);t(r)}catch(e){n(e)}}))}))}},76007:(e,t,r)=>{const n=r(98605),o=r(57211),i=r(78835);e.exports.Z=e=>e.fetcher?e.fetcher(e.uri):new Promise(((t,r)=>{const{hostname:s,path:a,port:c,protocol:l}=i.parse(e.uri),u={hostname:s,path:a,port:c,method:"GET",...e.headers&&{headers:{...e.headers}},...e.timeout&&{timeout:e.timeout},...e.agent&&{agent:e.agent}};("https:"===l?o:n).request(u,(e=>{let n="";e.setEncoding("utf8"),e.on("data",(e=>{n+=e})),e.on("end",(()=>{if(e.statusCode<200||e.statusCode>=300){const t=e.body&&(e.body.message||e.body)||e.statusMessage||`Http Error ${e.statusCode}`;r({errorMsg:t})}else try{t(n&&JSON.parse(n))}catch(e){r(e)}}))})).on("error",(e=>r(e))).end()}))},40158:(e,t,r)=>{var n=r(48952),o=r(43079);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=o.verify,t.decode=o.decode,t.isValid=o.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new o(e)}},97006:(e,t,r)=>{var n=r(89509).Buffer,o=r(92413);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(31669).inherits(i,o),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=i},48952:(e,t,r)=>{var n=r(89509).Buffer,o=r(97006),i=r(54178),s=r(92413),a=r(32010),c=r(31669);function l(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,o=e.encoding,s=i(t.alg),u=function(e,t,r){r=r||"utf8";var n=l(a(e),"binary"),o=l(a(t),r);return c.format("%s.%s",n,o)}(t,r,o),p=s.sign(u,n);return c.format("%s.%s",u,p)}function p(e){var t=e.secret||e.privateKey||e.key,r=new o(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new o(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(p,s),p.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},p.sign=u,e.exports=p},32010:(e,t,r)=>{var n=r(64293).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},43079:(e,t,r)=>{var n=r(89509).Buffer,o=r(97006),i=r(54178),s=r(92413),a=r(32010),c=r(31669),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".")[2]}function d(e){return l.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var o=p(e=a(e)),s=function(e){return e.split(".",2).join(".")}(e);return i(t).verify(s,o,r)}function h(e,t){if(t=t||{},!d(e=a(e)))return null;var r=u(e);if(!r)return null;var o=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:r,payload:o,signature:p(e)}}function g(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new o(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new o(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(g,s),g.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=h(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},g.decode=h,g.isValid=d,g.verify=f,e.exports=g},75516:(e,t,r)=>{t.RateLimiter=r(31114),t.TokenBucket=r(14976)},46188:e=>{e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},31114:(e,t,r)=>{var n=r(14976),o=r(46188),i=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=r};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=o();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout((function(){r.tokenBucket.removeTokens(e,s)}),i)}return!1}return this.tokenBucket.removeTokens(e,s);function s(n,o){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,o)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=o();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},14976:e=>{var t=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};t.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,(function(o,i){return o?t(o,null):e>r.content?n():(r.content-=e,void t(null,Math.min(i,r.content)))})):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(e,t)}),n),!1}},tryRemoveTokens:function(e){return!(this.bucketSize&&(e>this.bucketSize||(this.drip(),e>this.content||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)||(this.content-=e,0))))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=t},76884:e=>{var t,r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+s+"]",c="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",l="\\d+",u="["+o+"]",p="[^\\ud800-\\udfff"+s+l+"\\u2700-\\u27bf"+o+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="[^\\ud800-\\udfff]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+i+"]",y="(?:"+u+"|"+p+")",v="(?:"+m+"|"+p+")",b="(?:['](?:d|ll|m|re|s|t|ve))?",w="(?:['](?:D|LL|M|RE|S|T|VE))?",E="(?:"+c+"|"+d+")?",_="[\\ufe0e\\ufe0f]?",O=_+E+"(?:\\u200d(?:"+[f,h,g].join("|")+")"+_+E+")*",S="(?:"+["[\\u2700-\\u27bf]",h,g].join("|")+")"+O,T="(?:"+[f+c+"?",c,h,g,"[\\ud800-\\udfff]"].join("|")+")",C=RegExp("[']","g"),A=RegExp(c,"g"),x=RegExp(d+"(?="+d+")|"+T+O,"g"),I=RegExp([m+"?"+u+"+"+b+"(?="+[a,m,"$"].join("|")+")",v+"+"+w+"(?="+[a,m+y,"$"].join("|")+")",m+"?"+y+"+"+b,m+"+"+w,l,S].join("|"),"g"),k=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),N=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,P="object"==typeof global&&global&&global.Object===Object&&global,R="object"==typeof self&&self&&self.Object===Object&&self,j=P||R||Function("return this")(),D=(t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==t?void 0:t[e]});function L(e){return k.test(e)}var F=Object.prototype.toString,M=j.Symbol,B=M?M.prototype:void 0,U=B?B.toString:void 0;function V(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==F.call(e)}(e))return U?U.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var q,G=(q=function(e,t,r){return t=t.toLowerCase(),e+(r?H(V(t).toLowerCase()):t)},function(e){return function(e,t,r,n){for(var o=-1,i=e?e.length:0;++o<i;)r=t(r,e[o],o,e);return r}(function(e,t,n){return e=V(e),void 0===(t=t)?function(e){return N.test(e)}(e)?function(e){return e.match(I)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=V(e))&&e.replace(n,D).replace(A,"")}(e).replace(C,"")),q,"")}),H=("toUpperCase",function(e){var t,r,n,o,i=L(e=V(e))?function(e){return L(e)?function(e){return e.match(x)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,s=i?i[0]:e.charAt(0),a=i?(t=i,r=1,o=t.length,n=void 0===n?o:n,!r&&n>=o?t:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(t,r,n)).join(""):e.slice(1);return s.toUpperCase()+a});e.exports=G},83465:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",p="[object Number]",d="[object Object]",f="[object Promise]",h="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",I="[object Uint32Array]",k=/\w*$/,N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[w]=R[s]=R[a]=R[E]=R[_]=R[O]=R[S]=R[T]=R[u]=R[p]=R[d]=R[h]=R[g]=R[m]=R[y]=R[C]=R[A]=R[x]=R[I]=!0,R["[object Error]"]=R[c]=R[v]=!1;var j="object"==typeof global&&global&&global.Object===Object&&global,D="object"==typeof self&&self&&self.Object===Object&&self,L=j||D||Function("return this")(),F=t&&!t.nodeType&&t,M=F&&e&&!e.nodeType&&e,B=M&&M.exports===F;function U(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function q(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e,t){return function(r){return e(t(r))}}function K(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var W,J=Array.prototype,$=Function.prototype,Y=Object.prototype,Q=L["__core-js_shared__"],X=(W=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Z=$.toString,ee=Y.hasOwnProperty,te=Y.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=B?L.Buffer:void 0,oe=L.Symbol,ie=L.Uint8Array,se=z(Object.getPrototypeOf,Object),ae=Object.create,ce=Y.propertyIsEnumerable,le=J.splice,ue=Object.getOwnPropertySymbols,pe=ne?ne.isBuffer:void 0,de=z(Object.keys,Object),fe=Le(L,"DataView"),he=Le(L,"Map"),ge=Le(L,"Promise"),me=Le(L,"Set"),ye=Le(L,"WeakMap"),ve=Le(Object,"create"),be=Ve(fe),we=Ve(he),Ee=Ve(ge),_e=Ve(me),Oe=Ve(ye),Se=oe?oe.prototype:void 0,Te=Se?Se.valueOf:void 0;function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Ae(e)}function ke(e,t,r){var n=e[t];ee.call(e,t)&&qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ne(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function Pe(e,t,r,n,o,f,v){var N;if(n&&(N=f?n(e,o,f,v):n(e)),void 0!==N)return N;if(!We(e))return e;var P=Ge(e);if(P){if(N=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,N)}else{var j=Me(e),D=j==c||j==l;if(ze(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(j==d||j==i||D&&!f){if(G(e))return f?e:{};if(N=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:We(t=se(e))?ae(t):{};var t}(D?{}:e),!t)return function(e,t){return je(e,Fe(e),t)}(e,function(e,t){return e&&je(t,Je(t),e)}(N,e))}else{if(!R[j])return f?e:{};N=function(e,t,r,n){var o,i=e.constructor;switch(t){case b:return Re(e);case s:case a:return new i(+e);case w:return function(e,t){var r=t?Re(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case E:case _:case O:case S:case T:case C:case A:case x:case I:return function(e,t){var r=t?Re(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return q(t?r(H(e),!0):H(e),U,new e.constructor)}(e,n,r);case p:case m:return new i(e);case h:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,r){return q(t?r(K(e),!0):K(e),V,new e.constructor)}(e,n,r);case y:return o=e,Te?Object(Te.call(o)):{}}}(e,j,Pe,t)}}v||(v=new Ie);var L=v.get(e);if(L)return L;if(v.set(e,N),!P)var F=r?function(e){return function(e,t,r){var n=t(e);return Ge(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Je,Fe)}(e):Je(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(F||e,(function(o,i){F&&(o=e[i=o]),ke(N,i,Pe(o,t,r,n,i,e,v))})),N}function Re(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function je(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],a=n?n(r[s],e[s],s,r,e):void 0;ke(r,s,void 0===a?e[s]:a)}return r}function De(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!We(e)||(t=e,X&&X in t))&&(Ke(e)||G(e)?re:N).test(Ve(e));var t}(r)?r:void 0}Ce.prototype.clear=function(){this.__data__=ve?ve(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=Ne(t,e);return!(r<0||(r==t.length-1?t.pop():le.call(t,r,1),0))},Ae.prototype.get=function(e){var t=this.__data__,r=Ne(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return Ne(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=Ne(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Ce,map:new(he||Ae),string:new Ce}},xe.prototype.delete=function(e){return De(this,e).delete(e)},xe.prototype.get=function(e){return De(this,e).get(e)},xe.prototype.has=function(e){return De(this,e).has(e)},xe.prototype.set=function(e,t){return De(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Ae},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!he||n.length<199)return n.push([e,t]),this;r=this.__data__=new xe(n)}return r.set(e,t),this};var Fe=ue?z(ue,Object):function(){return[]},Me=function(e){return te.call(e)};function Be(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ve(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(fe&&Me(new fe(new ArrayBuffer(1)))!=w||he&&Me(new he)!=u||ge&&Me(ge.resolve())!=f||me&&Me(new me)!=g||ye&&Me(new ye)!=v)&&(Me=function(e){var t=te.call(e),r=t==d?e.constructor:void 0,n=r?Ve(r):void 0;if(n)switch(n){case be:return w;case we:return u;case Ee:return f;case _e:return g;case Oe:return v}return t});var Ge=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ke(e)}var ze=pe||function(){return!1};function Ke(e){var t=We(e)?te.call(e):"";return t==c||t==l}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Je(e){return He(e)?function(e,t){var r=Ge(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&He(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||Be(s,n))||r.push(s);return r}(e):function(e){if(!Ue(e))return de(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Pe(e,!0,!0)}},28922:e=>{var t=9007199254740991,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=/^(?:0|[1-9]\d*)$/,a=parseInt;function c(e){return e!=e}var l,u,p=Object.prototype,d=p.hasOwnProperty,f=p.toString,h=p.propertyIsEnumerable,g=(l=Object.keys,u=Object,function(e){return l(u(e))}),m=Math.max;function y(e,r){return!!(r=null==r?t:r)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<r}var v=Array.isArray;function b(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=w(e)?f.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}e.exports=function(e,t,s,l){var u;e=b(e)?e:(u=e)?function(e,t){return function(t,r){for(var n=-1,o=t?t.length:0,i=Array(o);++n<o;)i[n]=(s=t[n],e[s]);var s;return i}(t)}(u,function(e){return b(e)?function(e,t){var r=v(e)||function(e){return function(e){return E(e)&&b(e)}(e)&&d.call(e,"callee")&&(!h.call(e,"callee")||"[object Arguments]"==f.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!d.call(e,i)||o&&("length"==i||y(i,n))||r.push(i);return r}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||p))return g(e);var t,r,n=[];for(var o in Object(e))d.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e)}(u)):[],s=s&&!l?function(e){var t=function(e){return e?Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),s=t%1;return t==t?s?t-s:t:0}(s):0;var _=e.length;return s<0&&(s=m(_+s,0)),function(e){return"string"==typeof e||!v(e)&&E(e)&&"[object String]"==f.call(e)}(e)?s<=_&&e.indexOf(t,s)>-1:!!_&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+-1;++i<o;)if(t(e[i],i,e))return i;return-1}(e,c,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,s)>-1}},48094:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Boolean]"==t.call(e)}},55928:e=>{var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,s=Object.prototype.toString;function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var c=function(e){return e?Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(a(e)){var c="function"==typeof e.valueOf?e.valueOf():e;e=a(c)?c+"":c}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var l=n.test(e);return l||o.test(e)?i(e.slice(2),l?2:8):r.test(e)?NaN:+e}(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),l=c%1;return c==c?l?c-l:c:0}(e)}},23126:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==t.call(e)}},8146:e=>{var t,r,n=Function.prototype,o=Object.prototype,i=n.toString,s=o.hasOwnProperty,a=i.call(Object),c=o.toString,l=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=s.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)==a}},25751:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==t.call(e)}},38917:e=>{var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,s=Object.prototype.toString;function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,c){var l;if("function"!=typeof c)throw new TypeError("Expected a function");return e=function(e){var c=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(a(e)){var c="function"==typeof e.valueOf?e.valueOf():e;e=a(c)?c+"":c}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var l=n.test(e);return l||o.test(e)?i(e.slice(2),l?2:8):r.test(e)?NaN:+e}(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),l=c%1;return c==c?l?c-l:c:0}(e),function(){return--e>0&&(l=c.apply(this,arguments)),e<=1&&(c=void 0),l}}(2,e)}},87663:(e,t)=>{var r=2147483647;function n(e,t){this.listener=e,this.after=t,this.unreffed=!1,this.start()}function o(e,t){this.listener=e,this.after=this.timeLeft=t,this.unreffed=!1,this.start()}t.setTimeout=function(e,t){return new n(e,t)},t.setInterval=function(e,t){return new o(e,t)},t.clearTimeout=function(e){e&&e.close()},t.clearInterval=t.clearTimeout,t.Timeout=n,t.Interval=o,n.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},n.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},n.prototype.start=function(){if(this.after<=r)this.timeout=setTimeout(this.listener,this.after);else{var e=this;this.timeout=setTimeout((function(){e.after-=r,e.start()}),r)}this.unreffed&&this.timeout.unref()},n.prototype.close=function(){clearTimeout(this.timeout)},o.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},o.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},o.prototype.start=function(){var e=this;this.timeLeft<=r?this.timeout=setTimeout((function(){e.listener(),e.timeLeft=e.after,e.start()}),this.timeLeft):this.timeout=setTimeout((function(){e.timeLeft-=r,e.start()}),r),this.unreffed&&this.timeout.unref()},o.prototype.close=function(){n.prototype.close.apply(this,arguments)}},39593:(e,t,r)=>{"use strict";const n=r(34411),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),h=()=>1,g=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(m(e,t)){if(v(e,n),!e[a])return}else r&&(e[f]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},y=e=>{if(e[i]>e[o])for(let t=e[p].tail;e[i]>e[o]&&null!==t;){const r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[i]-=r.length,e[d].delete(r.key),e[p].removeNode(t)}};class b{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const w=(e,t,r,n)=>{let o=r.value;m(e,o)&&(v(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||h;if(this[s]="function"!=typeof t?h:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,y(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[s]&&(this[s]=e,this[i]=0,this[p].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let r=this[p].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[p].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach((e=>this[l](e.key,e.value))),this[d]=new Map,this[p]=new n,this[i]=0}dump(){return this[p].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[d].has(e)){if(a>this[o])return v(this,this[d].get(e)),!1;const s=this[d].get(e).value;return this[l]&&(this[u]||this[l](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),y(this),!0}const f=new b(e,t,a,n,r);return f.length>this[o]?(this[l]&&this[l](e,t),!1):(this[i]+=f.length,this[p].unshift(f),this[d].set(e,this[p].head),y(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[p].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach(((e,t)=>g(this,t,!1)))}}},83099:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(7659)),c=r(28614),l=s(r(83465)),u=r(19265),p=r(90886);function d(e){var t=new a.default(e),r=e.load,n=e.hash,s=e.bypass,p=e.itemMaxAge,d=e.freeze,f=e.clone,h=e.queueMaxAge||1e3,g=new Map,m=new c.EventEmitter,y=Object.assign({del:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(void 0,o(e));t.del(i)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:m.on.bind(m),once:m.once.bind(m)},e);if(e.disable)return Object.assign(r,y);function v(e,r,n){d&&n.forEach(u.deepFreeze),p?t.set(e,n,p.apply(void 0,o(r.concat(n)))):t.set(e,n)}function b(e,t){var r,n;try{for(var s=i(e),a=s.next();!a.done;a=s.next()){var c=a.value;f?setImmediate.apply(void 0,o([c],t.map(l.default))):setImmediate.apply(void 0,o([c],t))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}function w(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.emit.apply(m,o([e],t))}return Object.assign((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a,c=e.slice(0,-1),l=e.slice(-1).pop();if(s&&s.apply(void 0,o(c)))return w.apply(void 0,o(["miss"],c)),r.apply(void 0,o(e));a=0!==c.length||n?n.apply(void 0,o(c)):"_";var u=t.get(a);if(u)return w.apply(void 0,o(["hit"],c)),b([l],[null].concat(u));var p=g.get(a);if(p&&p.expiresAt>Date.now())return p.queue.push(l),void w.apply(void 0,o(["queue"],c));w.apply(void 0,o(["miss"],c));var d=Date.now(),f=[l];g.set(a,{queue:f,expiresAt:d+h});var m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];r||v(a,c,e.slice(1)),g.delete(a),w.apply(void 0,o(["loaded",Date.now()-d],c)),b(f,e)};r.apply(void 0,o(c,[m]))}),y)}t.asyncMemoizer=d,d.sync=p.syncMemoizer},19265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreeze=function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(r){!t.hasOwnProperty(r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||t[r].constructor===Buffer||Object.isFrozen(t[r])||e(t[r])}))),t}},39723:(e,t,r)=>{"use strict";var n=r(83099);e.exports=n.asyncMemoizer},90886:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(7659)),a=r(28614),c=i(r(83465)),l=r(19265);t.syncMemoizer=function(e){var t=new s.default(e),r=e.load,n=e.hash,i=e.bypass,u=e.itemMaxAge,p=e.freeze,d=e.clone,f=new a.EventEmitter,h=Object.assign({del:function(){var e=n.apply(void 0,o(arguments));t.del(e)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:f.on.bind(f),once:f.once.bind(f)},e);if(e.disable)return Object.assign(r,h);function g(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.emit.apply(f,o([e],t))}function m(e){return e&&e.then&&"function"==typeof e.then}function y(e){var t=e;return d&&(t=m(t)?t.then(c.default):c.default(t)),p&&(m(t)?t=t.then(l.deepFreeze):l.deepFreeze(t)),t}return Object.assign((function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];if(i&&i.apply(void 0,o(e)))return g.apply(void 0,o(["miss"],e)),r.apply(void 0,o(e));var a=n.apply(void 0,o(e)),c=t.get(a);if(c)return g.apply(void 0,o(["hit"],e)),y(c);g.apply(void 0,o(["miss"],e));var l=r.apply(void 0,o(e));return u?t.set(a,l,u.apply(void 0,o(e.concat([l])))):t.set(a,l),y(l)}),h)}},7659:(e,t,r)=>{e.exports=p;var n,o=r(69246),i=r(31669),s=r(40214),a={},c="function"==typeof Symbol;function l(e,t,r){var o;return a[t]?o=a[t]:(o=n(t),a[t]=o),2===arguments.length?e[o]:(e[o]=r,r)}function u(){return 1}function p(e){if(!(this instanceof p))return new p(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=l(this,"max",e.max);(!t||"number"!=typeof t||t<=0)&&l(this,"max",1/0);var r=e.length||u;"function"!=typeof r&&(r=u),l(this,"lengthCalculator",r),l(this,"allowStale",e.stale||!1),l(this,"maxAge",e.maxAge||0),l(this,"dispose",e.dispose),this.reset()}function d(e,t,r,n){var o=r.value;h(e,o)&&(m(e,r),l(e,"allowStale")||(o=void 0)),o&&t.call(n,o.value,o.key,e)}function f(e,t,r){var n=l(e,"cache").get(t);if(n){var o=n.value;h(e,o)?(m(e,n),l(e,"allowStale")||(o=void 0)):r&&l(e,"lruList").unshiftNode(n),o&&(o=o.value)}return o}function h(e,t){if(!t||!t.maxAge&&!l(e,"maxAge"))return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:l(e,"maxAge")&&r>l(e,"maxAge")}function g(e){if(l(e,"length")>l(e,"max"))for(var t=l(e,"lruList").tail;l(e,"length")>l(e,"max")&&null!==t;){var r=t.prev;m(e,t),t=r}}function m(e,t){if(t){var r=t.value;l(e,"dispose")&&l(e,"dispose").call(this,r.key,r.value),l(e,"length",l(e,"length")-r.length),l(e,"cache").delete(r.key),l(e,"lruList").removeNode(t)}}function y(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}n=c?function(e){return Symbol.for(e)}:function(e){return"_"+e},Object.defineProperty(p.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),l(this,"max",e),g(this)},get:function(){return l(this,"max")},enumerable:!0}),Object.defineProperty(p.prototype,"allowStale",{set:function(e){l(this,"allowStale",!!e)},get:function(){return l(this,"allowStale")},enumerable:!0}),Object.defineProperty(p.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),l(this,"maxAge",e),g(this)},get:function(){return l(this,"maxAge")},enumerable:!0}),Object.defineProperty(p.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=u),e!==l(this,"lengthCalculator")&&(l(this,"lengthCalculator",e),l(this,"length",0),l(this,"lruList").forEach((function(e){e.length=l(this,"lengthCalculator").call(this,e.value,e.key),l(this,"length",l(this,"length")+e.length)}),this)),g(this)},get:function(){return l(this,"lengthCalculator")},enumerable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return l(this,"length")},enumerable:!0}),Object.defineProperty(p.prototype,"itemCount",{get:function(){return l(this,"lruList").length},enumerable:!0}),p.prototype.rforEach=function(e,t){t=t||this;for(var r=l(this,"lruList").tail;null!==r;){var n=r.prev;d(this,e,r,t),r=n}},p.prototype.forEach=function(e,t){t=t||this;for(var r=l(this,"lruList").head;null!==r;){var n=r.next;d(this,e,r,t),r=n}},p.prototype.keys=function(){return l(this,"lruList").toArray().map((function(e){return e.key}),this)},p.prototype.values=function(){return l(this,"lruList").toArray().map((function(e){return e.value}),this)},p.prototype.reset=function(){l(this,"dispose")&&l(this,"lruList")&&l(this,"lruList").length&&l(this,"lruList").forEach((function(e){l(this,"dispose").call(this,e.key,e.value)}),this),l(this,"cache",new o),l(this,"lruList",new s),l(this,"length",0)},p.prototype.dump=function(){return l(this,"lruList").map((function(e){if(!h(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}}),this).toArray().filter((function(e){return e}))},p.prototype.dumpLru=function(){return l(this,"lruList")},p.prototype.inspect=function(e,t){var r="LRUCache {",n=!1;l(this,"allowStale")&&(r+="\n  allowStale: true",n=!0);var o=l(this,"max");o&&o!==1/0&&(n&&(r+=","),r+="\n  max: "+i.inspect(o,t),n=!0);var s=l(this,"maxAge");s&&(n&&(r+=","),r+="\n  maxAge: "+i.inspect(s,t),n=!0);var a=l(this,"lengthCalculator");a&&a!==u&&(n&&(r+=","),r+="\n  length: "+i.inspect(l(this,"length"),t),n=!0);var c=!1;return l(this,"lruList").forEach((function(e){c?r+=",\n  ":(n&&(r+=",\n"),c=!0,r+="\n  ");var o=i.inspect(e.key).split("\n").join("\n  "),l={value:e.value};e.maxAge!==s&&(l.maxAge=e.maxAge),a!==u&&(l.length=e.length),h(this,e)&&(l.stale=!0),l=i.inspect(l,t).split("\n").join("\n  "),r+=o+" => "+l})),(c||n)&&(r+="\n"),r+="}"},p.prototype.set=function(e,t,r){var n=(r=r||l(this,"maxAge"))?Date.now():0,o=l(this,"lengthCalculator").call(this,t,e);if(l(this,"cache").has(e)){if(o>l(this,"max"))return m(this,l(this,"cache").get(e)),!1;var i=l(this,"cache").get(e).value;return l(this,"dispose")&&l(this,"dispose").call(this,e,i.value),i.now=n,i.maxAge=r,i.value=t,l(this,"length",l(this,"length")+(o-i.length)),i.length=o,this.get(e),g(this),!0}var s=new y(e,t,o,n,r);return s.length>l(this,"max")?(l(this,"dispose")&&l(this,"dispose").call(this,e,t),!1):(l(this,"length",l(this,"length")+s.length),l(this,"lruList").unshift(s),l(this,"cache").set(e,l(this,"lruList").head),g(this),!0)},p.prototype.has=function(e){return!!l(this,"cache").has(e)&&!h(this,l(this,"cache").get(e).value)},p.prototype.get=function(e){return f(this,e,!0)},p.prototype.peek=function(e){return f(this,e,!1)},p.prototype.pop=function(){var e=l(this,"lruList").tail;return e?(m(this,e),e.value):null},p.prototype.del=function(e){m(this,l(this,"cache").get(e))},p.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{var i=o-t;i>0&&this.set(n.k,n.v,i)}}},p.prototype.prune=function(){var e=this;l(this,"cache").forEach((function(t,r){f(e,r,!1)}))}},40214:e=>{function t(e){var r=this;if(r instanceof t||(r=new t),r.tail=null,r.head=null,r.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){r.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)r.push(arguments[n]);return r}function r(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function n(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=t,t.Node=o,t.create=t,t.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},t.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},t.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},t.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},t.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},t.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},t.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},t.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},t.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},t.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},t.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},t.prototype.map=function(e,r){r=r||this;for(var n=new t,o=this.head;null!==o;)n.push(e.call(r,o.value,this)),o=o.next;return n},t.prototype.mapReverse=function(e,r){r=r||this;for(var n=new t,o=this.tail;null!==o;)n.push(e.call(r,o.value,this)),o=o.prev;return n},t.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},t.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},t.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},t.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},t.prototype.slice=function(e,r){(r=r||this.length)<0&&(r+=this.length),(e=e||0)<0&&(e+=this.length);var n=new t;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<r;o++,i=i.next)n.push(i.value);return n},t.prototype.sliceReverse=function(e,r){(r=r||this.length)<0&&(r+=this.length),(e=e||0)<0&&(e+=this.length);var n=new t;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var o=this.length,i=this.tail;null!==i&&o>r;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},t.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},92750:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DateTime:()=>Qr,Duration:()=>Qt,FixedOffsetZone:()=>Le,IANAZone:()=>je,Info:()=>tr,Interval:()=>er,InvalidZone:()=>Fe,LocalZone:()=>Ie,Settings:()=>ze,VERSION:()=>Zr,Zone:()=>Ae});class n extends Error{}class o extends n{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class i extends n{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s extends n{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends n{}class c extends n{constructor(e){super(`Invalid unit ${e}`)}}class l extends n{}class u extends n{constructor(){super("Zone is an abstract class")}}const p="numeric",d="short",f="long",h={year:p,month:p,day:p},g={year:p,month:d,day:p},m={year:p,month:d,day:p,weekday:d},y={year:p,month:f,day:p},v={year:p,month:f,day:p,weekday:f},b={hour:p,minute:p},w={hour:p,minute:p,second:p},E={hour:p,minute:p,second:p,timeZoneName:d},_={hour:p,minute:p,second:p,timeZoneName:f},O={hour:p,minute:p,hour12:!1},S={hour:p,minute:p,second:p,hour12:!1},T={hour:p,minute:p,second:p,hour12:!1,timeZoneName:d},C={hour:p,minute:p,second:p,hour12:!1,timeZoneName:f},A={year:p,month:p,day:p,hour:p,minute:p},x={year:p,month:p,day:p,hour:p,minute:p,second:p},I={year:p,month:d,day:p,hour:p,minute:p},k={year:p,month:d,day:p,hour:p,minute:p,second:p},N={year:p,month:d,day:p,weekday:d,hour:p,minute:p},P={year:p,month:f,day:p,hour:p,minute:p,timeZoneName:d},R={year:p,month:f,day:p,hour:p,minute:p,second:p,timeZoneName:d},j={year:p,month:f,day:p,weekday:f,hour:p,minute:p,timeZoneName:f},D={year:p,month:f,day:p,weekday:f,hour:p,minute:p,second:p,timeZoneName:f};function L(e){return void 0===e}function F(e){return"number"==typeof e}function M(e){return"number"==typeof e&&e%1==0}function B(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function U(){return!L(Intl.DateTimeFormat.prototype.formatToParts)}function V(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function q(e,t,r){if(0!==e.length)return e.reduce(((e,n)=>{const o=[t(n),n];return e&&r(e[0],o[0])===e[0]?e:o}),null)[1]}function G(e,t){return t.reduce(((t,r)=>(t[r]=e[r],t)),{})}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t,r){return M(e)&&e>=t&&e<=r}function K(e,t=2){const r=e<0?"-":"",n=r?-1*e:e;let o;return o=n.toString().length<t?("0".repeat(t)+n).slice(-t):n.toString(),`${r}${o}`}function W(e){return L(e)||null===e||""===e?void 0:parseInt(e,10)}function J(e){if(!L(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function $(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function Y(e){return e%4==0&&(e%100!=0||e%400==0)}function Q(e){return Y(e)?366:365}function X(e,t){const r=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===r?Y(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Z(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function ee(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return 4===t||3===n?53:52}function te(e){return e>99?e:e>60?1900+e:2e3+e}function re(e,t,r,n=null){const o=new Date(e),i={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const s=Object.assign({timeZoneName:t},i),a=B();if(a&&U()){const e=new Intl.DateTimeFormat(r,s).formatToParts(o).find((e=>"timezonename"===e.type.toLowerCase()));return e?e.value:null}if(a){const e=new Intl.DateTimeFormat(r,i).format(o);return new Intl.DateTimeFormat(r,s).format(o).substring(e.length).replace(/^[, \u200e]+/,"")}return null}function ne(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function oe(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new l(`Invalid unit value ${e}`);return t}function ie(e,t,r){const n={};for(const o in e)if(H(e,o)){if(r.indexOf(o)>=0)continue;const i=e[o];if(null==i)continue;n[t(o)]=oe(i)}return n}function se(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${K(r,2)}:${K(n,2)}`;case"narrow":return`${o}${r}${n>0?`:${n}`:""}`;case"techie":return`${o}${K(r,2)}${K(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ae(e){return G(e,["hour","minute","second","millisecond"])}const ce=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function le(e){return JSON.stringify(e,Object.keys(e).sort())}const ue=["January","February","March","April","May","June","July","August","September","October","November","December"],pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de=["J","F","M","A","M","J","J","A","S","O","N","D"];function fe(e){switch(e){case"narrow":return[...de];case"short":return[...pe];case"long":return[...ue];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const he=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ge=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],me=["M","T","W","T","F","S","S"];function ye(e){switch(e){case"narrow":return[...me];case"short":return[...ge];case"long":return[...he];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ve=["AM","PM"],be=["Before Christ","Anno Domini"],we=["BC","AD"],Ee=["B","A"];function _e(e){switch(e){case"narrow":return[...Ee];case"short":return[...we];case"long":return[...be];default:return null}}function Oe(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const Se={D:h,DD:g,DDD:y,DDDD:v,t:b,tt:w,ttt:E,tttt:_,T:O,TT:S,TTT:T,TTTT:C,f:A,ff:I,fff:P,ffff:j,F:x,FF:k,FFF:R,FFFF:D};class Te{static create(e,t={}){return new Te(e,t)}static parseFormat(e){let t=null,r="",n=!1;const o=[];for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s?(r.length>0&&o.push({literal:n,val:r}),t=null,r="",n=!n):n||s===t?r+=s:(r.length>0&&o.push({literal:!1,val:r}),r=s,t=s)}return r.length>0&&o.push({literal:n,val:r}),o}static macroTokenToFormatOpts(e){return Se[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return K(e,t);const r=Object.assign({},this.opts);return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&U(),o=(t,r)=>this.loc.extract(e,t,r),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=(t,n)=>r?function(e,t){return fe(t)[e.month-1]}(e,t):o(n?{month:t}:{month:t,day:"numeric"},"month"),a=(t,n)=>r?function(e,t){return ye(t)[e.weekday-1]}(e,t):o(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const r=Te.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},l=t=>r?function(e,t){return _e(t)[e.year<0?0:1]}(e,t):o({era:t},"era");return Oe(Te.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return r?function(e){return ve[e.hour<12?0:1]}(e):o({hour:"numeric",hour12:!0},"dayperiod");case"d":return n?o({day:"numeric"},"day"):this.num(e.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(e.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(e.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const r=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},n=Te.parseFormat(t),o=n.reduce(((e,{literal:t,val:r})=>t?e:e.concat(r)),[]);return Oe(n,(e=>t=>{const n=r(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...o.map(r).filter((e=>e)))))}}class Ce{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Ae{get type(){throw new u}get name(){throw new u}get universal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let xe=null;class Ie extends Ae{static get instance(){return null===xe&&(xe=new Ie),xe}get type(){return"local"}get name(){return B()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(e,{format:t,locale:r}){return re(e,t,r)}formatOffset(e,t){return se(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"local"===e.type}get isValid(){return!0}}const ke=RegExp(`^${ce.source}$`);let Ne={};const Pe={year:0,month:1,day:2,hour:3,minute:4,second:5};let Re={};class je extends Ae{static create(e){return Re[e]||(Re[e]=new je(e)),Re[e]}static resetCache(){Re={},Ne={}}static isValidSpecifier(e){return!(!e||!e.match(ke))}static isValidZone(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}static parseGMTOffset(e){if(e){const t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null}constructor(e){super(),this.zoneName=e,this.valid=je.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(e,{format:t,locale:r}){return re(e,t,r,this.name)}formatOffset(e,t){return se(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const r=(l=this.name,Ne[l]||(Ne[l]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Ne[l]),[n,o,i,s,a,c]=r.formatToParts?function(e,t){const r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){const{type:t,value:o}=r[e],i=Pe[t];L(i)||(n[i]=parseInt(o,10))}return n}(r,t):function(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r),[,o,i,s,a,c,l]=n;return[s,o,i,a,c,l]}(r,t);var l;let u=+t;const p=u%1e3;return u-=p>=0?p:1e3+p,(Z({year:n,month:o,day:i,hour:24===s?0:s,minute:a,second:c,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let De=null;class Le extends Ae{static get utcInstance(){return null===De&&(De=new Le(0)),De}static instance(e){return 0===e?Le.utcInstance:new Le(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Le(ne(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${se(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return se(this.fixed,t)}get universal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class Fe extends Ae{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Me(e,t){let r;if(L(e)||null===e)return t;if(e instanceof Ae)return e;if("string"==typeof e){const n=e.toLowerCase();return"local"===n?t:"utc"===n||"gmt"===n?Le.utcInstance:null!=(r=je.parseGMTOffset(e))?Le.instance(r):je.isValidSpecifier(n)?je.create(e):Le.parseSpecifier(n)||new Fe(e)}return F(e)?Le.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new Fe(e)}let Be=()=>Date.now(),Ue=null,Ve=null,qe=null,Ge=null,He=!1;class ze{static get now(){return Be}static set now(e){Be=e}static get defaultZoneName(){return ze.defaultZone.name}static set defaultZoneName(e){Ue=e?Me(e):null}static get defaultZone(){return Ue||Ie.instance}static get defaultLocale(){return Ve}static set defaultLocale(e){Ve=e}static get defaultNumberingSystem(){return qe}static set defaultNumberingSystem(e){qe=e}static get defaultOutputCalendar(){return Ge}static set defaultOutputCalendar(e){Ge=e}static get throwOnInvalid(){return He}static set throwOnInvalid(e){He=e}static resetCaches(){tt.resetCache(),je.resetCache()}}let Ke={};function We(e,t={}){const r=JSON.stringify([e,t]);let n=Ke[r];return n||(n=new Intl.DateTimeFormat(e,t),Ke[r]=n),n}let Je={},$e={},Ye=null;function Qe(e,t,r,n,o){const i=e.listingMode(r);return"error"===i?null:"en"===i?n(t):o(t)}class Xe{constructor(e,t,r){if(this.padTo=r.padTo||0,this.floor=r.floor||!1,!t&&B()){const t={useGrouping:!1};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e,t={}){const r=JSON.stringify([e,t]);let n=Je[r];return n||(n=new Intl.NumberFormat(e,t),Je[r]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return K(this.floor?Math.floor(e):$(e,3),this.padTo)}}class Ze{constructor(e,t,r){let n;if(this.opts=r,this.hasIntl=B(),e.zone.universal&&this.hasIntl){const t=e.offset/60*-1,o=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`,i=je.isValidZone(o);0!==e.offset&&i?(n=o,this.dt=e):(n="UTC",r.timeZoneName?this.dt=e:this.dt=0===e.offset?e:Qr.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,n=e.zone.name);if(this.hasIntl){const e=Object.assign({},this.opts);n&&(e.timeZone=n),this.dtf=We(t,e)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const e=function(e){const t="EEEE, LLLL d, yyyy, h:mm a";switch(le(G(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case le(h):return"M/d/yyyy";case le(g):return"LLL d, yyyy";case le(m):return"EEE, LLL d, yyyy";case le(y):return"LLLL d, yyyy";case le(v):return"EEEE, LLLL d, yyyy";case le(b):return"h:mm a";case le(w):return"h:mm:ss a";case le(E):case le(_):return"h:mm a";case le(O):return"HH:mm";case le(S):return"HH:mm:ss";case le(T):case le(C):return"HH:mm";case le(A):return"M/d/yyyy, h:mm a";case le(I):return"LLL d, yyyy, h:mm a";case le(P):return"LLLL d, yyyy, h:mm a";case le(j):return t;case le(x):return"M/d/yyyy, h:mm:ss a";case le(k):return"LLL d, yyyy, h:mm:ss a";case le(N):return"EEE, d LLL yyyy, h:mm a";case le(R):return"LLLL d, yyyy, h:mm:ss a";case le(D):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=tt.create("en-US");return Te.create(t).formatDateTimeFromString(this.dt,e)}}formatToParts(){return this.hasIntl&&U()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}}class et{constructor(e,t,r){this.opts=Object.assign({style:"long"},r),!t&&V()&&(this.rtf=function(e,t={}){const{base:r,...n}=t,o=JSON.stringify([e,n]);let i=$e[o];return i||(i=new Intl.RelativeTimeFormat(e,t),$e[o]=i),i}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r="always",n=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&i){const r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${o[e][0]}`;case-1:return r?"yesterday":`last ${o[e][0]}`;case 0:return r?"today":`this ${o[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,l=o[e],u=n?c?l[1]:l[2]||l[1]:c?o[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class tt{static fromOpts(e){return tt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,r,n=!1){const o=e||ze.defaultLocale,i=o||(n?"en-US":function(){if(Ye)return Ye;if(B()){const e=(new Intl.DateTimeFormat).resolvedOptions().locale;return Ye=e&&"und"!==e?e:"en-US",Ye}return Ye="en-US",Ye}()),s=t||ze.defaultNumberingSystem,a=r||ze.defaultOutputCalendar;return new tt(i,s,a,o)}static resetCache(){Ye=null,Ke={},Je={},$e={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r}={}){return tt.create(e,t,r)}constructor(e,t,r,n){const[o,i,s]=function(e){const t=e.indexOf("-u-");if(-1===t)return[e];{let r;const n=e.substring(0,t);try{r=We(e).resolvedOptions()}catch(e){r=We(n).resolvedOptions()}const{numberingSystem:o,calendar:i}=r;return[n,o,i]}}(e);this.locale=o,this.numberingSystem=t||i||null,this.outputCalendar=r||s||null,this.intl=function(e,t,r){return B()?r||t?(e+="-u",r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||B()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(e=!0){const t=B()&&U(),r=this.isEnglish(),n=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t||r&&n||e?!t||r&&n?"en":"intl":"error"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?tt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone(Object.assign({},e,{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign({},e,{defaultToEN:!1}))}months(e,t=!1,r=!0){return Qe(this,e,r,fe,(()=>{const r=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let r=1;r<=12;r++){const n=Qr.utc(2016,r,1);t.push(e(n))}return t}((e=>this.extract(e,r,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1,r=!0){return Qe(this,e,r,ye,(()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let r=1;r<=7;r++){const n=Qr.utc(2016,11,13+r);t.push(e(n))}return t}((e=>this.extract(e,r,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(e=!0){return Qe(this,void 0,e,(()=>ve),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hour12:!0};this.meridiemCache=[Qr.utc(2016,11,13,9),Qr.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e,t=!0){return Qe(this,e,t,_e,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Qr.utc(-40,1,1),Qr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,r){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===r));return n?n.value:null}numberFormatter(e={}){return new Xe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Ze(e,this.intl,t)}relFormatter(e={}){return new et(this.intl,this.isEnglish(),e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||B()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function rt(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function nt(...e){return t=>e.reduce((([e,r,n],o)=>{const[i,s,a]=o(t,n);return[Object.assign(e,i),r||s,a]}),[{},null,1]).slice(0,2)}function ot(e,...t){if(null==e)return[null,null];for(const[r,n]of t){const t=r.exec(e);if(t)return n(t)}return[null,null]}function it(...e){return(t,r)=>{const n={};let o;for(o=0;o<e.length;o++)n[e[o]]=W(t[r+o]);return[n,null,r+o]}}const st=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,at=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ct=RegExp(`${at.source}${st.source}?`),lt=RegExp(`(?:T${ct.source})?`),ut=it("weekYear","weekNumber","weekDay"),pt=it("year","ordinal"),dt=RegExp(`${at.source} ?(?:${st.source}|(${ce.source}))?`),ft=RegExp(`(?: ${dt.source})?`);function ht(e,t,r){const n=e[t];return L(n)?r:W(n)}function gt(e,t){return[{year:ht(e,t),month:ht(e,t+1,1),day:ht(e,t+2,1)},null,t+3]}function mt(e,t){return[{hours:ht(e,t,0),minutes:ht(e,t+1,0),seconds:ht(e,t+2,0),milliseconds:J(e[t+3])},null,t+4]}function yt(e,t){const r=!e[t]&&!e[t+1],n=ne(e[t+1],e[t+2]);return[{},r?null:Le.instance(n),t+3]}function vt(e,t){return[{},e[t]?je.create(e[t]):null,t+1]}const bt=RegExp(`^T?${at.source}$`),wt=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Et(e){const[t,r,n,o,i,s,a,c,l]=e,u="-"===t[0],p=c&&"-"===c[0],d=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:d(W(r)),months:d(W(n)),weeks:d(W(o)),days:d(W(i)),hours:d(W(s)),minutes:d(W(a)),seconds:d(W(c),"-0"===c),milliseconds:d(J(l),p)}]}const _t={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e,t,r,n,o,i,s){const a={year:2===t.length?te(W(t)):W(t),month:pe.indexOf(r)+1,day:W(n),hour:W(o),minute:W(i)};return s&&(a.second=W(s)),e&&(a.weekday=e.length>3?he.indexOf(e)+1:ge.indexOf(e)+1),a}const St=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Tt(e){const[,t,r,n,o,i,s,a,c,l,u,p]=e,d=Ot(t,o,n,r,i,s,a);let f;return f=c?_t[c]:l?0:ne(u,p),[d,new Le(f)]}const Ct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,At=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,xt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function It(e){const[,t,r,n,o,i,s,a]=e;return[Ot(t,o,n,r,i,s,a),Le.utcInstance]}function kt(e){const[,t,r,n,o,i,s,a]=e;return[Ot(t,a,r,n,o,i,s),Le.utcInstance]}const Nt=rt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,lt),Pt=rt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,lt),Rt=rt(/(\d{4})-?(\d{3})/,lt),jt=rt(ct),Dt=nt(gt,mt,yt),Lt=nt(ut,mt,yt),Ft=nt(pt,mt),Mt=nt(mt,yt),Bt=nt(mt),Ut=rt(/(\d{4})-(\d\d)-(\d\d)/,ft),Vt=rt(dt),qt=nt(gt,mt,yt,vt),Gt=nt(mt,yt,vt),Ht={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},zt=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ht),Kt=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ht),Wt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Jt=Wt.slice(0).reverse();function $t(e,t,r=!1){const n={values:r?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new Qt(n)}function Yt(e,t,r,n,o){const i=e[o][r],s=t[r]/i,a=Math.sign(s)!==Math.sign(n[o])&&0!==n[o]&&Math.abs(s)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(s):Math.trunc(s);n[o]+=a,t[r]-=a*i}class Qt{constructor(e){const t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||tt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Kt:zt,this.isLuxonDuration=!0}static fromMillis(e,t){return Qt.fromObject(Object.assign({milliseconds:e},t))}static fromObject(e){if(null==e||"object"!=typeof e)throw new l("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Qt({values:ie(e,Qt.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:tt.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromISO(e,t){const[r]=function(e){return ot(e,[wt,Et])}(e);if(r){const e=Object.assign(r,t);return Qt.fromObject(e)}return Qt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=function(e){return ot(e,[bt,Bt])}(e);if(r){const e=Object.assign(r,t);return Qt.fromObject(e)}return Qt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the Duration is invalid");const r=e instanceof Ce?e:new Ce(e,t);if(ze.throwOnInvalid)throw new s(r);return new Qt({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new c(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Te.create(this.loc,r).formatDurationFromString(this,e):"Invalid Duration"}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=$(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const r=this.shiftTo("hours","minutes","seconds","milliseconds");let n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===r.seconds&&0===r.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===r.milliseconds||(n+=".SSS"));let o=r.toFormat(n);return e.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Xt(e),r={};for(const e of Wt)(H(t.values,e)||H(this.values,e))&&(r[e]=t.get(e)+this.get(e));return $t(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=Xt(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=oe(e(this.values[r],r));return $t(this,{values:t},!0)}get(e){return this[Qt.normalizeUnit(e)]}set(e){return this.isValid?$t(this,{values:Object.assign(this.values,ie(e,Qt.normalizeUnit,[]))}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r}={}){const n={loc:this.loc.clone({locale:e,numberingSystem:t})};return r&&(n.conversionAccuracy=r),$t(this,n)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){Jt.reduce(((r,n)=>L(t[n])?r:(r&&Yt(e,t,r,t,n),n)),null)}(this.matrix,e),$t(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Qt.normalizeUnit(e)));const t={},r={},n=this.toObject();let o;for(const i of Wt)if(e.indexOf(i)>=0){o=i;let e=0;for(const t in r)e+=this.matrix[t][i]*r[t],r[t]=0;F(n[i])&&(e+=n[i]);const s=Math.trunc(e);t[i]=s,r[i]=e-s;for(const e in n)Wt.indexOf(e)>Wt.indexOf(i)&&Yt(this.matrix,n,e,t,i)}else F(n[i])&&(r[i]=n[i]);for(const e in r)0!==r[e]&&(t[o]+=e===o?r[e]:r[e]/this.matrix[o][e]);return $t(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=-this.values[t];return $t(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of Wt)if(t=this.values[n],r=e.values[n],!(void 0===t||0===t?void 0===r||0===r:t===r))return!1;var t,r;return!0}}function Xt(e){if(F(e))return Qt.fromMillis(e);if(Qt.isDuration(e))return e;if("object"==typeof e)return Qt.fromObject(e);throw new l(`Unknown duration argument ${e} of type ${typeof e}`)}const Zt="Invalid Interval";class er{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the Interval is invalid");const r=e instanceof Ce?e:new Ce(e,t);if(ze.throwOnInvalid)throw new i(r);return new er({invalid:r})}static fromDateTimes(e,t){const r=Xr(e),n=Xr(t),o=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?er.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:er.invalid("missing or invalid end"):er.invalid("missing or invalid start")}(r,n);return null==o?new er({start:r,end:n}):o}static after(e,t){const r=Xt(t),n=Xr(e);return er.fromDateTimes(n,n.plus(r))}static before(e,t){const r=Xt(t),n=Xr(e);return er.fromDateTimes(n.minus(r),n)}static fromISO(e,t){const[r,n]=(e||"").split("/",2);if(r&&n){let e,o,i,s;try{e=Qr.fromISO(r,t),o=e.isValid}catch(n){o=!1}try{i=Qr.fromISO(n,t),s=i.isValid}catch(n){s=!1}if(o&&s)return er.fromDateTimes(e,i);if(o){const r=Qt.fromISO(n,t);if(r.isValid)return er.after(e,r)}else if(s){const e=Qt.fromISO(r,t);if(e.isValid)return er.before(i,e)}}return er.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?er.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Xr).filter((e=>this.contains(e))).sort(),r=[];let{s:n}=this,o=0;for(;n<this.e;){const e=t[o]||this.e,i=+e>+this.e?this.e:e;r.push(er.fromDateTimes(n,i)),n=i,o+=1}return r}splitBy(e){const t=Xt(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,{s:n}=this,o=1;const i=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*o)));r=+e>+this.e?this.e:e,i.push(er.fromDateTimes(n,r)),n=r,o+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:er.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return er.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r]),[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const n=[],o=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),i=Array.prototype.concat(...o).sort(((e,t)=>e.time-t.time));for(const e of i)r+="s"===e.type?1:-1,1===r?t=e.time:(t&&+t!=+e.time&&n.push(er.fromDateTimes(t,e.time)),t=null);return er.merge(n)}difference(...e){return er.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Zt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Zt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Zt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Zt}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Zt}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Qt.invalid(this.invalidReason)}mapEndpoints(e){return er.fromDateTimes(e(this.s),e(this.e))}}class tr{static hasDST(e=ze.defaultZone){const t=Qr.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return je.isValidSpecifier(e)&&je.isValidZone(e)}static normalizeZone(e){return Me(e,ze.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||tt.create(t,r,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||tt.create(t,r,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||tt.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||tt.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return tt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return tt.create(t,null,"gregory").eras(e)}static features(){let e=!1,t=!1,r=!1,n=!1;if(B()){e=!0,t=U(),n=V();try{r="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(e){r=!1}}return{intl:e,intlTokens:t,zones:r,relative:n}}}function rr(e,t){const r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Qt.fromMillis(n).as("days"))}const nr={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},or={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ir=nr.hanidec.replace(/[\[|\]]/g,"").split("");function sr({numberingSystem:e},t=""){return new RegExp(`${nr[e||"latn"]}${t}`)}function ar(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(-1!==e[r].search(nr.hanidec))t+=ir.indexOf(e[r]);else for(const e in or){const[r,o]=or[e];n>=r&&n<=o&&(t+=n-r)}}return parseInt(t,10)}return t}(e))}}const cr=`( |${String.fromCharCode(160)})`,lr=new RegExp(cr,"g");function ur(e){return e.replace(/\./g,"\\.?").replace(lr,cr)}function pr(e){return e.replace(/\./g,"").replace(lr," ").toLowerCase()}function dr(e,t){return null===e?null:{regex:RegExp(e.map(ur).join("|")),deser:([r])=>e.findIndex((e=>pr(r)===pr(e)))+t}}function fr(e,t){return{regex:e,deser:([,e,t])=>ne(e,t),groups:t}}function hr(e){return{regex:e,deser:([e])=>e}}const gr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let mr=null;function yr(e,t,r){const n=function(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const r=Te.macroTokenToFormatOpts(e.val);if(!r)return e;const n=Te.create(t,r).formatDateTimeParts((mr||(mr=Qr.fromMillis(1555555555555)),mr)).map((e=>function(e,t,r){const{type:n,value:o}=e;if("literal"===n)return{literal:!0,val:o};const i=r[n];let s=gr[n];return"object"==typeof s&&(s=s[i]),s?{literal:!1,val:s}:void 0}(e,0,r)));return n.includes(void 0)?e:n}(e,t))))}(Te.parseFormat(r),e),o=n.map((t=>function(e,t){const r=sr(t),n=sr(t,"{2}"),o=sr(t,"{3}"),i=sr(t,"{4}"),s=sr(t,"{6}"),a=sr(t,"{1,2}"),c=sr(t,"{1,3}"),l=sr(t,"{1,6}"),u=sr(t,"{1,9}"),p=sr(t,"{2,4}"),d=sr(t,"{4,6}"),f=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},h=(h=>{if(e.literal)return f(h);switch(h.val){case"G":return dr(t.eras("short",!1),0);case"GG":return dr(t.eras("long",!1),0);case"y":return ar(l);case"yy":return ar(p,te);case"yyyy":return ar(i);case"yyyyy":return ar(d);case"yyyyyy":return ar(s);case"M":return ar(a);case"MM":return ar(n);case"MMM":return dr(t.months("short",!0,!1),1);case"MMMM":return dr(t.months("long",!0,!1),1);case"L":return ar(a);case"LL":return ar(n);case"LLL":return dr(t.months("short",!1,!1),1);case"LLLL":return dr(t.months("long",!1,!1),1);case"d":return ar(a);case"dd":return ar(n);case"o":return ar(c);case"ooo":return ar(o);case"HH":return ar(n);case"H":return ar(a);case"hh":return ar(n);case"h":return ar(a);case"mm":return ar(n);case"m":case"q":return ar(a);case"qq":return ar(n);case"s":return ar(a);case"ss":return ar(n);case"S":return ar(c);case"SSS":return ar(o);case"u":return hr(u);case"a":return dr(t.meridiems(),0);case"kkkk":return ar(i);case"kk":return ar(p,te);case"W":return ar(a);case"WW":return ar(n);case"E":case"c":return ar(r);case"EEE":return dr(t.weekdays("short",!1,!1),1);case"EEEE":return dr(t.weekdays("long",!1,!1),1);case"ccc":return dr(t.weekdays("short",!0,!1),1);case"cccc":return dr(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return fr(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return fr(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return hr(/[a-z_+-/]{1,256}?/i);default:return f(h)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return h.token=e,h}(t,e))),i=o.find((e=>e.invalidReason));if(i)return{input:t,tokens:n,invalidReason:i.invalidReason};{const[e,r]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(o),i=RegExp(e,"i"),[s,c]=function(e,t,r){const n=e.match(t);if(n){const e={};let t=1;for(const o in r)if(H(r,o)){const i=r[o],s=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(n.slice(t,t+s))),t+=s}return[n,e]}return[n,{}]}(t,i,r),[l,u]=c?function(e){let t;return t=L(e.Z)?L(e.z)?null:je.create(e.z):new Le(e.Z),L(e.q)||(e.M=3*(e.q-1)+1),L(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),L(e.u)||(e.S=J(e.u)),[Object.keys(e).reduce(((t,r)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return n&&(t[n]=e[r]),t}),{}),t]}(c):[null,null];if(H(c,"a")&&H(c,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:i,rawMatches:s,matches:c,result:l,zone:u}}}const vr=[0,31,59,90,120,151,181,212,243,273,304,334],br=[0,31,60,91,121,152,182,213,244,274,305,335];function wr(e,t){return new Ce("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Er(e,t,r){const n=new Date(Date.UTC(e,t-1,r)).getUTCDay();return 0===n?7:n}function _r(e,t,r){return r+(Y(e)?br:vr)[t-1]}function Or(e,t){const r=Y(e)?br:vr,n=r.findIndex((e=>e<t));return{month:n+1,day:t-r[n]}}function Sr(e){const{year:t,month:r,day:n}=e,o=_r(t,r,n),i=Er(t,r,n);let s,a=Math.floor((o-i+10)/7);return a<1?(s=t-1,a=ee(s)):a>ee(t)?(s=t+1,a=1):s=t,Object.assign({weekYear:s,weekNumber:a,weekday:i},ae(e))}function Tr(e){const{weekYear:t,weekNumber:r,weekday:n}=e,o=Er(t,1,4),i=Q(t);let s,a=7*r+n-o-3;a<1?(s=t-1,a+=Q(s)):a>i?(s=t+1,a-=Q(t)):s=t;const{month:c,day:l}=Or(s,a);return Object.assign({year:s,month:c,day:l},ae(e))}function Cr(e){const{year:t,month:r,day:n}=e,o=_r(t,r,n);return Object.assign({year:t,ordinal:o},ae(e))}function Ar(e){const{year:t,ordinal:r}=e,{month:n,day:o}=Or(t,r);return Object.assign({year:t,month:n,day:o},ae(e))}function xr(e){const t=M(e.year),r=z(e.month,1,12),n=z(e.day,1,X(e.year,e.month));return t?r?!n&&wr("day",e.day):wr("month",e.month):wr("year",e.year)}function Ir(e){const{hour:t,minute:r,second:n,millisecond:o}=e,i=z(t,0,23)||24===t&&0===r&&0===n&&0===o,s=z(r,0,59),a=z(n,0,59),c=z(o,0,999);return i?s?a?!c&&wr("millisecond",o):wr("second",n):wr("minute",r):wr("hour",t)}const kr="Invalid DateTime",Nr=864e13;function Pr(e){return new Ce("unsupported zone",`the zone "${e.name}" is not supported`)}function Rr(e){return null===e.weekData&&(e.weekData=Sr(e.c)),e.weekData}function jr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Qr(Object.assign({},r,t,{old:r}))}function Dr(e,t,r){let n=e-60*t*1e3;const o=r.offset(n);if(t===o)return[n,t];n-=60*(o-t)*1e3;const i=r.offset(n);return o===i?[n,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}function Lr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Fr(e,t,r){return Dr(Z(e),t,r)}function Mr(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i=Object.assign({},e.c,{year:n,month:o,day:Math.min(e.c.day,X(n,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=Qt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Z(i);let[c,l]=Dr(a,r,e.zone);return 0!==s&&(c+=s,l=e.zone.offset(c)),{ts:c,o:l}}function Br(e,t,r,n,o){const{setZone:i,zone:s}=r;if(e&&0!==Object.keys(e).length){const n=t||s,o=Qr.fromObject(Object.assign(e,r,{zone:n,setZone:void 0}));return i?o:o.setZone(s)}return Qr.invalid(new Ce("unparsable",`the input "${o}" can't be parsed as ${n}`))}function Ur(e,t,r=!0){return e.isValid?Te.create(tt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Vr(e,{suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n,includePrefix:o=!1,includeZone:i=!1,spaceZone:s=!1,format:a="extended"}){let c="basic"===a?"HHmm":"HH:mm";t&&0===e.second&&0===e.millisecond||(c+="basic"===a?"ss":":ss",r&&0===e.millisecond||(c+=".SSS")),(i||n)&&s&&(c+=" "),i?c+="z":n&&(c+="basic"===a?"ZZZ":"ZZ");let l=Ur(e,c);return o&&(l="T"+l),l}const qr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zr=["year","month","day","hour","minute","second","millisecond"],Kr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Wr=["year","ordinal","hour","minute","second","millisecond"];function Jr(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new c(e);return t}function $r(e,t){for(const t of zr)L(e[t])&&(e[t]=qr[t]);const r=xr(e)||Ir(e);if(r)return Qr.invalid(r);const n=ze.now(),o=t.offset(n),[i,s]=Fr(e,o,t);return new Qr({ts:i,zone:t,o:s})}function Yr(e,t,r){const n=!!L(r.round)||r.round,o=(e,o)=>(e=$(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,o)),i=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return o(i(r.unit),r.unit);for(const e of r.units){const t=i(e);if(Math.abs(t)>=1)return o(t,e)}return o(e>t?-0:0,r.units[r.units.length-1])}class Qr{constructor(e){const t=e.zone||ze.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Ce("invalid input"):null)||(t.isValid?null:Pr(t));this.ts=L(e.ts)?ze.now():e.ts;let n=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,o]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);n=Lr(this.ts,e),r=Number.isNaN(n.year)?new Ce("invalid input"):null,n=r?null:n,o=r?null:e}this._zone=t,this.loc=e.loc||tt.create(),this.invalid=r,this.weekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new Qr({})}static local(e,t,r,n,o,i,s){return L(e)?Qr.now():$r({year:e,month:t,day:r,hour:n,minute:o,second:i,millisecond:s},ze.defaultZone)}static utc(e,t,r,n,o,i,s){return L(e)?new Qr({ts:ze.now(),zone:Le.utcInstance}):$r({year:e,month:t,day:r,hour:n,minute:o,second:i,millisecond:s},Le.utcInstance)}static fromJSDate(e,t={}){const r=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(r))return Qr.invalid("invalid input");const o=Me(t.zone,ze.defaultZone);return o.isValid?new Qr({ts:r,zone:o,loc:tt.fromObject(t)}):Qr.invalid(Pr(o))}static fromMillis(e,t={}){if(F(e))return e<-Nr||e>Nr?Qr.invalid("Timestamp out of range"):new Qr({ts:e,zone:Me(t.zone,ze.defaultZone),loc:tt.fromObject(t)});throw new l(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(F(e))return new Qr({ts:1e3*e,zone:Me(t.zone,ze.defaultZone),loc:tt.fromObject(t)});throw new l("fromSeconds requires a numerical input")}static fromObject(e){const t=Me(e.zone,ze.defaultZone);if(!t.isValid)return Qr.invalid(Pr(t));const r=ze.now(),n=t.offset(r),o=ie(e,Jr,["zone","locale","outputCalendar","numberingSystem"]),i=!L(o.ordinal),s=!L(o.year),c=!L(o.month)||!L(o.day),l=s||c,u=o.weekYear||o.weekNumber,p=tt.fromObject(e);if((l||i)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&i)throw new a("Can't mix ordinal dates with month/day");const d=u||o.weekday&&!l;let f,h,g=Lr(r,n);d?(f=Kr,h=Gr,g=Sr(g)):i?(f=Wr,h=Hr,g=Cr(g)):(f=zr,h=qr);let m=!1;for(const e of f)L(o[e])?o[e]=m?h[e]:g[e]:m=!0;const y=(d?function(e){const t=M(e.weekYear),r=z(e.weekNumber,1,ee(e.weekYear)),n=z(e.weekday,1,7);return t?r?!n&&wr("weekday",e.weekday):wr("week",e.week):wr("weekYear",e.weekYear)}(o):i?function(e){const t=M(e.year),r=z(e.ordinal,1,Q(e.year));return t?!r&&wr("ordinal",e.ordinal):wr("year",e.year)}(o):xr(o))||Ir(o);if(y)return Qr.invalid(y);const v=d?Tr(o):i?Ar(o):o,[b,w]=Fr(v,n,t),E=new Qr({ts:b,zone:t,o:w,loc:p});return o.weekday&&l&&e.weekday!==E.weekday?Qr.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${E.toISO()}`):E}static fromISO(e,t={}){const[r,n]=function(e){return ot(e,[Nt,Dt],[Pt,Lt],[Rt,Ft],[jt,Mt])}(e);return Br(r,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,n]=function(e){return ot(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[St,Tt])}(e);return Br(r,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,n]=function(e){return ot(e,[Ct,It],[At,It],[xt,kt])}(e);return Br(r,n,t,"HTTP",t)}static fromFormat(e,t,r={}){if(L(e)||L(t))throw new l("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:o=null}=r,i=tt.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[s,a,c]=function(e,t,r){const{result:n,zone:o,invalidReason:i}=yr(e,t,r);return[n,o,i]}(i,e,t);return c?Qr.invalid(c):Br(s,a,r,`format ${t}`,e)}static fromString(e,t,r={}){return Qr.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,n]=function(e){return ot(e,[Ut,qt],[Vt,Gt])}(e);return Br(r,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the DateTime is invalid");const r=e instanceof Ce?e:new Ce(e,t);if(ze.throwOnInvalid)throw new o(r);return new Qr({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rr(this).weekYear:NaN}get weekNumber(){return this.isValid?Rr(this).weekNumber:NaN}get weekday(){return this.isValid?Rr(this).weekday:NaN}get ordinal(){return this.isValid?Cr(this.c).ordinal:NaN}get monthShort(){return this.isValid?tr.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?tr.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?tr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?tr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Y(this.year)}get daysInMonth(){return X(this.year,this.month)}get daysInYear(){return this.isValid?Q(this.year):NaN}get weeksInWeekYear(){return this.isValid?ee(this.weekYear):NaN}resolvedLocaleOpts(e={}){const{locale:t,numberingSystem:r,calendar:n}=Te.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(Le.instance(e),t)}toLocal(){return this.setZone(ze.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=Me(e,ze.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||r){const t=e.offset(this.ts),r=this.toObject();[n]=Fr(r,t,e)}return jr(this,{ts:n,zone:e})}return Qr.invalid(Pr(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){return jr(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=ie(e,Jr,[]),r=!L(t.weekYear)||!L(t.weekNumber)||!L(t.weekday),n=!L(t.ordinal),o=!L(t.year),i=!L(t.month)||!L(t.day),s=o||i,c=t.weekYear||t.weekNumber;if((s||n)&&c)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&n)throw new a("Can't mix ordinal dates with month/day");let l;r?l=Tr(Object.assign(Sr(this.c),t)):L(t.ordinal)?(l=Object.assign(this.toObject(),t),L(t.day)&&(l.day=Math.min(X(l.year,l.month),l.day))):l=Ar(Object.assign(Cr(this.c),t));const[u,p]=Fr(l,this.o,this.zone);return jr(this,{ts:u,o:p})}plus(e){return this.isValid?jr(this,Mr(this,Xt(e))):this}minus(e){return this.isValid?jr(this,Mr(this,Xt(e).negate())):this}startOf(e){if(!this.isValid)return this;const t={},r=Qt.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===r&&(t.weekday=1),"quarters"===r){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Te.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):kr}toLocaleString(e=h){return this.isValid?Te.create(this.loc.clone(e),e).formatDateTime(this):kr}toLocaleParts(e={}){return this.isValid?Te.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(e={}){return this.isValid?`${this.toISODate(e)}T${this.toISOTime(e)}`:null}toISODate({format:e="extended"}={}){let t="basic"===e?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(t="+"+t),Ur(this,t)}toISOWeekDate(){return Ur(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,format:o="extended"}={}){return Vr(this,{suppressSeconds:t,suppressMilliseconds:e,includeOffset:r,includePrefix:n,format:o})}toRFC2822(){return Ur(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ur(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return Ur(this,"yyyy-MM-dd")}toSQLTime({includeOffset:e=!0,includeZone:t=!1}={}){return Vr(this,{includeOffset:e,includeZone:t,spaceZone:!0})}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kr}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return Qt.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");const n=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},r),o=(a=t,Array.isArray(a)?a:[a]).map(Qt.normalizeUnit),i=e.valueOf()>this.valueOf(),s=function(e,t,r,n){let[o,i,s,a]=function(e,t,r){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const r=rr(e,t);return(r-r%7)/7}],["days",rr]],o={};let i,s;for(const[a,c]of n)if(r.indexOf(a)>=0){i=a;let r=c(e,t);s=e.plus({[a]:r}),s>t?(e=e.plus({[a]:r-1}),r-=1):e=s,o[a]=r}return[e,o,s,i]}(e,t,r);const c=t-o,l=r.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===l.length&&(s<t&&(s=o.plus({[a]:1})),s!==o&&(i[a]=(i[a]||0)+c/(s-o)));const u=Qt.fromObject(Object.assign(i,n));return l.length>0?Qt.fromMillis(c,n).shiftTo(...l).plus(u):u}(i?this:e,i?e:this,o,n);var a;return i?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(Qr.now(),e,t)}until(e){return this.isValid?er.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const r=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=r&&r<=n.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Qr.fromObject({zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(n=e.unit,o=void 0),Yr(t,this.plus(r),Object.assign(e,{numeric:"always",units:n,unit:o}))}toRelativeCalendar(e={}){return this.isValid?Yr(e.base||Qr.fromObject({zone:this.zone}),this,Object.assign(e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(Qr.isDateTime))throw new l("min requires all arguments be DateTimes");return q(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(Qr.isDateTime))throw new l("max requires all arguments be DateTimes");return q(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:n=null,numberingSystem:o=null}=r;return yr(tt.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return Qr.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return h}static get DATE_MED(){return g}static get DATE_MED_WITH_WEEKDAY(){return m}static get DATE_FULL(){return y}static get DATE_HUGE(){return v}static get TIME_SIMPLE(){return b}static get TIME_WITH_SECONDS(){return w}static get TIME_WITH_SHORT_OFFSET(){return E}static get TIME_WITH_LONG_OFFSET(){return _}static get TIME_24_SIMPLE(){return O}static get TIME_24_WITH_SECONDS(){return S}static get TIME_24_WITH_SHORT_OFFSET(){return T}static get TIME_24_WITH_LONG_OFFSET(){return C}static get DATETIME_SHORT(){return A}static get DATETIME_SHORT_WITH_SECONDS(){return x}static get DATETIME_MED(){return I}static get DATETIME_MED_WITH_SECONDS(){return k}static get DATETIME_MED_WITH_WEEKDAY(){return N}static get DATETIME_FULL(){return P}static get DATETIME_FULL_WITH_SECONDS(){return R}static get DATETIME_HUGE(){return j}static get DATETIME_HUGE_WITH_SECONDS(){return D}}function Xr(e){if(Qr.isDateTime(e))return e;if(e&&e.valueOf&&F(e.valueOf()))return Qr.fromJSDate(e);if(e&&"object"==typeof e)return Qr.fromObject(e);throw new l(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Zr="1.27.0"},40789:(e,t,r)=>{"use strict";const n=r(35747),o=r(85622),{promisify:i}=r(31669),s=r(9259).satisfies(process.version,">=10.12.0"),a=e=>{if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(o.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}},c=e=>({mode:511,fs:n,...e}),l=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports=async(e,t)=>{a(e),t=c(t);const r=i(t.fs.mkdir),u=i(t.fs.stat);if(s&&t.fs.mkdir===n.mkdir){const n=o.resolve(e);return await r(n,{mode:t.mode,recursive:!0}),n}const p=async e=>{try{return await r(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(o.dirname(e)===e)throw l(e);if(t.message.includes("null bytes"))throw t;return await p(o.dirname(e)),p(e)}try{if(!(await u(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return p(o.resolve(e))},e.exports.sync=(e,t)=>{if(a(e),t=c(t),s&&t.fs.mkdirSync===n.mkdirSync){const r=o.resolve(e);return n.mkdirSync(r,{mode:t.mode,recursive:!0}),r}const r=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(n){if("EPERM"===n.code)throw n;if("ENOENT"===n.code){if(o.dirname(e)===e)throw l(e);if(n.message.includes("null bytes"))throw n;return r(o.dirname(e)),r(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw n}}return e};return r(o.resolve(e))}},9259:(e,t)=>{var r;t=e.exports=p,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=t.tokens={},a=0;function c(e){s[e]=a++}c("NUMERICIDENTIFIER"),i[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),i[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),i[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),i[s.MAINVERSION]="("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),i[s.MAINVERSIONLOOSE]="("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),i[s.PRERELEASEIDENTIFIER]="(?:"+i[s.NUMERICIDENTIFIER]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),i[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+i[s.NUMERICIDENTIFIERLOOSE]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),i[s.PRERELEASE]="(?:-("+i[s.PRERELEASEIDENTIFIER]+"(?:\\."+i[s.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),i[s.PRERELEASELOOSE]="(?:-?("+i[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+i[s.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),i[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),i[s.BUILD]="(?:\\+("+i[s.BUILDIDENTIFIER]+"(?:\\."+i[s.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),i[s.FULLPLAIN]="v?"+i[s.MAINVERSION]+i[s.PRERELEASE]+"?"+i[s.BUILD]+"?",i[s.FULL]="^"+i[s.FULLPLAIN]+"$",c("LOOSEPLAIN"),i[s.LOOSEPLAIN]="[v=\\s]*"+i[s.MAINVERSIONLOOSE]+i[s.PRERELEASELOOSE]+"?"+i[s.BUILD]+"?",c("LOOSE"),i[s.LOOSE]="^"+i[s.LOOSEPLAIN]+"$",c("GTLT"),i[s.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),i[s.XRANGEIDENTIFIERLOOSE]=i[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),i[s.XRANGEIDENTIFIER]=i[s.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),i[s.XRANGEPLAIN]="[v=\\s]*("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:"+i[s.PRERELEASE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),i[s.XRANGEPLAINLOOSE]="[v=\\s]*("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:"+i[s.PRERELEASELOOSE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGE"),i[s.XRANGE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAIN]+"$",c("XRANGELOOSE"),i[s.XRANGELOOSE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAINLOOSE]+"$",c("COERCE"),i[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),o[s.COERCERTL]=new RegExp(i[s.COERCE],"g"),c("LONETILDE"),i[s.LONETILDE]="(?:~>?)",c("TILDETRIM"),i[s.TILDETRIM]="(\\s*)"+i[s.LONETILDE]+"\\s+",o[s.TILDETRIM]=new RegExp(i[s.TILDETRIM],"g"),c("TILDE"),i[s.TILDE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAIN]+"$",c("TILDELOOSE"),i[s.TILDELOOSE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAINLOOSE]+"$",c("LONECARET"),i[s.LONECARET]="(?:\\^)",c("CARETTRIM"),i[s.CARETTRIM]="(\\s*)"+i[s.LONECARET]+"\\s+",o[s.CARETTRIM]=new RegExp(i[s.CARETTRIM],"g"),c("CARET"),i[s.CARET]="^"+i[s.LONECARET]+i[s.XRANGEPLAIN]+"$",c("CARETLOOSE"),i[s.CARETLOOSE]="^"+i[s.LONECARET]+i[s.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),i[s.COMPARATORLOOSE]="^"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),i[s.COMPARATOR]="^"+i[s.GTLT]+"\\s*("+i[s.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),i[s.COMPARATORTRIM]="(\\s*)"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+"|"+i[s.XRANGEPLAIN]+")",o[s.COMPARATORTRIM]=new RegExp(i[s.COMPARATORTRIM],"g"),c("HYPHENRANGE"),i[s.HYPHENRANGE]="^\\s*("+i[s.XRANGEPLAIN]+")\\s+-\\s+("+i[s.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),i[s.HYPHENRANGELOOSE]="^\\s*("+i[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+i[s.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),i[s.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<a;l++)r(l,i[l]),o[l]||(o[l]=new RegExp(i[l]));function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[s.LOOSE]:o[s.FULL]).test(e))return null;try{return new p(e,t)}catch(e){return null}}function p(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof p))return new p(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=u,t.valid=function(e,t){var r=u(e,t);return r?r.version:null},t.clean=function(e,t){var r=u(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=p,p.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},p.prototype.toString=function(){return this.version},p.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof p||(e=new p(e,this.options)),this.compareMain(e)||this.comparePre(e)},p.prototype.compareMain=function(e){return e instanceof p||(e=new p(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)},p.prototype.comparePre=function(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return f(n,o)}while(++t)},p.prototype.compareBuild=function(e){e instanceof p||(e=new p(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return f(n,o)}while(++t)},p.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new p(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(y(e,t))return null;var r=u(e),n=u(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=f;var d=/^[0-9]+$/;function f(e,t){var r=d.test(e),n=d.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function h(e,t,r){return new p(e,r).compare(new p(t,r))}function g(e,t,r){return h(e,t,r)>0}function m(e,t,r){return h(e,t,r)<0}function y(e,t,r){return 0===h(e,t,r)}function v(e,t,r){return 0!==h(e,t,r)}function b(e,t,r){return h(e,t,r)>=0}function w(e,t,r){return h(e,t,r)<=0}function E(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return y(e,r,n);case"!=":return v(e,r,n);case">":return g(e,r,n);case">=":return b(e,r,n);case"<":return m(e,r,n);case"<=":return w(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function _(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof _){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof _))return new _(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===O?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return f(t,e)},t.major=function(e,t){return new p(e,t).major},t.minor=function(e,t){return new p(e,t).minor},t.patch=function(e,t){return new p(e,t).patch},t.compare=h,t.compareLoose=function(e,t){return h(e,t,!0)},t.compareBuild=function(e,t,r){var n=new p(e,r),o=new p(t,r);return n.compare(o)||n.compareBuild(o)},t.rcompare=function(e,t,r){return h(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compareBuild(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.compareBuild(n,e,r)}))},t.gt=g,t.lt=m,t.eq=y,t.neq=v,t.gte=b,t.lte=w,t.cmp=E,t.Comparator=_;var O={};function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new S(e.raw,t);if(e instanceof _)return new S(e.value,t);if(!(this instanceof S))return new S(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function T(e,t){for(var r=!0,n=e.slice(),o=n.pop();r&&n.length;)r=n.every((function(e){return o.intersects(e,t)})),o=n.pop();return r}function C(e){return!e||"x"===e.toLowerCase()||"*"===e}function A(e,t,r,n,o,i,s,a,c,l,u,p,d){return((t=C(r)?"":C(n)?">="+r+".0.0":C(o)?">="+r+"."+n+".0":">="+t)+" "+(a=C(c)?"":C(l)?"<"+(+c+1)+".0.0":C(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function x(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==O&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function I(e,t,r){try{t=new S(t,r)}catch(e){return!1}return t.test(e)}function k(e,t,r,n){var o,i,s,a,c;switch(e=new p(e,n),t=new S(t,n),r){case">":o=g,i=w,s=m,a=">",c=">=";break;case"<":o=m,i=b,s=g,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,f=null;if(u.forEach((function(e){e.semver===O&&(e=new _(">=0.0.0")),d=d||e,f=f||e,o(e.semver,d.semver,n)?d=e:s(e.semver,f.semver,n)&&(f=e)})),d.operator===a||d.operator===c)return!1;if((!f.operator||f.operator===a)&&i(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}_.prototype.parse=function(e){var t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new p(r[2],this.options.loose):this.semver=O},_.prototype.toString=function(){return this.value},_.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===O||e===O)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return E(e,this.operator,this.semver,this.options)},_.prototype.intersects=function(e,t){if(!(e instanceof _))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new S(e.value,t),I(this.value,r,t));if(""===e.operator)return""===e.value||(r=new S(this.value,t),I(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=E(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=E(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=S,S.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},S.prototype.toString=function(){return this.range},S.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[s.HYPHENRANGELOOSE]:o[s.HYPHENRANGE];e=e.replace(n,A),r("hyphen replace",e),e=e.replace(o[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,o[s.COMPARATORTRIM]),e=(e=(e=e.replace(o[s.TILDETRIM],"$1~")).replace(o[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[s.CARETLOOSE]:o[s.CARET];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),C(n)?a="":C(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":C(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[s.TILDELOOSE]:o[s.TILDE];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),C(n)?a="":C(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":C(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[s.XRANGELOOSE]:o[s.XRANGE];return e.replace(n,(function(n,o,i,s,a,c){r("xRange",e,n,o,i,s,a,c);var l=C(i),u=l||C(s),p=u||C(a),d=p;return"="===o&&d&&(o=""),c=t.includePrerelease?"-0":"",l?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&d?(u&&(s=0),a=0,">"===o?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===o&&(o="<",u?i=+i+1:s=+s+1),n=o+i+"."+s+"."+a+c):u?n=">="+i+".0.0"+c+" <"+(+i+1)+".0.0"+c:p&&(n=">="+i+"."+s+".0"+c+" <"+i+"."+(+s+1)+".0"+c),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[s.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a.map((function(e){return new _(e,this.options)}),this)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Range is required");return this.set.some((function(r){return T(r,t)&&e.set.some((function(e){return T(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new S(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},S.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(x(this.set[t],e,this.options))return!0;return!1},t.satisfies=I,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new S(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new p(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new S(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new p(n=e,r)))})),n},t.minVersion=function(e,t){e=new S(e,t);var r=new p("0.0.0");if(e.test(r))return r;if(r=new p("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new p(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!g(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new S(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return k(e,t,"<",r)},t.gtr=function(e,t,r){return k(e,t,">",r)},t.outside=k,t.prerelease=function(e,t){var r=u(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new S(e,r),t=new S(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof p)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=o[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),o[s.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;o[s.COERCERTL].lastIndex=-1}else r=e.match(o[s.COERCE]);return null===r?null:u(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}},73313:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},55234:(e,t,r)=>{e.exports=r(73313)},80983:(e,t,r)=>{"use strict";var n,o,i,s=r(55234),a=r(85622).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),r=t&&s[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!l.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var r=-1===e.indexOf("/")?t.lookup(e):e;if(!r)return!1;if(-1===r.indexOf("charset")){var n=t.charset(r);n&&(r+="; charset="+n.toLowerCase())}return r},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var r=c.exec(e),n=r&&t.extensions[r[1].toLowerCase()];return!(!n||!n.length)&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var r=a("x."+e).toLowerCase().substr(1);return r&&t.types[r]||!1},t.types=Object.create(null),n=t.extensions,o=t.types,i=["nginx","apache",void 0,"iana"],Object.keys(s).forEach((function(e){var t=s[e],r=t.extensions;if(r&&r.length){n[e]=r;for(var a=0;a<r.length;a++){var c=r[a];if(o[c]){var l=i.indexOf(s[o[c]].source),u=i.indexOf(t.source);if("application/octet-stream"!==o[c]&&(l>u||l===u&&"application/"===o[c].substr(0,12)))continue}o[c]=e}}}))},29146:e=>{"use strict";function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(e,t){for(let r in e){let n=e[r].map((function(e){return e.toLowerCase()}));r=r.toLowerCase();for(let e=0;e<n.length;e++){const o=n[e];if("*"!==o[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+r+'".');this._types[o]=r}}if(t||!this._extensions[r]){const e=n[0];this._extensions[r]="*"!==e[0]?e:e.substr(1)}}},t.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),n=t.length<e.length;return(r.length<t.length-1||!n)&&this._types[r]||null},t.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},e.exports=t},13893:(e,t,r)=>{"use strict";let n=r(29146);e.exports=new n(r(94415),r(33014))},33014:e=>{e.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},94415:e=>{e.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},34341:e=>{"use strict";const t=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};e.exports=t,e.exports.default=t},60159:(e,t,r)=>{"use strict";var n=Object.create(null);function o(e){if(!(this instanceof o))return new o(e);this.request=e}function i(e){var t=n[e];if(void 0!==t)return t;switch(e){case"charset":t=r(38558);break;case"encoding":t=r(44328);break;case"language":t=r(8035);break;case"mediaType":t=r(54097);break;default:throw new Error("Cannot find module '"+e+"'")}return n[e]=t,t}e.exports=o,e.exports.Negotiator=o,o.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},o.prototype.charsets=function(e){return(0,i("charset").preferredCharsets)(this.request.headers["accept-charset"],e)},o.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},o.prototype.encodings=function(e){return(0,i("encoding").preferredEncodings)(this.request.headers["accept-encoding"],e)},o.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},o.prototype.languages=function(e){return(0,i("language").preferredLanguages)(this.request.headers["accept-language"],e)},o.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},o.prototype.mediaTypes=function(e){return(0,i("mediaType").preferredMediaTypes)(this.request.headers.accept,e)},o.prototype.preferredCharset=o.prototype.charset,o.prototype.preferredCharsets=o.prototype.charsets,o.prototype.preferredEncoding=o.prototype.encoding,o.prototype.preferredEncodings=o.prototype.encodings,o.prototype.preferredLanguage=o.prototype.language,o.prototype.preferredLanguages=o.prototype.languages,o.prototype.preferredMediaType=o.prototype.mediaType,o.prototype.preferredMediaTypes=o.prototype.mediaTypes},38558:e=>{"use strict";e.exports=o,e.exports.preferredCharsets=o;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=1;if(n[2])for(var s=n[2].split(";"),a=0;a<s.length;a++){var c=s[a].trim().split("=");if("q"===c[0]){i=parseFloat(c[1]);break}}return{charset:o,q:i,i:r}}function n(e,t,r){var n=0;if(t.charset.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.charset)return null;return{i:r,o:t.i,q:t.q,s:n}}function o(e,t){var o=function(e){for(var t=e.split(","),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*":e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.charset}function a(e){return e.q>0}},44328:e=>{"use strict";e.exports=o,e.exports.preferredEncodings=o;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=1;if(n[2])for(var s=n[2].split(";"),a=0;a<s.length;a++){var c=s[a].trim().split("=");if("q"===c[0]){i=parseFloat(c[1]);break}}return{encoding:o,q:i,i:r}}function n(e,t,r){var n=0;if(t.encoding.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.encoding)return null;return{i:r,o:t.i,q:t.q,s:n}}function o(e,t){var o=function(e){for(var t=e.split(","),o=!1,i=1,s=0,a=0;s<t.length;s++){var c=r(t[s].trim(),s);c&&(t[a++]=c,o=o||n("identity",c),i=Math.min(i,c.q||1))}return o||(t[a++]={encoding:"identity",q:i,i:s}),t.length=a,t}(e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.encoding}function a(e){return e.q>0}},8035:e=>{"use strict";e.exports=o,e.exports.preferredLanguages=o;var t=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=n[2],s=o;i&&(s+="-"+i);var a=1;if(n[3])for(var c=n[3].split(";"),l=0;l<c.length;l++){var u=c[l].split("=");"q"===u[0]&&(a=parseFloat(u[1]))}return{prefix:o,suffix:i,q:a,i:r,full:s}}function n(e,t,n){var o=r(e);if(!o)return null;var i=0;if(t.full.toLowerCase()===o.full.toLowerCase())i|=4;else if(t.prefix.toLowerCase()===o.full.toLowerCase())i|=2;else if(t.full.toLowerCase()===o.prefix.toLowerCase())i|=1;else if("*"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:i}}function o(e,t){var o=function(e){for(var t=e.split(","),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*":e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.full}function a(e){return e.q>0}},54097:e=>{"use strict";e.exports=o,e.exports.preferredMediaTypes=o;var t=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=Object.create(null),i=1,s=n[2],a=n[1];if(n[3])for(var u=function(e){for(var t=e.split(";"),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=";"+t[r];for(t.length=n+1,r=0;r<t.length;r++)t[r]=t[r].trim();return t}(n[3]).map(l),p=0;p<u.length;p++){var d=u[p],f=d[0].toLowerCase(),h=d[1],g=h&&'"'===h[0]&&'"'===h[h.length-1]?h.substr(1,h.length-2):h;if("q"===f){i=parseFloat(g);break}o[f]=g}return{type:a,subtype:s,params:o,q:i,i:r}}function n(e,t,n){var o=r(e),i=0;if(!o)return null;if(t.type.toLowerCase()==o.type.toLowerCase())i|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==o.subtype.toLowerCase())i|=2;else if("*"!=t.subtype)return null;var s=Object.keys(t.params);if(s.length>0){if(!s.every((function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(o.params[e]||"").toLowerCase()})))return null;i|=1}return{i:n,o:t.i,q:t.q,s:i}}function o(e,t){var o=function(e){for(var t=function(e){for(var t=e.split(","),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=","+t[r];return t.length=n+1,t}(e),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*/*":e||"");if(!t)return o.filter(a).sort(i).map(s);var l=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return l.filter(a).sort(i).map((function(e){return t[l.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.type+"/"+e.subtype}function a(e){return e.q>0}function c(e){for(var t=0,r=0;-1!==(r=e.indexOf('"',r));)t++,r++;return t}function l(e){var t,r,n=e.indexOf("=");return-1===n?t=e:(t=e.substr(0,n),r=e.substr(n+1)),[t,r]}},83574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>J,Headers:()=>I,Request:()=>G,Response:()=>F,FetchError:()=>d});var n=r(92413),o=r(98605),i=r(78835),s=r(57211),a=r(78761);const c=n.Readable,l=Symbol("buffer"),u=Symbol("type");class p{constructor(){this[u]="";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof p?o[l]:Buffer.from("string"==typeof o?o:String(o)),n+=i.length,r.push(i)}}this[l]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[u]=o)}get size(){return this[l].length}get type(){return this[u]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[l]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const i=Math.max(o-n,0),s=this[l].slice(n,n+i),a=new p([],{type:arguments[2]});return a[l]=s,a}}function d(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(p.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(p.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FetchError";try{f=require("encoding").convert}catch(e){}const h=Symbol("Body internals"),g=n.PassThrough;function m(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.size;let i=void 0===o?0:o;var s=r.timeout;let a=void 0===s?0:s;null==e?e=null:v(e)?e=Buffer.from(e.toString()):b(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[h]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof n&&e.on("error",(function(e){const r="AbortError"===e.name?e:new d(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[h].error=r}))}function y(){var e=this;if(this[h].disturbed)return m.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[h].disturbed=!0,this[h].error)return m.Promise.reject(this[h].error);let t=this.body;if(null===t)return m.Promise.resolve(Buffer.alloc(0));if(b(t)&&(t=t.stream()),Buffer.isBuffer(t))return m.Promise.resolve(t);if(!(t instanceof n))return m.Promise.resolve(Buffer.alloc(0));let r=[],o=0,i=!1;return new m.Promise((function(n,s){let a;e.timeout&&(a=setTimeout((function(){i=!0,s(new d(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,s(t)):s(new d(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&o+t.length>e.size)return i=!0,void s(new d(`content size at ${e.url} over limit: ${e.size}`,"max-size"));o+=t.length,r.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(a);try{n(Buffer.concat(r,o))}catch(t){s(new d(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function v(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function b(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,r,o=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof n&&"function"!=typeof o.getBoundary&&(t=new g,r=new g,o.pipe(t),o.pipe(r),e[h].body=t,o=r),o}function E(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":v(e)?"application/x-www-form-urlencoded;charset=UTF-8":b(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof n?null:"text/plain;charset=UTF-8"}function _(e){const t=e.body;return null===t?0:b(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}m.prototype={get body(){return this[h].body},get bodyUsed(){return this[h].disturbed},arrayBuffer(){return y.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return y.call(this).then((function(t){return Object.assign(new p([],{type:e.toLowerCase()}),{[l]:t})}))},json(){var e=this;return y.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return m.Promise.reject(new d(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return y.call(this).then((function(e){return e.toString()}))},buffer(){return y.call(this)},textConverted(){var e=this;return y.call(this).then((function(t){return function(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n,o,i="utf-8";return r&&(n=/charset=([^;]*)/i.exec(r)),o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!n&&o&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&o&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),n&&(i=n.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030")),f(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(m.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),m.mixIn=function(e){for(const t of Object.getOwnPropertyNames(m.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(m.prototype,t);Object.defineProperty(e,t,r)}},m.Promise=global.Promise;const O=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,S=/[^\t\x20-\x7e\x80-\xff]/;function T(e){if(e=`${e}`,O.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function C(e){if(e=`${e}`,S.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function A(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const x=Symbol("map");class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[x]=Object.create(null),e instanceof I){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){T(e=`${e}`);const t=A(this[x],e);return void 0===t?null:this[x][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=k(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],s=o[1];e.call(t,s,i,this),r=k(this),n++}}set(e,t){t=`${t}`,T(e=`${e}`),C(t);const r=A(this[x],e);this[x][void 0!==r?r:e]=[t]}append(e,t){t=`${t}`,T(e=`${e}`),C(t);const r=A(this[x],e);void 0!==r?this[x][r].push(t):this[x][e]=[t]}has(e){return T(e=`${e}`),void 0!==A(this[x],e)}delete(e){T(e=`${e}`);const t=A(this[x],e);void 0!==t&&delete this[x][t]}raw(){return this[x]}keys(){return P(this,"key")}values(){return P(this,"value")}[Symbol.iterator](){return P(this,"key+value")}}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[x]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[x][t].join(", ")}:function(t){return[t.toLowerCase(),e[x][t].join(", ")]})}I.prototype.entries=I.prototype[Symbol.iterator],Object.defineProperty(I.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(I.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const N=Symbol("internal");function P(e,t){const r=Object.create(R);return r[N]={target:e,kind:t,index:0},r}const R=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==R)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[N];const t=e.target,r=e.kind,n=e.index,o=k(t,r);return n>=o.length?{value:void 0,done:!0}:(this[N].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function j(e){const t=Object.assign({__proto__:null},e[x]),r=A(e[x],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(R,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const D=Symbol("Response internals"),L=o.STATUS_CODES;class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.call(this,e,t);const r=t.status||200,n=new I(t.headers);if(null!=e&&!n.has("Content-Type")){const t=E(e);t&&n.append("Content-Type",t)}this[D]={url:t.url,status:r,statusText:t.statusText||L[r],headers:n,counter:t.counter}}get url(){return this[D].url||""}get status(){return this[D].status}get ok(){return this[D].status>=200&&this[D].status<300}get redirected(){return this[D].counter>0}get statusText(){return this[D].statusText}get headers(){return this[D].headers}clone(){return new F(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}m.mixIn(F.prototype),Object.defineProperties(F.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const M=Symbol("Request internals"),B=i.parse,U=i.format,V="destroy"in n.Readable.prototype;function q(e){return"object"==typeof e&&"object"==typeof e[M]}class G{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q(e)?t=B(e.url):(t=e&&e.href?B(e.href):B(`${e}`),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||q(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=r.body?r.body:q(e)&&null!==e.body?w(e):null;m.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new I(r.headers||e.headers||{});if(null!=o&&!i.has("Content-Type")){const e=E(o);e&&i.append("Content-Type",e)}let s=q(e)?e.signal:null;if("signal"in r&&(s=r.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[M]={method:n,redirect:r.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:s},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[M].method}get url(){return U(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}clone(){return new G(this)}}function H(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}m.mixIn(G.prototype),Object.defineProperty(G.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(G.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H.prototype.name="AbortError";const z=n.PassThrough,K=i.resolve;function W(e,t){if(!W.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return m.Promise=W.Promise,new W.Promise((function(r,i){const c=new G(e,t),l=function(e){const t=e[M].parsedURL,r=new I(e[M].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!V)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){const t=_(e);"number"==typeof t&&(o=String(t))}o&&r.set("Content-Length",o),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:j(r),agent:i})}(c),u=("https:"===l.protocol?s:o).request,p=c.signal;let f=null;const h=function(){let e=new H("The user aborted a request.");i(e),c.body&&c.body instanceof n.Readable&&c.body.destroy(e),f&&f.body&&f.body.emit("error",e)};if(p&&p.aborted)return void h();const g=function(){h(),v()},m=u(l);let y;function v(){m.abort(),p&&p.removeEventListener("abort",g),clearTimeout(y)}p&&p.addEventListener("abort",g),c.timeout&&m.once("socket",(function(e){y=setTimeout((function(){i(new d(`network timeout at: ${c.url}`,"request-timeout")),v()}),c.timeout)})),m.on("error",(function(e){i(new d(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),v()})),m.on("response",(function(e){clearTimeout(y);const t=function(e){const t=new I;for(const r of Object.keys(e))if(!O.test(r))if(Array.isArray(e[r]))for(const n of e[r])S.test(n)||(void 0===t[x][r]?t[x][r]=[n]:t[x][r].push(n));else S.test(e[r])||(t[x][r]=[e[r]]);return t}(e.headers);if(W.isRedirect(e.statusCode)){const n=t.get("Location"),o=null===n?null:K(c.url,n);switch(c.redirect){case"error":return i(new d(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect")),void v();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":if(null===o)break;if(c.counter>=c.follow)return i(new d(`maximum redirect reached at: ${c.url}`,"max-redirect")),void v();const n={headers:new I(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===_(c)?(i(new d("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void v()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),r(W(new G(o,n))),void v())}}e.once("end",(function(){p&&p.removeEventListener("abort",g)}));let n=e.pipe(new z);const o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},s=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===e.statusCode||304===e.statusCode)return f=new F(n,o),void r(f);const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return n=n.pipe(a.createGunzip(l)),f=new F(n,o),void r(f);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),f=new F(n,o),void r(f);f=new F(n,o),r(f)}else e.pipe(new z).once("data",(function(e){n=8==(15&e[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),f=new F(n,o),r(f)}))})),function(e,t){const r=t.body;null===r?e.end():b(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(m,c)}))}W.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},W.Promise=global.Promise;const J=W},8925:(e,t,r)=>{var n=r(3832);function o(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(85649),r(61967),r(97116),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var o=h({key:e,output:r,decrypt:!1,mode:n});return o.start(t),o},n.aes.createEncryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var o=h({key:e,output:r,decrypt:!0,mode:n});return o.start(t),o},n.aes.createDecryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){u||p();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return f(r._w,e,t,!1)},decrypt:function(e,t){return f(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var o=0;o<t.length;++o)r.putByte(t[o])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var i=t.length();if(16===i||24===i||32===i)for(i>>>=2,o=0;o<i;++o)r.push(t.getInt32())}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var s=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=d(r,e.decrypt&&!a),this._init=!0}},n.aes._expandKey=function(e,t){return u||p(),d(e,t)},n.aes._updateBlock=f,o("AES-ECB",n.cipher.modes.ecb),o("AES-CBC",n.cipher.modes.cbc),o("AES-CFB",n.cipher.modes.cfb),o("AES-OFB",n.cipher.modes.ofb),o("AES-CTR",n.cipher.modes.ctr),o("AES-GCM",n.cipher.modes.gcm);var i,s,a,c,l,u=!1;function p(){u=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(i=new Array(256),s=new Array(256),c=new Array(4),l=new Array(4),t=0;t<4;++t)c[t]=new Array(256),l[t]=new Array(256);var r,n,o,p,d,f,h,g=0,m=0;for(t=0;t<256;++t){p=(p=m^m<<1^m<<2^m<<3^m<<4)>>8^255&p^99,i[g]=p,s[p]=g,f=(d=e[p])<<24^p<<16^p<<8^p^d,h=((r=e[g])^(n=e[r])^(o=e[n]))<<24^(g^o)<<16^(g^n^o)<<8^g^r^o;for(var y=0;y<4;++y)c[y][g]=f,l[y][p]=h,f=f<<24|f>>>8,h=h<<24|h>>>8;0===g?g=m=1:(g=r^e[e[e[r^o]]],m^=e[e[m]])}}function d(e,t){for(var r,n=e.slice(0),o=1,s=n.length,c=4*(s+6+1),u=s;u<c;++u)r=n[u-1],u%s==0?(r=i[r>>>16&255]<<24^i[r>>>8&255]<<16^i[255&r]<<8^i[r>>>24]^a[o]<<24,o++):s>6&&u%s==4&&(r=i[r>>>24]<<24^i[r>>>16&255]<<16^i[r>>>8&255]<<8^i[255&r]),n[u]=n[u-s]^r;if(t){for(var p,d=l[0],f=l[1],h=l[2],g=l[3],m=n.slice(0),y=(u=0,(c=n.length)-4);u<c;u+=4,y-=4)if(0===u||u===c-4)m[u]=n[y],m[u+1]=n[y+3],m[u+2]=n[y+2],m[u+3]=n[y+1];else for(var v=0;v<4;++v)p=n[y+v],m[u+(3&-v)]=d[i[p>>>24]]^f[i[p>>>16&255]]^h[i[p>>>8&255]]^g[i[255&p]];n=m}return n}function f(e,t,r,n){var o,a,u,p,d,f,h,g,m,y,v,b,w=e.length/4-1;n?(o=l[0],a=l[1],u=l[2],p=l[3],d=s):(o=c[0],a=c[1],u=c[2],p=c[3],d=i),f=t[0]^e[0],h=t[n?3:1]^e[1],g=t[2]^e[2],m=t[n?1:3]^e[3];for(var E=3,_=1;_<w;++_)y=o[f>>>24]^a[h>>>16&255]^u[g>>>8&255]^p[255&m]^e[++E],v=o[h>>>24]^a[g>>>16&255]^u[m>>>8&255]^p[255&f]^e[++E],b=o[g>>>24]^a[m>>>16&255]^u[f>>>8&255]^p[255&h]^e[++E],m=o[m>>>24]^a[f>>>16&255]^u[h>>>8&255]^p[255&g]^e[++E],f=y,h=v,g=b;r[0]=d[f>>>24]<<24^d[h>>>16&255]<<16^d[g>>>8&255]<<8^d[255&m]^e[++E],r[n?3:1]=d[h>>>24]<<24^d[g>>>16&255]<<16^d[m>>>8&255]<<8^d[255&f]^e[++E],r[2]=d[g>>>24]<<24^d[m>>>16&255]<<16^d[f>>>8&255]<<8^d[255&h]^e[++E],r[n?1:3]=d[m>>>24]<<24^d[f>>>16&255]<<16^d[h>>>8&255]<<8^d[255&g]^e[++E]}function h(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),o=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof n.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,o.call(t,r)},t}},26164:(e,t,r)=>{var n=r(3832);r(8925),r(84311);var o=e.exports=n.tls;function i(e,t,r){var i=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",i?r.keys.server_write_key:r.keys.client_write_key),iv:i?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",i?r.keys.client_write_key:r.keys.server_write_key),iv:i?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=l,e.write.cipherFunction=s,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=o.hmac_sha1}function s(e,t){var r,i=!1,s=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(s),t.updateSequenceNumber(),r=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var c=t.cipherState.cipher;return c.start({iv:r}),e.version.minor>=o.Versions.TLS_1_1.minor&&c.output.putBytes(r),c.update(e.fragment),c.finish(a)&&(e.fragment=c.output,e.length=e.fragment.length(),i=!0),i}function a(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function c(e,t,r){var n=!0;if(r){for(var o=t.length(),i=t.last(),s=o-1-i;s<o-1;++s)n=n&&t.at(s)==i;n&&t.truncate(i+1)}return n}function l(e,t){var r,i=!1;r=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:r}),s.update(e.fragment),i=s.finish(c);var a=t.macLength,l=n.random.getBytesSync(a),u=s.output.length();u>=a?(e.fragment=s.output.getBytes(u-a),l=s.output.getBytes(a)):e.fragment=s.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var p=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),function(e,t,r){var o=n.hmac.create();return o.start("SHA1",e),o.update(t),t=o.digest().getBytes(),o.start(null,null),o.update(r),t===(r=o.digest().getBytes())}(t.macKey,l,p)&&i}o.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i},o.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i}},59205:(e,t,r)=>{var n=r(3832);r(3068);var o=n.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},3068:(e,t,r)=>{var n=r(3832);r(97116),r(66270);var o=e.exports=n.asn1=n.asn1||{};function i(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}function s(e,t,r,n){var a;i(e,t,2);var c=e.getByte();t--;var l=192&c,u=31&c;a=e.length();var p,d,f=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var o=127&r;i(e,t,o),n=e.getInt(o<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(e,t);if(t-=a-e.length(),void 0!==f&&f>t){if(n.strict){var h=new Error("Too few bytes to read ASN.1 value.");throw h.available=e.length(),h.remaining=t,h.requested=f,h}f=t}var g=32==(32&c);if(g)if(p=[],void 0===f)for(;;){if(i(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}a=e.length(),p.push(s(e,t,r+1,n)),t-=a-e.length()}else for(;f>0;)a=e.length(),p.push(s(e,f,r+1,n)),t-=a-e.length(),f-=a-e.length();if(void 0===p&&l===o.Class.UNIVERSAL&&u===o.Type.BITSTRING&&(d=e.bytes(f)),void 0===p&&n.decodeBitStrings&&l===o.Class.UNIVERSAL&&u===o.Type.BITSTRING&&f>1){var m=e.read,y=t,v=0;if(u===o.Type.BITSTRING&&(i(e,t,1),v=e.getByte(),t--),0===v)try{a=e.length();var b=s(e,t,r+1,{verbose:n.verbose,strict:!0,decodeBitStrings:!0}),w=a-e.length();t-=w,u==o.Type.BITSTRING&&w++;var E=b.tagClass;w!==f||E!==o.Class.UNIVERSAL&&E!==o.Class.CONTEXT_SPECIFIC||(p=[b])}catch(e){}void 0===p&&(e.read=m,t=y)}if(void 0===p){if(void 0===f){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(u===o.Type.BMPSTRING)for(p="";f>0;f-=2)i(e,t,2),p+=String.fromCharCode(e.getInt16()),t-=2;else p=e.getBytes(f)}var _=void 0===d?null:{bitStringContents:d};return o.create(l,u,g,p,_)}o.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},o.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},o.create=function(e,t,r,i,s){if(n.util.isArray(i)){for(var a=[],c=0;c<i.length;++c)void 0!==i[c]&&a.push(i[c]);i=a}var l={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(i),value:i};return s&&"bitStringContents"in s&&(l.bitStringContents=s.bitStringContents,l.original=o.copy(l)),l},o.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var i=0;i<e.length;++i)r.push(o.copy(e[i],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:o.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},o.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!o.equals(e[i],t[i]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&o.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s},o.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t},o.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),s(e,e.length(),0,t)},o.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=o.equals(e,e.original))),s)i.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:i.putByte(0);for(var a=0;a<e.value.length;++a)void 0!==e.value[a]&&i.putBuffer(o.toDer(e.value[a]))}else if(e.type===o.Type.BMPSTRING)for(a=0;a<e.value.length;++a)i.putInt16(e.value.charCodeAt(a));else e.type===o.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?i.putBytes(e.value.substr(1)):i.putBytes(e.value);if(t.putByte(r),i.length()<=127)t.putByte(127&i.length());else{var c=i.length(),l="";do{l+=String.fromCharCode(255&c),c>>>=8}while(c>0);for(t.putByte(128|l.length),a=l.length-1;a>=0;--a)t.putByte(l.charCodeAt(a))}return t.putBuffer(i),t},o.oidToDer=function(e){var t,r,o,i,s=e.split("."),a=n.util.createBuffer();a.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var c=2;c<s.length;++c){t=!0,r=[],o=parseInt(s[c],10);do{i=127&o,o>>>=7,t||(i|=128),r.push(i),t=!1}while(o>0);for(var l=r.length-1;l>=0;--l)a.putByte(r[l])}return a},o.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var o=0;e.length()>0;)o<<=7,128&(r=e.getByte())?o+=127&r:(t+="."+(o+r),o=0);return t},o.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,o=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var c=e.charAt(10),l=10;"+"!==c&&"-"!==c&&(a=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,n,o),t.setUTCHours(i,s,a,0),l&&("+"===(c=e.charAt(l))||"-"===c)){var u=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);u*=6e4,"+"===c?t.setTime(+t-u):t.setTime(+t+u)}return t},o.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,o=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),c=0,l=0,u=!1;"Z"===e.charAt(e.length-1)&&(u=!0);var p=e.length-5,d=e.charAt(p);return"+"!==d&&"-"!==d||(l=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10),l*=6e4,"+"===d&&(l*=-1),u=!0),"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),u?(t.setUTCFullYear(r,n,o),t.setUTCHours(i,s,a,c),t.setTime(+t+l)):(t.setFullYear(r,n,o),t.setHours(i,s,a,c)),t},o.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},o.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},o.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},o.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},o.validate=function(e,t,r,i){var s=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(s=!0,t.value&&n.util.isArray(t.value))for(var a=0,c=0;s&&c<t.value.length;++c)s=t.value[c].optional||!1,e.value[a]&&((s=o.validate(e.value[a],t.value[c],r,i))?++a:t.value[c].optional&&(s=!0)),!s&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return s};var a=/[^\\u0000-\\u00ff]/;o.prettyPrint=function(e,t,r){var i="";r=r||2,(t=t||0)>0&&(i+="\n");for(var s="",c=0;c<t*r;++c)s+=" ";switch(i+=s+"Tag: ",e.tagClass){case o.Class.UNIVERSAL:i+="Universal:";break;case o.Class.APPLICATION:i+="Application:";break;case o.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case o.Class.PRIVATE:i+="Private:"}if(e.tagClass===o.Class.UNIVERSAL)switch(i+=e.type,e.type){case o.Type.NONE:i+=" (None)";break;case o.Type.BOOLEAN:i+=" (Boolean)";break;case o.Type.INTEGER:i+=" (Integer)";break;case o.Type.BITSTRING:i+=" (Bit string)";break;case o.Type.OCTETSTRING:i+=" (Octet string)";break;case o.Type.NULL:i+=" (Null)";break;case o.Type.OID:i+=" (Object Identifier)";break;case o.Type.ODESC:i+=" (Object Descriptor)";break;case o.Type.EXTERNAL:i+=" (External or Instance of)";break;case o.Type.REAL:i+=" (Real)";break;case o.Type.ENUMERATED:i+=" (Enumerated)";break;case o.Type.EMBEDDED:i+=" (Embedded PDV)";break;case o.Type.UTF8:i+=" (UTF8)";break;case o.Type.ROID:i+=" (Relative Object Identifier)";break;case o.Type.SEQUENCE:i+=" (Sequence)";break;case o.Type.SET:i+=" (Set)";break;case o.Type.PRINTABLESTRING:i+=" (Printable String)";break;case o.Type.IA5String:i+=" (IA5String (ASCII))";break;case o.Type.UTCTIME:i+=" (UTC time)";break;case o.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case o.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n",i+=s+"Constructed: "+e.constructed+"\n",e.composed){var l=0,u="";for(c=0;c<e.value.length;++c)void 0!==e.value[c]&&(l+=1,u+=o.prettyPrint(e.value[c],t+1,r),c+1<e.value.length&&(u+=","));i+=s+"Sub values: "+l+u}else{if(i+=s+"Value: ",e.type===o.Type.OID){var p=o.derToOid(e.value);i+=p,n.pki&&n.pki.oids&&p in n.pki.oids&&(i+=" ("+n.pki.oids[p]+") ")}if(e.type===o.Type.INTEGER)try{i+=o.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else if(e.type===o.Type.BITSTRING){if(e.value.length>1?i+="0x"+n.util.bytesToHex(e.value.slice(1)):i+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?i+=" (1 unused bit shown)":d>1&&(i+=" ("+d+" unused bits shown)")}}else e.type===o.Type.OCTETSTRING?(a.test(e.value)||(i+="("+e.value+") "),i+="0x"+n.util.bytesToHex(e.value)):e.type===o.Type.UTF8?i+=n.util.decodeUtf8(e.value):e.type===o.Type.PRINTABLESTRING||e.type===o.Type.IA5String?i+=e.value:a.test(e.value)?i+="0x"+n.util.bytesToHex(e.value):0===e.value.length?i+="[null]":i+=e.value}return i}},78807:e=>{var t={};e.exports=t;var r={};t.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var o=0,i=t.length,s=t.charAt(0),a=[0];for(o=0;o<e.length;++o){for(var c=0,l=e[o];c<a.length;++c)l+=a[c]<<8,a[c]=l%i,l=l/i|0;for(;l>0;)a.push(l%i),l=l/i|0}for(o=0;0===e[o]&&o<e.length-1;++o)n+=s;for(o=a.length-1;o>=0;--o)n+=t[a[o]]}else n=function(e,t){var r=0,n=t.length,o=t.charAt(0),i=[0];for(r=0;r<e.length();++r){for(var s=0,a=e.at(r);s<i.length;++s)a+=i[s]<<8,i[s]=a%n,a=a/n|0;for(;a>0;)i.push(a%n),a=a/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=o;for(r=i.length-1;r>=0;--r)c+=t[i[r]];return c}(e,t);if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join("\r\n")}return n},t.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var n=r[t];if(!n){n=r[t]=[];for(var o=0;o<t.length;++o)n[t.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var i=t.length,s=t.charAt(0),a=[0];for(o=0;o<e.length;o++){var c=n[e.charCodeAt(o)];if(void 0===c)return;for(var l=0,u=c;l<a.length;++l)u+=a[l]*i,a[l]=255&u,u>>=8;for(;u>0;)a.push(255&u),u>>=8}for(var p=0;e[p]===s&&p<e.length-1;++p)a.push(0);return"undefined"!=typeof Buffer?Buffer.from(a.reverse()):new Uint8Array(a.reverse())}},85649:(e,t,r)=>{var n=r(3832);r(97116),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var o=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};o.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},o.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},o.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},61967:(e,t,r)=>{var n=r(3832);r(97116),n.cipher=n.cipher||{};var o=e.exports=n.cipher.modes=n.cipher.modes||{};function i(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var o=0;o<r.length;++o)e.putByte(r[o])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var i=[],s=t/4;for(o=0;o<s;++o)i.push(e.getInt32());e=i}return e}function s(e){e[e.length-1]=e[e.length-1]+1&4294967295}function a(e){return[e/4294967296|0,4294967295&e]}o.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.ecb.prototype.start=function(e){},o.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},o.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},o.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},o.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},o.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32()^this._outBlock[o],t.putInt32(this._inBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;for(i>0&&(i=this.blockSize-i),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32(),t.putInt32(this._inBlock[o]^this._outBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;for(i>0&&(i=this.blockSize-i),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];else{var i=(this.blockSize-n)%this.blockSize;for(i>0&&(i=this.blockSize-i),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;for(i>0&&(i=this.blockSize-i),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},o.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*o)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=a(8*t.length());var i=t.length()%this.blockSize;for(i&&t.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},o.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^=e.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-n)%this.blockSize;for(i>0&&(i=this.blockSize-i),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},o.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^this._hashBlock[o]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},o.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var o=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,o);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},o.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),o=0;o<128;++o)e[o/32|0]&1<<31-o%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},o.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},o.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,o=this._m[r][n];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t},o.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},o.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,o=16*r,i=new Array(o),s=0;s<o;++s){var a=[0,0,0,0],c=(n-1-s%n)*t;a[s/n|0]=1<<t-1<<c,i[s]=this.generateSubHashTable(this.multiply(a,e),t)}return i},o.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,o=new Array(r);o[n]=e.slice(0);for(var i=n>>>1;i>0;)this.pow(o[2*i],o[i]=[]),i>>=1;for(i=2;i<n;){for(var s=1;s<i;++s){var a=o[i],c=o[s];o[i+s]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}i*=2}for(o[0]=[0,0,0,0],i=n+1;i<r;++i){var l=o[i^n];o[i]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return o}},58331:(e,t,r)=>{var n=r(3832);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},33480:(e,t,r)=>{var n=r(3832);function o(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(85649),r(61967),r(97116),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var o=h({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},n.des.createEncryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var o=h({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},n.des.createDecryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return f(r._keys,e,t,!1)},decrypt:function(e,t){return f(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],o=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<m;w++){var E=e.getInt32(),_=e.getInt32();E^=(t=252645135&(E>>>4^_))<<4,E^=t=65535&((_^=t)>>>-16^E),E^=(t=858993459&(E>>>2^(_^=t<<-16)))<<2,E^=t=65535&((_^=t)>>>-16^E),E^=(t=1431655765&(E>>>1^(_^=t<<-16)))<<1,E^=t=16711935&((_^=t)>>>8^E),t=(E^=(t=1431655765&(E>>>1^(_^=t<<8)))<<1)<<8|(_^=t)>>>20&240,E=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=t;for(var O=0;O<v.length;++O){v[O]?(E=E<<2|E>>>26,_=_<<2|_>>>26):(E=E<<1|E>>>27,_=_<<1|_>>>27);var S=r[(E&=-15)>>>28]|n[E>>>24&15]|o[E>>>20&15]|i[E>>>16&15]|s[E>>>12&15]|a[E>>>8&15]|c[E>>>4&15],T=l[(_&=-15)>>>28]|u[_>>>24&15]|p[_>>>20&15]|d[_>>>16&15]|f[_>>>12&15]|h[_>>>8&15]|g[_>>>4&15];t=65535&(T>>>16^S),y[b++]=S^t,y[b++]=T^t<<16}}return y}(t),this._init=!0}},o("DES-ECB",n.cipher.modes.ecb),o("DES-CBC",n.cipher.modes.cbc),o("DES-CFB",n.cipher.modes.cfb),o("DES-OFB",n.cipher.modes.ofb),o("DES-CTR",n.cipher.modes.ctr),o("3DES-ECB",n.cipher.modes.ecb),o("3DES-CBC",n.cipher.modes.cbc),o("3DES-CFB",n.cipher.modes.cfb),o("3DES-OFB",n.cipher.modes.ofb),o("3DES-CTR",n.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e,t,r,n){var o,f,h=32===e.length?3:9;o=3===h?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],m=t[1];g^=(f=252645135&(g>>>4^m))<<4,g^=(f=65535&(g>>>16^(m^=f)))<<16,g^=f=858993459&((m^=f)>>>2^g),g^=f=16711935&((m^=f<<2)>>>8^g),g=(g^=(f=1431655765&(g>>>1^(m^=f<<8)))<<1)<<1|g>>>31,m=(m^=f)<<1|m>>>31;for(var y=0;y<h;y+=3){for(var v=o[y+1],b=o[y+2],w=o[y];w!=v;w+=b){var E=m^e[w],_=(m>>>4|m<<28)^e[w+1];f=g,g=m,m=f^(s[E>>>24&63]|c[E>>>16&63]|u[E>>>8&63]|d[63&E]|i[_>>>24&63]|a[_>>>16&63]|l[_>>>8&63]|p[63&_])}f=g,g=m,m=f}m=m>>>1|m<<31,m^=f=1431655765&((g=g>>>1|g<<31)>>>1^m),m^=(f=16711935&(m>>>8^(g^=f<<1)))<<8,m^=(f=858993459&(m>>>2^(g^=f)))<<2,m^=f=65535&((g^=f)>>>16^m),m^=f=252645135&((g^=f<<16)>>>4^m),g^=f<<4,r[0]=g,r[1]=m}function h(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),o=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof n.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,o.call(t,r)},t}},80069:(e,t,r)=>{var n=r(3832);r(15764),r(49563),r(63219),r(97116);var o=r(59205),i=o.publicKeyValidator,s=o.privateKeyValidator;if(void 0===a)var a=n.jsbn.BigInteger;var c=n.util.ByteBuffer,l="undefined"==typeof Buffer?Uint8Array:Buffer;n.pki=n.pki||{},e.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var u=n.ed25519;function p(e){var t=e.message;if(t instanceof Uint8Array||t instanceof l)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new c(t,r)}else if(!(t instanceof c))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new l(t.length()),o=0;o<n.length;++o)n[o]=t.at(o);return n}u.constants={},u.constants.PUBLIC_KEY_BYTE_LENGTH=32,u.constants.PRIVATE_KEY_BYTE_LENGTH=64,u.constants.SEED_BYTE_LENGTH=32,u.constants.SIGN_BYTE_LENGTH=64,u.constants.HASH_BYTE_LENGTH=64,u.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=n.random.getBytesSync(u.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==u.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+u.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=p({message:t,encoding:"binary"});for(var r=new l(u.constants.PUBLIC_KEY_BYTE_LENGTH),o=new l(u.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)o[i]=t[i];return function(e,t){var r,n=[D(),D(),D(),D()],o=w(t,32);for(o[0]&=248,o[31]&=127,o[31]|=64,N(n,o),T(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,o),{publicKey:r,privateKey:o}},u.privateKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,s,t,r)){var o=new Error("Invalid Key.");throw o.errors=r,o}var i=n.asn1.derToOid(t.privateKeyOid),a=n.oids.EdDSA25519;if(i!==a)throw new Error('Invalid OID "'+i+'"; OID must be "'+a+'".');var c=t.privateKey;return{privateKeyBytes:p({message:n.asn1.fromDer(c).value,encoding:"binary"})}},u.publicKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,i,t,r)){var o=new Error("Invalid Key.");throw o.errors=r,o}var s=n.asn1.derToOid(t.publicKeyOid),a=n.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var c=t.ed25519PublicKey;if(c.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return p({message:c,encoding:"binary"})},u.publicKeyFromPrivateKey=function(e){var t=p({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new l(u.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},u.sign=function(e){var t=p(e=e||{}),r=p({message:e.privateKey,encoding:"binary"});if(r.length===u.constants.SEED_BYTE_LENGTH)r=u.generateKeyPair({seed:r}).privateKey;else if(r.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.SEED_BYTE_LENGTH+" or "+u.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new l(u.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var o,i,s=new Float64Array(64),a=[D(),D(),D(),D()],c=w(n,32);c[0]&=248,c[31]&=127,c[31]|=64;for(o=0;o<r;++o)e[64+o]=t[o];for(o=0;o<32;++o)e[32+o]=c[32+o];var l=w(e.subarray(32),r+32);for(_(l),N(a,l),T(e,a),o=32;o<64;++o)e[o]=n[o];var u=w(e,r+64);for(_(u),o=32;o<64;++o)s[o]=0;for(o=0;o<32;++o)s[o]=l[o];for(o=0;o<32;++o)for(i=0;i<32;i++)s[o+i]+=u[o]*c[i];E(e.subarray(32),s)}(n,t,t.length,r);for(var o=new l(u.constants.SIGN_BYTE_LENGTH),i=0;i<o.length;++i)o[i]=n[i];return o},u.verify=function(e){var t=p(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=p({message:e.signature,encoding:"binary"});if(r.length!==u.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+u.constants.SIGN_BYTE_LENGTH);var n=p({message:e.publicKey,encoding:"binary"});if(n.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+u.constants.PUBLIC_KEY_BYTE_LENGTH);var o,i=new l(u.constants.SIGN_BYTE_LENGTH+t.length),s=new l(u.constants.SIGN_BYTE_LENGTH+t.length);for(o=0;o<u.constants.SIGN_BYTE_LENGTH;++o)i[o]=r[o];for(o=0;o<t.length;++o)i[o+u.constants.SIGN_BYTE_LENGTH]=t[o];return function(e,t,r,n){var o,i=new l(32),s=[D(),D(),D(),D()],a=[D(),D(),D(),D()];if(r<64)return-1;if(function(e,t){var r=D(),n=D(),o=D(),i=D(),s=D(),a=D(),c=D();return P(e[2],f),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(o,e[1]),B(i,o,h),F(o,o,e[2]),L(i,e[2],i),M(s,i),M(a,s),B(c,a,s),B(r,c,o),B(r,r,i),function(e,t){var r,n=D();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)M(n,n),1!==r&&B(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),B(r,r,o),B(r,r,i),B(r,r,i),B(e[0],r,i),M(n,e[0]),B(n,n,i),A(n,o)&&B(e[0],e[0],b),M(n,e[0]),B(n,n,i),A(n,o)?-1:(I(e[0])===t[31]>>7&&F(e[0],d,e[0]),B(e[3],e[0],e[1]),0)}(a,n))return-1;for(o=0;o<r;++o)e[o]=t[o];for(o=0;o<32;++o)e[o+32]=n[o];var c=w(e,r);if(_(c),k(s,a,c),N(a,t.subarray(32)),O(s,a),T(i,s),r-=64,x(t,0,i,0)){for(o=0;o<r;++o)e[o]=0;return-1}for(o=0;o<r;++o)e[o]=t[o+64];return r}(s,i,i.length,n)>=0};var d=D(),f=D([1]),h=D([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=D([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=D([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=D([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=D([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(e,t){var r=n.md.sha512.create(),o=new c(e);r.update(o.getBytes(t),"binary");var i=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(i,"binary");for(var s=new l(u.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}function E(e,t){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)t[o]+=r-16*t[n]*v[o-(n-32)],r=t[o]+128>>8,t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;++o)t[o]+=r-(t[31]>>4)*v[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;++o)t[o]-=r*v[o];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function _(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;E(e,t)}function O(e,t){var r=D(),n=D(),o=D(),i=D(),s=D(),a=D(),c=D(),l=D(),u=D();F(r,e[1],e[0]),F(u,t[1],t[0]),B(r,r,u),L(n,e[0],e[1]),L(u,t[0],t[1]),B(n,n,u),B(o,e[3],t[3]),B(o,o,g),B(i,e[2],t[2]),L(i,i,i),F(s,n,r),F(a,i,o),L(c,i,o),L(l,n,r),B(e[0],s,a),B(e[1],l,c),B(e[2],c,a),B(e[3],s,l)}function S(e,t,r){for(var n=0;n<4;++n)j(e[n],t[n],r)}function T(e,t){var r=D(),n=D(),o=D();!function(e,t){var r,n=D();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)M(n,n),2!==r&&4!==r&&B(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(o,t[2]),B(r,t[0],o),B(n,t[1],o),C(e,n),e[31]^=I(r)<<7}function C(e,t){var r,n,o,i=D(),s=D();for(r=0;r<16;++r)s[r]=t[r];for(R(s),R(s),R(s),n=0;n<2;++n){for(i[0]=s[0]-65517,r=1;r<15;++r)i[r]=s[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=s[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,j(s,i,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function A(e,t){var r=new l(32),n=new l(32);return C(r,e),C(n,t),x(r,0,n,0)}function x(e,t,r,n){return function(e,t,r,n,o){var i,s=0;for(i=0;i<32;++i)s|=e[t+i]^r[n+i];return(1&s-1>>>8)-1}(e,t,r,n)}function I(e){var t=new l(32);return C(t,e),1&t[0]}function k(e,t,r){var n,o;for(P(e[0],d),P(e[1],f),P(e[2],f),P(e[3],d),o=255;o>=0;--o)S(e,t,n=r[o/8|0]>>(7&o)&1),O(t,e),O(e,e),S(e,t,n)}function N(e,t){var r=[D(),D(),D(),D()];P(r[0],m),P(r[1],y),P(r[2],f),B(r[3],m,y),k(e,r,t)}function P(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function j(e,t,r){for(var n,o=~(r-1),i=0;i<16;++i)n=o&(e[i]^t[i]),e[i]^=n,t[i]^=n}function D(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function L(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function F(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function M(e,t){B(e,t,t)}function B(e,t,r){var n,o,i=0,s=0,a=0,c=0,l=0,u=0,p=0,d=0,f=0,h=0,g=0,m=0,y=0,v=0,b=0,w=0,E=0,_=0,O=0,S=0,T=0,C=0,A=0,x=0,I=0,k=0,N=0,P=0,R=0,j=0,D=0,L=r[0],F=r[1],M=r[2],B=r[3],U=r[4],V=r[5],q=r[6],G=r[7],H=r[8],z=r[9],K=r[10],W=r[11],J=r[12],$=r[13],Y=r[14],Q=r[15];i+=(n=t[0])*L,s+=n*F,a+=n*M,c+=n*B,l+=n*U,u+=n*V,p+=n*q,d+=n*G,f+=n*H,h+=n*z,g+=n*K,m+=n*W,y+=n*J,v+=n*$,b+=n*Y,w+=n*Q,s+=(n=t[1])*L,a+=n*F,c+=n*M,l+=n*B,u+=n*U,p+=n*V,d+=n*q,f+=n*G,h+=n*H,g+=n*z,m+=n*K,y+=n*W,v+=n*J,b+=n*$,w+=n*Y,E+=n*Q,a+=(n=t[2])*L,c+=n*F,l+=n*M,u+=n*B,p+=n*U,d+=n*V,f+=n*q,h+=n*G,g+=n*H,m+=n*z,y+=n*K,v+=n*W,b+=n*J,w+=n*$,E+=n*Y,_+=n*Q,c+=(n=t[3])*L,l+=n*F,u+=n*M,p+=n*B,d+=n*U,f+=n*V,h+=n*q,g+=n*G,m+=n*H,y+=n*z,v+=n*K,b+=n*W,w+=n*J,E+=n*$,_+=n*Y,O+=n*Q,l+=(n=t[4])*L,u+=n*F,p+=n*M,d+=n*B,f+=n*U,h+=n*V,g+=n*q,m+=n*G,y+=n*H,v+=n*z,b+=n*K,w+=n*W,E+=n*J,_+=n*$,O+=n*Y,S+=n*Q,u+=(n=t[5])*L,p+=n*F,d+=n*M,f+=n*B,h+=n*U,g+=n*V,m+=n*q,y+=n*G,v+=n*H,b+=n*z,w+=n*K,E+=n*W,_+=n*J,O+=n*$,S+=n*Y,T+=n*Q,p+=(n=t[6])*L,d+=n*F,f+=n*M,h+=n*B,g+=n*U,m+=n*V,y+=n*q,v+=n*G,b+=n*H,w+=n*z,E+=n*K,_+=n*W,O+=n*J,S+=n*$,T+=n*Y,C+=n*Q,d+=(n=t[7])*L,f+=n*F,h+=n*M,g+=n*B,m+=n*U,y+=n*V,v+=n*q,b+=n*G,w+=n*H,E+=n*z,_+=n*K,O+=n*W,S+=n*J,T+=n*$,C+=n*Y,A+=n*Q,f+=(n=t[8])*L,h+=n*F,g+=n*M,m+=n*B,y+=n*U,v+=n*V,b+=n*q,w+=n*G,E+=n*H,_+=n*z,O+=n*K,S+=n*W,T+=n*J,C+=n*$,A+=n*Y,x+=n*Q,h+=(n=t[9])*L,g+=n*F,m+=n*M,y+=n*B,v+=n*U,b+=n*V,w+=n*q,E+=n*G,_+=n*H,O+=n*z,S+=n*K,T+=n*W,C+=n*J,A+=n*$,x+=n*Y,I+=n*Q,g+=(n=t[10])*L,m+=n*F,y+=n*M,v+=n*B,b+=n*U,w+=n*V,E+=n*q,_+=n*G,O+=n*H,S+=n*z,T+=n*K,C+=n*W,A+=n*J,x+=n*$,I+=n*Y,k+=n*Q,m+=(n=t[11])*L,y+=n*F,v+=n*M,b+=n*B,w+=n*U,E+=n*V,_+=n*q,O+=n*G,S+=n*H,T+=n*z,C+=n*K,A+=n*W,x+=n*J,I+=n*$,k+=n*Y,N+=n*Q,y+=(n=t[12])*L,v+=n*F,b+=n*M,w+=n*B,E+=n*U,_+=n*V,O+=n*q,S+=n*G,T+=n*H,C+=n*z,A+=n*K,x+=n*W,I+=n*J,k+=n*$,N+=n*Y,P+=n*Q,v+=(n=t[13])*L,b+=n*F,w+=n*M,E+=n*B,_+=n*U,O+=n*V,S+=n*q,T+=n*G,C+=n*H,A+=n*z,x+=n*K,I+=n*W,k+=n*J,N+=n*$,P+=n*Y,R+=n*Q,b+=(n=t[14])*L,w+=n*F,E+=n*M,_+=n*B,O+=n*U,S+=n*V,T+=n*q,C+=n*G,A+=n*H,x+=n*z,I+=n*K,k+=n*W,N+=n*J,P+=n*$,R+=n*Y,j+=n*Q,w+=(n=t[15])*L,s+=38*(_+=n*M),a+=38*(O+=n*B),c+=38*(S+=n*U),l+=38*(T+=n*V),u+=38*(C+=n*q),p+=38*(A+=n*G),d+=38*(x+=n*H),f+=38*(I+=n*z),h+=38*(k+=n*K),g+=38*(N+=n*W),m+=38*(P+=n*J),y+=38*(R+=n*$),v+=38*(j+=n*Y),b+=38*(D+=n*Q),i=(n=(i+=38*(E+=n*F))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=p,e[7]=d,e[8]=f,e[9]=h,e[10]=g,e[11]=m,e[12]=y,e[13]=v,e[14]=b,e[15]=w}},3832:e=>{e.exports={options:{usePureJavaScript:!1}}},36607:(e,t,r)=>{var n=r(3832);r(28991),r(97116),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,o=null,i={start:function(i,s){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');t=n.md.algorithms[i].create()}else t=i;if(null===s)s=e;else{if("string"==typeof s)s=n.util.createBuffer(s);else if(n.util.isArray(s)){var a=s;s=n.util.createBuffer();for(var c=0;c<a.length;++c)s.putByte(a[c])}var l=s.length();for(l>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=n.util.createBuffer(),o=n.util.createBuffer(),l=s.length(),c=0;c<l;++c)a=s.at(c),r.putByte(54^a),o.putByte(92^a);if(l<t.blockLength)for(a=t.blockLength-l,c=0;c<a;++c)r.putByte(54),o.putByte(92);e=s,r=r.bytes(),o=o.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(o),t.update(e),t.digest()}};return i.digest=i.getMac,i}},22079:(e,t,r)=>{e.exports=r(3832),r(8925),r(26164),r(3068),r(85649),r(58331),r(33480),r(80069),r(36607),r(96366),r(84145),r(43389),r(83453),r(98960),r(26953),r(18936),r(55147),r(79437),r(4742),r(29654),r(74933),r(96007),r(49563),r(69372),r(77173),r(42949),r(84311),r(97116)},15764:(e,t,r)=>{var n,o=r(3832);function i(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function s(){return new i(null)}function a(e,t,r,n,o,i){for(var s=16383&t,a=t>>14;--i>=0;){var c=16383&this.data[e],l=this.data[e++]>>14,u=a*c+l*s;o=((c=s*c+((16383&u)<<14)+r.data[n]+o)>>28)+(u>>14)+a*l,r.data[n++]=268435455&c}return o}e.exports=o.jsbn=o.jsbn||{},o.jsbn.BigInteger=i,"undefined"==typeof navigator?(i.prototype.am=a,n=28):"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(e,t,r,n,o,i){for(var s=32767&t,a=t>>15;--i>=0;){var c=32767&this.data[e],l=this.data[e++]>>15,u=a*c+l*s;o=((c=s*c+((32767&u)<<15)+r.data[n]+(1073741823&o))>>>30)+(u>>>15)+a*l+(o>>>30),r.data[n++]=1073741823&c}return o},n=30):"Netscape"!=navigator.appName?(i.prototype.am=function(e,t,r,n,o,i){for(;--i>=0;){var s=t*this.data[e++]+r.data[n]+o;o=Math.floor(s/67108864),r.data[n++]=67108863&s}return o},n=26):(i.prototype.am=a,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-n,i.prototype.F2=2*n-52;var c,l,u=new Array;for(c="0".charCodeAt(0),l=0;l<=9;++l)u[c++]=l;for(c="a".charCodeAt(0),l=10;l<36;++l)u[c++]=l;for(c="A".charCodeAt(0),l=10;l<36;++l)u[c++]=l;function p(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=u[e.charCodeAt(t)];return null==r?-1:r}function f(e){var t=s();return t.fromInt(e),t}function h(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function v(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function E(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function _(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function O(){}function S(e){return e}function T(e){this.r2=s(),this.q3=s(),i.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=s();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=s();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},i.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},i.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},i.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,o=!1,s=0;--n>=0;){var a=8==r?255&e[n]:d(e,n);a<0?"-"==e.charAt(n)&&(o=!0):(o=!1,0==s?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},i.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},i.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},i.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,o=this.DB-n,i=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+s+1]=this.data[r]>>o|a,a=(this.data[r]&i)<<n;for(r=s-1;r>=0;--r)t.data[r]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},i.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,o=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&i)<<o,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<o),t.t=this.t-r,t.clamp()}},i.prototype.subTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},i.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),o=r.t;for(t.t=o+n.t;--o>=0;)t.data[o]=0;for(o=0;o<n.t;++o)t.data[o+r.t]=r.am(0,n.data[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&i.ZERO.subTo(t,t)},i.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},i.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=s());var a=s(),c=this.s,l=e.s,u=this.DB-h(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),o.lShiftTo(u,r)):(n.copyTo(a),o.copyTo(r));var p=a.t,d=a.data[p-1];if(0!=d){var f=d*(1<<this.F1)+(p>1?a.data[p-2]>>this.F2:0),g=this.FV/f,m=(1<<this.F1)/f,y=1<<this.F2,v=r.t,b=v-p,w=null==t?s():t;for(a.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),i.ONE.dlShiftTo(p,w),w.subTo(a,a);a.t<p;)a.data[a.t++]=0;for(;--b>=0;){var E=r.data[--v]==d?this.DM:Math.floor(r.data[v]*g+(r.data[v-1]+y)*m);if((r.data[v]+=a.am(0,E,r,b,0,p))<E)for(a.dlShiftTo(b,w),r.subTo(w,r);r.data[v]<--E;)r.subTo(w,r)}null!=t&&(r.drShiftTo(p,t),c!=l&&i.ZERO.subTo(t,t)),r.t=p,r.clamp(),u>0&&r.rShiftTo(u,r),c<0&&i.ZERO.subTo(r,r)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},i.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},i.prototype.exp=function(e,t){if(e>4294967295||e<1)return i.ONE;var r=s(),n=s(),o=t.convert(this),a=h(e)-1;for(o.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,o,r);else{var c=r;r=n,n=c}return t.revert(r)},i.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this.data[s]>>a)>0&&(o=!0,i=p(r));s>=0;)a<t?(r=(this.data[s]&(1<<a)-1)<<t-a,r|=this.data[--s]>>(a+=this.DB-t)):(r=this.data[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(o=!0),o&&(i+=p(r));return o?i:"0"},i.prototype.negate=function(){var e=s();return i.ZERO.subTo(this,e),e},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+h(this.data[this.t-1]^this.s&this.DM)},i.prototype.mod=function(e){var t=s();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(i.ZERO)>0&&e.subTo(t,t),t},i.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new m(t),this.exp(e,r)},i.ZERO=f(0),i.ONE=f(1),O.prototype.convert=S,O.prototype.revert=S,O.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},O.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=s();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],A=(1<<26)/C[C.length-1];i.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},i.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=f(r),o=s(),i=s(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(e).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(e)+a},i.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),o=!1,s=0,a=0,c=0;c<e.length;++c){var l=d(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(a=t*a+l,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),o&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(i.ONE.shiftLeft(e-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(i.ONE.shiftLeft(e-1),this);else{var n=new Array,o=7&e;n.length=1+(e>>3),t.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},i.prototype.bitwiseTo=function(e,t,r){var n,o,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(o=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(o,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},i.prototype.changeBit=function(e,t){var r=i.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},i.prototype.addTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},i.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},i.prototype.multiplyLowerTo=function(e,t,r){var n,o=Math.min(this.t+e.t,t);for(r.s=0,r.t=o;o>0;)r.data[--o]=0;for(n=r.t-this.t;o<n;++o)r.data[o+this.t]=this.am(0,e.data[o],r,o,0,this.t);for(n=Math.min(e.t,t);o<n;++o)this.am(0,e.data[o],r,o,0,t-o);r.clamp()},i.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},i.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},i.prototype.millerRabin=function(e){var t=this.subtract(i.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,o=t.shiftRight(r),s={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},a=0;a<e;++a){do{n=new i(this.bitLength(),s)}while(n.compareTo(i.ONE)<=0||n.compareTo(t)>=0);var c=n.modPow(o,this);if(0!=c.compareTo(i.ONE)&&0!=c.compareTo(t)){for(var l=1;l++<r&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(i.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},i.prototype.clone=function(){var e=s();return this.copyTo(e),e},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},i.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},i.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},i.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,o=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[o++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(t[o++]=r);return t},i.prototype.equals=function(e){return 0==this.compareTo(e)},i.prototype.min=function(e){return this.compareTo(e)<0?this:e},i.prototype.max=function(e){return this.compareTo(e)>0?this:e},i.prototype.and=function(e){var t=s();return this.bitwiseTo(e,y,t),t},i.prototype.or=function(e){var t=s();return this.bitwiseTo(e,v,t),t},i.prototype.xor=function(e){var t=s();return this.bitwiseTo(e,b,t),t},i.prototype.andNot=function(e){var t=s();return this.bitwiseTo(e,w,t),t},i.prototype.not=function(){for(var e=s(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},i.prototype.shiftLeft=function(e){var t=s();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},i.prototype.shiftRight=function(e){var t=s();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},i.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+E(this.data[e]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=_(this.data[r]^t);return e},i.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},i.prototype.setBit=function(e){return this.changeBit(e,v)},i.prototype.clearBit=function(e){return this.changeBit(e,w)},i.prototype.flipBit=function(e){return this.changeBit(e,b)},i.prototype.add=function(e){var t=s();return this.addTo(e,t),t},i.prototype.subtract=function(e){var t=s();return this.subTo(e,t),t},i.prototype.multiply=function(e){var t=s();return this.multiplyTo(e,t),t},i.prototype.divide=function(e){var t=s();return this.divRemTo(e,t,null),t},i.prototype.remainder=function(e){var t=s();return this.divRemTo(e,null,t),t},i.prototype.divideAndRemainder=function(e){var t=s(),r=s();return this.divRemTo(e,t,r),new Array(t,r)},i.prototype.modPow=function(e,t){var r,n,o=e.bitLength(),i=f(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new g(t):t.isEven()?new T(t):new m(t);var a=new Array,c=3,l=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var p=s();for(n.sqrTo(a[1],p);c<=u;)a[c]=s(),n.mulTo(p,a[c-2],a[c]),c+=2}var d,y,v=e.t-1,b=!0,w=s();for(o=h(e.data[v])-1;v>=0;){for(o>=l?d=e.data[v]>>o-l&u:(d=(e.data[v]&(1<<o+1)-1)<<l-o,v>0&&(d|=e.data[v-1]>>this.DB+o-l)),c=r;0==(1&d);)d>>=1,--c;if((o-=c)<0&&(o+=this.DB,--v),b)a[d].copyTo(i),b=!1;else{for(;c>1;)n.sqrTo(i,w),n.sqrTo(w,i),c-=2;c>0?n.sqrTo(i,w):(y=i,i=w,w=y),n.mulTo(w,a[d],i)}for(;v>=0&&0==(e.data[v]&1<<o);)n.sqrTo(i,w),y=i,i=w,w=y,--o<0&&(o=this.DB-1,--v)}return n.revert(i)},i.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return i.ZERO;for(var r=e.clone(),n=this.clone(),o=f(1),s=f(0),a=f(0),c=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&o.subTo(a,o),s.subTo(c,s)):(n.subTo(r,n),t&&a.subTo(o,a),c.subTo(s,c))}return 0!=n.compareTo(i.ONE)?i.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},i.prototype.pow=function(e){return this.exp(e,new O)},i.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var o=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},i.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=C[C.length-1]){for(t=0;t<C.length;++t)if(r.data[0]==C[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<C.length;){for(var n=C[t],o=t+1;o<C.length&&n<A;)n*=C[o++];for(n=r.modInt(n);t<o;)if(n%C[t++]==0)return!1}return r.millerRabin(e)}},96366:(e,t,r)=>{var n=r(3832);r(97116),r(49563),r(15764),e.exports=n.kem=n.kem||{};var o=n.jsbn.BigInteger;function i(e,t,r,o){e.generate=function(e,i){for(var s=new n.util.ByteBuffer,a=Math.ceil(i/o)+r,c=new n.util.ByteBuffer,l=r;l<a;++l){c.putInt32(l),t.start(),t.update(e+c.getBytes());var u=t.digest();s.putBytes(u.getBytes(o))}return s.truncate(s.length()-i),s.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random;return{encrypt:function(t,i){var s,a=Math.ceil(t.n.bitLength()/8);do{s=new o(n.util.bytesToHex(r.getBytesSync(a)),16).mod(t.n)}while(s.compareTo(o.ONE)<=0);var c=a-(s=n.util.hexToBytes(s.toString(16))).length;return c>0&&(s=n.util.fillString(String.fromCharCode(0),c)+s),{encapsulation:t.encrypt(s,"NONE"),key:e.generate(s,i)}},decrypt:function(t,r,n){var o=t.decrypt(r,"NONE");return e.generate(o,n)}}},n.kem.kdf1=function(e,t){i(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){i(this,e,1,t||e.digestLength)}},84145:(e,t,r)=>{var n=r(3832);r(97116),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var o={},i=[],s=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var a=0;a<n.log.levels.length;++a){var c=n.log.levels[a];o[c]={index:a,name:c.toUpperCase()}}n.log.logMessage=function(e){for(var t=o[e.level].index,r=0;r<i.length;++r){var s=i[r];s.flags&n.log.NO_LEVEL_CHECK?s.f(e):t<=o[s.level].index&&s.f(s,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=o[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var l=["error","warning","info","debug","verbose"];for(a=0;a<l.length;++a)!function(e){n.log[e]=function(t,r){var o=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:t,message:r,arguments:o};n.log.logMessage(i)}}(l[a]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var o=0;o<n.log.levels.length;++o)if(t==n.log.levels[o]){e.level=t,r=!0;break}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){i.push(e)},"undefined"!=typeof console&&"log"in console){var u;if(console.error&&console.warn&&console.info&&console.debug){var p={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){n.log.prepareStandard(t);var r=p[t.level],o=[t.standard];o=o.concat(t.arguments.slice()),r.apply(console,o)};u=n.log.makeLogger(d)}else d=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)},u=n.log.makeLogger(d);n.log.setLevel(u,"debug"),n.log.addLogger(u),s=u}else console={log:function(){}};if(null!==s){var f=n.util.getQueryVariables();"console.level"in f&&n.log.setLevel(s,f["console.level"].slice(-1)[0]),"console.lock"in f&&"true"==f["console.lock"].slice(-1)[0]&&n.log.lock(s)}n.log.consoleLogger=s},43389:(e,t,r)=>{e.exports=r(28991),r(25063),r(137),r(41668),r(63219)},28991:(e,t,r)=>{var n=r(3832);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},25063:(e,t,r)=>{var n=r(3832);r(28991),r(97116);var o=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=o,o.create=function(){l||function(){i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));l=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),o={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},o}};return o.start(),o.update=function(i,s){"utf8"===s&&(i=n.util.encodeUtf8(i));var a=i.length;o.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=o.fullMessageLength.length-1;c>=0;--c)o.fullMessageLength[c]+=a[1],a[1]=a[0]+(o.fullMessageLength[c]/4294967296>>>0),o.fullMessageLength[c]=o.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var a=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;s.putBytes(i.substr(0,o.blockLength-a));for(var c,l=0,p=o.fullMessageLength.length-1;p>=0;--p)l=(c=8*o.fullMessageLength[p]+l)/4294967296>>>0,s.putInt32Le(c>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};u(d,r,s);var f=n.util.createBuffer();return f.putInt32Le(d.h0),f.putInt32Le(d.h1),f.putInt32Le(d.h2),f.putInt32Le(d.h3),f},o};var i=null,s=null,a=null,c=null,l=!1;function u(e,t,r){for(var n,o,i,l,u,p,d,f=r.length();f>=64;){for(o=e.h0,i=e.h1,l=e.h2,u=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),n=o+(u^i&(l^u))+c[d]+t[d],o=u,u=l,l=i,i+=n<<(p=a[d])|n>>>32-p;for(;d<32;++d)n=o+(l^u&(i^l))+c[d]+t[s[d]],o=u,u=l,l=i,i+=n<<(p=a[d])|n>>>32-p;for(;d<48;++d)n=o+(i^l^u)+c[d]+t[s[d]],o=u,u=l,l=i,i+=n<<(p=a[d])|n>>>32-p;for(;d<64;++d)n=o+(l^(i|~u))+c[d]+t[s[d]],o=u,u=l,l=i,i+=n<<(p=a[d])|n>>>32-p;e.h0=e.h0+o|0,e.h1=e.h1+i|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,f-=64}}},86971:(e,t,r)=>{var n=r(3832);r(83453),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},83453:(e,t,r)=>{var n=r(3832);r(97116),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var o=new n.util.ByteBuffer,i=Math.ceil(r/e.digestLength),s=0;s<i;s++){var a=new n.util.ByteBuffer;a.putInt32(s),e.start(),e.update(t+a.getBytes()),o.putBuffer(e.digest())}return o.truncate(o.length()-r),o.getBytes()}}}},66270:(e,t,r)=>{var n=r(3832);n.pki=n.pki||{};var o=e.exports=n.pki.oids=n.oids=n.oids||{};function i(e,t){o[e]=t,o[t]=e}function s(e,t){o[e]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.5","serialName"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},97450:(e,t,r)=>{var n=r(3832);if(r(8925),r(3068),r(33480),r(28991),r(66270),r(98960),r(26953),r(49563),r(69372),r(28095),r(97116),void 0===o)var o=n.jsbn.BigInteger;var i=n.asn1,s=n.pki=n.pki||{};e.exports=s.pbe=n.pbe=n.pbe||{};var a=s.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},u={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function p(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=s.oids[i.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return f(t)}function f(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var o,c,l,u=n.random.getBytesSync(r.saltSize),p=r.count,d=i.integerToDer(p);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var h,g,m;switch(r.algorithm){case"aes128":o=16,h=16,g=a["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":o=24,h=16,g=a["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":o=32,h=16,g=a["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":o=8,h=8,g=a.desCBC,m=n.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,_}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),v=f(y),b=n.pkcs5.pbkdf2(t,u,p,o,v),w=n.random.getBytesSync(h);(O=m(b)).start(w),O.update(i.toDer(e)),O.finish(),l=O.output.getBytes();var E=function(e,t,r,o){var a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==o&&a.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids[o]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),a}(u,d,o,y);c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.pkcs5PBKDF2).getBytes()),E]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(g).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,w)])])])}else{var _;if("3des"!==r.algorithm)throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,_;o=24;var O,S=new n.util.ByteBuffer(u);b=s.pbe.generatePkcs12Key(t,S,1,p,o),w=s.pbe.generatePkcs12Key(t,S,2,p,o),(O=n.des.createEncryptionCipher(b)).start(w),O.update(i.toDer(e)),O.finish(),l=O.output.getBytes(),c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,d.getBytes())])])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[c,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,l)])},s.decryptPrivateKeyInfo=function(e,t){var r=null,o={},a=[];if(!i.validate(e,c,o,a)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=a,l}var u=i.derToOid(o.encryptionOid),p=s.pbe.getCipher(u,o.encryptionParams,t),d=n.util.createBuffer(o.encryptedData);return p.update(d),p.finish()&&(r=i.fromDer(p.output)),r},s.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},s.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(t.body)},s.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var o=s.wrapRsaPrivateKey(s.privateKeyToAsn1(e));return o=s.encryptPrivateKeyInfo(o,t,r),s.encryptedPrivateKeyToPem(o)}var a,c,l,u;switch(r.algorithm){case"aes128":a="AES-128-CBC",l=16,c=n.random.getBytesSync(16),u=n.aes.createEncryptionCipher;break;case"aes192":a="AES-192-CBC",l=24,c=n.random.getBytesSync(16),u=n.aes.createEncryptionCipher;break;case"aes256":a="AES-256-CBC",l=32,c=n.random.getBytesSync(16),u=n.aes.createEncryptionCipher;break;case"3des":a="DES-EDE3-CBC",l=24,c=n.random.getBytesSync(8),u=n.des.createEncryptionCipher;break;case"des":a="DES-CBC",l=8,c=n.random.getBytesSync(8),u=n.des.createEncryptionCipher;break;default:var p=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw p.algorithm=r.algorithm,p}var d=u(n.pbe.opensslDeriveBytes(t,c.substr(0,8),l));d.start(c),d.update(i.toDer(s.privateKeyToAsn1(e))),d.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:a,parameters:n.util.bytesToHex(c).toUpperCase()},body:d.output.getBytes()};return n.pem.encode(f)},s.decryptRsaPrivateKey=function(e,t){var r=null,o=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==o.type&&"PRIVATE KEY"!==o.type&&"RSA PRIVATE KEY"!==o.type)throw(l=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=l,l;if(o.procType&&"ENCRYPTED"===o.procType.type){var a,c;switch(o.dekInfo.algorithm){case"DES-CBC":a=8,c=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,c=n.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,c=n.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,c=n.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,c=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,c=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":a=8,c=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":a=16,c=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var l;throw(l=new Error('Could not decrypt private key; unsupported encryption algorithm "'+o.dekInfo.algorithm+'".')).algorithm=o.dekInfo.algorithm,l}var u=n.util.hexToBytes(o.dekInfo.parameters),p=c(n.pbe.opensslDeriveBytes(t,u.substr(0,8),a));if(p.start(u),p.update(n.util.createBuffer(o.body)),!p.finish())return r;r=p.output.getBytes()}else r=o.body;return null!==(r="ENCRYPTED PRIVATE KEY"===o.type?s.decryptPrivateKeyInfo(i.fromDer(r),t):i.fromDer(r))&&(r=s.privateKeyFromAsn1(r)),r},s.pbe.generatePkcs12Key=function(e,t,r,o,i,s){var a,c;if(null==s){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');s=n.md.sha1.create()}var l=s.digestLength,u=s.blockLength,p=new n.util.ByteBuffer,d=new n.util.ByteBuffer;if(null!=e){for(c=0;c<e.length;c++)d.putInt16(e.charCodeAt(c));d.putInt16(0)}var f=d.length(),h=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,u);var m=u*Math.ceil(h/u),y=new n.util.ByteBuffer;for(c=0;c<m;c++)y.putByte(t.at(c%h));var v=u*Math.ceil(f/u),b=new n.util.ByteBuffer;for(c=0;c<v;c++)b.putByte(d.at(c%f));var w=y;w.putBuffer(b);for(var E=Math.ceil(i/l),_=1;_<=E;_++){var O=new n.util.ByteBuffer;O.putBytes(g.bytes()),O.putBytes(w.bytes());for(var S=0;S<o;S++)s.start(),s.update(O.getBytes()),O=s.digest();var T=new n.util.ByteBuffer;for(c=0;c<u;c++)T.putByte(O.at(c%l));var C=Math.ceil(h/u)+Math.ceil(f/u),A=new n.util.ByteBuffer;for(a=0;a<C;a++){var x=new n.util.ByteBuffer(w.getBytes(u)),I=511;for(c=T.length()-1;c>=0;c--)I>>=8,I+=T.at(c)+x.at(c),x.setAt(c,255&I);A.putBuffer(x)}w=A,p.putBuffer(O)}return p.truncate(p.length()-i),p},s.pbe.getCipher=function(e,t,r){switch(e){case s.oids.pkcs5PBES2:return s.pbe.getCipherForPBES2(e,t,r);case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case s.oids["pbewithSHAAnd40BitRC2-CBC"]:return s.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},s.pbe.getCipherForPBES2=function(e,t,r){var o,a={},c=[];if(!i.validate(t,l,a,c))throw(o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=c,o;if((e=i.derToOid(a.kdfOid))!==s.oids.pkcs5PBKDF2)throw(o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,o.supportedOids=["pkcs5PBKDF2"],o;if((e=i.derToOid(a.encOid))!==s.oids["aes128-CBC"]&&e!==s.oids["aes192-CBC"]&&e!==s.oids["aes256-CBC"]&&e!==s.oids["des-EDE3-CBC"]&&e!==s.oids.desCBC)throw(o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o;var u,p,f=a.kdfSalt,h=n.util.createBuffer(a.kdfIterationCount);switch(h=h.getInt(h.length()<<3),s.oids[e]){case"aes128-CBC":u=16,p=n.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,p=n.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,p=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,p=n.des.createDecryptionCipher;break;case"desCBC":u=8,p=n.des.createDecryptionCipher}var g=d(a.prfOid),m=n.pkcs5.pbkdf2(r,f,h,u,g),y=a.encIv,v=p(m);return v.start(y),v},s.pbe.getCipherForPKCS12PBE=function(e,t,r){var o={},a=[];if(!i.validate(t,u,o,a))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=a,g;var c,l,p,f=n.util.createBuffer(o.salt),h=n.util.createBuffer(o.iterations);switch(h=h.getInt(h.length()<<3),e){case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,l=8,p=n.des.startDecrypting;break;case s.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,l=8,p=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var m=d(o.prfOid),y=s.pbe.generatePkcs12Key(r,f,1,h,c,m);return m.start(),p(y,s.pbe.generatePkcs12Key(r,f,2,h,l,m))},s.pbe.opensslDeriveBytes=function(e,t,r,o){if(null==o){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');o=n.md.md5.create()}null===t&&(t="");for(var i=[p(o,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(p(o,i[a-1]+e+t));return i.join("").substr(0,r)}},98960:(e,t,r)=>{var n=r(3832);r(36607),r(28991),r(97116);var o,i=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(o=r(76417)),e.exports=n.pbkdf2=i.pbkdf2=function(e,t,r,i,s,a){if("function"==typeof s&&(a=s,s=null),n.util.isNodejs&&!n.options.usePureJavaScript&&o.pbkdf2&&(null===s||"object"!=typeof s)&&(o.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?4===o.pbkdf2Sync.length?o.pbkdf2(e,t,r,i,(function(e,t){if(e)return a(e);a(null,t.toString("binary"))})):o.pbkdf2(e,t,r,i,s,(function(e,t){if(e)return a(e);a(null,t.toString("binary"))})):4===o.pbkdf2Sync.length?o.pbkdf2Sync(e,t,r,i).toString("binary"):o.pbkdf2Sync(e,t,r,i,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in n.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=n.md[s].create()}var c=s.digestLength;if(i>4294967295*c){var l=new Error("Derived key is too long.");if(a)return a(l);throw l}var u=Math.ceil(i/c),p=i-(u-1)*c,d=n.hmac.create();d.start(s,e);var f,h,g,m="";if(!a){for(var y=1;y<=u;++y){d.start(null,null),d.update(t),d.update(n.util.int32ToBytes(y)),f=g=d.digest().getBytes();for(var v=2;v<=r;++v)d.start(null,null),d.update(g),h=d.digest().getBytes(),f=n.util.xorBytes(f,h,c),g=h;m+=y<u?f:f.substr(0,p)}return m}function b(){if(y>u)return a(null,m);d.start(null,null),d.update(t),d.update(n.util.int32ToBytes(y)),f=g=d.digest().getBytes(),v=2,w()}function w(){if(v<=r)return d.start(null,null),d.update(g),h=d.digest().getBytes(),f=n.util.xorBytes(f,h,c),g=h,++v,n.util.setImmediate(w);m+=y<u?f:f.substr(0,p),++y,b()}y=1,b()}},26953:(e,t,r)=>{var n=r(3832);r(97116);var o=e.exports=n.pem=n.pem||{};function i(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},o=0;o<e.values.length;++o)r.push(e.values[o].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var i=0,s=-1;for(o=0;o<t.length;++o,++i)if(i>65&&-1!==s){var a=t[s];","===a?(++s,t=t.substr(0,s)+"\r\n "+t.substr(s)):t=t.substr(0,s)+"\r\n"+a+t.substr(s+1),i=o-s-1,s=-1,++o}else" "!==t[o]&&"\t"!==t[o]&&","!==t[o]||(s=o);return t}function s(e){return e.replace(/^\s+/,"")}o.encode=function(e,t){t=t||{};var r,o="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(o+=i(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(o+=i(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),o+=i(r)),e.headers)for(var s=0;s<e.headers.length;++s)o+=i(e.headers[s]);return e.procType&&(o+="\r\n"),(o+=n.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},o.decode=function(e){for(var t,r=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;t=o.exec(e);){var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var l=t[2].split(a),u=0;t&&u<l.length;){for(var p=l[u].replace(/\s+$/,""),d=u+1;d<l.length;++d){var f=l[d];if(!/\s/.test(f[0]))break;p+=f,u=d}if(t=p.match(i)){for(var h={name:t[1],values:[]},g=t[2].split(","),m=0;m<g.length;++m)h.values.push(s(g[m]));if(c.procType)if(c.contentDomain||"Content-Domain"!==h.name)if(c.dekInfo||"DEK-Info"!==h.name)c.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++u}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},18936:(e,t,r)=>{var n=r(3832);r(97116),r(49563),r(137);var o=e.exports=n.pkcs1=n.pkcs1||{};function i(e,t,r){r||(r=n.md.sha1.create());for(var o="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(e+a),o+=r.digest().getBytes()}return o.substring(0,t)}o.encode_rsa_oaep=function(e,t,r){var o,s,a,c;"string"==typeof r?(o=r,s=arguments[3]||void 0,a=arguments[4]||void 0):r&&(o=r.label||void 0,s=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),a?a.start():a=n.md.sha1.create(),c||(c=a);var l=Math.ceil(e.n.bitLength()/8),u=l-2*a.digestLength-2;if(t.length>u)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=u,m;o||(o=""),a.update(o,"raw");for(var p=a.digest(),d="",f=u-t.length,h=0;h<f;h++)d+="\0";var g=p.getBytes()+d+""+t;if(s){if(s.length!==a.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length,m.digestLength=a.digestLength,m}}else s=n.random.getBytes(a.digestLength);var y=i(s,l-a.digestLength-1,c),v=n.util.xorBytes(g,y,g.length),b=i(v,a.digestLength,c),w=n.util.xorBytes(s,b,s.length);return"\0"+w+v},o.decode_rsa_oaep=function(e,t,r){var o,s,a;"string"==typeof r?(o=r,s=arguments[3]||void 0):r&&(o=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,v.expectedLength=c,v;if(void 0===s?s=n.md.sha1.create():s.start(),a||(a=s),c<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");o||(o=""),s.update(o,"raw");for(var l=s.digest().getBytes(),u=t.charAt(0),p=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),f=i(d,s.digestLength,a),h=n.util.xorBytes(p,f,p.length),g=i(h,c-s.digestLength-1,a),m=n.util.xorBytes(d,g,d.length),y=m.substring(0,s.digestLength),v="\0"!==u,b=0;b<s.digestLength;++b)v|=l.charAt(b)!==y.charAt(b);for(var w=1,E=s.digestLength,_=s.digestLength;_<m.length;_++){var O=m.charCodeAt(_),S=1&O^1,T=w?65534:0;v|=O&T,E+=w&=S}if(v||1!==m.charCodeAt(E))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(E+1)}},55147:(e,t,r)=>{var n=r(3832);r(3068),r(36607),r(66270),r(95496),r(97450),r(49563),r(28095),r(137),r(97116),r(25414);var o=n.asn1,i=n.pki,s=e.exports=n.pkcs12=n.pkcs12||{},a={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},a,{name:"PFX.macData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},u={name:"Attribute",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,capture:"values"}]},p={name:"CertBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:o.Class.UNIVERSAL,type:o.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(e,t,r,n){for(var o=[],i=0;i<e.length;i++)for(var s=0;s<e[i].safeBags.length;s++){var a=e[i].safeBags[s];void 0!==n&&a.type!==n||(null!==t?void 0!==a.attributes[t]&&a.attributes[t].indexOf(r)>=0&&o.push(a):o.push(a))}return o}function f(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function h(e,t){var r={},s=[];if(!o.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,s))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=s,a;var a,c=o.derToOid(r.contentType);if(c!==i.oids.data)throw(a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=c,a;c=o.derToOid(r.encAlgorithm);var l=i.pbe.getCipher(c,r.encParameter,t),u=f(r.encryptedContentAsn1),p=n.util.createBuffer(u.value);if(l.update(p),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=o.fromDer(e,t)).tagClass!==o.Class.UNIVERSAL||e.type!==o.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var a=e.value[s],c={},u=[];if(!o.validate(a,l,c,u))throw(y=new Error("Cannot read SafeBag.")).errors=u,y;var d,f,h={type:o.derToOid(c.bagId),attributes:m(c.bagAttributes)};n.push(h);var g=c.bagValue.value[0];switch(h.type){case i.oids.pkcs8ShroudedKeyBag:if(null===(g=i.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{h.key=i.privateKeyFromAsn1(g)}catch(e){h.key=null,h.asn1=g}continue;case i.oids.certBag:d=p,f=function(){if(o.derToOid(c.certId)!==i.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=o.derToOid(c.certId),e}var r=o.fromDer(c.cert,t);try{h.cert=i.certificateFromAsn1(r,!0)}catch(e){h.cert=null,h.asn1=r}};break;default:var y;throw(y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=h.type,y}if(void 0!==d&&!o.validate(g,d,c,u))throw(y=new Error("Cannot read PKCS#12 "+d.name)).errors=u,y;f()}return n}function m(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},s=[];if(!o.validate(e[r],u,n,s)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=s,a}var c=o.derToOid(n.oid);if(void 0!==i.oids[c]){t[i.oids[c]]=[];for(var l=0;l<n.values.length;++l)t[i.oids[c]].push(n.values[l].value)}}return t}s.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var l={};if(!o.validate(e,c,l,[]))throw(u=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=u,u;var u,p={version:l.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=d(p.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=d(p.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=d(p.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return d(p.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(p.safeContents,"localKeyId",e,t)}};if(3!==l.version.charCodeAt(0))throw(u=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),u;if(o.derToOid(l.contentType)!==i.oids.data)throw(u=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=o.derToOid(l.contentType),u;var m=l.content.value[0];if(m.tagClass!==o.Class.UNIVERSAL||m.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=f(m),l.mac){var y=null,v=0,b=o.derToOid(l.macAlgorithm);switch(b){case i.oids.sha1:y=n.md.sha1.create(),v=20;break;case i.oids.sha256:y=n.md.sha256.create(),v=32;break;case i.oids.sha384:y=n.md.sha384.create(),v=48;break;case i.oids.sha512:y=n.md.sha512.create(),v=64;break;case i.oids.md5:y=n.md.md5.create(),v=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new n.util.ByteBuffer(l.macSalt),E="macIterations"in l?parseInt(n.util.bytesToHex(l.macIterations),16):1,_=s.generateKey(r,w,3,E,v,y),O=n.hmac.create();if(O.start(y,_),O.update(m.value),O.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=o.fromDer(t,r)).tagClass!==o.Class.UNIVERSAL||t.type!==o.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var c=t.value[s],l={},u=[];if(!o.validate(c,a,l,u))throw(y=new Error("Cannot read ContentInfo.")).errors=u,y;var p={encrypted:!1},d=null,m=l.content.value[0];switch(o.derToOid(l.contentType)){case i.oids.data:if(m.tagClass!==o.Class.UNIVERSAL||m.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=f(m).value;break;case i.oids.encryptedData:d=h(m,n),p.encrypted=!0;break;default:var y;throw(y=new Error("Unsupported PKCS#12 contentType.")).contentType=o.derToOid(l.contentType),y}p.safeBags=g(d,r,n),e.safeContents.push(p)}}(p,m.value,t,r),p},s.toPkcs12Asn1=function(e,t,r,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var c,l=a.localKeyId;if(null!==l)l=n.util.hexToBytes(l);else if(a.generateLocalKeyId)if(t){var u=n.util.isArray(t)?t[0]:t;"string"==typeof u&&(u=i.certificateFromPem(u)),(A=n.md.sha1.create()).update(o.toDer(i.certificateToAsn1(u)).getBytes()),l=A.digest().getBytes()}else l=n.random.getBytes(20);var p=[];null!==l&&p.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.localKeyId).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,l)])])),"friendlyName"in a&&p.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.friendlyName).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.BMPSTRING,!1,a.friendlyName)])])),p.length>0&&(c=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,p));var d=[],f=[];null!==t&&(f=n.util.isArray(t)?t:[t]);for(var h=[],g=0;g<f.length;++g){"string"==typeof(t=f[g])&&(t=i.certificateFromPem(t));var m=0===g?c:void 0,y=i.certificateToAsn1(t),v=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.certBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.x509Certificate).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(y).getBytes())])])]),m]);h.push(v)}if(h.length>0){var b=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,h),w=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(b).getBytes())])]);d.push(w)}var E=null;if(null!==e){var _=i.wrapRsaPrivateKey(i.privateKeyToAsn1(e));E=null===r?o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.keyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[_]),c]):o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(_,r,a)]),c]);var O=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[E]),S=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(O).getBytes())])]);d.push(S)}var T,C=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,d);if(a.useMac){var A=n.md.sha1.create(),x=new n.util.ByteBuffer(n.random.getBytes(a.saltSize)),I=a.count,k=(e=s.generateKey(r,x,3,I,20),n.hmac.create());k.start(A,e),k.update(o.toDer(C).getBytes());var N=k.getMac();T=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.sha1).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,N.getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,x.getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(I).getBytes())])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(3).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(C).getBytes())])]),T])},s.generateKey=n.pbe.generatePkcs12Key},79437:(e,t,r)=>{var n=r(3832);r(8925),r(3068),r(33480),r(66270),r(26953),r(95496),r(49563),r(97116),r(25414);var o=n.asn1,i=e.exports=n.pkcs7=n.pkcs7||{};function s(e){var t={},r=[];if(!o.validate(e,i.asn1.recipientInfoValidator,t,r)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=r,s}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:o.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function a(e){for(var t,r=[],i=0;i<e.length;++i)r.push((t=e[i],o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.encryptedContent.algorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function c(e){var t=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.digestAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<e.unauthenticatedAttributes.length;++i){var s=e.unauthenticatedAttributes[i];r.values.push(l(s))}t.value.push(r)}return t}function l(e){var t;if(e.type===n.pki.oids.contentType)t=o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),s=e.value;if("string"==typeof s){var a=Date.parse(s);s=isNaN(a)?13===s.length?o.utcTimeToDate(s):o.generalizedTimeToDate(s):new Date(a)}t=s>=r&&s<i?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(s)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(s))}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[t])])}function u(e,t,r){var i={};if(!o.validate(t,r,i,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(o.derToOid(i.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var a="";if(n.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=i.encryptedContent[c].value}else a=i.encryptedContent;e.encryptedContent={algorithm:o.derToOid(i.encAlgorithm),parameter:n.util.createBuffer(i.encParameter.value),content:n.util.createBuffer(a)}}if(i.content){if(a="",n.util.isArray(i.content))for(c=0;c<i.content.length;++c){if(i.content[c].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=i.content[c].value}else a=i.content;e.content=n.util.createBuffer(a)}return e.version=i.version.charCodeAt(0),e.rawCapture=i,i}function p(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}i.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var s=o.fromDer(t.body);return i.messageFromAsn1(s)},i.messageToPem=function(e,t){var r={type:"PKCS7",body:o.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},i.messageFromAsn1=function(e){var t={},r=[];if(!o.validate(e,i.asn1.contentInfoValidator,t,r)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=r,s}var a,c=o.derToOid(t.contentType);switch(c){case n.pki.oids.envelopedData:a=i.createEnvelopedData();break;case n.pki.oids.encryptedData:a=i.createEncryptedData();break;case n.pki.oids.signedData:a=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a},i.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(u(e,t,i.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,o=0;o<r.length;++o)e.certificates.push(n.pki.certificateFromAsn1(r[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var i=[],s=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&s.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,t)),i.length>0&&s.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,i)),s.value[0].value.push(o.create(o.Class.UNIVERSAL,o.Type.SET,!0,e.signerInfos)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),s])},addSigner:function(t){var r=t.issuer,o=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=n.pki.certificateFromPem(i)),r=i.issuer.attributes,o=i.serialNumber}var s=t.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof s&&(s=n.pki.privateKeyFromPem(s));var a=t.digestAlgorithm||n.pki.oids.sha1;switch(a){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var l=!1,u=!1,p=0;p<c.length;++p){var d=c[p];if(l||d.type!==n.pki.oids.contentType){if(u||d.type!==n.pki.oids.messageDigest);else if(u=!0,l)break}else if(l=!0,u)break}if(!l||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:s,version:1,issuer:r,serialNumber:o,digestAlgorithm:a,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(t){var r;t=t||{},("object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)])))),0!==e.signers.length&&function(t){var r;if(!(r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=o.derToOid(e.contentInfo.value[0].value),s=o.toDer(r);for(var a in s.getByte(),o.getBerValueLength(s),s=s.getBytes(),t)t[a].start().update(s);for(var u=new Date,p=0;p<e.signers.length;++p){var d=e.signers[p];if(0===d.authenticatedAttributes.length){if(i!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[]),h=0;h<d.authenticatedAttributes.length;++h){var g=d.authenticatedAttributes[h];g.type===n.pki.oids.messageDigest?g.value=t[d.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=u)),f.value.push(l(g)),d.authenticatedAttributesAsn1.value.push(l(g))}s=o.toDer(f).getBytes(),d.md.start().update(s)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var i=e.signers[r];(s=i.digestAlgorithm)in t||(t[s]=n.md[n.pki.oids[s]].create()),0===i.authenticatedAttributes.length?i.md=t[s]:i.md=n.md[n.pki.oids[s]].create()}for(var s in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){u(e,t,i.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),p(e)}}},i.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=u(e,t,i.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(s(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,a(e.recipients)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,(t=e.encryptedContent,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(n.pki.oids.data).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.algorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.parameter.getBytes())]),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var o=e.recipients[n],i=o.issuer;if(o.serialNumber===t.serialNumber&&i.length===r.length){for(var s=!0,a=0;a<r.length;++a)if(i[a].type!==r[a].type||i[a].value!==r[a].value){s=!1;break}if(s)return o}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var o=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(o);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}p(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var o,i,s;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:o=16,i=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:o=24,i=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:o=32,i=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:o=24,i=8,s=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(o));else if(t.length()!=o)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+o+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var c=0;c<e.recipients.length;++c){var l=e.recipients[c];if(void 0===l.encryptedContent.content)switch(l.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}}}},95496:(e,t,r)=>{var n=r(3832);r(3068),r(97116);var o=n.asn1,i=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=i;var s={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=s;var a={name:"EncryptedContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)},i.encryptedDataValidator={name:"EncryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)};var c={name:"SignerInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},4742:(e,t,r)=>{var n=r(3832);r(3068),r(66270),r(97450),r(26953),r(98960),r(55147),r(96007),r(28095),r(97116),r(25414);var o=n.asn1,i=e.exports=n.pki=n.pki||{};i.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},i.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var s=o.fromDer(t.body);return i.privateKeyFromAsn1(s)},i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:o.toDer(i.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:o.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},29654:(e,t,r)=>{var n=r(3832);r(97116),r(15764),r(49563),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,o=[6,4,2,4,2,4,6,2],i=new r(null);i.fromInt(30);var s=function(e,t){return e|t};t.generateProbablePrime=function(e,t,o){"function"==typeof t&&(o=t,t={});var i=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var s=t.prng||n.random,c={nextBytes:function(e){for(var t=s.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===i.name)return function(e,t,o,i){return"workers"in o?function(e,t,o,i){if("undefined"==typeof Worker)return a(e,t,o,i);var s=l(e,t),c=o.workers,u=o.workLoad||100,p=30*u/8,d=o.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores((function(e,t){e&&(t=2),c=t-1,f()}));function f(){c=Math.max(1,c);for(var n=[],o=0;o<c;++o)n[o]=new Worker(d);for(o=0;o<c;++o)n[o].addEventListener("message",f);var a=!1;function f(o){if(!a){var c=o.data;if(c.found){for(var d=0;d<n.length;++d)n[d].terminate();return a=!0,i(null,new r(c.prime,16))}s.bitLength()>e&&(s=l(e,t));var f=s.toString(16);o.target.postMessage({hex:f,workLoad:u}),s.dAddOffset(p,0)}}}f()}(e,t,o,i):a(e,t,o,i)}(e,c,i.options,o);throw new Error("Invalid prime generation algorithm: "+i.name)}}function a(e,t,r,n){var o=l(e,t),i=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(o.bitLength());"millerRabinTests"in r&&(i=r.millerRabinTests);var s=10;"maxBlockTime"in r&&(s=r.maxBlockTime),c(o,e,t,0,i,s,n)}function c(e,t,r,i,s,a,u){var p=+new Date;do{if(e.bitLength()>t&&(e=l(t,r)),e.isProbablePrime(s))return u(null,e);e.dAddOffset(o[i++%8],0)}while(a<0||+new Date-p<a);n.util.setImmediate((function(){c(e,t,r,i,s,a,u)}))}function l(e,t){var n=new r(e,t),o=e-1;return n.testBit(o)||n.bitwiseTo(r.ONE.shiftLeft(o),s,n),n.dAddOffset(31-n.mod(i).byteValue(),0),n}}()},74933:(e,t,r)=>{var n=r(3832);r(97116);var o=null;!n.util.isNodejs||n.options.usePureJavaScript||process.versions["node-webkit"]||(o=r(76417)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,i=new Array(32),s=0;s<32;++s)i[s]=r.create();function a(){if(t.pools[0].messageLength>=32)return c();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),c()}function c(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var o=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(o),t.generated=0}function l(e){var t=null,r=n.util.globalScope,o=r.crypto||r.msCrypto;o&&o.getRandomValues&&(t=function(e){return o.getRandomValues(e)});var i=n.util.createBuffer();if(t)for(;i.length()<e;){var s=Math.max(1,Math.min(e-i.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{t(a);for(var c=0;c<a.length;++c)i.putInt32(a[c])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var l,u,p,d=Math.floor(65536*Math.random());i.length()<e;)for(u=16807*(65535&d),u+=(32767&(l=16807*(d>>16)))<<16,d=4294967295&(u=(2147483647&(u+=l>>15))+(u>>31)),c=0;c<3;++c)p=d>>>(c<<3),p^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&p));return i.getBytes(e)}return t.pools=i,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var o=t.plugin.cipher,i=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed,l=n.util.createBuffer();t.key=null,function u(p){if(p)return r(p);if(l.length()>=e)return r(null,l.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return c(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),c(),e()}))}(u)}));var d=o(t.key,t.seed);t.generated+=d.length,l.putBytes(d),t.key=s(o(t.key,i(t.seed))),t.seed=a(o(t.key,t.seed)),n.util.setImmediate(u)}()},t.generateSync=function(e){var r=t.plugin.cipher,o=t.plugin.increment,i=t.plugin.formatKey,s=t.plugin.formatSeed;t.key=null;for(var c=n.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&a();var l=r(t.key,t.seed);t.generated+=l.length,c.putBytes(l),t.key=i(r(t.key,o(t.seed))),t.seed=s(r(t.key,t.seed))}return c.getBytes(e)},o?(t.seedFile=function(e,t){o.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return o.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,l(e))}catch(e){t(e)}},t.seedFileSync=l),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",o=0;o<r;o+=8)n+=String.fromCharCode(e>>o&255);t.collect(n)},t.registerWorker=function(e){e===self?t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))},t}},96007:(e,t,r)=>{var n=r(3832);r(49563),r(97116),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,o=e.mgf,i=r.digestLength,s=e.salt||null;if("string"==typeof s&&(s=n.util.createBuffer(s)),"saltLength"in e)t=e.saltLength;else{if(null===s)throw new Error("Salt length not specified or specific salt not given.");t=s.length()}if(null!==s&&s.length()!==t)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||n.random,c={encode:function(e,c){var l,u,p=c-1,d=Math.ceil(p/8),f=e.digest().getBytes();if(d<i+t+2)throw new Error("Message is too long to encrypt.");u=null===s?a.getBytesSync(t):s.bytes();var h=new n.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(f),h.putBytes(u),r.start(),r.update(h.getBytes());var g=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,d-t-i-2),m.putByte(1),m.putBytes(u);var y=m.getBytes(),v=d-i-1,b=o.generate(g,v),w="";for(l=0;l<v;l++)w+=String.fromCharCode(y.charCodeAt(l)^b.charCodeAt(l));var E=65280>>8*d-p&255;return(w=String.fromCharCode(w.charCodeAt(0)&~E)+w.substr(1))+g+String.fromCharCode(188)},verify:function(e,s,a){var c,l=a-1,u=Math.ceil(l/8);if(s=s.substr(-u),u<i+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==s.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var p=u-i-1,d=s.substr(0,p),f=s.substr(p,i),h=65280>>8*u-l&255;if(0!=(d.charCodeAt(0)&h))throw new Error("Bits beyond keysize not zero as expected.");var g=o.generate(f,p),m="";for(c=0;c<p;c++)m+=String.fromCharCode(d.charCodeAt(c)^g.charCodeAt(c));m=String.fromCharCode(m.charCodeAt(0)&~h)+m.substr(1);var y=u-i-t-2;for(c=0;c<y;c++)if(0!==m.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=m.substr(-t),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),r.start(),r.update(b.getBytes()),f===r.digest().getBytes()}};return c}},49563:(e,t,r)=>{var n=r(3832);r(8925),r(41668),r(74933),r(97116),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},o=new Array(4),i=n.util.createBuffer();function s(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,o,!1),i.putInt32(o[0]),i.putInt32(o[1]),i.putInt32(o[2]),i.putInt32(o[3]),i.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var a=s(),c=null,l=n.util.globalScope,u=l.crypto||l.msCrypto;if(u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window.document,a.collectInt(+new Date,32),"undefined"!=typeof navigator){var p="";for(var d in navigator)try{"string"==typeof navigator[d]&&(p+=navigator[d])}catch(e){}a.collect(p),p=null}t&&(t().mousemove((function(e){a.collectInt(e.clientX,16),a.collectInt(e.clientY,16)})),t().keypress((function(e){a.collectInt(e.charCode,8)})))}if(n.random)for(var d in a)n.random[d]=a[d];else n.random=a;n.random.createInstance=s,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},69372:(e,t,r)=>{var n=r(3832);r(97116);var o=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],s=function(e,t){return e<<t&65535|(65535&e)>>16-t},a=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,i=e,s=e.length(),a=t,c=Math.ceil(a/8),l=255>>(7&a);for(r=s;r<128;r++)i.putByte(o[i.at(r-1)+i.at(r-s)&255]);for(i.setAt(128-c,o[i.at(128-c)&l]),r=127-c;r>=0;r--)i.setAt(r,o[i.at(r+1)^i.at(r+c)]);return i};var c=function(e,t,r){var o,c,l,u,p=!1,d=null,f=null,h=null,g=[];for(e=n.rc2.expandKey(e,t),l=0;l<64;l++)g.push(e.getInt16Le());r?(o=function(e){for(l=0;l<4;l++)e[l]+=g[u]+(e[(l+3)%4]&e[(l+2)%4])+(~e[(l+3)%4]&e[(l+1)%4]),e[l]=s(e[l],i[l]),u++},c=function(e){for(l=0;l<4;l++)e[l]+=g[63&e[(l+3)%4]]}):(o=function(e){for(l=3;l>=0;l--)e[l]=a(e[l],i[l]),e[l]-=g[u]+(e[(l+3)%4]&e[(l+2)%4])+(~e[(l+3)%4]&e[(l+1)%4]),u--},c=function(e){for(l=3;l>=0;l--)e[l]-=g[63&e[(l+3)%4]]});var m=function(e){var t=[];for(l=0;l<4;l++){var n=d.getInt16Le();null!==h&&(r?n^=h.getInt16Le():h.putInt16Le(n)),t.push(65535&n)}u=r?0:63;for(var o=0;o<e.length;o++)for(var i=0;i<e[o][0];i++)e[o][1](t);for(l=0;l<4;l++)null!==h&&(r?h.putInt16Le(t[l]):t[l]^=h.getInt16Le()),f.putInt16Le(t[l])},y=null;return y={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),p=!1,d=n.util.createBuffer(),f=t||new n.util.createBuffer,h=e,y.output=f},update:function(e){for(p||d.putBuffer(e);d.length()>=8;)m([[5,o],[1,c],[6,o],[1,c],[5,o]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,d,!r);else{var n=8===d.length()?8:8-d.length();d.fillWithByte(n,n)}if(t&&(p=!0,y.update()),!r&&(t=0===d.length()))if(e)t=e(8,f,!r);else{var o=f.length(),i=f.at(o-1);i>o?t=!1:f.truncate(i)}return t}}};n.rc2.startEncrypting=function(e,t,r){var o=n.rc2.createEncryptionCipher(e,128);return o.start(t,r),o},n.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var o=n.rc2.createDecryptionCipher(e,128);return o.start(t,r),o},n.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},28095:(e,t,r)=>{var n=r(3832);if(r(3068),r(15764),r(66270),r(18936),r(29654),r(49563),r(97116),void 0===o)var o=n.jsbn.BigInteger;var i=n.util.isNodejs?r(76417):null,s=n.asn1,a=n.util;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var c=n.pki,l=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},p={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h=function(e){var t;if(!(e.algorithm in c.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=c.oids[e.algorithm];var n=s.oidToDer(t).getBytes(),o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);i.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,n)),i.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var a=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(i),o.value.push(a),s.toDer(o).getBytes()},g=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var i;t.dP||(t.dP=t.d.mod(t.p.subtract(o.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(o.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{i=new o(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(i.compareTo(t.n)>=0||!i.gcd(t.n).equals(o.ONE));for(var s=(e=e.multiply(i.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(a)<0;)s=s.add(t.p);var c=s.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return c.multiply(i.modInverse(t.n)).mod(t.n)};function m(e,t,r){var o=n.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}o.putByte(0),o.putByte(r);var a,c=i-3-e.length;if(0===r||1===r){a=0===r?0:255;for(var l=0;l<c;++l)o.putByte(a)}else for(;c>0;){var u=0,p=n.random.getBytes(c);for(l=0;l<c;++l)0===(a=p.charCodeAt(l))?++u:o.putByte(a);c=u}return o.putByte(0),o.putBytes(e),o}function y(e,t,r,o){var i=Math.ceil(t.n.bitLength()/8),s=n.util.createBuffer(e),a=s.getByte(),c=s.getByte();if(0!==a||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===o)throw new Error("Encryption block is invalid.");var l=0;if(0===c){l=i-3-o;for(var u=0;u<l;++u)if(0!==s.getByte())throw new Error("Encryption block is invalid.")}else if(1===c)for(l=0;s.length()>1;){if(255!==s.getByte()){--s.read;break}++l}else if(2===c)for(l=0;s.length()>1;){if(0===s.getByte()){--s.read;break}++l}if(0!==s.getByte()||l!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function v(e,t,r){"function"==typeof t&&(r=t,t={});var i={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function s(){a(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?l(t,e.q):void a(e.qBits,l))}))}function a(e,t){n.prime.generateProbablePrime(e,i,t)}function l(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var i=e.p;e.p=e.q,e.q=i}if(0!==e.p.subtract(o.ONE).gcd(e.e).compareTo(o.ONE))return e.p=null,void s();if(0!==e.q.subtract(o.ONE).gcd(e.e).compareTo(o.ONE))return e.q=null,void a(e.qBits,l);if(e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(o.ONE))return e.p=e.q=null,void s();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void a(e.qBits,l);var u=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(i.prng=t.prng),s()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function E(e){return n.util.isNodejs&&"function"==typeof i[e]}function _(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.crypto&&"object"==typeof a.globalScope.crypto.subtle&&"function"==typeof a.globalScope.crypto.subtle[e]}function O(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.msCrypto&&"object"==typeof a.globalScope.msCrypto.subtle&&"function"==typeof a.globalScope.msCrypto.subtle[e]}function S(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),o=0;o<t.length;++o)r[o]=t.charCodeAt(o);return r}c.rsa.encrypt=function(e,t,r){var i,s=r,a=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(s=2===r,i=m(e,t,r)):(i=n.util.createBuffer()).putBytes(e);for(var c=new o(i.toHex(),16),l=g(c,t,s).toString(16),u=n.util.createBuffer(),p=a-Math.ceil(l.length/2);p>0;)u.putByte(0),--p;return u.putBytes(n.util.hexToBytes(l)),u.getBytes()},c.rsa.decrypt=function(e,t,r,i){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=s,a}var c=new o(n.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=g(c,t,r).toString(16),u=n.util.createBuffer(),p=s-Math.ceil(l.length/2);p>0;)u.putByte(0),--p;return u.putBytes(n.util.hexToBytes(l)),!1!==i?y(u.getBytes(),t,r):u.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var i,s=(r=r||{}).prng||n.random,a={nextBytes:function(e){for(var t=s.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},c=r.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return(i={algorithm:c,state:0,bits:e,rng:a,eInt:t||65537,e:new o(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt),i},c.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new o(null);r.fromInt(30);for(var n,i=0,s=function(e,t){return e|t},a=+new Date,u=0;null===e.keys&&(t<=0||u<t);){if(0===e.state){var p=null===e.p?e.pBits:e.qBits,d=p-1;0===e.pqState?(e.num=new o(p,e.rng),e.num.testBit(d)||e.num.bitwiseTo(o.ONE.shiftLeft(d),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>p?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(l[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(o.ONE).gcd(e.e).compareTo(o.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(o.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}u+=(n=+new Date)-a,a=n}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,r,o){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(o=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(o=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,o=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(o=r,r=void 0):(o=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(o){if(E("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return o(e);o(null,{privateKey:c.privateKeyFromPem(r),publicKey:c.publicKeyFromPem(t)})}));if(_("generateKey")&&_("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return a.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){o(e)})).then((function(e){if(e){var t=c.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(e)));o(null,{privateKey:t,publicKey:c.setRsaPublicKey(t.n,t.e)})}}));if(O("generateKey")&&O("exportKey")){var l=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return l.oncomplete=function(e){var t=e.target.result,r=a.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=c.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(t)));o(null,{privateKey:r,publicKey:c.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){o(e)}},void(l.onerror=function(e){o(e)})}}else if(E("generateKeyPairSync")){var u=i.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(u.privateKey),publicKey:c.publicKeyFromPem(u.publicKey)}}var p=c.rsa.createKeyPairGenerationState(e,t,r);if(!o)return c.rsa.stepKeyPairGenerationState(p,0),p.keys;v(p,r,o)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,o){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return m(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,o)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,!0);return c.rsa.encrypt(i,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=y(t,r,!0),e===s.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===y(t,r,!0)}});var o=c.rsa.decrypt(t,r,!0,!1);return n.verify(e,o,r.n.bitLength())}};return r},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,r,o,i,s,a,l){var u={n:e,e:t,d:r,p:o,q:i,dP:s,dQ:a,qInv:l,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var o=c.rsa.decrypt(e,u,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:y};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(o,u,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:h},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,u.n.bitLength());return c.rsa.encrypt(n,u,r)}};return u},c.wrapRsaPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(e).getBytes())])},c.privateKeyFromAsn1=function(e){var t,r,i,a,l,d,f,h,g={},m=[];if(s.validate(e,u,g,m)&&(e=s.fromDer(n.util.createBuffer(g.privateKey))),g={},m=[],!s.validate(e,p,g,m)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=m,y}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),i=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),a=n.util.createBuffer(g.privateKeyPrime1).toHex(),l=n.util.createBuffer(g.privateKeyPrime2).toHex(),d=n.util.createBuffer(g.privateKeyExponent1).toHex(),f=n.util.createBuffer(g.privateKeyExponent2).toHex(),h=n.util.createBuffer(g.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new o(t,16),new o(r,16),new o(i,16),new o(a,16),new o(l,16),new o(d,16),new o(f,16),new o(h,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.qInv))])},c.publicKeyFromAsn1=function(e){var t={},r=[];if(s.validate(e,f,t,r)){var i,a=s.derToOid(t.publicKeyOid);if(a!==c.oids.rsaEncryption)throw(i=new Error("Cannot read public key. Unknown OID.")).oid=a,i;e=t.rsaPublicKey}if(r=[],!s.validate(e,d,t,r))throw(i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,i;var l=n.util.createBuffer(t.publicKeyModulus).toHex(),u=n.util.createBuffer(t.publicKeyExponent).toHex();return c.setRsaPublicKey(new o(l,16),new o(u,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(e)])])},c.publicKeyToRSAPublicKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e))])}},137:(e,t,r)=>{var n=r(3832);r(28991),r(97116);var o=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=o,o.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),o={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},o}};return o.start(),o.update=function(i,s){"utf8"===s&&(i=n.util.encodeUtf8(i));var c=i.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=c[1],c[1]=c[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(i),a(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var c,l=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;s.putBytes(i.substr(0,o.blockLength-l));for(var u=8*o.fullMessageLength[0],p=0;p<o.fullMessageLength.length-1;++p)u+=(c=8*o.fullMessageLength[p+1])/4294967296>>>0,s.putInt32(u>>>0),u=c>>>0;s.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(d,r,s);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f},o};var i=null,s=!1;function a(e,t,r){for(var n,o,i,s,a,c,l,u=r.length();u>=64;){for(o=e.h0,i=e.h1,s=e.h2,a=e.h3,c=e.h4,l=0;l<16;++l)n=r.getInt32(),t[l]=n,n=(o<<5|o>>>27)+(a^i&(s^a))+c+1518500249+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;for(;l<20;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(o<<5|o>>>27)+(a^i&(s^a))+c+1518500249+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;for(;l<32;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(o<<5|o>>>27)+(i^s^a)+c+1859775393+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;for(;l<40;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(o<<5|o>>>27)+(i^s^a)+c+1859775393+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;for(;l<60;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(o<<5|o>>>27)+(i&s|a&(i^s))+c+2400959708+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;for(;l<80;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(o<<5|o>>>27)+(i^s^a)+c+3395469782+n,c=a,a=s,s=(i<<30|i>>>2)>>>0,i=o,o=n;e.h0=e.h0+o|0,e.h1=e.h1+i|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,u-=64}}},41668:(e,t,r)=>{var n=r(3832);r(28991),r(97116);var o=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=o,o.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),o={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},o}};return o.start(),o.update=function(i,s){"utf8"===s&&(i=n.util.encodeUtf8(i));var a=i.length;o.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=a[1],a[1]=a[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var a,l=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;s.putBytes(i.substr(0,o.blockLength-l));for(var u=8*o.fullMessageLength[0],p=0;p<o.fullMessageLength.length-1;++p)u+=(a=8*o.fullMessageLength[p+1])/4294967296>>>0,s.putInt32(u>>>0),u=a>>>0;s.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(d,r,s);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f.putInt32(d.h5),f.putInt32(d.h6),f.putInt32(d.h7),f},o};var i=null,s=!1,a=null;function c(e,t,r){for(var n,o,i,s,c,l,u,p,d,f,h,g,m,y=r.length();y>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=((o=t[c-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,t[c]=n+t[c-7]+o+t[c-16]|0;for(l=e.h0,u=e.h1,p=e.h2,d=e.h3,f=e.h4,h=e.h5,g=e.h6,m=e.h7,c=0;c<64;++c)i=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),s=l&u|p&(l^u),n=m+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(g^f&(h^g))+a[c]+t[c],m=g,g=h,h=f,f=d+n>>>0,d=p,p=u,u=l,l=n+(o=i+s)>>>0;e.h0=e.h0+l|0,e.h1=e.h1+u|0,e.h2=e.h2+p|0,e.h3=e.h3+d|0,e.h4=e.h4+f|0,e.h5=e.h5+h|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}}},63219:(e,t,r)=>{var n=r(3832);r(28991),r(97116);var o=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=o;var i=n.sha384=n.sha512.sha384=n.sha512.sha384||{};i.create=function(){return o.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=i,n.sha512.sha256=n.sha512.sha256||{create:function(){return o.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return o.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,o.create=function(e){if(a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(l={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0),void 0===e&&(e="SHA-512"),!(e in l))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=l[e],r=null,o=n.util.createBuffer(),i=new Array(80),p=0;p<80;++p)i[p]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,i=0;i<e;++i)f.fullMessageLength.push(0);for(o=n.util.createBuffer(),r=new Array(t.length),i=0;i<t.length;++i)r[i]=t[i].slice(0);return f}};return f.start(),f.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var s=e.length;f.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=f.fullMessageLength.length-1;a>=0;--a)f.fullMessageLength[a]+=s[1],s[1]=s[0]+(f.fullMessageLength[a]/4294967296>>>0),f.fullMessageLength[a]=f.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return o.putBytes(e),u(r,i,o),(o.read>2048||0===o.length())&&o.compact(),f},f.digest=function(){var t=n.util.createBuffer();t.putBytes(o.bytes());var a,c=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;t.putBytes(s.substr(0,f.blockLength-c));for(var l=8*f.fullMessageLength[0],p=0;p<f.fullMessageLength.length-1;++p)l+=(a=8*f.fullMessageLength[p+1])/4294967296>>>0,t.putInt32(l>>>0),l=a>>>0;t.putInt32(l);var d=new Array(r.length);for(p=0;p<r.length;++p)d[p]=r[p].slice(0);u(d,i,t);var h,g=n.util.createBuffer();for(h="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4,p=0;p<h;++p)g.putInt32(d[p][0]),p===h-1&&"SHA-512/224"===e||g.putInt32(d[p][1]);return g},f};var s=null,a=!1,c=null,l=null;function u(e,t,r){for(var n,o,i,s,a,l,u,p,d,f,h,g,m,y,v,b,w,E,_,O,S,T,C,A,x,I,k,N,P,R,j,D,L,F=r.length();F>=128;){for(k=0;k<16;++k)t[k][0]=r.getInt32()>>>0,t[k][1]=r.getInt32()>>>0;for(;k<80;++k)n=(((N=(R=t[k-2])[0])>>>19|(P=R[1])<<13)^(P>>>29|N<<3)^N>>>6)>>>0,o=((N<<13|P>>>19)^(P<<3|N>>>29)^(N<<26|P>>>6))>>>0,i=(((N=(D=t[k-15])[0])>>>1|(P=D[1])<<31)^(N>>>8|P<<24)^N>>>7)>>>0,s=((N<<31|P>>>1)^(N<<24|P>>>8)^(N<<25|P>>>7))>>>0,j=t[k-7],L=t[k-16],P=o+j[1]+s+L[1],t[k][0]=n+j[0]+i+L[0]+(P/4294967296>>>0)>>>0,t[k][1]=P>>>0;for(h=e[0][0],g=e[0][1],m=e[1][0],y=e[1][1],v=e[2][0],b=e[2][1],w=e[3][0],E=e[3][1],_=e[4][0],O=e[4][1],S=e[5][0],T=e[5][1],C=e[6][0],A=e[6][1],x=e[7][0],I=e[7][1],k=0;k<80;++k)u=((_>>>14|O<<18)^(_>>>18|O<<14)^(O>>>9|_<<23))>>>0,p=(C^_&(S^C))>>>0,a=((h>>>28|g<<4)^(g>>>2|h<<30)^(g>>>7|h<<25))>>>0,l=((h<<4|g>>>28)^(g<<30|h>>>2)^(g<<25|h>>>7))>>>0,d=(h&m|v&(h^m))>>>0,f=(g&y|b&(g^y))>>>0,P=I+(((_<<18|O>>>14)^(_<<14|O>>>18)^(O<<23|_>>>9))>>>0)+((A^O&(T^A))>>>0)+c[k][1]+t[k][1],n=x+u+p+c[k][0]+t[k][0]+(P/4294967296>>>0)>>>0,o=P>>>0,i=a+d+((P=l+f)/4294967296>>>0)>>>0,s=P>>>0,x=C,I=A,C=S,A=T,S=_,T=O,_=w+n+((P=E+o)/4294967296>>>0)>>>0,O=P>>>0,w=v,E=b,v=m,b=y,m=h,y=g,h=n+i+((P=o+s)/4294967296>>>0)>>>0,g=P>>>0;P=e[0][1]+g,e[0][0]=e[0][0]+h+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+y,e[1][0]=e[1][0]+m+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+b,e[2][0]=e[2][0]+v+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+E,e[3][0]=e[3][0]+w+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+O,e[4][0]=e[4][0]+_+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+T,e[5][0]=e[5][0]+S+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+A,e[6][0]=e[6][0]+C+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+I,e[7][0]=e[7][0]+x+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,F-=128}}},77173:(e,t,r)=>{var n=r(3832);r(8925),r(36607),r(25063),r(137),r(97116);var o=e.exports=n.ssh=n.ssh||{};function i(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var o=n.util.hexToBytes(r);e.putInt32(o.length),e.putBytes(o)}function s(e,t){e.putInt32(t.length),e.putString(t)}function a(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o.privateKeyToPutty=function(e,t,r){var o="ssh-rsa",c=""===(t=t||"")?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: ssh-rsa\r\n";l+="Encryption: "+c+"\r\n",l+="Comment: "+(r=r||"")+"\r\n";var u=n.util.createBuffer();s(u,o),i(u,e.e),i(u,e.n);var p=n.util.encode64(u.bytes(),64),d=Math.floor(p.length/66)+1;l+="Public-Lines: "+d+"\r\n",l+=p;var f,h=n.util.createBuffer();if(i(h,e.d),i(h,e.p),i(h,e.q),i(h,e.qInv),t){var g=h.length()+16-1;g-=g%16;var m=a(h.bytes());m.truncate(m.length()-g+h.length()),h.putBuffer(m);var y=n.util.createBuffer();y.putBuffer(a("\0\0\0\0",t)),y.putBuffer(a("\0\0\0",t));var v=n.aes.createEncryptionCipher(y.truncate(8),"CBC");v.start(n.util.createBuffer().fillWithByte(0,16)),v.update(h.copy()),v.finish();var b=v.output;b.truncate(16),f=n.util.encode64(b.bytes(),64)}else f=n.util.encode64(h.bytes(),64);l+="\r\nPrivate-Lines: "+(d=Math.floor(f.length/66)+1)+"\r\n",l+=f;var w=a("putty-private-key-file-mac-key",t),E=n.util.createBuffer();s(E,o),s(E,c),s(E,r),E.putInt32(u.length()),E.putBuffer(u),E.putInt32(h.length()),E.putBuffer(h);var _=n.hmac.create();return _.start("sha1",w),_.update(E.bytes()),l+"\r\nPrivate-MAC: "+_.digest().toHex()+"\r\n"},o.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var o=n.util.createBuffer();return s(o,r),i(o,e.e),i(o,e.n),r+" "+n.util.encode64(o.bytes())+" "+t},o.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},o.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),o=n.util.createBuffer();s(o,"ssh-rsa"),i(o,e.e),i(o,e.n),r.start(),r.update(o.getBytes());var a=r.digest();if("hex"===t.encoding){var c=a.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return a}},42949:(e,t,r)=>{var n=r(3832);r(58331),r(84145),r(97116);var o="forge.task",i={},s=0;n.debug.set(o,"tasks",i);var a={};n.debug.set(o,"queues",a);var c="ready",l="running",u="blocked",p="sleeping",d="done",f="error",h={ready:{}};h.ready.stop=c,h.ready.start=l,h.ready.cancel=d,h.ready.fail=f,h.running={},h.running.stop=c,h.running.start=l,h.running.block=u,h.running.unblock=l,h.running.sleep=p,h.running.wakeup=l,h.running.cancel=d,h.running.fail=f,h.blocked={},h.blocked.stop=u,h.blocked.start=u,h.blocked.block=u,h.blocked.unblock=u,h.blocked.sleep=u,h.blocked.wakeup=u,h.blocked.cancel=d,h.blocked.fail=f,h.sleeping={},h.sleeping.stop=p,h.sleeping.start=p,h.sleeping.block=p,h.sleeping.unblock=p,h.sleeping.sleep=p,h.sleeping.wakeup=p,h.sleeping.cancel=d,h.sleeping.fail=f,h.done={},h.done.stop=d,h.done.start=d,h.done.block=d,h.done.unblock=d,h.done.sleep=d,h.done.wakeup=d,h.done.cancel=d,h.done.fail=f,h.error={},h.error.stop=f,h.error.start=f,h.error.block=f,h.error.unblock=f,h.error.sleep=f,h.error.wakeup=f,h.error.cancel=f,h.error.fail=f;var g=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=c,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=s++,i[this.id]=this};g.prototype.debug=function(e){e=e||"",n.log.debug(o,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",a)},g.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new g({run:t,name:e,parent:this});return r.state=l,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},g.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var o=r;o.block(t.length);for(var i=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){o.unblock()},failure:function(e){o.unblock()}})},s=0;s<t.length;s++)i(e+"__parallel-"+r.id+"-"+s,s)}))},g.prototype.stop=function(){this.state=h[this.state].stop},g.prototype.start=function(){this.error=!1,this.state=h[this.state].start,this.state===l&&(this.start=new Date,this.run(this),m(this,0))},g.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=h[this.state].block)},g.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==d&&(this.state=l,m(this,0)),this.blocks},g.prototype.sleep=function(e){e=void 0===e?0:e,this.state=h[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=l,m(t,0)}),e)},g.prototype.wait=function(e){e.wait(this)},g.prototype.wakeup=function(){this.state===p&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=l,m(this,0))},g.prototype.cancel=function(){this.state=h[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},g.prototype.fail=function(e){if(this.error=!0,y(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,m(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;y(t,!0)}this.failureCallback&&this.failureCallback(this)}};var m=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===l)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||m(n,t)}else y(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,m(e.parent,t))};r?setTimeout(n,0):n(t)},y=function(e,t){e.state=d,delete i[e.id],null===e.parent&&(e.type in a?0===a[e.type].length?n.log.error(o,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):a[e.type][0]!==e?n.log.error(o,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(a[e.type].shift(),0===a[e.type].length?delete a[e.type]:a[e.type][0].start()):n.log.error(o,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new g({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in a?a[e.type].push(t):(a[t.type]=[t],function(e){e.error=!1,e.state=h[e.state].start,setTimeout((function(){e.state===l&&(e.swapTime=+new Date,e.run(e),m(e,0))}),0)}(t))},n.task.cancel=function(e){e in a&&(a[e]=[a[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},84311:(e,t,r)=>{var n=r(3832);r(3068),r(36607),r(25063),r(26953),r(4742),r(49563),r(137),r(97116);var o=function(e,t,r,o){var i=n.util.createBuffer(),s=e.length>>1,a=s+(1&e.length),c=e.substr(0,a),l=e.substr(s,a),u=n.util.createBuffer(),p=n.hmac.create();r=t+r;var d=Math.ceil(o/16),f=Math.ceil(o/20);p.start("MD5",c);var h=n.util.createBuffer();u.putBytes(r);for(var g=0;g<d;++g)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+r),h.putBuffer(p.digest());p.start("SHA1",l);var m=n.util.createBuffer();for(u.clear(),u.putBytes(r),g=0;g<f;++g)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+r),m.putBuffer(p.digest());return i.putBytes(n.util.xorBytes(h.getBytes(),m.getBytes(),o)),i},i=function(e,t,r){var o=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,o=!0}catch(e){}return o},s=function(e,t,r){var o=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,o=!0}catch(e){}return o},a=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},c=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},l={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(e){var t=null;for(var r in l.CipherSuites){var n=l.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},l.handleUnexpected=function(e,t){!e.open&&e.entity===l.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(l.queue(e,l.createAlert(e,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(e)),e.process()},l.parseHelloMessage=function(e,t,r){var o=null,i=e.entity===l.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var s=t.fragment,c=s.length();if(o={version:{major:s.getByte(),minor:s.getByte()},random:n.util.createBuffer(s.getBytes(32)),session_id:a(s,1),extensions:[]},i?(o.cipher_suite=s.getBytes(2),o.compression_method=s.getByte()):(o.cipher_suites=a(s,2),o.compression_methods=a(s,1)),(c=r-(c-s.length()))>0){for(var u=a(s,2);u.length()>0;)o.extensions.push({type:[u.getByte(),u.getByte()],data:a(u,2)});if(!i)for(var p=0;p<o.extensions.length;++p){var d=o.extensions[p];if(0===d.type[0]&&0===d.type[1])for(var f=a(d.data,2);f.length()>0&&0===f.getByte();)e.session.extensions.server_name.serverNameList.push(a(f,2).getBytes())}}if(e.session.version&&(o.version.major!==e.session.version.major||o.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=l.getCipherSuite(o.cipher_suite);else for(var h=n.util.createBuffer(o.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=l.getCipherSuite(h.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(o.cipher_suite)});e.session.compressionMethod=i?o.compression_method:l.CompressionMethod.none}return o},l.createSecurityParameters=function(e,t){var r=e.entity===l.ConnectionEnd.client,n=t.random.bytes(),o=r?e.session.sp.client_random:n,i=r?n:l.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:i}},l.handleServerHello=function(e,t,r){var n=l.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var o=n.session_id.bytes();o.length>0&&o===e.session.id?(e.expect=h,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=u,e.session.resuming=!1,l.createSecurityParameters(e,n)),e.session.id=o,e.process()}},l.handleClientHello=function(e,t,r){var o=l.parseHelloMessage(e,t,r);if(!e.fail){var i=o.session_id.bytes(),s=null;if(e.sessionCache&&(null===(s=e.sessionCache.getSession(i))?i="":(s.version.major!==o.version.major||s.version.minor>o.version.minor)&&(s=null,i="")),0===i.length&&(i=n.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=o.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,c=1;c<l.SupportedVersions.length&&!((a=l.SupportedVersions[c]).minor<=o.version.minor);++c);e.version={major:a.major,minor:a.minor},e.session.version=e.version}null!==s?(e.expect=E,e.session.resuming=!0,e.session.sp.client_random=o.random.bytes()):(e.expect=!1!==e.verifyClient?v:b,e.session.resuming=!1,l.createSecurityParameters(e,o)),e.open=!0,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHello(e)})),e.session.resuming?(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))):(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)})),e.fail||(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerKeyExchange(e)})),!1!==e.verifyClient&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateRequest(e)})),l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHelloDone(e)})))),l.flush(e),e.process()}},l.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var o,i,s=t.fragment,c={certificate_list:a(s,3)},u=[];try{for(;c.certificate_list.length()>0;)o=a(c.certificate_list,3),i=n.asn1.fromDer(o),o=n.pki.certificateFromAsn1(i,!0),u.push(o)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var d=e.entity===l.ConnectionEnd.client;!d&&!0!==e.verifyClient||0!==u.length?0===u.length?e.expect=d?p:b:(d?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],l.verifyCertificateChain(e,u)&&(e.expect=d?p:b)):e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}),e.process()},l.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},l.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var o=t.fragment,i={enc_pre_master_secret:a(o,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=n.pki.privateKeyFromPem(s)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(null===s)return e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var c=e.session.sp;c.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==c.pre_master_secret.charCodeAt(0)||u.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){c.pre_master_secret=n.random.getBytes(48)}e.expect=E,null!==e.session.clientCertificate&&(e.expect=w),e.process()},l.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n=t.fragment,o={certificate_types:a(n,1),certificate_authorities:a(n,2)};e.session.certificateRequest=o,e.expect=f,e.process()},l.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var o=t.fragment;o.read-=4;var i=o.bytes();o.read+=4;var s={signature:a(o,2).getBytes()},c=n.util.createBuffer();c.putBuffer(e.session.md5.digest()),c.putBuffer(e.session.sha1.digest()),c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}e.expect=E,e.process()},l.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(null===e.serverCertificate){var o={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},i=e.verify(e,o.alert.description,0,[]);if(!0!==i)return(i||0===i)&&("object"!=typeof i||n.util.isArray(i)?"number"==typeof i&&(o.alert.description=i):(i.message&&(o.message=i.message),i.alert&&(o.alert.description=i.alert))),e.error(e,o)}null!==e.session.certificateRequest&&(t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)}),l.queue(e,t)),t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createClientKeyExchange(e)}),l.queue(e,t),e.expect=y;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateVerify(e,t)})),l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)})),e.expect=h,l.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return s(e,null);l.getClientSignature(e,s)},l.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=e.entity===l.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=l.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:_,e.process()},l.handleFinished=function(e,t,r){var i=t.fragment;i.read-=4;var s=i.bytes();i.read+=4;var a=t.fragment.getBytes();(i=n.util.createBuffer()).putBuffer(e.session.md5.digest()),i.putBuffer(e.session.sha1.digest());var c=e.entity===l.ConnectionEnd.client,u=c?"server finished":"client finished",p=e.session.sp;if((i=o(p.master_secret,u,i.getBytes(),12)).getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&c||!e.session.resuming&&!c)&&(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))),e.expect=c?m:O,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,l.flush(e),e.isConnected=!0,e.connected(e),e.process()},l.handleAlert=function(e,t){var r,n=t.fragment,o={level:n.getByte(),description:n.getByte()};switch(o.description){case l.Alert.Description.close_notify:r="Connection closed.";break;case l.Alert.Description.unexpected_message:r="Unexpected message.";break;case l.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case l.Alert.Description.decryption_failed:r="Decryption failed.";break;case l.Alert.Description.record_overflow:r="Record overflow.";break;case l.Alert.Description.decompression_failure:r="Decompression failed.";break;case l.Alert.Description.handshake_failure:r="Handshake failure.";break;case l.Alert.Description.bad_certificate:r="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case l.Alert.Description.certificate_expired:r="Certificate expired.";break;case l.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case l.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case l.Alert.Description.access_denied:r="Access denied.";break;case l.Alert.Description.decode_error:r="Decode error.";break;case l.Alert.Description.decrypt_error:r="Decrypt error.";break;case l.Alert.Description.export_restriction:r="Export restriction.";break;case l.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:r="Insufficient security.";break;case l.Alert.Description.internal_error:r="Internal error.";break;case l.Alert.Description.user_canceled:r="User canceled.";break;case l.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(o.description===l.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===l.ConnectionEnd.client?"server":"client",alert:o}),e.process()},l.handleHandshake=function(e,t){var r=t.fragment,o=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,o in M[e.entity][e.expect]?(e.entity!==l.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),o!==l.HandshakeType.hello_request&&o!==l.HandshakeType.certificate_verify&&o!==l.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),M[e.entity][e.expect][o](e,t,i)):l.handleUnexpected(e,t)},l.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},l.handleHeartbeat=function(e,t){var r=t.fragment,o=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(o===l.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();l.queue(e,l.createRecord(e,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,s)})),l.flush(e)}else if(o===l.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(s))}e.process()};var u=1,p=2,d=3,f=4,h=5,g=6,m=7,y=8,v=1,b=2,w=3,E=4,_=5,O=6,S=l.handleUnexpected,T=l.handleChangeCipherSpec,C=l.handleAlert,A=l.handleHandshake,x=l.handleApplicationData,I=l.handleHeartbeat,k=[];k[l.ConnectionEnd.client]=[[S,C,A,S,I],[S,C,A,S,I],[S,C,A,S,I],[S,C,A,S,I],[S,C,A,S,I],[T,C,S,S,I],[S,C,A,S,I],[S,C,A,x,I],[S,C,A,S,I]],k[l.ConnectionEnd.server]=[[S,C,A,S,I],[S,C,A,S,I],[S,C,A,S,I],[S,C,A,S,I],[T,C,S,S,I],[S,C,A,S,I],[S,C,A,x,I],[S,C,A,S,I]];var N=l.handleHelloRequest,P=l.handleServerHello,R=l.handleCertificate,j=l.handleServerKeyExchange,D=l.handleCertificateRequest,L=l.handleServerHelloDone,F=l.handleFinished,M=[];M[l.ConnectionEnd.client]=[[S,S,P,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,R,j,D,L,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,j,D,L,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,D,L,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,L,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]];var B=l.handleClientHello,U=l.handleClientKeyExchange,V=l.handleCertificateVerify;M[l.ConnectionEnd.server]=[[S,B,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,R,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,U,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,V,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],l.generateKeys=function(e,t){var r=o,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===l.Versions.TLS_1_0.major&&e.version.minor===l.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),c={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(c.client_write_IV=a.getBytes(t.fixed_iv_length),c.server_write_IV=a.getBytes(t.fixed_iv_length)),c},l.createConnectionState=function(e){var t=e.entity===l.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!e.fail},e.session){var o=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(o),o.keys=l.generateKeys(e,o),n.read.macKey=t?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=t?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,o),o.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:n.read.compressFunction=s,n.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return n},l.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},l.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},l.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),l.createRecord(e,{type:l.ContentType.alert,data:r})},l.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var o=e.cipherSuites[r];t.putByte(o.id[0]),t.putByte(o.id[1])}var i=t.length(),s=n.util.createBuffer();s.putByte(l.CompressionMethod.none);var a=s.length(),u=n.util.createBuffer();if(e.virtualHost){var p=n.util.createBuffer();p.putByte(0),p.putByte(0);var d=n.util.createBuffer();d.putByte(0),c(d,2,n.util.createBuffer(e.virtualHost));var f=n.util.createBuffer();c(f,2,d),c(p,2,f),u.putBuffer(p)}var h=u.length();h>0&&(h+=2);var g=e.session.id,m=g.length+1+2+4+28+2+i+1+a+h,y=n.util.createBuffer();return y.putByte(l.HandshakeType.client_hello),y.putInt24(m),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),c(y,1,n.util.createBuffer(g)),c(y,2,t),c(y,1,s),h>0&&c(y,2,u),y},l.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,o=n.util.createBuffer();return o.putByte(l.HandshakeType.server_hello),o.putInt24(r),o.putByte(e.version.major),o.putByte(e.version.minor),o.putBytes(e.session.sp.server_random),c(o,1,n.util.createBuffer(t)),o.putByte(e.session.cipherSuite.id[0]),o.putByte(e.session.cipherSuite.id[1]),o.putByte(e.session.compressionMethod),o},l.createCertificate=function(e){var t,r=e.entity===l.ConnectionEnd.client,o=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,o=e.getCertificate(e,t));var i=n.util.createBuffer();if(null!==o)try{n.util.isArray(o)||(o=[o]);for(var s=null,a=0;a<o.length;++a){var u=n.pem.decode(o[a])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=u.type,p}if(u.procType&&"ENCRYPTED"===u.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=n.util.createBuffer(u.body);null===s&&(s=n.asn1.fromDer(d.bytes(),!1));var f=n.util.createBuffer();c(f,3,d),i.putBuffer(f)}o=n.pki.certificateFromAsn1(s),r?e.session.clientCertificate=o:e.session.serverCertificate=o}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var h=3+i.length(),g=n.util.createBuffer();return g.putByte(l.HandshakeType.certificate),g.putInt24(h),c(g,3,i),g},l.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var o=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,i=n.util.createBuffer();return i.putByte(l.HandshakeType.client_key_exchange),i.putInt24(o),i.putInt16(t.length),i.putBytes(t),i},l.createServerKeyExchange=function(e){return n.util.createBuffer()},l.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.clientCertificate),o=n.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}null===o?e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):t=o.sign(t,null),r(e,t)},e.getSignature(e,r,t)},l.createCertificateVerify=function(e,t){var r=t.length+2,o=n.util.createBuffer();return o.putByte(l.HandshakeType.certificate_verify),o.putInt24(r),o.putInt16(t.length),o.putBytes(t),o},l.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var o in e.caStore.certs){var i=e.caStore.certs[o],s=n.pki.distinguishedNameToAsn1(i.subject),a=n.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var u=1+t.length()+2+r.length(),p=n.util.createBuffer();return p.putByte(l.HandshakeType.certificate_request),p.putInt24(u),c(p,1,t),c(p,2,r),p},l.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(l.HandshakeType.server_hello_done),t.putInt24(0),t},l.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},l.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===l.ConnectionEnd.client,i=e.session.sp,s=r?"client finished":"server finished";t=o(i.master_secret,s,t.getBytes(),12);var a=n.util.createBuffer();return a.putByte(l.HandshakeType.finished),a.putInt24(t.length()),a.putBuffer(t),a},l.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var o=n.util.createBuffer();o.putByte(e),o.putInt16(r),o.putBytes(t);var i=o.length(),s=Math.max(16,i-r-3);return o.putBytes(n.random.getBytes(s)),o},l.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==l.ContentType.handshake&&t.type!==l.ContentType.alert&&t.type!==l.ContentType.change_cipher_spec)){if(t.type===l.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var o;if(t.fragment.length()<=l.MaxFragment)o=[t];else{o=[];for(var i=t.fragment.bytes();i.length>l.MaxFragment;)o.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(i.slice(0,l.MaxFragment))})),i=i.slice(l.MaxFragment);i.length>0&&o.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(i)}))}for(var s=0;s<o.length&&!e.fail;++s){var a=o[s];e.state.current.write.update(e,a)&&e.records.push(a)}}},l.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var q=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}};for(var G in l.verifyCertificateChain=function(e,t){try{var r={};for(var o in e.verifyOptions)r[o]=e.verifyOptions[o];r.verify=function(t,r,o){q(t);var i=e.verify(e,t,r,o);if(!0!==i){if("object"==typeof i&&!n.util.isArray(i)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},i.message&&(s.message=i.message),i.alert&&(s.alert.description=i.alert),s}i!==t&&(i=function(e){switch(e){case!0:return!0;case l.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(i))}return i},n.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var i=t;("object"!=typeof i||n.util.isArray(i))&&(i={send:!0,alert:{level:l.Alert.Level.fatal,description:q(t)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:l.Alert.Level.fatal,description:q(i.error)}),e.error(e,i)}return!e.fail},l.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var o in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(o):delete e[o];r.getSession=function(e){var t=null,o=null;if(e?o=n.util.bytesToHex(e):r.order.length>0&&(o=r.order[0]),null!==o&&o in r.cache)for(var i in t=r.cache[o],delete r.cache[o],r.order)if(r.order[i]===o){r.order.splice(i,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var o=r.order.shift();delete r.cache[o]}o=n.util.bytesToHex(e),r.order.push(o),r.cache[o]=t}}return r},l.createConnection=function(e){var t;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var o in r=[],l.CipherSuites)r.push(l.CipherSuites[o]);var i=e.server?l.ConnectionEnd.server:l.ConnectionEnd.client,s=e.sessionCache?l.createSessionCache(e.sessionCache):null,a={version:{major:l.Version.major,minor:l.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===l.ConnectionEnd.client?"client":"server"),r.send&&(l.queue(t,l.createAlert(t,r.alert)),l.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){a.version={major:l.Version.major,minor:l.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=(a.entity,l.ConnectionEnd.client,0),a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(e||void 0===e),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=l.createConnectionState(a)}};return a.reset(),a.handshake=function(e){if(a.entity!==l.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1),a.handshaking=!0;var t=null;(e=e||"").length>0&&(a.sessionCache&&(t=a.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&a.sessionCache&&null!==(t=a.sessionCache.getSession())&&(e=t.id),a.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(a.version=t.version,a.session.sp=t.sp),a.session.sp.client_random=l.createRandom().getBytes(),a.open=!0,l.queue(a,l.createRecord(a,{type:l.ContentType.handshake,data:l.createClientHello(a)})),l.flush(a)}},a.process=function(e){var t=0;return e&&a.input.putBytes(e),a.fail||(null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),null===a.record&&(t=function(e){var t=0,r=e.input,o=r.length();if(o<5)t=5-o;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var i=e.record.version.major===e.version.major;i&&e.session&&e.session.version&&(i=e.record.version.minor===e.version.minor),i||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return t}(a)),a.fail||null===a.record||a.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(a)),!a.fail&&null!==a.record&&a.record.ready&&function(e,t){var r=t.type-l.ContentType.change_cipher_spec,n=k[e.entity][e.expect];r in n?n[r](e,t):l.handleUnexpected(e,t)}(a,a.record)),t},a.prepare=function(e){return l.queue(a,l.createRecord(a,{type:l.ContentType.application_data,data:n.util.createBuffer(e)})),l.flush(a)},a.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),a.expectedHeartbeatPayload=e,l.queue(a,l.createRecord(a,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,e,t)})),l.flush(a)},a.close=function(e){if(!a.fail&&a.sessionCache&&a.session){var t={id:a.session.id,version:a.session.version,sp:a.session.sp};t.sp.keys=null,a.sessionCache.setSession(t.id,t)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,l.queue(a,l.createAlert(a,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(a)),a.closed(a)),a.reset(e)},a},e.exports=n.tls=n.tls||{},l)"function"!=typeof l[G]&&(n.tls[G]=l[G]);n.tls.prf_tls1=o,n.tls.hmac_sha1=function(e,t,r){var o=n.hmac.create();o.start("SHA1",e);var i=n.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),o.update(i.getBytes()),o.digest().getBytes()},n.tls.createSessionCache=l.createSessionCache,n.tls.createConnection=l.createConnection},97116:(e,t,r)=>{var n=r(3832),o=r(78807),i=e.exports=n.util=n.util||{};function s(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function a(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(i.isArrayBuffer(e)||i.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof a||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return i.nextTick=process.nextTick,void("function"==typeof setImmediate?i.setImmediate=setImmediate:i.setImmediate=i.nextTick);if("function"==typeof setImmediate)return i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(i.nextTick=function(e){return setImmediate(e)});if(i.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];i.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),n=!0,o=document.createElement("div");t=[],new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var s=i.setImmediate;i.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),s(e)):(t.push(e),1===t.length&&o.setAttribute("a",n=!n))}}i.nextTick=i.setImmediate}(),i.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,i.globalScope=i.isNodejs?global:"undefined"==typeof self?window:self,i.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},i.isArrayBufferView=function(e){return e&&i.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},i.ByteBuffer=a,i.ByteStringBuffer=a,i.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},i.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},i.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},i.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(i.encodeUtf8(e))},i.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},i.ByteStringBuffer.prototype.putInt=function(e,t){s(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},i.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},i.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},i.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},i.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},i.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},i.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},i.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},i.ByteStringBuffer.prototype.getInt=function(e){s(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},i.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},i.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},i.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},i.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},i.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var e=i.createBuffer(this.data);return e.read=this.read,e},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())},i.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=i.isArrayBuffer(e),n=i.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},i.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},i.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},i.DataBuffer.prototype.putBytes=function(e,t){if(i.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(i.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof i.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&i.isArrayBufferView(e.data))return n=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(e instanceof i.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var o;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(e,o,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(e,o,this.write),this;if("utf8"===t&&(e=i.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(o),this;if("utf16"===t)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},i.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},i.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},i.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(e,t){s(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},i.DataBuffer.prototype.putSignedInt=function(e,t){return s(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},i.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},i.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},i.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},i.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},i.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},i.DataBuffer.prototype.getInt=function(e){s(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},i.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},i.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},i.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},i.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},i.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},i.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return i.binary.raw.encode(t);if("hex"===e)return i.binary.hex.encode(t);if("base64"===e)return i.binary.base64.encode(t);if("utf8"===e)return i.text.utf8.decode(t);if("utf16"===e)return i.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},i.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=i.encodeUtf8(e)),new i.ByteBuffer(e)},i.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},i.xorBytes=function(e,t,r){for(var n="",o="",i="",s=0,a=0;r>0;--r,++s)o=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(n+=i,i="",a=0),i+=String.fromCharCode(o),++a;return n+i},i.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},i.bytesToHex=function(e){return i.createBuffer(e).toHex()},i.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(e,t){for(var r,n,o,i="",s="",a=0;a<e.length;)r=e.charCodeAt(a++),n=e.charCodeAt(a++),o=e.charCodeAt(a++),i+=c.charAt(r>>2),i+=c.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=c.charAt((15&n)<<2|o>>6),i+=isNaN(o)?"=":c.charAt(63&o)),t&&i.length>t&&(s+=i.substr(0,t)+"\r\n",i=i.substr(t));return s+i},i.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,o,i="",s=0;s<e.length;)t=l[e.charCodeAt(s++)-43],r=l[e.charCodeAt(s++)-43],n=l[e.charCodeAt(s++)-43],o=l[e.charCodeAt(s++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==o&&(i+=String.fromCharCode((3&n)<<6|o)));return i},i.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},i.decodeUtf8=function(e){return decodeURIComponent(escape(e))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},i.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},i.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var o=r=r||0,i=0;i<e.length;++i)n[o++]=e.charCodeAt(i);return t?o-r:n},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var o=0,i=r=r||0;for(1&e.length&&(o=1,n[i++]=parseInt(e[0],16));o<e.length;o+=2)n[i++]=parseInt(e.substr(o,2),16);return t?i-r:n},i.binary.base64.encode=function(e,t){for(var r,n,o,i="",s="",a=0;a<e.byteLength;)r=e[a++],n=e[a++],o=e[a++],i+=c.charAt(r>>2),i+=c.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=c.charAt((15&n)<<2|o>>6),i+=isNaN(o)?"=":c.charAt(63&o)),t&&i.length>t&&(s+=i.substr(0,t)+"\r\n",i=i.substr(t));return s+i},i.binary.base64.decode=function(e,t,r){var n,o,i,s,a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,u=r=r||0;c<e.length;)n=l[e.charCodeAt(c++)-43],o=l[e.charCodeAt(c++)-43],i=l[e.charCodeAt(c++)-43],s=l[e.charCodeAt(c++)-43],a[u++]=n<<2|o>>4,64!==i&&(a[u++]=(15&o)<<4|i>>2,64!==s&&(a[u++]=(3&i)<<6|s));return t?u-r:a.subarray(0,u)},i.binary.base58.encode=function(e,t){return i.binary.baseN.encode(e,u,t)},i.binary.base58.decode=function(e,t){return i.binary.baseN.decode(e,u,t)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(e,t,r){e=i.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var o=r=r||0,s=0;s<e.length;++s)n[o++]=e.charCodeAt(s);return t?o-r:n},i.text.utf8.decode=function(e){return i.decodeUtf8(String.fromCharCode.apply(null,e))},i.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var o=new Uint16Array(n.buffer),i=r=r||0,s=r,a=0;a<e.length;++a)o[s++]=e.charCodeAt(a),i+=2;return t?i-r:n},i.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},i.deflate=function(e,t,r){if(t=i.decode64(e.deflate(i.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},i.inflate=function(e,t,r){var n=e.inflate(i.encode64(t)).rval;return null===n?null:i.decode64(n)};var p=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=i.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var o=new Error(n.error.message);throw o.id=n.error.id,o.name=n.error.name,o}},d=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(i.decode64(r))),r},f=function(e,t,r,n){var o=d(e,t);null===o&&(o={}),o[r]=n,p(e,t,o)},h=function(e,t,r){var n=d(e,t);return null!==n&&(n=r in n?n[r]:null),n},g=function(e,t,r){var n=d(e,t);if(null!==n&&r in n){delete n[r];var o=!0;for(var i in n){o=!1;break}o&&(n=null),p(e,t,n)}},m=function(e,t){p(e,t,null)},y=function(e,t,r){var n,o=null;void 0===r&&(r=["web","flash"]);var i=!1,s=null;for(var a in r){n=r[a];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");o=e.apply(this,t),i="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,o=e.apply(this,t),i=!0)}catch(e){s=e}if(i)break}if(!i)throw s;return o};i.setItem=function(e,t,r,n,o){y(f,arguments,o)},i.getItem=function(e,t,r,n){return y(h,arguments,n)},i.removeItem=function(e,t,r,n){y(g,arguments,n)},i.clearItems=function(e,t,r){y(m,arguments,r)},i.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var v=null;i.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var o,i,s=r[n].indexOf("=");s>0?(o=r[n].substring(0,s),i=r[n].substring(s+1)):(o=r[n],i=null),o in t||(t[o]=[]),o in Object.prototype||null===i||t[o].push(unescape(i))}return t};return void 0===e?(null===v&&(v="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=v):t=r(e),t},i.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var o=t.split("/");return o.length>0&&""===o[0]&&o.shift(),{pathString:t,queryString:r,path:o,query:""===r?{}:i.getQueryVariables(r)}},i.makeRequest=function(e){var t=i.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},i.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},i.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},i.format=function(e){for(var t,r,n=/%./g,o=0,i=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&i.push(r),s=n.lastIndex;var a=t[0][1];switch(a){case"s":case"o":o<arguments.length?i.push(arguments[1+o++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+a+"?>")}}return i.push(e.substring(s)),i.join("")},i.formatNumber=function(e,t,r,n){var o=e,i=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,a=void 0===n?".":n,c=o<0?"-":"",l=parseInt(o=Math.abs(+o||0).toFixed(i),10)+"",u=l.length>3?l.length%3:0;return c+(u?l.substr(0,u)+a:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(i?s+Math.abs(o-l).toFixed(i).slice(2):"")},i.formatSize=function(e){return e>=1073741824?i.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?i.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?i.formatNumber(e/1024,0)+" KiB":i.formatNumber(e,0)+" bytes"},i.bytesFromIP=function(e){return-1!==e.indexOf(".")?i.bytesFromIPv4(e):-1!==e.indexOf(":")?i.bytesFromIPv6(e):null},i.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=i.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},i.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=i.createBuffer(),o=0;o<8;++o)if(e[o]&&0!==e[o].length){var s=i.hexToBytes(e[o]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},i.bytesToIP=function(e){return 4===e.length?i.bytesToIPv4(e):16===e.length?i.bytesToIPv6(e):null},i.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},i.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,o=0;o<e.length;o+=2){for(var s=i.bytesToHex(e[o]+e[o+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=r[r.length-1],c=t.length;a&&c===a.end+1?(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}t.push(s)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),0===l.start&&t.unshift(""),7===l.end&&t.push(""))}return t.join(":")},i.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in i&&!e.update)return t(null,i.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,t(null,i.cores);if("undefined"==typeof Worker)return i.cores=1,t(null,i.cores);if("undefined"==typeof Blob)return i.cores=2,t(null,i.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,o,s){if(0===o){var a=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return i.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,i.cores)}!function(e,t){for(var n=[],o=[],i=0;i<e;++i){var s=new Worker(r);s.addEventListener("message",(function(r){if(o.push(r.data),o.length===e){for(var i=0;i<e;++i)n[i].terminate();t(0,o)}})),n.push(s)}for(i=0;i<e;++i)n[i].postMessage(i)}(s,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var o=t[n],i=r[n]=[],s=0;s<e;++s)if(n!==s){var a=t[s];(o.st>a.st&&o.st<a.et||a.st>o.st&&a.st<o.et)&&i.push(s)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(s,r)),e(n,o-1,s)}))}([],5,16)}},25414:(e,t,r)=>{var n=r(3832);r(8925),r(3068),r(33480),r(28991),r(86971),r(66270),r(26953),r(96007),r(28095),r(97116);var o=n.asn1,i=e.exports=n.pki=n.pki||{},s=i.oids,a={};a.CN=s.commonName,a.commonName="CN",a.C=s.countryName,a.countryName="C",a.L=s.localityName,a.localityName="L",a.ST=s.stateOrProvinceName,a.stateOrProvinceName="ST",a.O=s.organizationName,a.organizationName="O",a.OU=s.organizationalUnitName,a.organizationalUnitName="OU",a.E=s.emailAddress,a.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},u={name:"rsapss",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},p={name:"CertificationRequestInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[p,{name:"CertificationRequest.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,o=0;null===n&&o<e.attributes.length;++o)r=e.attributes[o],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}i.RDNAttributesAsArray=function(e,t){for(var r,n,i,c=[],l=0;l<e.value.length;++l){r=e.value[l];for(var u=0;u<r.value.length;++u)i={},n=r.value[u],i.type=o.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in s&&(i.name=s[i.type],i.name in a&&(i.shortName=a[i.name])),t&&(t.update(i.type),t.update(i.value)),c.push(i)}return c},i.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],c=o.derToOid(n.value[0].value),l=n.value[1].value,u=0;u<l.length;++u){var p={};if(p.type=c,p.value=l[u].value,p.valueTagClass=l[u].type,p.type in s&&(p.name=s[p.type],p.name in a&&(p.shortName=a[p.name])),p.type===s.extensionRequest){p.extensions=[];for(var d=0;d<p.value.length;++d)p.extensions.push(i.certificateExtensionFromAsn1(p.value[d]))}t.push(p)}return t};var h=function(e,t,r){var n={};if(e!==s["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var i={},a=[];if(!o.validate(t,u,i,a)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=a,c}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=o.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=o.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=o.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),s=e.attributes,a=0;a<s.length;++a){var c=(t=s[a]).value,l=o.Type.PRINTABLESTRING;"valueTagClass"in t&&(l=t.valueTagClass)===o.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.type).getBytes()),o.create(o.Class.UNIVERSAL,l,!1,c)])]),i.value.push(r)}return i}function m(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in i.oids?t.name=i.oids[t.type]:t.shortName&&t.shortName in a&&(t.name=i.oids[a[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in i.oids))throw(c=new Error("Attribute type not specified.")).attribute=t,c;t.type=i.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in a&&(t.shortName=a[t.name]),t.type===s.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=o.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(i.certificateExtensionToAsn1(y(t.extensions[n])))}var c;if(void 0===t.value)throw(c=new Error("Attribute value not specified.")).attribute=t,c}}function y(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in i.oids&&(e.name=i.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in i.oids))throw(E=new Error("Extension ID not specified.")).extension=e,E;e.id=i.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,a=0,c=0;e.digitalSignature&&(a|=128,r=7),e.nonRepudiation&&(a|=64,r=6),e.keyEncipherment&&(a|=32,r=5),e.dataEncipherment&&(a|=16,r=4),e.keyAgreement&&(a|=8,r=3),e.keyCertSign&&(a|=4,r=2),e.cRLSign&&(a|=2,r=1),e.encipherOnly&&(a|=1,r=0),e.decipherOnly&&(c|=128,r=7);var l=String.fromCharCode(r);0!==c?l+=String.fromCharCode(a)+String.fromCharCode(c):0!==a&&(l+=String.fromCharCode(a)),e.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,l)}else if("basicConstraints"===e.name)e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var p in e)!0===e[p]&&(p in s?u.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s[p]).getBytes())):-1!==p.indexOf(".")&&u.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(p).getBytes())))}else if("nsCertType"===e.name)r=0,a=0,e.client&&(a|=128,r=7),e.server&&(a|=64,r=6),e.email&&(a|=32,r=5),e.objsign&&(a|=16,r=4),e.reserved&&(a|=8,r=3),e.sslCA&&(a|=4,r=2),e.emailCA&&(a|=2,r=1),e.objCA&&(a|=1,r=0),l=String.fromCharCode(r),0!==a&&(l+=String.fromCharCode(a)),e.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,l);else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){if(l=(v=e.altNames[d]).value,7===v.type&&v.ip){if(null===(l=n.util.bytesFromIP(v.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===v.type&&(l=v.oid?o.oidToDer(o.oidToDer(v.oid)):o.oidToDer(l));e.value.value.push(o.create(o.Class.CONTEXT_SPECIFIC,v.type,!1,l))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=o.create(o.Class.UNIVERSAL,o.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){if(e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),u=e.value.value,e.keyIdentifier){var h=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var m=[o.create(o.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];u.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var y=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);u.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if("cRLDistributionPoints"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),u=e.value.value;var v,b=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),w=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){if(l=(v=e.altNames[d]).value,7===v.type&&v.ip){if(null===(l=n.util.bytesFromIP(v.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===v.type&&(l=v.oid?o.oidToDer(o.oidToDer(v.oid)):o.oidToDer(l));w.value.push(o.create(o.Class.CONTEXT_SPECIFIC,v.type,!1,l))}b.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[w])),u.push(b)}var E;if(void 0===e.value)throw(E=new Error("Extension value not specified.")).extension=e,E;return e}function v(e,t){switch(e){case s["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.mgf.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.mgf.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.saltLength).getBytes())])),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,r);default:return o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")}}function b(e){var t=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,i=0;i<r.length;++i){var s=r[i],a=s.value,c=o.Type.UTF8;"valueTagClass"in s&&(c=s.valueTagClass),c===o.Type.UTF8&&(a=n.util.encodeUtf8(a));var l=!1;"valueConstructed"in s&&(l=s.valueConstructed);var u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,c,l,a)])]);t.value.push(u)}return t}i.certificateFromPem=function(e,t,r){var s=n.pem.decode(e)[0];if("CERTIFICATE"!==s.type&&"X509 CERTIFICATE"!==s.type&&"TRUSTED CERTIFICATE"!==s.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=s.type,a}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=o.fromDer(s.body,r);return i.certificateFromAsn1(c,t)},i.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:o.toDer(i.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var s=o.fromDer(t.body);return i.publicKeyFromAsn1(s)},i.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:o.toDer(i.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:o.toDer(i.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.getPublicKeyFingerprint=function(e,t){var r,s=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=o.toDer(i.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=o.toDer(i.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}s.start(),s.update(r);var a=s.digest();if("hex"===t.encoding){var c=a.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return a},i.certificationRequestFromPem=function(e,t,r){var s=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==s.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=s.type,a}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=o.fromDer(s.body,r);return i.certificationRequestFromAsn1(c,t)},i.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:o.toDer(i.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){m(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)y(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,o=0;null===n&&o<e.extensions.length;++o)r=e.extensions[o],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var a=s[e.md.algorithm+"WithRSAEncryption"];if(!a){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=i.getTBSCertificate(e);var l=o.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var a=t.issuer,c=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=a.attributes,g.actualIssuer=c.attributes,g}var l=t.md;if(null===l){if(t.signatureOid in s)switch(s[t.signatureOid]){case"sha1WithRSAEncryption":l=n.md.sha1.create();break;case"md5WithRSAEncryption":l=n.md.md5.create();break;case"sha256WithRSAEncryption":l=n.md.sha256.create();break;case"sha384WithRSAEncryption":l=n.md.sha384.create();break;case"sha512WithRSAEncryption":l=n.md.sha512.create();break;case"RSASSA-PSS":l=n.md.sha256.create()}if(null===l)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var u=t.tbsCertificate||i.getTBSCertificate(t),p=o.toDer(u);l.update(p.getBytes())}if(null!==l){var d;switch(t.signatureOid){case s.sha1WithRSAEncryption:d=void 0;break;case s["RSASSA-PSS"]:var f,h,g;if(void 0===(f=s[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[f])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=f,g;if(void 0===(h=s[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[h])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=h,g;if(h=n.mgf[h].create(n.md[f].create()),void 0===(f=s[t.signatureParameters.hash.algorithmOid])||void 0===n.md[f])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:f};d=n.pss.create(n.md[f].create(),h,t.signatureParameters.saltLength)}r=e.publicKey.verify(l.digest().getBytes(),t.signature,d)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,o=t.subject;if(n.hash&&o.hash)r=n.hash===o.hash;else if(n.attributes.length===o.attributes.length){var i,s;r=!0;for(var a=0;r&&a<n.attributes.length;++a)i=n.attributes[a],s=o.attributes[a],i.type===s.type&&i.value===s.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=s.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var o=e.extensions[r];if(o.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(o.subjectKeyIdentifier)===i}}return!1},e},i.certificateFromAsn1=function(e,t){var r={},a=[];if(!o.validate(e,l,r,a))throw(d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=a,d;if(o.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=i.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=n.util.createBuffer(r.certSerialNumber);c.serialNumber=u.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=h(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=h(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var p=[];if(void 0!==r.certValidity1UTCTime&&p.push(o.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&p.push(o.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&p.push(o.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&p.push(o.generalizedTimeToDate(r.certValidity4GeneralizedTime)),p.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(p.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=p[0],c.validity.notAfter=p[1],c.tbsCertificate=r.tbsCertificate,t){var d;if(c.md=null,c.signatureOid in s)switch(s[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(d=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,d;var g=o.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var y=n.md.sha1.create();c.issuer.getField=function(e){return f(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=i.RDNAttributesAsArray(r.certIssuer,y),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=y.digest().toHex();var v=n.md.sha1.create();return c.subject.getField=function(e){return f(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=i.RDNAttributesAsArray(r.certSubject,v),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=v.digest().toHex(),r.certExtensions?c.extensions=i.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},i.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],o=0;o<n.value.length;++o)t.push(i.certificateExtensionFromAsn1(n.value[o]));return t},i.certificateExtensionFromAsn1=function(e){var t={};if(t.id=o.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===o.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in s)if(t.name=s[t.id],"keyUsage"===t.name){var r=0,i=0;(c=o.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1),i=c.value.length>2?c.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&i)}else if("basicConstraints"===t.name){(c=o.fromDer(t.value)).value.length>0&&c.value[0].type===o.Type.BOOLEAN?t.cA=0!==c.value[0].value.charCodeAt(0):t.cA=!1;var a=null;c.value.length>0&&c.value[0].type===o.Type.INTEGER?a=c.value[0].value:c.value.length>1&&(a=c.value[1].value),null!==a&&(t.pathLenConstraint=o.derToInteger(a))}else if("extKeyUsage"===t.name)for(var c=o.fromDer(t.value),l=0;l<c.value.length;++l){var u=o.derToOid(c.value[l].value);u in s?t[s[u]]=!0:t[u]=!0}else if("nsCertType"===t.name)r=0,(c=o.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r);else if("subjectAltName"===t.name||"issuerAltName"===t.name){var p;t.altNames=[],c=o.fromDer(t.value);for(var d=0;d<c.value.length;++d){var f={type:(p=c.value[d]).type,value:p.value};switch(t.altNames.push(f),p.type){case 1:case 2:case 6:break;case 7:f.ip=n.util.bytesToIP(p.value);break;case 8:f.oid=o.derToOid(p.value)}}}else"subjectKeyIdentifier"===t.name&&(c=o.fromDer(t.value),t.subjectKeyIdentifier=n.util.bytesToHex(c.value));return t},i.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!o.validate(e,d,r,a))throw(l=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=a,l;if(o.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=i.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=h(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=h(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){var l;if(c.md=null,c.signatureOid in s)switch(s[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(l=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=c.signatureOid,l;var u=o.toDer(c.certificationRequestInfo);c.md.update(u.getBytes())}var p=n.md.sha1.create();return c.subject.getField=function(e){return f(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=i.RDNAttributesAsArray(r.certificationRequestInfoSubject,p),c.subject.hash=p.digest().toHex(),c.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return f(c,e)},c.addAttribute=function(e){m([e]),c.attributes.push(e)},c.attributes=i.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},i.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var a=s[e.md.algorithm+"WithRSAEncryption"];if(!a){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=i.getCertificationRequestInfo(e);var l=o.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in s)switch(s[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(d=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,d;var a=e.certificationRequestInfo||i.getCertificationRequestInfo(e),c=o.toDer(a);r.update(c.getBytes())}if(null!==r){var l;switch(e.signatureOid){case s.sha1WithRSAEncryption:break;case s["RSASSA-PSS"]:var u,p,d;if(void 0===(u=s[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[u])throw(d=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,d.name=u,d;if(void 0===(p=s[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[p])throw(d=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,d.name=p,d;if(p=n.mgf[p].create(n.md[u].create()),void 0===(u=s[e.signatureParameters.hash.algorithmOid])||void 0===n.md[u])throw(d=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,d.name=u,d;l=n.pss.create(n.md[u].create(),p,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,l)}return t},e};var w=new Date("1950-01-01T00:00:00Z"),E=new Date("2050-01-01T00:00:00Z");function _(e){return e>=w&&e<E?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(e)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(e))}i.getTBSCertificate=function(e){var t=_(e.validity.notBefore),r=_(e.validity.notAfter),s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,r]),g(e.subject),i.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&s.value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&s.value.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&s.value.push(i.certificateExtensionsToAsn1(e.extensions)),s},i.getCertificationRequestInfo=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),g(e.subject),i.publicKeyToAsn1(e.publicKey),b(e)])},i.distinguishedNameToAsn1=function(e){return g(e)},i.certificateToAsn1=function(e){var t=e.tbsCertificate||i.getTBSCertificate(e);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},i.certificateExtensionsToAsn1=function(e){var t=o.create(o.Class.CONTEXT_SPECIFIC,3,!0,[]),r=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(i.certificateExtensionToAsn1(e[n]));return t},i.certificateExtensionToAsn1=function(e){var t=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.id).getBytes())),e.critical&&t.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=o.toDer(r).getBytes()),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)),t},i.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||i.getCertificationRequestInfo(e);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},i.createCaStore=function(e){var t={certs:{}};function r(e){return s(e),t.certs[e.hash]||null}function s(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=i.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),s(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var s=o.toDer(i.certificateToAsn1(e)).getBytes(),a=0;a<t.length;++a)if(s===o.toDer(i.certificateToAsn1(t[a])).getBytes())return!0;return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var o=t.certs[r];if(n.util.isArray(o))for(var i=0;i<o.length;++i)e.push(o[i]);else e.push(o)}return e},t.removeCertificate=function(e){var a;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),s(e.subject),!t.hasCertificate(e))return null;var c=r(e.subject);if(!n.util.isArray(c))return a=t.certs[e.subject.hash],delete t.certs[e.subject.hash],a;for(var l=o.toDer(i.certificateToAsn1(e)).getBytes(),u=0;u<c.length;++u)l===o.toDer(i.certificateToAsn1(c[u])).getBytes()&&(a=c[u],c.splice(u,1));return 0===c.length&&delete t.certs[e.subject.hash],a},e)for(var a=0;a<e.length;++a){var c=e[a];t.addCertificate(c)}return t},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var o=(t=t.slice(0)).slice(0),s=r.validityCheckDate;void 0===s&&(s=new Date);var a=!0,c=null,l=0;do{var u=t.shift(),p=null,d=!1;if(s&&(s<u.validity.notBefore||s>u.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:s}),null===c){if(null===(p=t[0]||e.getIssuer(u))&&u.isIssuer(u)&&(d=!0,p=u),p){var f=p;n.util.isArray(f)||(f=[f]);for(var h=!1;!h&&f.length>0;){p=f.shift();try{h=p.verify(u)}catch(e){}}h||(c={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}null!==c||p&&!d||e.hasCertificate(u)||(c={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(null===c&&p&&!u.isIssuer(p)&&(c={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),null===c)for(var g={keyUsage:!0,basicConstraints:!0},m=0;null===c&&m<u.extensions.length;++m){var y=u.extensions[m];y.critical&&!(y.name in g)&&(c={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(null===c&&(!a||0===t.length&&(!p||d))){var v=u.getExtension("basicConstraints"),b=u.getExtension("keyUsage");null!==b&&(b.keyCertSign&&null!==v||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate})),null!==c||null===v||v.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),null===c&&null!==b&&"pathLenConstraint"in v&&l-1>v.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}var w=null===c||c.error,E=r.verify?r.verify(w,l,o):w;if(!0!==E)throw!0===w&&(c={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(E||0===E)&&("object"!=typeof E||n.util.isArray(E)?"string"==typeof E&&(c.error=E):(E.message&&(c.message=E.message),E.error&&(c.error=E.error))),c;c=null,a=!1,++l}while(t.length>0);return!0}},54221:(e,t,r)=>{"use strict";const{cancelJob:n,rescheduleJob:o,scheduledJobs:i,scheduleJob:s}=r(63463),{Invocation:a,RecurrenceRule:c,Range:l}=r(53969),{Job:u}=r(52830);e.exports={Job:u,Invocation:a,Range:l,RecurrenceRule:c,cancelJob:n,rescheduleJob:o,scheduledJobs:i,scheduleJob:s}},53969:(e,t,r)=>{"use strict";const n=r(87663),o=r(88574),i=r(67570),s=[];let a=null;const c=new d;function l(e,t,r,n){this.job=e,this.fireDate=t,this.endDate=n,this.recurrenceRule=r||c,this.timerID=null}function u(e,t){return e.fireDate.getTime()-t.fireDate.getTime()}function p(e,t,r){this.start=e||0,this.end=t||60,this.step=r||1}function d(e,t,r,n,o,i,s){this.recurs=!0,this.year=null==e?null:e,this.month=null==t?null:t,this.date=null==r?null:r,this.dayOfWeek=null==n?null:n,this.hour=null==o?null:o,this.minute=null==i?null:i,this.second=null==s?0:s}function f(e,t){if(null==t)return!0;if("number"==typeof t)return e===t;if("string"==typeof t)return e===Number(t);if(t instanceof p)return t.contains(e);if(Array.isArray(t)||t instanceof Array)for(let r=0;r<t.length;r++)if(f(e,t[r]))return!0;return!1}function h(e,t){const r=Date.now(),o=e.getTime();return n.setTimeout((function(){o>Date.now()?h(e,t):t()}),o<r?0:o-r)}function g(e){i.add(s,e,u),m();const t=e.fireDate instanceof o?e.fireDate.toDate():e.fireDate;e.job.emit("scheduled",t)}function m(){if(s.length>0&&a!==s[0]){null!==a&&(n.clearTimeout(a.timerID),a.timerID=null,a=null),a=s[0];const e=a.job,t=a;a.timerID=h(a.fireDate,(function(){if(s.shift(),a=null,m(),e.callback&&e.callback(),t.recurrenceRule.recurs||null===t.recurrenceRule._endDate){const e=y(t.recurrenceRule,t.job,t.fireDate,t.endDate);null!==e&&e.job.trackInvocation(e)}e.stopTrackingInvocation(t);try{const r=e.invoke(t.fireDate instanceof o?t.fireDate.toDate():t.fireDate);e.emit("run"),r instanceof Promise&&r.catch((function(t){e.emit("error",t)}))}catch(t){e.emit("error",t)}e.isOneTimeJob&&e.deleteFromSchedule()}))}}function y(e,t,r,n){r=r instanceof o?r:new o;const i=e instanceof d?e._nextInvocationDate(r):e.next();if(null===i)return null;if(n instanceof o&&i.getTime()>n.getTime())return null;const s=new l(t,i,e,n);return g(s),s}c.recurs=!1,p.prototype.contains=function(e){if(null===this.step||1===this.step)return e>=this.start&&e<=this.end;for(let t=this.start;t<this.end;t+=this.step)if(t===e)return!0;return!1},d.prototype.isValid=function(){function e(t){return Array.isArray(t)||t instanceof Array?t.every((function(t){return e(t)})):!(Number.isNaN(Number(t))&&!(t instanceof p))}if(null!==this.month&&(this.month<0||this.month>11||!e(this.month)))return!1;if(null!==this.dayOfWeek&&(this.dayOfWeek<0||this.dayOfWeek>6||!e(this.dayOfWeek)))return!1;if(null!==this.hour&&(this.hour<0||this.hour>23||!e(this.hour)))return!1;if(null!==this.minute&&(this.minute<0||this.minute>59||!e(this.minute)))return!1;if(null!==this.second&&(this.second<0||this.second>59||!e(this.second)))return!1;if(null!==this.date){if(!e(this.date))return!1;switch(this.month){case 3:case 5:case 8:case 10:if(this.date<1||this.date>30)return!1;break;case 1:if(this.date<1||this.date>29)return!1;break;default:if(this.date<1||this.date>31)return!1}}return!0},d.prototype.nextInvocationDate=function(e){const t=this._nextInvocationDate(e);return t?t.toDate():null},d.prototype._nextInvocationDate=function(e){if(e=e instanceof o||e instanceof Date?e:new Date,!this.recurs)return null;if(!this.isValid())return null;let t=new o(Date.now(),this.tz).getFullYear();if(null!==this.year&&"number"==typeof this.year&&this.year<t)return null;let r=new o(e.getTime(),this.tz);for(r.addSecond();;){if(null!==this.year){if(t=r.getFullYear(),"number"==typeof this.year&&this.year<t){r=null;break}if(!f(t,this.year)){r.addYear(),r.setMonth(0),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0);continue}}if(null==this.month||f(r.getMonth(),this.month))if(null==this.date||f(r.getDate(),this.date))if(null==this.dayOfWeek||f(r.getDay(),this.dayOfWeek))if(null==this.hour||f(r.getHours(),this.hour))if(null==this.minute||f(r.getMinutes(),this.minute)){if(null==this.second||f(r.getSeconds(),this.second))break;r.addSecond()}else r.addMinute();else r.addHour();else r.addDay();else r.addDay();else r.addMonth()}return r},e.exports={Range:p,RecurrenceRule:d,Invocation:l,cancelInvocation:function(e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),null!==e.timerID&&n.clearTimeout(e.timerID),a===e&&(a=null),e.job.emit("canceled",e.fireDate),m())},scheduleInvocation:g,scheduleNextRecurrence:y,sorter:u,_invocations:s}},52830:(e,t,r)=>{"use strict";const n=r(28614),o=r(45855),i=r(88574),s=r(67570),{scheduleNextRecurrence:a,scheduleInvocation:c,cancelInvocation:l,RecurrenceRule:u,sorter:p,Invocation:d}=r(53969),{isValidDate:f}=r(87391),h={};let g=0;function m(e,t,r){this.pendingInvocations=[];let n=0;const o=e&&"string"==typeof e?e:function(){const e=new Date;return g===Number.MAX_SAFE_INTEGER&&(g=0),g++,`<Anonymous Job ${g} ${e.toISOString()}>`}();this.job=e&&"function"==typeof e?e:t,this.job===e?this.callback="function"==typeof t&&t:this.callback="function"==typeof r&&r,"function"==typeof this.job&&this.job.prototype&&this.job.prototype.next&&(this.job=function(){return this.next().value}.bind(this.job.call(this))),Object.defineProperty(this,"name",{value:o,writable:!1,enumerable:!0}),this.trackInvocation=function(e){return s.add(this.pendingInvocations,e,p),!0},this.stopTrackingInvocation=function(e){const t=this.pendingInvocations.indexOf(e);return t>-1&&(this.pendingInvocations.splice(t,1),!0)},this.triggeredJobs=function(){return n},this.setTriggeredJobs=function(e){n=e},this.deleteFromSchedule=function(){y(this.name)},this.cancel=function(e){let t,r;e="boolean"==typeof e&&e;const n=[];for(let o=0;o<this.pendingInvocations.length;o++)t=this.pendingInvocations[o],l(t),e&&(t.recurrenceRule.recurs||t.recurrenceRule.next)&&(r=a(t.recurrenceRule,this,t.fireDate,t.endDate),null!==r&&n.push(r));this.pendingInvocations=[];for(let e=0;e<n.length;e++)this.trackInvocation(n[e]);return e||this.deleteFromSchedule(),!0},this.cancelNext=function(e){if(e="boolean"!=typeof e||e,!this.pendingInvocations.length)return!1;let t;const r=this.pendingInvocations.shift();return l(r),e&&(r.recurrenceRule.recurs||r.recurrenceRule.next)&&(t=a(r.recurrenceRule,this,r.fireDate,r.endDate),null!==t&&this.trackInvocation(t)),!0},this.reschedule=function(e){let t;const r=this.pendingInvocations.slice();for(let e=0;e<r.length;e++)t=r[e],l(t);return this.pendingInvocations=[],this.schedule(e)?(this.setTriggeredJobs(0),!0):(this.pendingInvocations=r,!1)},this.nextInvocation=function(){return this.pendingInvocations.length?this.pendingInvocations[0].fireDate:null}}function y(e){e&&delete h[e]}Object.setPrototypeOf(m.prototype,n.EventEmitter.prototype),m.prototype.invoke=function(e){return this.setTriggeredJobs(this.triggeredJobs()+1),this.job(e)},m.prototype.runOnDate=function(e){return this.schedule(e)},m.prototype.schedule=function(e){const t=this;let r,n,s,l,p=!1;"object"==typeof e&&"tz"in e&&(l=e.tz),"object"==typeof e&&e.rule&&(n=e.start||void 0,s=e.end||void 0,e=e.rule,n&&(n instanceof Date||(n=new Date(n)),n=new i(n,l),(!f(n)||n.getTime()<Date.now())&&(n=void 0)),!s||s instanceof Date||f(s=new Date(s))||(s=void 0),s&&(s=new i(s,l)));try{const i=o.parseExpression(e,{currentDate:n,tz:l});r=a(i,t,n,s),null!==r&&(p=t.trackInvocation(r))}catch(o){const h=typeof e;if("string"!==h&&"number"!==h||(e=new Date(e)),e instanceof Date&&f(e))e=new i(e),t.isOneTimeJob=!0,e.getTime()>=Date.now()&&(r=new d(t,e),c(r),p=t.trackInvocation(r));else if("object"===h){if(t.isOneTimeJob=!1,!(e instanceof u)){const t=new u;"year"in e&&(t.year=e.year),"month"in e&&(t.month=e.month),"date"in e&&(t.date=e.date),"dayOfWeek"in e&&(t.dayOfWeek=e.dayOfWeek),"hour"in e&&(t.hour=e.hour),"minute"in e&&(t.minute=e.minute),"second"in e&&(t.second=e.second),e=t}e.tz=l,r=a(e,t,n,s),null!==r&&(p=t.trackInvocation(r))}}return h[this.name]=this,p},e.exports={Job:m,deleteScheduledJob:y,scheduledJobs:h}},63463:(e,t,r)=>{"use strict";const{Job:n,scheduledJobs:o}=r(52830);e.exports={scheduleJob:function(){if(arguments.length<2)throw new RangeError("Invalid number of arguments");const e=arguments.length>=3&&"string"==typeof arguments[0]?arguments[0]:null,t=e?arguments[1]:arguments[0],r=e?arguments[2]:arguments[1],o=e?arguments[3]:arguments[2];if("function"!=typeof r)throw new RangeError("The job method must be a function.");const i=new n(e,r,o);return i.schedule(t)?i:null},rescheduleJob:function(e,t){if(e instanceof n){if(e.reschedule(t))return e}else if("string"==typeof e){if(!o.hasOwnProperty(e))throw new Error("Cannot reschedule one-off job by name, pass job reference instead");if(o[e].reschedule(t))return o[e]}return null},scheduledJobs:o,cancelJob:function(e){let t=!1;return e instanceof n?t=e.cancel():("string"==typeof e||e instanceof String)&&e in o&&o.hasOwnProperty(e)&&(t=o[e].cancel()),t}}},87391:e=>{"use strict";e.exports={isValidDate:function(e){return e.getTime()==e.getTime()}}},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,c=o(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))r.call(s,u)&&(c[u]=s[u]);if(t){a=t(s);for(var p=0;p<a.length;p++)n.call(s,a[p])&&(c[a[p]]=s[a[p]])}}return c}},49807:(e,t,r)=>{"use strict";var n=r(76417);function o(e,t){return function(e,t){var r;if(void 0===(r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new u).write&&(r.write=r.update,r.end=r.update),l(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var o=r.read();return"buffer"===t.encoding?o:o.toString(t.encoding)}(e,t=a(e,t))}(t=e.exports=o).sha1=function(e){return o(e)},t.keys=function(e){return o(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return o(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return o(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var i=n.getHashes?n.getHashes().slice():["sha1","md5"];i.push("passthrough");var s=["buffer","hex","binary","base64"];function a(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<i.length;++n)i[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=i[n]);if(-1===i.indexOf(r.algorithm))throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+i.join(", "));if(-1===s.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+s.join(", "));return r}function c(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function l(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var o,i=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(i);if(s=(s=s?s[1]:"unknown:["+i+"]").toLowerCase(),(o=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+o+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"===s||"function"===s||"asyncfunction"===s){var a=Object.keys(t);e.unorderedObjects&&(a=a.sort()),!1===e.respectType||c(t)||a.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(a=a.filter((function(t){return!e.excludeKeys(t)}))),n("object:"+a.length+":");var l=this;return a.forEach((function(r){l.dispatch(r),n(":"),e.excludeValues||l.dispatch(t[r]),n(",")}))}if(!this["_"+s]){if(e.ignoreUnknown)return n("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(n("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var s=[],a=t.map((function(t){var n=new u,o=r.slice();return l(e,n,o).dispatch(t),s=s.concat(o.slice(r.length)),n.read().toString()}));return r=r.concat(s),a.sort(),this._array(a,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),c(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function u(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}t.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),l(t=a(e,t),r).dispatch(e)}},18987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(21414),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=l&&r;if(a&&e.length>0&&!o.call(e,0))for(var g=0;g<e.length;++g)d.push(String(g));if(n&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var y in e)h&&"prototype"===y||!o.call(e,y)||d.push(String(y));if(c)for(var v=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)v&&"constructor"===u[b]||!o.call(e,u[b])||d.push(u[b]);return d}}e.exports=n},82215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(21414),i=Object.keys,s=i?function(e){return i(e)}:r(18987),a=Object.keys;s.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},30778:(e,t,r)=>{var n=r(52479);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},57678:(e,t,r)=>{"use strict";const n=r(34341),o=new WeakMap,i=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,i=0;const s=e.displayName||e.name||"<anonymous>",a=function(...n){if(o.set(a,++i),1===i)r=e.apply(this,n),e=null;else if(!0===t.throw)throw new Error(`Function \`${s}\` can only be called once`);return r};return n(a,e),o.set(a,i),a};e.exports=i,e.exports.default=i,e.exports.callCount=e=>{if(!o.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return o.get(e)}},80406:(e,t,r)=>{"use strict";const n=r(60591);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new n;let r=0;const o=async(e,n,...o)=>{r++;const i=(async()=>e(...o))();n(i);try{await i}catch{}r--,t.size>0&&t.dequeue()()},i=(n,...i)=>new Promise((s=>{((n,i,...s)=>{t.enqueue(o.bind(null,n,i,...s)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(n,s,...i)}));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),i}},93961:(e,t,r)=>{"use strict";var n=r(43281);e.exports=t=n.descriptor=n.Root.fromJSON(r(40333)).lookup(".google.protobuf");var o=n.Namespace,i=n.Root,s=n.Enum,a=n.Type,c=n.Field,l=n.MapField,u=n.OneOf,p=n.Service,d=n.Method;function f(e,r,n){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(l.syntax=n),e instanceof i||(l.package=e.fullName.substring(1));for(var u,d=0;d<e.nestedArray.length;++d)(u=e._nestedArray[d])instanceof a?l.messageType.push(u.toDescriptor(n)):u instanceof s?l.enumType.push(u.toDescriptor()):u instanceof c?l.extension.push(u.toDescriptor(n)):u instanceof p?l.service.push(u.toDescriptor()):u instanceof o&&f(u,r,n);l.options=_(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&r.push(l)}i.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new i;if(e.file)for(var n,o,l,u=0;u<e.file.length;++u){if(o=r,(n=e.file[u]).package&&n.package.length&&(o=r.define(n.package)),n.name&&n.name.length&&r.files.push(o.filename=n.name),n.messageType)for(l=0;l<n.messageType.length;++l)o.add(a.fromDescriptor(n.messageType[l],n.syntax));if(n.enumType)for(l=0;l<n.enumType.length;++l)o.add(s.fromDescriptor(n.enumType[l]));if(n.extension)for(l=0;l<n.extension.length;++l)o.add(c.fromDescriptor(n.extension[l]));if(n.service)for(l=0;l<n.service.length;++l)o.add(p.fromDescriptor(n.service[l]));var d=E(n.options,t.FileOptions);if(d){var f=Object.keys(d);for(l=0;l<f.length;++l)o.setOption(f[l],d[f[l]])}}return r},i.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return f(this,r.file,e),r};var h=0;a.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,o=new a(e.name.length?e.name:"Type"+h++,E(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)o.add(u.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var i=c.fromDescriptor(e.field[n],r);o.add(i),e.field[n].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[n].oneofIndex].add(i)}if(e.extension)for(n=0;n<e.extension.length;++n)o.add(c.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)o.add(a.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)o.add(s.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(o.extensions=[],n=0;n<e.extensionRange.length;++n)o.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)o.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)o.reserved.push(e.reservedName[n])}return o},a.prototype.toDescriptor=function(e){var r,n=t.DescriptorProto.create({name:this.name});for(r=0;r<this.fieldsArray.length;++r){var o;if(n.field.push(o=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof l){var i=w(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),u=w(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),p=11===u||14===u?this._fieldsArray[r].resolvedType&&O(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(t.DescriptorProto.create({name:o.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:i}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:u,typeName:p})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof c?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof a?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof s&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)"string"==typeof this.reserved[r]?n.reservedName.push(this.reserved[r]):n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=_(this.options,t.MessageOptions),n};var g=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var n,o;switch(n=e.typeName&&e.typeName.length?e.typeName:function(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}(e.type),e.label){case 1:o=void 0;break;case 2:o="required";break;case 3:o="repeated";break;default:throw Error("illegal label: "+e.label)}var i=e.extendee;void 0!==e.extendee&&(i=i.length?i:void 0);var s=new c(e.name.length?e.name:"field"+e.number,e.number,n,o,i);if(s.options=E(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:g.exec(a)&&(a=parseInt(a))}s.setOption("default",a)}return function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}(e.type)&&("proto3"===r?e.options&&!e.options.packed&&s.setOption("packed",!1):e.options&&e.options.packed||s.setOption("packed",!1)),s},c.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=w(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?O(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=_(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var m=0;s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var o=e.value[n].name,i=e.value[n].number||0;r[o&&o.length?o:"NAME"+i]=i}return new s(e.name&&e.name.length?e.name:"Enum"+m++,r,E(e.options,t.EnumOptions))},s.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:_(this.options,t.EnumOptions)})};var y=0;u.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new u(e.name&&e.name.length?e.name:"oneof"+y++)},u.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;p.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new p(e.name&&e.name.length?e.name:"Service"+v++,E(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(d.fromDescriptor(e.method[n]));return r},p.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:_(this.options,t.ServiceOptions)})};var b=0;function w(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof s)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function E(e,t){if(e){for(var r,o,i,a,c=[],l=0;l<t.fieldsArray.length;++l)"uninterpretedOption"!==(o=(r=t._fieldsArray[l]).name)&&e.hasOwnProperty(o)&&(i=e[o],r.resolvedType instanceof s&&"number"==typeof i&&void 0!==r.resolvedType.valuesById[i]&&(i=r.resolvedType.valuesById[i]),c.push((a=o).substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,(function(e,t){return"_"+t.toLowerCase()})),i));return c.length?n.util.toObject(c):void 0}}function _(e,t){if(e){for(var r,o,i=[],s=0,a=Object.keys(e);s<a.length;++s)if(o=e[r=a[s]],"default"!==r){var c=t.fields[r];(c||(c=t.fields[r=n.util.camelCase(r)]))&&i.push(r,o)}return i.length?t.fromObject(n.util.toObject(i)):void 0}}function O(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),s=0,a=0,c=n.length-1;if(!(e instanceof i)&&t instanceof o)for(;s<r.length&&a<c&&r[s]===n[a];){var l=t.lookup(r[s++],!0);if(null!==l&&l!==t)break;++a}else for(;s<r.length&&a<c&&r[s]===n[a];++s,++a);return n.slice(a).join(".")}d.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new d(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),E(e.options,t.MethodOptions))},d.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:_(this.options,t.MethodOptions)})}},78155:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},40333:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},56663:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},75715:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},43281:(e,t,r)=>{"use strict";e.exports=r(99050)},62100:(e,t,r)=>{"use strict";e.exports=r(89482)},48197:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},33996:(e,t,r)=>{"use strict";var n=t,o=r(67025),i=r(9935);function s(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var i=t.resolvedType.values,s=Object.keys(i),a=0;a<s.length;++a)t.repeated&&i[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",i[s[a]])("m%s=%j",n,i[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),c=i.safeProp(a.name);a.map?(r("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(r,a,n,c+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(r,a,n,c+"[i]")("}")("}")):(a.resolvedType instanceof o||r("if(d%s!=null){",c),s(r,a,n,c),a.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?s:c).push(t[l]);if(n.length){for(r("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)r("d%s=[]",i.safeProp(n[l].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),l=0;l<s.length;++l)r("d%s={}",i.safeProp(s[l].name));r("}")}if(c.length){for(r("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],p=i.safeProp(u.name);if(u.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",p,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",p,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",p,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",p,p)("}")}else r("d%s=%j",p,u.typeDefault)}r("}")}var f=!1;for(l=0;l<t.length;++l){u=t[l];var h=e._fieldsArray.indexOf(u);p=i.safeProp(u.name),u.map?(f||(f=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){"),a(r,u,h,p+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p),a(r,u,h,p+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",p,u.name),a(r,u,h,p),u.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}},15305:(e,t,r)=>{"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),c=a.resolvedType instanceof n?"int32":a.type,l="m"+i.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[a.keyType]?t("k=%j",o.defaults[a.keyType]):t("k=null"),void 0!==o.defaults[c]?t("value=%j",o.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===o.basic[c]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):a.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==o.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===o.basic[c]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,c)):void 0===o.basic[c]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",s(u))}return t("return m")};var n=r(67025),o=r(77063),i=r(9935);function s(e){return"missing required '"+e.name+"'"}},44928:(e,t,r)=>{"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(i.compareFieldsById),c=0;c<a.length;++c){var l=a[c].resolve(),u=e._fieldsArray.indexOf(l),p=l.resolvedType instanceof n?"int32":l.type,d=o.basic[p];t="m"+i.safeProp(l.name),l.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|o.mapKey[l.keyType],l.keyType),void 0===d?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,p,t),r("}")("}")):l.repeated?(r("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==o.packed[p]?r("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",p,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===d?s(r,l,u,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(l.id<<3|d)>>>0,p,t)),r("}")):(l.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===d?s(r,l,u,t):r("w.uint32(%i).%s(%s)",(l.id<<3|d)>>>0,p,t))}return r("return w")};var n=r(67025),o=r(77063),i=r(9935);function s(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},67025:(e,t,r)=>{"use strict";e.exports=s;var n=r(3243);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var o=r(69313),i=r(9935);function s(e,t,r,o,i){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,r){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},13548:(e,t,r)=>{"use strict";e.exports=l;var n=r(3243);((l.prototype=Object.create(n.prototype)).constructor=l).className="Field";var o,i=r(67025),s=r(77063),a=r(9935),c=/^required|optional|repeated$/;function l(e,t,r,o,i,l,u){if(a.isObject(o)?(u=i,l=o,o=i=void 0):a.isObject(i)&&(u=l,l=i,i=void 0),n.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!c.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!a.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},l.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(o,i){a.decorateType(o.constructor).add(new l(i,e,t,r,{default:n}))}},l._configure=function(e){o=e}},88836:(e,t,r)=>{"use strict";var n=e.exports=r(89482);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(44928),n.decoder=r(15305),n.verifier=r(24497),n.converter=r(33996),n.ReflectionObject=r(3243),n.Namespace=r(69313),n.Root=r(99424),n.Enum=r(67025),n.Type=r(7645),n.Field=r(13548),n.OneOf=r(27598),n.MapField=r(16039),n.Service=r(77513),n.Method=r(94429),n.Message=r(88368),n.wrappers=r(71667),n.types=r(77063),n.util=r(9935),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},89482:(e,t,r)=>{"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(41173),n.BufferWriter=r(43155),n.Reader=r(51408),n.BufferReader=r(50593),n.util=r(99693),n.rpc=r(35994),n.roots=r(85054),n.configure=o,o()},99050:(e,t,r)=>{"use strict";var n=e.exports=r(88836);n.build="full",n.tokenize=r(50626),n.parse=r(62228),n.common=r(48197),n.Root._configure(n.Type,n.parse,n.common)},16039:(e,t,r)=>{"use strict";e.exports=s;var n=r(13548);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var o=r(77063),i=r(9935);function s(e,t,r,o,s,a){if(n.call(this,e,t,o,void 0,void 0,s,a),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new s(o,e,t,r))}}},88368:(e,t,r)=>{"use strict";e.exports=o;var n=r(99693);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},94429:(e,t,r)=>{"use strict";e.exports=i;var n=r(3243);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(9935);function i(e,t,r,i,s,a,c,l,u){if(o.isObject(s)?(c=s,s=a=void 0):o.isObject(a)&&(c=a,a=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,c),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=i,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},69313:(e,t,r)=>{"use strict";e.exports=p;var n=r(3243);((p.prototype=Object.create(n.prototype)).constructor=p).className="Namespace";var o,i,s,a=r(13548),c=r(27598),l=r(9935);function u(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function p(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}p.fromJSON=function(e,t){return new p(e,t.options).addJSON(t.nested)},p.arrayToJSON=u,p.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},p.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(p.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),p.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},p.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?a.fromJSON:p.fromJSON)(r[n],t));return this},p.prototype.get=function(e){return this.nested&&this.nested[e]||null},p.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},p.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof o||e instanceof s||e instanceof i||e instanceof p||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof p&&e instanceof p)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},p.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},p.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof p))throw Error("path conflicts with non-namespace objects")}else r.add(r=new p(n))}return t&&r.addJSON(t),r},p.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof p?e[t++].resolveAll():e[t++].resolve();return this.resolve()},p.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof p&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof p&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},p.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},p.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},p.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},p.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},p._configure=function(e,t,r){o=e,i=t,s=r}},3243:(e,t,r)=>{"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(9935);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var s=i[e];o.setProperty(s,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var a={};a[e]=t,n.push(a)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},27598:(e,t,r)=>{"use strict";e.exports=s;var n=r(3243);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var o=r(13548),i=r(9935);function s(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},62228:(e,t,r)=>{"use strict";e.exports=S,S.filename=null,S.defaults={keepCase:!1};var n=r(50626),o=r(99424),i=r(7645),s=r(13548),a=r(16039),c=r(27598),l=r(67025),u=r(77513),p=r(94429),d=r(77063),f=r(9935),h=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,b=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,E=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,O=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function S(e,t,r){t instanceof o||(r=t,t=new o),r||(r=S.defaults);var T,C,A,x,I,k=r.preferTrailingComment||!1,N=n(e,r.alternateCommentMode||!1),P=N.next,R=N.push,j=N.peek,D=N.skip,L=N.cmnt,F=!0,M=!1,B=t,U=r.keepCase?function(e){return e}:f.camelCase;function V(e,t,r){var n=S.filename;return r||(S.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+N.line+")")}function q(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw V(e);t.push(P()),D(e),e=j()}while('"'===e||"'"===e);return t.join("")}function G(e){var t=P();switch(t){case"'":case'"':return R(t),q();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(v.test(e))return r*parseInt(e,8);if(w.test(e))return r*parseFloat(e);throw V(e,"number",!0)}(t)}catch(r){if(e&&_.test(t))return t;throw V(t,"value")}}function H(e,t){var r,n;do{!t||'"'!==(r=j())&&"'"!==r?e.push([n=z(P()),D("to",!0)?z(P()):n]):e.push(q())}while(D(",",!0));D(";")}function z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(g.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw V(e,"id")}function K(){if(void 0!==T)throw V("package");if(T=P(),!_.test(T))throw V(T,"name");B=B.define(T),D(";")}function W(){var e,t=j();switch(t){case"weak":e=A||(A=[]),P();break;case"public":P();default:e=C||(C=[])}t=q(),D(";"),e.push(t)}function J(){if(D("="),x=q(),!(M="proto3"===x)&&"proto2"!==x)throw V(x,"syntax");D(";")}function $(e,t){switch(t){case"option":return X(e,t),D(";"),!0;case"message":return function(e,t){if(!E.test(t=P()))throw V(t,"type name");var r=new i(t);Y(r,(function(e){if(!$(r,e))switch(e){case"map":!function(e){D("<");var t=P();if(void 0===d.mapKey[t])throw V(t,"type");D(",");var r=P();if(!_.test(r))throw V(r,"type");D(">");var n=P();if(!E.test(n))throw V(n,"name");D("=");var o=new a(U(n),z(P()),t,r);Y(o,(function(e){if("option"!==e)throw V(e);X(o,e),D(";")}),(function(){te(o)})),e.add(o)}(r);break;case"required":case"repeated":Q(r,e);break;case"optional":Q(r,M?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!E.test(t=P()))throw V(t,"name");var r=new c(U(t));Y(r,(function(e){"option"===e?(X(r,e),D(";")):(R(e),Q(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":H(r.extensions||(r.extensions=[]));break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:if(!M||!_.test(e))throw V(e);R(e),Q(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!E.test(t=P()))throw V(t,"name");var r=new l(t);Y(r,(function(e){switch(e){case"option":X(r,e),D(";");break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!E.test(t))throw V(t,"name");D("=");var r=z(P(),!0),n={};Y(n,(function(e){if("option"!==e)throw V(e);X(n,e),D(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!E.test(t=P()))throw V(t,"service name");var r=new u(t);Y(r,(function(e){if(!$(r,e)){if("rpc"!==e)throw V(e);!function(e,t){var r=L(),n=t;if(!E.test(t=P()))throw V(t,"name");var o,i,s,a,c=t;if(D("("),D("stream",!0)&&(i=!0),!_.test(t=P()))throw V(t);if(o=t,D(")"),D("returns"),D("("),D("stream",!0)&&(a=!0),!_.test(t=P()))throw V(t);s=t,D(")");var l=new p(c,n,o,s,i,a);l.comment=r,Y(l,(function(e){if("option"!==e)throw V(e);X(l,e),D(";")})),e.add(l)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=P()))throw V(t,"reference");var r=t;Y(null,(function(t){switch(t){case"required":case"repeated":Q(e,t,r);break;case"optional":Q(e,M?"proto3_optional":"optional",r);break;default:if(!M||!_.test(t))throw V(t);R(t),Q(e,"optional",r)}}))}(e,t),!0}return!1}function Y(e,t,r){var n=N.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=S.filename),D("{",!0)){for(var o;"}"!==(o=P());)t(o);D(";",!0)}else r&&r(),D(";"),e&&("string"!=typeof e.comment||k)&&(e.comment=L(n)||e.comment)}function Q(e,t,r){var n=P();if("group"!==n){if(!_.test(n))throw V(n,"type");var o=P();if(!E.test(o))throw V(o,"name");o=U(o),D("=");var a=new s(o,z(P()),n,t,r);if(Y(a,(function(e){if("option"!==e)throw V(e);X(a,e),D(";")}),(function(){te(a)})),"proto3_optional"===t){var l=new c("_"+o);a.setOption("proto3_optional",!0),l.add(a),e.add(l)}else e.add(a);M||!a.repeated||void 0===d.packed[n]&&void 0!==d.basic[n]||a.setOption("packed",!1,!0)}else!function(e,t){var r=P();if(!E.test(r))throw V(r,"name");var n=f.lcFirst(r);r===n&&(r=f.ucFirst(r)),D("=");var o=z(P()),a=new i(r);a.group=!0;var c=new s(n,o,r,t);c.filename=S.filename,Y(a,(function(e){switch(e){case"option":X(a,e),D(";");break;case"required":case"repeated":Q(a,e);break;case"optional":Q(a,M?"proto3_optional":"optional");break;default:throw V(e)}})),e.add(a).add(c)}(e,t)}function X(e,t){var r=D("(",!0);if(!_.test(t=P()))throw V(t,"name");var n,o=t,i=o;r&&(D(")"),i=o="("+o+")",t=j(),O.test(t)&&(n=t.substr(1),o+=t,P())),D("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,Z(e,o),n)}function Z(e,t){if(D("{",!0)){for(var r={};!D("}",!0);){if(!E.test(I=P()))throw V(I,"name");var n,o=I;"{"===j()?n=Z(e,t+"."+I):(D(":"),"{"===j()?n=Z(e,t+"."+I):(n=G(!0),ee(e,t+"."+I,n)));var i=r[o];i&&(n=[].concat(i).concat(n)),r[o]=n,D(",",!0)}return r}var s=G(!0);return ee(e,t,s),s}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(D("[",!0)){do{X(e,"option")}while(D(",",!0));D("]")}return e}for(;null!==(I=P());)switch(I){case"package":if(!F)throw V(I);K();break;case"import":if(!F)throw V(I);W();break;case"syntax":if(!F)throw V(I);J();break;case"option":X(B,I),D(";");break;default:if($(B,I)){F=!1;continue}throw V(I)}return S.filename=null,{package:T,imports:C,weakImports:A,syntax:x,root:t}}},51408:(e,t,r)=>{"use strict";e.exports=c;var n,o=r(99693),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},p=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=p(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=p(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},50593:(e,t,r)=>{"use strict";e.exports=i;var n=r(51408);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(99693);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},99424:(e,t,r)=>{"use strict";e.exports=p;var n=r(69313);((p.prototype=Object.create(n.prototype)).constructor=p).className="Root";var o,i,s,a=r(13548),c=r(67025),l=r(27598),u=r(9935);function p(e){n.call(this,"",e),this.deferred=[],this.files=[]}function d(){}p.fromJSON=function(e,t){return t||(t=new p),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},p.prototype.resolvePath=u.path.resolve,p.prototype.fetch=u.fetch,p.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return u.asPromise(e,o,t,r);var a=n===d;function c(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function p(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){i.filename=e;var n,s=i(t,o,r),p=0;if(s.imports)for(;p<s.imports.length;++p)(n=l(s.imports[p])||o.resolvePath(e,s.imports[p]))&&f(n);if(s.weakImports)for(p=0;p<s.weakImports.length;++p)(n=l(s.weakImports[p])||o.resolvePath(e,s.weakImports[p]))&&f(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||h||c(null,o)}function f(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in s)a?p(e,s[e]):(++h,setTimeout((function(){--h,p(e,s[e])})));else if(a){var r;try{r=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}p(e,r)}else++h,o.fetch(e,(function(r,i){--h,n&&(r?t?h||c(null,o):c(r):p(e,i))}))}var h=0;u.isString(t)&&(t=[t]);for(var g,m=0;m<t.length;++m)(g=o.resolvePath("",t[m]))&&f(g);if(a)return o;h||c(null,o)},p.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,d)},p.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function h(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}p.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof c)f.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof o)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);f.test(e.name)&&(e.parent[e.name]=e)}},p.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)f.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);f.test(e.name)&&delete e.parent[e.name]}},p._configure=function(e,t,r){o=e,i=t,s=r}},85054:e=>{"use strict";e.exports={}},35994:(e,t,r)=>{"use strict";t.Service=r(77948)},77948:(e,t,r)=>{"use strict";e.exports=o;var n=r(99693);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},77513:(e,t,r)=>{"use strict";e.exports=a;var n=r(69313);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var o=r(94429),i=r(9935),s=r(35994);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,c(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,o=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var c=i.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");o[c]=i.codegen(["r","c"],i.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},50626:e=>{"use strict";e.exports=p;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,i=/^\s*\*?\/*/,s=/\n/g,a=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function p(e,c){e=e.toString();var l=0,p=e.length,d=1,f=null,h=null,g=0,m=!1,y=!1,v=[],b=null;function w(e){return Error("illegal "+e+" (line "+d+")")}function E(t){return e.charAt(t)}function _(t,r,n){f=e.charAt(t++),g=d,m=!1,y=n;var a,l=t-(c?2:3);do{if(--l<0||"\n"===(a=e.charAt(l))){m=!0;break}}while(" "===a||"\t"===a);for(var u=e.substring(t,r).split(s),p=0;p<u.length;++p)u[p]=u[p].replace(c?i:o,"").trim();h=u.join("\n").trim()}function O(t){var r=S(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function S(e){for(var t=e;t<p&&"\n"!==E(t);)t++;return t}function T(){if(v.length>0)return v.shift();if(b)return function(){var t="'"===b?n:r;t.lastIndex=l-1;var o=t.exec(e);if(!o)throw w("string");return l=t.lastIndex,C(b),b=null,u(o[1])}();var o,i,s,f,h,g=0===l;do{if(l===p)return null;for(o=!1;a.test(s=E(l));)if("\n"===s&&(g=!0,++d),++l===p)return null;if("/"===E(l)){if(++l===p)throw w("comment");if("/"===E(l))if(c){if(f=l,h=!1,O(l)){h=!0;do{if((l=S(l))===p)break;l++}while(O(l))}else l=Math.min(p,S(l)+1);h&&_(f,l,g),d++,o=!0}else{for(h="/"===E(f=l+1);"\n"!==E(++l);)if(l===p)return null;++l,h&&_(f,l-1,g),++d,o=!0}else{if("*"!==(s=E(l)))return"/";f=l+1,h=c||"*"===E(f);do{if("\n"===s&&++d,++l===p)throw w("comment");i=s,s=E(l)}while("*"!==i||"/"!==s);++l,h&&_(f,l-2,g),o=!0}}}while(o);var m=l;if(t.lastIndex=0,!t.test(E(m++)))for(;m<p&&!t.test(E(m));)++m;var y=e.substring(l,l=m);return'"'!==y&&"'"!==y||(b=y),y}function C(e){v.push(e)}function A(){if(!v.length){var e=T();if(null===e)return null;C(e)}return v[0]}return Object.defineProperty({next:T,peek:A,push:C,skip:function(e,t){var r=A();if(r===e)return T(),!0;if(!t)throw w("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?g===d-1&&(c||"*"===f||m)&&(t=y?h:null):(g<e&&A(),g!==e||m||!c&&"/"!==f||(t=y?null:h)),t}},"line",{get:function(){return d}})}p.unescape=u},7645:(e,t,r)=>{"use strict";e.exports=v;var n=r(69313);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var o=r(67025),i=r(27598),s=r(13548),a=r(16039),c=r(77513),l=r(88368),u=r(51408),p=r(41173),d=r(9935),f=r(44928),h=r(15305),g=r(24497),m=r(33996),y=r(71667);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:d.oneOfGetter(this._oneofsArray[r].oneof),set:d.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=d.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",d.safeProp(t.name)):t.repeated&&r("this%s=[]",d.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)r.add((void 0!==t.fields[l[u]].keyType?a.fromJSON:s.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)r.add(i.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var p=t.nested[l[u]];r.add((void 0!==p.id?s.fromJSON:void 0!==p.fields?v.fromJSON:void 0!==p.values?o.fromJSON:void 0!==p.methods?c.fromJSON:n.fromJSON)(l[u],p))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return d.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=f(this)({Writer:p,types:t,util:d}),this.decode=h(this)({Reader:u,types:t,util:d}),this.verify=g(this)({types:t,util:d}),this.fromObject=m.fromObject(this)({types:t,util:d}),this.toObject=m.toObject(this)({types:t,util:d});var n=y[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){d.decorateType(t,e)}}},77063:(e,t,r)=>{"use strict";var n=t,o=r(9935),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(e,t,r)=>{"use strict";var n,o,i=e.exports=r(99693),s=r(85054);i.codegen=r(75124),i.fetch=r(49054),i.path=r(18626),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var a=/\\/g,c=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(7645));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var u=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(67025));var t=new o("Enum"+u++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(r(99424)))}})},1945:(e,t,r)=>{"use strict";e.exports=o;var n=r(99693);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},99693:function(e,t,r){"use strict";var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(34537),n.base64=r(97419),n.EventEmitter=r(19211),n.float=r(10945),n.inquire=r(67199),n.utf8=r(94997),n.pool=r(76662),n.LongBits=r(1945),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},24497:(e,t,r)=>{"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r={};e.oneofsArray.length&&t("var p={}");for(var n=0;n<e.fieldsArray.length;++n){var c=e._fieldsArray[n].resolve(),l="m"+o.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),a(t,c,"k[i]"),s(t,c,n,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),s(t,c,n,l+"[i]")("}");else{if(c.partOf){var u=o.safeProp(c.partOf.name);1===r[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),r[c.partOf.name]=1,t("p%s=1",u)}s(t,c,n,l)}c.optional&&t("}")}return t("return null")};var n=r(67025),o=r(9935);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},71667:(e,t,r)=>{"use strict";var n=t,o=r(88368);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var s=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),s["@type"]=n,s}return this.toObject(e,t)}}},41173:(e,t,r)=>{"use strict";e.exports=p;var n,o=r(99693),i=o.LongBits,s=o.base64,a=o.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(p.create=function(){return new n})()}:function(){return new p}};function f(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}p.create=d(),p.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},p.prototype.bool=function(e){return this._push(f,1,e?1:0)},p.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(o.isString(e)){var r=p.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},p.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},p.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},p._configure=function(e){n=e,p.create=d(),n._configure()}},43155:(e,t,r)=>{"use strict";e.exports=i;var n=r(41173);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(99693);function i(){n.call(this)}function s(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},69246:(e,t,r)=>{"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=r(12477):e.exports=Map},12477:e=>{var t=Object.prototype.hasOwnProperty;function r(e){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof r||"function"==typeof Map&&e instanceof Map)e.forEach((function(e,t){this.set(t,e)}),this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach((function(e){this.set(e[0],e[1])}),this)}}function n(e,t){return e===t||e!=e&&t!=t}function o(e,t,r){this.key=e,this.value=t,this._index=r}function i(e,r){for(var o=0,i="_"+r,s=i;t.call(e,s);s=i+o++)if(n(e[s].key,r))return e[s]}e.exports=r,r.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach((function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)}),this)},r.prototype.has=function(e){return!!i(this._data,e)},r.prototype.get=function(e){var t=i(this._data,e);return t&&t.value},r.prototype.set=function(e,r){!function(e,r,i){for(var s=0,a="_"+r,c=a;t.call(e,c);c=a+s++)if(n(e[c].key,r))return void(e[c].value=i);e.size++,e[c]=new o(r,i,c)}(this._data,e,r)},r.prototype.delete=function(e){var t=i(this._data,e);t&&(delete this._data[t._index],this._data.size--)},r.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},74286:(e,t,r)=>{var n=r(30778),o=r(12840),i=r(35747),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,r,l){l=n(l);var u=!1;e.on("close",(function(){u=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return l(e);u=!0,l()}));var p=!1;return function(t){if(!u&&!p)return p=!0,function(e){return!!a&&!!i&&(e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},u=function(e){e()},p=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(o,i){var s=i<t.length-1;return l(o,s,i>0,(function(t){e||(e=t),t&&n.forEach(u),s||(n.forEach(u),r(e))}))}));return t.reduce(p)}},4850:(e,t,r)=>{var n=r(74286),o=r(94378),i=r(25981),s=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},a=function(e){var t=function(){var r=s(arguments);if(!(this instanceof t))return new t(r);i.call(this,null,null,e),r.length&&this.setPipeline(r)};return o(t,i),t.prototype.setPipeline=function(){var e=s(arguments),t=this,r=!1,o=e[0],i=e[e.length-1];i=i.readable?i:null,o=o.writable?o:null;var a=function(){e[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",(function(){r||t.cork()})),n(e,(function(e){if(t.removeListener("close",a),e)return t.destroy("premature close"===e.message?null:e);r=!0,!1===t._autoDestroy&&(t._autoDestroy=!0),t.uncork()})),this.destroyed)return a();this.setWritable(o),this.setReadable(i)},t};e.exports=a({autoDestroy:!1,destroy:!1}),e.exports.obj=a({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),e.exports.ctor=a},4012:e=>{"use strict";const t={};function r(e,r,n){n||(n=Error);class o extends n{constructor(e,t,n){super(function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,t,n))}}o.prototype.name=n.name,o.prototype.code=e,t[e]=o}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let o;var i;let s;var a,c;return"string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",s=function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument")?`The ${e} ${o} ${n(t,"type")}`:`The "${e}" ${a=e,"number"!=typeof c&&(c=0),c+".".length>a.length||-1===a.indexOf(".",c)?"argument":"property"} ${o} ${n(t,"type")}`,s+=". Received type "+typeof r,s}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(79481),i=r(64229);r(94378)(l,o);for(var s=n(i.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=i.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:(e,t,r)=>{"use strict";e.exports=o;var n=r(74605);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(94378)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},79481:(e,t,r)=>{"use strict";var n;e.exports=S,S.ReadableState=O,r(28614).EventEmitter;var o,i=function(e,t){return e.listeners(t).length},s=r(79740),a=r(64293).Buffer,c=global.Uint8Array||function(){},l=r(31669);o=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,d,f=r(57327),h=r(61195),g=r(82457).getHighWaterMark,m=r(4012).q,y=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(94378)(S,s);var E=h.errorOrDestroy,_=["error","close","destroy","pause","resume"];function O(e,t,o){n=n||r(56753),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",o),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=r(32553).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(56753),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,r,n,i){o("readableAddChunk",t);var s,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,k(e)))}}(e,l);else if(i||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(l,t)),s)E(e,s);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)l.endEmitted?E(e,new w):C(e,l,t,!0);else if(l.ended)E(e,new v);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):N(e,l)):C(e,l,t,!1)}else n||(l.reading=!1,N(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),N(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},S.prototype.unshift=function(e){return T(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){u||(u=r(32553).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,o="";null!==n;)o+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var A=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(k,e))}function k(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function N(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){o("readable nexttick read 0"),e.read(0)}function D(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):I(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){E(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?h:a;function a(){o("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",h),r.removeListener("data",u),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",c);var l=!1;function u(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){o("onerror",t),h(),e.removeListener("error",p),0===i(e,"error")&&E(e,t)}function d(){e.removeListener("finish",f),h()}function f(){o("onfinish"),e.removeListener("close",d),h()}function h(){o("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",p),e.once("close",d),e.once("finish",f),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(j,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(R,this),r},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(R,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r(45850)),p(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=F,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===d&&(d=r(96307)),d(S,e,t)})},74605:(e,t,r)=>{"use strict";e.exports=u;var n=r(4012).q,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(56753);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(94378)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new o("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=O;var i,s={deprecate:r(41159)},a=r(79740),c=r(64293).Buffer,l=global.Uint8Array||function(){},u=r(61195),p=r(82457).getHighWaterMark,d=r(4012).q,f=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,E=u.errorOrDestroy;function _(){}function O(e,t,i){o=o||r(56753),e=e||{},"boolean"!=typeof i&&(i=t instanceof o),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(process.nextTick(o,n),process.nextTick(k,e,t),e._writableState.errorEmitted=!0,E(e,n)):(o(n),e._writableState.errorEmitted=!0,E(e,n),k(e,t))}(e,r,n,t,o);else{var i=x(r)||e.destroyed;i||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),n?process.nextTick(C,e,r,i,o):C(e,r,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(o=o||r(56753));if(!t&&!i.call(S,this))return new S(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var o=t.bufferedRequestCount,i=new Array(o),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,T(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,p=r.callback;if(T(e,t,!1,t.objectMode?1:l.length,l,u,p),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(94378)(S,a),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===S&&e&&e._writableState instanceof O}})):i=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new m)},S.prototype.write=function(e,t,r){var n,o=this._writableState,i=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=_),o.ending?function(e,t){var r=new b;E(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new f("chunk",["string","Buffer"],r)),!o||(E(e,o),process.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,i=function(e,t,r,n,o,i){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,o);n!==s&&(r=!0,o="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,n,o,i);return l}(this,o,s,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new h("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=u.destroy,S.prototype._undestroy=u.undestroy,S.prototype._destroy=function(e,t){t(e)}},45850:(e,t,r)=>{"use strict";var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(8610),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function h(e){var t=e[s];if(null!==t){var r=e[d].read();null!==r&&(e[u]=null,e[s]=null,e[a]=null,t(f(r,!1)))}}function g(e){process.nextTick(h,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,n=this[u];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(f(void 0,!0)):t[p](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[p])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},d,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,p,{value:function(e,t){var n=r[d].read();n?(r[u]=null,r[s]=null,r[a]=null,e(f(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[u]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[u]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[u]=null,r[s]=null,r[a]=null,n(f(void 0,!0))),r[l]=!0})),e.on("readable",g.bind(null,r)),r}},57327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(64293).Buffer,a=r(31669).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,o=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=o,n=a,s.prototype.copy.call(t,r,n),a+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?n+=o:n+=o.slice(0,e),0==(e-=i)){i===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(i));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,r),e}()},61195:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var i=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(t,i,e)):process.nextTick(t,i,e):o?(process.nextTick(r,i),o(e)):process.nextTick(r,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4012).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,r,i){if("function"==typeof r)return e(t,null,r);r||(r={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(i||o);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,s||i.call(t)},p=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,p=!0,a||i.call(t)},f=function(e){i.call(t,e)},h=function(){var e;return s&&!p?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",h),t.req?g():t.on("request",g)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",h)}}},96307:(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var s=e.apply(t,r);function a(e){n(s,o,i,a,c,"next",e)}function c(e){n(s,o,i,a,c,"throw",e)}a(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(4012).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),l=!1;function u(){return p.apply(this,arguments)}function p(){return(p=o((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?u():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,u())},c}},59946:(e,t,r)=>{"use strict";var n,o=r(4012).q,i=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:o},(function(e){if(e)return i(e);a=!0,i()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function p(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=p(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,r){var i=r<t.length-1;return c(e,i,r>0,(function(e){n||(n=e),e&&s.forEach(l),i||(s.forEach(l),o(n))}))}));return t.reduce(u)}},82457:(e,t,r)=>{"use strict";var n=r(4012).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,o){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(o?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},79740:(e,t,r)=>{e.exports=r(92413)},11451:(e,t,r)=>{var n=r(92413);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(79481)).Stream=n||t,t.Readable=t,t.Writable=r(64229),t.Duplex=r(56753),t.Transform=r(74605),t.PassThrough=r(82725),t.finished=r(8610),t.pipeline=r(59946))},72971:(e,t,r)=>{"use strict";var{PassThrough:n}=r(92413),o=r(5267)("retry-request"),i={objectMode:!1,retries:2,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(e){var t,r=[[100,199],[429,429],[500,599]],n=e.statusCode;for(o(`Response status: ${n}`);t=r.shift();)if(n>=t[0]&&n<=t[1])return!0}};function s(e){return 1e3*Math.pow(2,e)+Math.floor(1e3*Math.random())}e.exports=function(e,t,a){var c="function"!=typeof arguments[arguments.length-1];if("function"==typeof t&&(a=t),void 0===(t=t||i).objectMode&&(t.objectMode=i.objectMode),void 0===t.request)try{t.request=r(Object(function(){var e=new Error("Cannot find module 'request'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){throw new Error("A request library must be provided to retry-request.")}"number"!=typeof t.retries&&(t.retries=i.retries);var l="number"==typeof t.currentRetryAttempt;l||(t.currentRetryAttempt=i.currentRetryAttempt),"number"!=typeof t.noResponseRetries&&(t.noResponseRetries=i.noResponseRetries),"function"!=typeof t.shouldRetryFn&&(t.shouldRetryFn=i.shouldRetryFn);var u,p,d,f,h=t.currentRetryAttempt,g=0,m=!1,y={abort:function(){f&&f.abort&&f.abort()}};return c&&((u=new n({objectMode:t.objectMode})).abort=v),h>0?w(h):b(),c?u:y;function v(){d=null,p&&(p.abort&&p.abort(),p.cancel&&p.cancel(),p.destroy?p.destroy():p.end&&p.end())}function b(){h++,o(`Current retry attempt: ${h}`),c?(m=!1,d=new n({objectMode:t.objectMode}),p=t.request(e),setImmediate((function(){u.emit("request")})),p.on("error",(function(e){m||(m=!0,E(e))})).on("response",(function(e,t){m||(m=!0,E(null,e,t))})).on("complete",u.emit.bind(u,"complete")),p.pipe(d)):f=t.request(e,E)}function w(e){c&&v();var t=s(e);o(`Next retry delay: ${t}`),setTimeout(b,t)}function E(e,r,n){e?++g<=t.noResponseRetries?w(g):c?(u.emit("error",e),u.end()):a(e,r,n):(l?h:h-1)<t.retries&&t.shouldRetryFn(r)?w(h):c?(u.emit("response",r),d.pipe(u),p.on("error",(function(e){u.destroy(e)}))):a(e,r,n)}},e.exports.getNextRetryDelay=s},80574:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(34163)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},34163:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(17247),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5267:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(80574):e.exports=r(53189)},53189:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(34163)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},17247:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},99353:(e,t,r)=>{e.exports=r(71846)},71846:(e,t,r)=>{var n=r(41960);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],e)"function"==typeof e[o]&&n.push(o);for(var i=0;i<n.length;i++){var s=n[i],a=e[s];e[s]=function(n){var o=t.operation(r),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),s.apply(this,arguments))})),o.attempt((function(){n.apply(e,i)}))}.bind(e,a),e[s].options=r}}},41960:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,o=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&o.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,s=(e[i]||0)+1;e[i]=s,s>=r&&(t=o,r=s)}return t}},89509:(e,t,r)=>{var n=r(64293),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),i(o,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},36625:(e,t)=>{var r;t=e.exports=K,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var l=s++;i[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;i[u]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=s++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var d=s++;i[d]="(?:"+i[a]+"|"+i[l]+")";var f=s++;i[f]="(?:"+i[c]+"|"+i[l]+")";var h=s++;i[h]="(?:-("+i[d]+"(?:\\."+i[d]+")*))";var g=s++;i[g]="(?:-?("+i[f]+"(?:\\."+i[f]+")*))";var m=s++;i[m]="[0-9A-Za-z-]+";var y=s++;i[y]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var v=s++,b="v?"+i[u]+i[h]+"?"+i[y]+"?";i[v]="^"+b+"$";var w="[v=\\s]*"+i[p]+i[g]+"?"+i[y]+"?",E=s++;i[E]="^"+w+"$";var _=s++;i[_]="((?:<|>)?=?)";var O=s++;i[O]=i[c]+"|x|X|\\*";var S=s++;i[S]=i[a]+"|x|X|\\*";var T=s++;i[T]="[v=\\s]*("+i[S]+")(?:\\.("+i[S]+")(?:\\.("+i[S]+")(?:"+i[h]+")?"+i[y]+"?)?)?";var C=s++;i[C]="[v=\\s]*("+i[O]+")(?:\\.("+i[O]+")(?:\\.("+i[O]+")(?:"+i[g]+")?"+i[y]+"?)?)?";var A=s++;i[A]="^"+i[_]+"\\s*"+i[T]+"$";var x=s++;i[x]="^"+i[_]+"\\s*"+i[C]+"$";var I=s++;i[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var k=s++;i[k]="(?:~>?)";var N=s++;i[N]="(\\s*)"+i[k]+"\\s+",o[N]=new RegExp(i[N],"g");var P=s++;i[P]="^"+i[k]+i[T]+"$";var R=s++;i[R]="^"+i[k]+i[C]+"$";var j=s++;i[j]="(?:\\^)";var D=s++;i[D]="(\\s*)"+i[j]+"\\s+",o[D]=new RegExp(i[D],"g");var L=s++;i[L]="^"+i[j]+i[T]+"$";var F=s++;i[F]="^"+i[j]+i[C]+"$";var M=s++;i[M]="^"+i[_]+"\\s*("+w+")$|^$";var B=s++;i[B]="^"+i[_]+"\\s*("+b+")$|^$";var U=s++;i[U]="(\\s*)"+i[_]+"\\s*("+w+"|"+i[T]+")",o[U]=new RegExp(i[U],"g");var V=s++;i[V]="^\\s*("+i[T]+")\\s+-\\s+("+i[T]+")\\s*$";var q=s++;i[q]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var G=s++;i[G]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)r(H,i[H]),o[H]||(o[H]=new RegExp(i[H]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[E]:o[v]).test(e))return null;try{return new K(e,t)}catch(e){return null}}function K(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof K))return new K(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[E]:o[v]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof K||(e=new K(e,this.options)),this.compareMain(e)||this.comparePre(e)},K.prototype.compareMain=function(e){return e instanceof K||(e=new K(e,this.options)),J(this.major,e.major)||J(this.minor,e.minor)||J(this.patch,e.patch)},K.prototype.comparePre=function(e){if(e instanceof K||(e=new K(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return J(n,o)}while(++t)},K.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new K(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(X(e,t))return null;var r=z(e),n=z(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=J;var W=/^[0-9]+$/;function J(e,t){var r=W.test(e),n=W.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function $(e,t,r){return new K(e,r).compare(new K(t,r))}function Y(e,t,r){return $(e,t,r)>0}function Q(e,t,r){return $(e,t,r)<0}function X(e,t,r){return 0===$(e,t,r)}function Z(e,t,r){return 0!==$(e,t,r)}function ee(e,t,r){return $(e,t,r)>=0}function te(e,t,r){return $(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return X(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return J(t,e)},t.major=function(e,t){return new K(e,t).major},t.minor=function(e,t){return new K(e,t).minor},t.patch=function(e,t){return new K(e,t).patch},t.compare=$,t.compareLoose=function(e,t){return $(e,t,!0)},t.rcompare=function(e,t,r){return $(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=Y,t.lt=Q,t.eq=X,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,l,u,p,d){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function ue(e,t,r,n){var o,i,s,a,c;switch(e=new K(e,n),t=new ie(t,n),r){case">":o=Y,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:s(e.semver,d.semver,n)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[M]:o[B],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new K(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new K(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[q]:o[V];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[U],"$1$2$3"),r("comparator trim",e,o[U]),e=(e=(e=e.replace(o[N],"$1~")).replace(o[D],"$1^")).split(/\s+/).join(" ");var i=t?o[M]:o[B],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[F]:o[L];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[R]:o[P];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[x]:o[A];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),l=c||se(i),u=l||se(s);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new K(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new K(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new K(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new K("0.0.0");if(e.test(r))return r;if(r=new K("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new K(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return ue(e,t,"<",r)},t.gtr=function(e,t,r){return ue(e,t,">",r)},t.outside=ue,t.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof K)return e;if("string"!=typeof e)return null;var t=e.match(o[I]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},27908:(e,t,r)=>{var n,o=r(42357),i=r(85397),s=/^win/i.test(process.platform),a=r(28614);function c(){p&&(p=!1,i.forEach((function(e){try{process.removeListener(e,u[e])}catch(e){}})),process.emit=g,process.reallyExit=f,n.count-=1)}function l(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof a&&(a=a.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new a).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===p&&d();var r="exit";return t&&t.alwaysLast&&(r="afterexit"),n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&c()}},e.exports.unload=c;var u={};i.forEach((function(e){u[e]=function(){process.listeners(e).length===n.count&&(c(),l("exit",null,e),l("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=d;var p=!1;function d(){p||(p=!0,n.count+=1,i=i.filter((function(e){try{return process.on(e,u[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=h)}var f=process.reallyExit;function h(e){process.exitCode=e||0,l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),f.call(process,process.exitCode)}var g=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=g.apply(this,arguments);return l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),r}return g.apply(this,arguments)}},85397:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},3513:e=>{e.exports=function e(n){return n&&"object"==typeof n?t(n)||r(n)?n:Array.isArray(n)?n.map(e):Object.keys(n).reduce((function(t,r){return t[r[0].toLowerCase()+r.slice(1).replace(/([A-Z]+)/g,(function(e,t){return"_"+t.toLowerCase()}))]=e(n[r]),t}),{}):n};var t=function(e){return"[object Date]"===Object.prototype.toString.call(e)},r=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},17840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Adapter=void 0;const n=r(28614);class o extends n.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(const r of t)this.sids.get(e).add(r),this.rooms.has(r)||(this.rooms.set(r,new Set),this.emit("create-room",r)),this.rooms.get(r).has(e)||(this.rooms.get(r).add(e),this.emit("join-room",r,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){this.rooms.has(e)&&(this.rooms.get(e).delete(t)&&this.emit("leave-room",e,t),0===this.rooms.get(e).size&&(this.rooms.delete(e),this.emit("delete-room",e)))}delAll(e){if(this.sids.has(e)){for(const t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(e,t){const r=t.flags||{},n={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;const o=this.encoder.encode(e),i=Object.assign({wsPreEncoded:"4"+o[0]},n);this.apply(t,(e=>{e.client.writeToEngine(o[0],i);for(let t=1;t<o.length;t++)e.client.writeToEngine(o[t],n)}))}sockets(e){const t=new Set;return this.apply({rooms:e},(e=>{t.add(e.id)})),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const t=[];return this.apply(e,(e=>{t.push(e)})),Promise.resolve(t)}addSockets(e,t){this.apply(e,(e=>{e.join(t)}))}delSockets(e,t){this.apply(e,(e=>{t.forEach((t=>e.leave(t)))}))}disconnectSockets(e,t){this.apply(e,(e=>{e.disconnect(t)}))}apply(e,t){const r=e.rooms,n=this.computeExceptSids(e.except);if(r.size){const e=new Set;for(const o of r)if(this.rooms.has(o))for(const r of this.rooms.get(o)){if(e.has(r)||n.has(r))continue;const o=this.nsp.sockets.get(r);o&&(t(o),e.add(r))}}else for(const[e]of this.sids){if(n.has(e))continue;const r=this.nsp.sockets.get(e);r&&t(r)}}computeExceptSids(e){const t=new Set;if(e&&e.size>0)for(const r of e)this.rooms.has(r)&&this.rooms.get(r).forEach((e=>t.add(e)));return t}serverSideEmit(e){throw new Error("this adapter does not support the serverSideEmit() functionality")}}t.Adapter=o},67719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const n=r(22986);function o(e,t){if(!e)return e;if(n.isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=o(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=o(e[n],t));return r}return e}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=i(e[r],t);else if("object"==typeof e)for(const r in e)e.hasOwnProperty(r)&&(e[r]=i(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=o(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=void 0,e}},95485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r(98767),o=r(67719),i=r(22986),s=r(33810)("socket.io-parser");var a;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(a=t.PacketType||(t.PacketType={})),t.Encoder=class{encode(e){return s("encoding packet %j",e),e.type!==a.EVENT&&e.type!==a.ACK||!i.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),s("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=o.deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class c extends n{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===a.BINARY_EVENT||t.type===a.BINARY_ACK?(this.reconstructor=new l(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!i.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!c.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return s("decoded %s as %j",e,r),r}static isPayloadValid(e,t){switch(e){case a.CONNECT:return"object"==typeof t;case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=c;class l{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},22986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);function s(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||i&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},41618:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(65224)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},65224:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(98896),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},33810:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(41618):e.exports=r(65080)},65080:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(65224)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},98896:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},32555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSocket=t.BroadcastOperator=void 0;const n=r(37121),o=r(95485);class i{constructor(e,t=new Set,r=new Set,n={}){this.adapter=e,this.rooms=t,this.exceptRooms=r,this.flags=n}to(e){const t=new Set(this.rooms);return Array.isArray(e)?e.forEach((e=>t.add(e))):t.add(e),new i(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach((e=>t.add(e))):t.add(e),new i(this.adapter,this.rooms,t,this.flags)}compress(e){const t=Object.assign({},this.flags,{compress:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}get volatile(){const e=Object.assign({},this.flags,{volatile:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}get local(){const e=Object.assign({},this.flags,{local:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}emit(e,...t){if(n.RESERVED_EVENTS.has(e))throw new Error(`"${e}" is a reserved event name`);const r=[e,...t],i={type:o.PacketType.EVENT,data:r};if("function"==typeof r[r.length-1])throw new Error("Callbacks are not supported when broadcasting");return this.adapter.broadcast(i,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms}).then((e=>e.map((e=>e instanceof n.Socket?e:new s(this.adapter,e)))))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms},e)}}t.BroadcastOperator=i;class s{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new i(e,new Set([this.id]))}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}t.RemoteSocket=s},2783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(95485),o=r(12586),i=r(78835),s=o("socket.io:client");t.Client=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout((()=>{0===this.nsps.size?(s("no namespace joined yet, close the client"),this.close()):s("the client has already joined a namespace, nothing to do")}),this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return s("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,(r=>{r?(s("dynamic namespace %s was created",r),this.doConnect(e,t)):(s("creation of namespace %s was denied",e),this._packet({type:n.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))}))}doConnect(e,t){const r=this.server.of(e),n=r._add(this,t,(()=>{this.sockets.set(n.id,n),this.nsps.set(r.name,n),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}))}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else s("ignoring remove for %s",e.id)}close(){"open"===this.conn.readyState&&(s("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){if("open"!==this.conn.readyState)return void s("ignoring packet write %j",e);const r=this.encoder.encode(e);for(const e of r)this.writeToEngine(e,t)}writeToEngine(e,t){!t.volatile||this.conn.transport.writable?this.conn.write(e,t):s("volatile packet is discarded since the transport is not currently writable")}ondata(e){try{this.decoder.add(e)}catch(e){this.onerror(e)}}ondecoded(e){if(n.PacketType.CONNECT===e.type)if(3===this.conn.protocol){const t=i.parse(e.nsp,!0);this.connect(t.pathname,t.query)}else this.connect(e.nsp,e.data);else{const t=this.nsps.get(e.nsp);t?process.nextTick((function(){t._onpacket(e)})):s("no socket for namespace %s",e.nsp)}}onerror(e){for(const t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e){s("client close with reason %s",e),this.destroy();for(const t of this.sockets.values())t._onclose(e);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}}},62730:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.Socket=t.Server=void 0;const a=r(98605),c=r(35747),l=r(78761),u=r(59078),p=r(92413),d=r(85622),f=r(22731),h=r(2783),g=r(28614),m=r(81984);Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return m.Namespace}});const y=r(61255),v=r(17840),b=i(r(95485)),w=s(r(12586)),E=r(37121);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return E.Socket}});const _=r(7257),O=w.default("socket.io:server"),S=r(97865).i8,T=/\.map/;class C extends _.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,"object"==typeof e&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(!1!==t.serveClient),this._parser=t.parser||b,this.encoder=new this._parser.Encoder,this.adapter(t.adapter||v.Adapter),this.sockets=this.of("/"),this.opts=t,e&&this.attach(e)}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,r){if(0===this.parentNsps.size)return r(!1);const n=this.parentNsps.keys(),o=()=>{const i=n.next();if(i.done)return r(!1);i.value(e,t,((t,n)=>{if(t||!n)o();else{const t=this.parentNsps.get(i.value).createChild(e);this.sockets.emitReserved("new_namespace",t),r(t)}}))};o()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");const t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.min|\\.msgpack\\.min)?\\.js(\\.map)?$"),this}connectTimeout(e){return void 0===e?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(const e of this._nsps.values())e._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if("function"==typeof e)throw new Error("You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.");if(Number(e)==e&&(e=Number(e)),"number"==typeof e){O("creating http server and binding to %d",e);const t=e;(e=a.createServer(((e,t)=>{t.writeHead(404),t.end()}))).listen(t)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}initEngine(e,t){O("creating engine.io instance with opts %j",t),this.eio=f.attach(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){O("attaching client serving req handler");const t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",((r,n)=>{if(this.clientPathRegex.test(r.url))this.serve(r,n);else for(let o=0;o<t.length;o++)t[o].call(e,r,n)}))}serve(e,t){const r=e.url.replace(this._path,""),n=T.test(r),o=n?"map":"source",i='"'+S+'"',s="W/"+i,a=e.headers["if-none-match"];if(a&&(i===a||s===a))return O("serve client %s 304",o),t.writeHead(304),void t.end();O("serve client %s",o),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(n?"json":"javascript")),t.setHeader("ETag",i),n||t.setHeader("X-SourceMap",r.substring(1)+".map"),C.sendFile(r,e,t)}static sendFile(e,t,r){const n=c.createReadStream(d.join(__dirname,"../client-dist/",e)),o=e=>{e&&r.end()};switch(u(t).encodings(["br","gzip","deflate"])){case"br":r.writeHead(200,{"content-encoding":"br"}),n.pipe(l.createBrotliCompress()).pipe(r),p.pipeline(n,l.createBrotliCompress(),r,o);break;case"gzip":r.writeHead(200,{"content-encoding":"gzip"}),p.pipeline(n,l.createGzip(),r,o);break;case"deflate":r.writeHead(200,{"content-encoding":"deflate"}),p.pipeline(n,l.createDeflate(),r,o);break;default:r.writeHead(200),p.pipeline(n,r,o)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){O("incoming connection with id %s",e.id);const t=new h.Client(this,e);return 3===e.protocol&&t.connect("/"),this}of(e,t){if("function"==typeof e||e instanceof RegExp){const r=new y.ParentNamespace(this);return O("initializing parent namespace %s",r.name),"function"==typeof e?this.parentNsps.set(e,r):this.parentNsps.set(((t,r,n)=>n(null,e.test(t))),r),t&&r.on("connect",t),r}"/"!==String(e)[0]&&(e="/"+e);let r=this._nsps.get(e);return r||(O("initializing namespace %s",e),r=new m.Namespace(this,e),this._nsps.set(e,r),"/"!==e&&this.sockets.emitReserved("new_namespace",r)),t&&r.on("connect",t),r}close(e){for(const e of this.sockets.sockets.values())e._onclose("server shutting down");this.engine.close(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e),this}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}}t.Server=C,Object.keys(g.EventEmitter.prototype).filter((function(e){return"function"==typeof g.EventEmitter.prototype[e]})).forEach((function(e){C.prototype[e]=function(){return this.sockets[e].apply(this.sockets,arguments)}})),e.exports=(e,t)=>new C(e,t),e.exports.Server=C,e.exports.Namespace=m.Namespace,e.exports.Socket=E.Socket},81984:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.RESERVED_EVENTS=void 0;const o=r(37121),i=r(7257),s=n(r(12586)),a=r(32555),c=s.default("socket.io:namespace");t.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class l extends i.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){const r=this._fns.slice(0);if(!r.length)return t(null);!function n(o){r[o](e,(function(e){return e?t(e):r[o+1]?void n(o+1):t(null)}))}(0)}to(e){return new a.BroadcastOperator(this.adapter).to(e)}in(e){return new a.BroadcastOperator(this.adapter).in(e)}except(e){return new a.BroadcastOperator(this.adapter).except(e)}_add(e,t,r){c("adding socket to nsp %s",this.name);const n=new o.Socket(this,e,t);return this.run(n,(t=>{process.nextTick((()=>{if("open"==e.conn.readyState){if(t)return 3===e.conn.protocol?n._error(t.data||t.message):n._error({message:t.message,data:t.data});this.sockets.set(n.id,n),n._onconnect(),r&&r(),this.emitReserved("connect",n),this.emitReserved("connection",n)}else c("next called after client was closed - ignoring socket")}))})),n}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):c("ignoring remove for %s",e.id)}emit(e,...t){return new a.BroadcastOperator(this.adapter).emit(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...r){if(t.RESERVED_EVENTS.has(e))throw new Error(`"${e}" is a reserved event name`);return r.unshift(e),this.adapter.serverSideEmit(r),!0}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new a.BroadcastOperator(this.adapter).allSockets()}compress(e){return new a.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new a.BroadcastOperator(this.adapter).volatile}get local(){return new a.BroadcastOperator(this.adapter).local}fetchSockets(){return new a.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new a.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new a.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new a.BroadcastOperator(this.adapter).disconnectSockets(e)}}t.Namespace=l},61255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentNamespace=void 0;const n=r(81984);class o extends n.Namespace{constructor(e){super(e,"/_"+o.count++),this.children=new Set}_initAdapter(){this.adapter={broadcast:(e,t)=>{this.children.forEach((r=>{r.adapter.broadcast(e,t)}))}}}emit(e,...t){return this.children.forEach((r=>{r.emit(e,...t)})),!0}createChild(e){const t=new n.Namespace(this.server,e);return t._fns=this._fns.slice(0),this.listeners("connect").forEach((e=>t.on("connect",e))),this.listeners("connection").forEach((e=>t.on("connection",e))),this.children.add(t),this.server._nsps.set(e,t),t}}t.ParentNamespace=o,o.count=0},37121:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.RESERVED_EVENTS=void 0;const o=r(95485),i=r(78835),s=n(r(12586)),a=r(7257),c=n(r(7936)),l=r(32555),u=s.default("socket.io:socket");t.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);class p extends a.StrictEventEmitter{constructor(e,t,r){super(),this.nsp=e,this.client=t,this.data={},this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,3===t.conn.protocol?this.id="/"!==e.name?e.name+"#"+t.id:t.id:this.id=c.default.generateId(),this.connected=!0,this.disconnected=!1,this.handshake=this.buildHandshake(r)}buildHandshake(e){return{headers:this.request.headers,time:new Date+"",address:this.conn.remoteAddress,xdomain:!!this.request.headers.origin,secure:!!this.request.connection.encrypted,issued:+new Date,url:this.request.url,query:i.parse(this.request.url,!0).query,auth:e}}emit(e,...r){if(t.RESERVED_EVENTS.has(e))throw new Error(`"${e}" is a reserved event name`);const n=[e,...r],i={type:o.PacketType.EVENT,data:n};"function"==typeof n[n.length-1]&&(u("emitting packet with ack id %d",this.nsp._ids),this.acks.set(this.nsp._ids,n.pop()),i.id=this.nsp._ids++);const s=Object.assign({},this.flags);return this.flags={},this.packet(i,s),!0}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=!1!==t.compress,this.client._packet(e,t)}join(e){return u("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return u("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){u("socket connected - writing packet"),this.join(this.id),3===this.conn.protocol?this.packet({type:o.PacketType.CONNECT}):this.packet({type:o.PacketType.CONNECT,data:{sid:this.id}})}_onpacket(e){switch(u("got packet %j",e),e.type){case o.PacketType.EVENT:case o.PacketType.BINARY_EVENT:this.onevent(e);break;case o.PacketType.ACK:case o.PacketType.BINARY_ACK:this.onack(e);break;case o.PacketType.DISCONNECT:this.ondisconnect();break;case o.PacketType.CONNECT_ERROR:this._onerror(new Error(e.data))}}onevent(e){const t=e.data||[];if(u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}this.dispatch(t)}ack(e){const t=this;let r=!1;return function(){if(r)return;const n=Array.prototype.slice.call(arguments);u("sending ack %j",n),t.packet({id:e,type:o.PacketType.ACK,data:n}),r=!0}}onack(e){const t=this.acks.get(e.id);"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):u("bad ack %s",e.id)}ondisconnect(){u("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.listeners("error").length?this.emitReserved("error",e):(console.error("Missing error handler on `socket`."),console.error(e.stack))}_onclose(e){if(!this.connected)return this;u("closing socket - reason %s",e),this.emitReserved("disconnecting",e),this.leaveAll(),this.nsp._remove(this),this.client._remove(this),this.connected=!1,this.disconnected=!0,this.emitReserved("disconnect",e)}_error(e){this.packet({type:o.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:o.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}dispatch(e){u("dispatching an event %j",e),this.run(e,(t=>{process.nextTick((()=>{if(t)return this._onerror(t);this.connected?super.emitUntyped.apply(this,e):u("ignore packet received after disconnection")}))}))}use(e){return this.fns.push(e),this}run(e,t){const r=this.fns.slice(0);if(!r.length)return t(null);!function n(o){r[o](e,(function(e){return e?t(e):r[o+1]?void n(o+1):t(null)}))}(0)}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}newBroadcastOperator(){const e=Object.assign({},this.flags);return this.flags={},new l.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}}t.Socket=p},7257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;const n=r(28614);class o extends n.EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}}t.StrictEventEmitter=o},25617:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(72382)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},72382:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function i(...e){if(!i.enabled)return;const n=i,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(6467),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},12586:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(25617):e.exports=r(36833)},36833:(e,t,r)=>{const n=r(33867),o=r(31669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(92130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(72382)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},6467:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},97865:e=>{"use strict";e.exports={i8:"4.1.1"}},67570:(e,t)=>{function r(e,t){return e===t?0:e<t?-1:1}function n(e,t,n){n||(n=r);var i=o(e,t,n);return-1===i?-1:0===n(e[i],t)?i:-1}function o(e,t,n){n||(n=r);for(var o=e.length,i=o-1,s=0,a=-1;i>=s&&s>=0&&i<o;){var c=n(e[a=Math.floor((i+s)/2)],t);if(0===c)return a;c>=0?i=a-1:s=a+1}return a}t.add=function(e,t,n){n||(n=r);for(var o=e.push(t)-1;o;){if(n(e[o-1],t)<0)return;e[o]=e[o-1],e[o-1]=t,o--}},t.addFromFront=function(e,t,n){n||(n=r);for(var o=e.unshift(t)-1,i=0;i<o;i++){if(n(t,e[i+1])<0)return;e[i]=e[i+1],e[i+1]=t}},t.remove=function(e,t,r){var o=n(e,t,r);return-1!==o&&(e.splice(o,1),!0)},t.has=function(e,t,r){return n(e,t,r)>-1},t.eq=n,t.lte=function(e,t,n){n||(n=r);var i=o(e,t,n);if(-1===i)return-1;for(;i>=0;i--)if(n(e[i],t)<=0)return i;return-1},t.lt=function(e,t,n){n||(n=r);var i=o(e,t,n);if(-1===i)return-1;for(;i>=0;i--)if(n(e[i],t)<0)return i;return-1},t.gte=function(e,t,n){n||(n=r);var i=o(e,t,n);if(-1===i)return-1;for(;i<e.length;i++)if(n(e[i],t)>=0)return i;return-1},t.gt=function(e,t,n){n||(n=r);var i=o(e,t,n);if(-1===i)return-1;for(;i<e.length;i++)if(n(e[i],t)>0)return i;return-1},t.nearest=function(e,t,n){n||(n=r);for(var o=e.length,i=o-1,s=0,a=-1,c=1;i>=s&&s>=0&&i<o;){var l=n(e[a=Math.floor((i+s)/2)],t);if(0===l)return a;if(l>=0){if(1===c)c=0;else if(2===c)return Math.abs(e[a]-t)>Math.abs(e[a-1]-t)?a-1:a;i=a-1}else{if(1===c)c=2;else if(0===c)return a;s=a+1}}return a}},65573:(e,t,r)=>{"use strict";var n=r(43337);e.exports=function(e){var t={callthrough:!0,calls:1};return n(e=e||this,"_read",t,e.emit.bind(e,"reading")),n(e,"_write",t,e.emit.bind(e,"writing")),e}},31852:e=>{e.exports=function(e){var t,r=e._readableState;return r?r.objectMode||"number"==typeof e._duplexState?e.read():e.read((t=r).buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length):null}},31301:(e,t,r)=>{var n=r(28614).EventEmitter;function o(e,t,r,n,o){for(var i=0;i<o;++i,++t,++n)if(e[t]!==r[n])return!1;return!0}function i(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(31669).inherits)(i,n),i.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},i.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},i.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,i=-this._lookbehind_size,s=r[n-1],a=this._occ,c=this._lookbehind;if(i<0){for(;i<0&&i<=t-n;){if((u=this._sbmh_lookup_char(e,i+n-1))===s&&this._sbmh_memcmp(e,i,n-1))return this._lookbehind_size=0,++this.matches,i>-this._lookbehind_size?this.emit("info",!0,c,0,this._lookbehind_size+i):this.emit("info",!0),this._bufpos=i+n,i+n;i+=a[u]}if(i<0)for(;i<0&&!this._sbmh_memcmp(e,i,t-i);)i++;if(!(i>=0)){var l=this._lookbehind_size+i;return l>0&&this.emit("info",!1,c,0,l),c.copy(c,0,l,this._lookbehind_size-l),this._lookbehind_size-=l,e.copy(c,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,c,0,this._lookbehind_size),this._lookbehind_size=0}for(i>=0&&(i+=this._bufpos);i<=t-n;){var u;if((u=e[i+n-1])===s&&e[i]===r[0]&&o(r,0,e,i,n-1))return++this.matches,i>0?this.emit("info",!0,e,this._bufpos,i):this.emit("info",!0),this._bufpos=i+n,i+n;i+=a[u]}if(i<t){for(;i<t&&(e[i]!==r[0]||!o(e,i,r,0,t-i));)++i;i<t&&(e.copy(c,0,i,i+(t-i)),this._lookbehind_size=t-i)}return i>0&&this.emit("info",!1,e,this._bufpos,i<t?i:t),this._bufpos=t,t},i.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},i.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=i},32553:(e,t,r)=>{"use strict";var n=r(40396).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=p,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=s(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},40396:(e,t,r)=>{var n=r(64293),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},43337:e=>{"use strict";e.exports=function(e,t,r,n){if(!e||!t||!e[t])throw new Error("You must provide an object and a key for an existing method");n||(n=r,r={}),n=n||function(){},r.callthrough=r.callthrough||!1,r.calls=r.calls||0;var o=0===r.calls,i=e[t].bind(e);e[t]=function(){var s,a=[].slice.call(arguments);return r.callthrough&&(s=i.apply(e,a)),s=n.apply(e,a)||s,o||0!=--r.calls||(e[t]=i),s}}},92130:(e,t,r)=>{"use strict";const n=r(12087),o=r(86560),i=process.env;let s;function a(e){return 0!==(t=function(e){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in i))||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3};var t}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},85041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeenyStatistics=t.TeenyStatisticsWarning=void 0;class r extends Error{constructor(e){super(e),this.threshold=0,this.type="",this.value=0,this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}t.TeenyStatisticsWarning=r,r.CONCURRENT_REQUESTS="ConcurrentRequestsExceededWarning";class n{constructor(e){this._concurrentRequests=0,this._didConcurrentRequestWarn=!1,this._options=n._prepareOptions(e)}getOptions(){return Object.assign({},this._options)}setOptions(e){const t=this._options;return this._options=n._prepareOptions(e),t}get counters(){return{concurrentRequests:this._concurrentRequests}}requestStarting(){if(this._concurrentRequests++,this._options.concurrentRequests>0&&this._concurrentRequests>=this._options.concurrentRequests&&!this._didConcurrentRequestWarn){this._didConcurrentRequestWarn=!0;const e=new r("Possible excessive concurrent requests detected. "+this._concurrentRequests+" requests in-flight, which exceeds the configured threshold of "+this._options.concurrentRequests+". Use the TEENY_REQUEST_WARN_CONCURRENT_REQUESTS environment variable or the concurrentRequests option of teeny-request to increase or disable (0) this warning.");e.type=r.CONCURRENT_REQUESTS,e.value=this._concurrentRequests,e.threshold=this._options.concurrentRequests,process.emitWarning(e)}}requestFinished(){this._concurrentRequests--}static _prepareOptions({concurrentRequests:e}={}){let t=this.DEFAULT_WARN_CONCURRENT_REQUESTS;const r=Number(process.env.TEENY_REQUEST_WARN_CONCURRENT_REQUESTS);return void 0!==e?t=e:Number.isNaN(r)||(t=r),{concurrentRequests:t}}}t.TeenyStatistics=n,n.DEFAULT_WARN_CONCURRENT_REQUESTS=5e3},20409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgent=t.pool=void 0;const n=r(98605),o=r(57211),i=r(78835);t.pool=new Map,t.getAgent=function(e,s){const a=e.startsWith("http://"),c=s.proxy||process.env.HTTP_PROXY||process.env.http_proxy||process.env.HTTPS_PROXY||process.env.https_proxy,l=Object.assign({},s.pool);if(c)return new(r(a?39201:26018))({...i.parse(c),...l});let u=a?"http":"https";if(s.forever&&(u+=":forever",!t.pool.has(u))){const e=a?n.Agent:o.Agent;t.pool.set(u,new e({...l,keepAlive:!0}))}return t.pool.get(u)}},34904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teenyRequest=t.RequestError=void 0;const n=r(83574),o=r(92413),i=r(85693),s=r(20409),a=r(85041),c=r(65573);class l extends Error{}function u(e,t){const r={};r.agent=e.agent||!1,r.headers=e.headers||{},r.href=t.url;const n={};return t.headers.forEach(((e,t)=>n[t]=e)),Object.assign(t.body,{statusCode:t.status,statusMessage:t.statusText,request:r,body:t.body,headers:n,toJSON:()=>({headers:n})})}function p(e,t){const{uri:a,options:l}=function(e){const t={method:e.method||"GET",...e.timeout&&{timeout:e.timeout},..."boolean"==typeof e.gzip&&{compress:e.gzip}};"object"==typeof e.json?(e.headers=e.headers||{},e.headers["Content-Type"]="application/json",t.body=JSON.stringify(e.json)):"string"!=typeof e.body?t.body=JSON.stringify(e.body):t.body=e.body,t.headers=e.headers;let n=e.uri||e.url;return!0!==e.useQuerystring&&"object"!=typeof e.qs||(n=n+"?"+r(71191).stringify(e.qs)),t.agent=s.getAgent(n,e),{uri:n,options:t}}(e),d=e.multipart;if(e.multipart&&2===d.length){if(!t)throw new Error("Multipart without callback is not implemented.");const e=i.v4();return l.headers["Content-Type"]=`multipart/related; boundary=${e}`,l.body=function(e,t){const r=`--${e}--`,n=new o.PassThrough;for(const o of t){const t=`--${e}\r\nContent-Type: ${o["Content-Type"]}\r\n\r\n`;n.write(t),"string"==typeof o.body?(n.write(o.body),n.write("\r\n")):(o.body.pipe(n,{end:!1}),o.body.on("end",(()=>{n.write("\r\n"),n.write(r),n.end()})))}return n}(e,d),p.stats.requestStarting(),void n.default(a,l).then((e=>{p.stats.requestFinished();const r=e.headers.get("content-type"),n=u(l,e),o=n.body;"application/json"!==r&&"application/json; charset=utf-8"!==r?e.text().then((e=>{n.body=e,t(null,n,e)}),(e=>{t(e,n,o)})):e.json().then((e=>{n.body=e,t(null,n,e)}),(e=>{t(e,n,o)}))}),(e=>{p.stats.requestFinished(),t(e,null,null)}))}if(void 0===t){const e=c(new o.PassThrough);let t;return e.once("reading",(()=>{t?t.pipe(e):e.once("response",(()=>{t.pipe(e)}))})),l.compress=!1,p.stats.requestStarting(),n.default(a,l).then((r=>{p.stats.requestFinished(),t=r.body,t.on("error",(t=>{e.emit("error",t)}));const n=u(l,r);e.emit("response",n)}),(t=>{p.stats.requestFinished(),e.emit("error",t)})),e}p.stats.requestStarting(),n.default(a,l).then((e=>{p.stats.requestFinished();const r=e.headers.get("content-type"),n=u(l,e),o=n.body;if("application/json"===r||"application/json; charset=utf-8"===r)return 204===n.statusCode?void t(null,n,o):void e.json().then((e=>{n.body=e,t(null,n,e)}),(e=>{t(e,n,o)}));e.text().then((r=>{const n=u(l,e);n.body=r,t(null,n,r)}),(e=>{t(e,n,o)}))}),(e=>{p.stats.requestFinished(),t(e,null,null)}))}t.RequestError=l,t.teenyRequest=p,p.defaults=e=>(t,r)=>{const n={...e,...t};if(void 0===r)return p(n);p(n,r)},p.stats=new a.TeenyStatistics,p.resetStats=()=>{p.stats=new a.TeenyStatistics(p.stats.getOptions())}},65054:(e,t,r)=>{var n=r(4501).strict;e.exports=function(e){if(n(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)}},36277:(e,t,r)=>{"use strict";const n=r(20511);e.exports=()=>n(32)},41159:(e,t,r)=>{e.exports=r(31669).deprecate},85693:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NIL:()=>v,parse:()=>p,stringify:()=>o.Z,v1:()=>l,v3:()=>g,v4:()=>m.Z,v5:()=>y,validate:()=>u.Z,version:()=>b});var n=r(8488),o=r(88865);let i,s,a=0,c=0;const l=function(e,t,r){let l=t&&r||0;const u=t||new Array(16);let p=(e=e||{}).node||i,d=void 0!==e.clockseq?e.clockseq:s;if(null==p||null==d){const t=e.random||(e.rng||n.Z)();null==p&&(p=i=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const g=f-a+(h-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=h,s=d,f+=122192928e5;const m=(1e4*(268435455&f)+h)%4294967296;u[l++]=m>>>24&255,u[l++]=m>>>16&255,u[l++]=m>>>8&255,u[l++]=255&m;const y=f/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(let e=0;e<6;++e)u[l+e]=p[e];return t||(0,o.Z)(u)};var u=r(80359);const p=function(e){if(!(0,u.Z)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function d(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=p(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),a=r(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=a[e];return i}return(0,o.Z)(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var f=r(76417),h=r.n(f);const g=d("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("md5").update(e).digest()}));var m=r(9568);const y=d("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("sha1").update(e).digest()})),v="00000000-0000-0000-0000-000000000000",b=function(e){if(!(0,u.Z)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},8488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(76417),o=r.n(n);const i=new Uint8Array(256);let s=i.length;function a(){return s>i.length-16&&(o().randomFillSync(i),s=0),i.slice(s,s+=16)}},88865:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(80359);const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).substr(1));const i=function(e,t=0){const r=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!(0,n.Z)(r))throw TypeError("Stringified UUID is invalid");return r}},9568:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(8488),o=r(88865);const i=function(e,t,r){const i=(e=e||{}).random||(e.rng||n.Z)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return(0,o.Z)(i)}},80359:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&n.test(e)}},45181:e=>{"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var n=e.getHeader("Vary")||"",o=Array.isArray(n)?n.join(", "):String(n);(n=r(o,t))&&e.setHeader("Vary",n)},e.exports.append=r;var t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function r(e,r){if("string"!=typeof e)throw new TypeError("header argument is required");if(!r)throw new TypeError("field argument is required");for(var o=Array.isArray(r)?r:n(String(r)),i=0;i<o.length;i++)if(!t.test(o[i]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,a=n(e.toLowerCase());if(-1!==o.indexOf("*")||-1!==a.indexOf("*"))return"*";for(var c=0;c<o.length;c++){var l=o[c].toLowerCase();-1===a.indexOf(l)&&(a.push(l),s=s?s+", "+o[c]:o[c])}return s}function n(e){for(var t=0,r=[],n=0,o=0,i=e.length;o<i;o++)switch(e.charCodeAt(o)){case 32:n===t&&(n=t=o+1);break;case 44:r.push(e.substring(n,t)),n=t=o+1;break;default:t=o+1}return r.push(e.substring(n,t)),r}},52479:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},70902:(e,t,r)=>{"use strict";e.exports=function(e,t,r,o){r instanceof Function&&(o=r,r={});const p=async function(e,t,r={}){let o,p;"string"==typeof r&&(r={encoding:r});const d=i(h((()=>p))),m=s.resolve(e);try{await function(e){return new Promise((t=>{u[e]||(u[e]=[]),u[e].push(t),1===u[e].length&&t()}))}(m);const i=await l(n.realpath)(e).catch((()=>e));if(p=f(i),!r.mode||!r.chown){const e=await l(n.stat)(i).catch((()=>{}));e&&(null==r.mode&&(r.mode=e.mode),null==r.chown&&process.getuid&&(r.chown={uid:e.uid,gid:e.gid}))}o=await l(n.open)(p,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(p),a(t)&&(t=c(t)),Buffer.isBuffer(t)?await l(n.write)(o,t,0,t.length,0):null!=t&&await l(n.write)(o,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&await l(n.fsync)(o),await l(n.close)(o),o=null,r.chown&&await l(n.chown)(p,r.chown.uid,r.chown.gid).catch((e=>{if(!g(e))throw e})),r.mode&&await l(n.chmod)(p,r.mode).catch((e=>{if(!g(e))throw e})),await l(n.rename)(p,i)}finally{o&&await l(n.close)(o).catch((()=>{})),d(),await l(n.unlink)(p).catch((()=>{})),u[m].shift(),u[m].length>0?u[m][0]():delete u[m]}}(e,t,r);return o&&p.then(o,o),p},e.exports.sync=function(e,t,r){"string"==typeof r?r={encoding:r}:r||(r={});try{e=n.realpathSync(e)}catch(e){}const o=f(e);if(!r.mode||!r.chown)try{const t=n.statSync(e);(r=Object.assign({},r)).mode||(r.mode=t.mode),!r.chown&&process.getuid&&(r.chown={uid:t.uid,gid:t.gid})}catch(e){}let s;const l=h(o),u=i(l);let p=!0;try{if(s=n.openSync(o,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(o),a(t)&&(t=c(t)),Buffer.isBuffer(t)?n.writeSync(s,t,0,t.length,0):null!=t&&n.writeSync(s,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&n.fsyncSync(s),n.closeSync(s),s=null,r.chown)try{n.chownSync(o,r.chown.uid,r.chown.gid)}catch(e){if(!g(e))throw e}if(r.mode)try{n.chmodSync(o,r.mode)}catch(e){if(!g(e))throw e}n.renameSync(o,e),p=!1}finally{if(s)try{n.closeSync(s)}catch(e){}u(),p&&l()}},e.exports._getTmpname=f,e.exports._cleanupOnExit=h;const n=r(35747),o=r(4269),i=r(27908),s=r(85622),a=r(4501),c=r(65054),{promisify:l}=r(31669),u={},p=function(){try{return r(65013).threadId}catch(e){return 0}}();let d=0;function f(e){return e+"."+o(__filename).hash(String(process.pid)).hash(String(p)).hash(String(++d)).result()}function h(e){return()=>{try{n.unlinkSync("function"==typeof e?e():e)}catch(e){}}}function g(e){return"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}},8777:(e,t,r)=>{"use strict";const n=r(88762);n.createWebSocketStream=r(30404),n.Server=r(39284),n.Receiver=r(32957),n.Sender=r(57330),e.exports=n},30977:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:n}=r(41872);function o(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,o),o+=n.length}return o<t?r.slice(0,o):r}function i(e,t,r,n,o){for(let i=0;i<o;i++)r[n+i]=e[i]^t[3&i]}function s(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}())),n=t.BufferUtil||t;e.exports={concat:o,mask(e,t,r,o,s){s<48?i(e,t,r,o,s):n.mask(e,t,r,o,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:o,mask:i,toArrayBuffer:a,toBuffer:c,unmask:s}}},41872:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},10062:e=>{"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class r extends t{constructor(e,t){super("message",t),this.data=e}}class n extends t{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class o extends t{constructor(e){super("open",e)}}class i extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const s={addEventListener(e,t,s){if("function"!=typeof t)return;function a(e){t.call(this,new r(e,this))}function c(e,r){t.call(this,new n(e,r,this))}function l(e){t.call(this,new i(e,this))}function u(){t.call(this,new o(this))}const p=s&&s.once?"once":"on";"message"===e?(a._listener=t,this[p](e,a)):"close"===e?(c._listener=t,this[p](e,c)):"error"===e?(l._listener=t,this[p](e,l)):"open"===e?(u._listener=t,this[p](e,u)):this[p](e,t)},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=s},51503:e=>{"use strict";const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const n=Object.create(null);if(void 0===e||""===e)return n;let o,i,s=Object.create(null),a=!1,c=!1,l=!1,u=-1,p=-1,d=0;for(;d<e.length;d++){const f=e.charCodeAt(d);if(void 0===o)if(-1===p&&1===t[f])-1===u&&(u=d);else if(32===f||9===f)-1===p&&-1!==u&&(p=d);else{if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);const t=e.slice(u,p);44===f?(r(n,t,s),s=Object.create(null)):o=t,u=p=-1}}else if(void 0===i)if(-1===p&&1===t[f])-1===u&&(u=d);else if(32===f||9===f)-1===p&&-1!==u&&(p=d);else if(59===f||44===f){if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d),r(s,e.slice(u,p),!0),44===f&&(r(n,o,s),s=Object.create(null),o=void 0),u=p=-1}else{if(61!==f||-1===u||-1!==p)throw new SyntaxError(`Unexpected character at index ${d}`);i=e.slice(u,d),u=p=-1}else if(c){if(1!==t[f])throw new SyntaxError(`Unexpected character at index ${d}`);-1===u?u=d:a||(a=!0),c=!1}else if(l)if(1===t[f])-1===u&&(u=d);else if(34===f&&-1!==u)l=!1,p=d;else{if(92!==f)throw new SyntaxError(`Unexpected character at index ${d}`);c=!0}else if(34===f&&61===e.charCodeAt(d-1))l=!0;else if(-1===p&&1===t[f])-1===u&&(u=d);else if(-1===u||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);let t=e.slice(u,p);a&&(t=t.replace(/\\/g,""),a=!1),r(s,i,t),44===f&&(r(n,o,s),s=Object.create(null),o=void 0),i=void 0,u=p=-1}}else-1===p&&(p=d)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===p&&(p=d);const f=e.slice(u,p);return void 0===o?r(n,f,s):(void 0===i?r(s,f,!0):r(s,i,a?f.replace(/\\/g,""):f),r(n,o,s)),n}}},10305:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},75196:(e,t,r)=>{"use strict";const n=r(78761),o=r(30977),i=r(10305),{kStatusCode:s,NOOP:a}=r(41872),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),f=Symbol("error");let h;function g(e){this[d].push(e),this[u]+=e.length}function m(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[d].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][s]=1009,this.removeListener("data",m),this.reset())}function y(e){this[l]._inflate=null,e[s]=1007,this[p](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){h.add((n=>{this._decompress(e,t,((e,t)=>{n(),r(e,t)}))}))}compress(e,t,r){h.add((n=>{this._compress(e,t,((e,t)=>{n(),r(e,t)}))}))}_decompress(e,t,r){const i=this._isServer?"client":"server";if(!this._inflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[d]=[],this._inflate.on("error",y),this._inflate.on("data",m)}this._inflate[p]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=o.concat(this._inflate[d],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[d]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,n)}))}_compress(e,t,r){const i=this._isServer?"server":"client";if(!this._deflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[d]=[],this._deflate.on("error",a),this._deflate.on("data",g)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[d],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[p]=null,this._deflate[u]=0,this._deflate[d]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}}},32957:(e,t,r)=>{"use strict";const{Writable:n}=r(92413),o=r(75196),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(41872),{concat:l,toArrayBuffer:u,unmask:p}=r(30977),{isValidStatusCode:d,isValidUTF8:f}=r(6746);function h(e,t,r,n){const o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,h),o[a]=n,o}e.exports=class extends n{constructor(e,t,r,n){super(),this._binaryType=e||i[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,h(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,h(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,h(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,h(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,h(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,h(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,h(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,h(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,h(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,h(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&p(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(h(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",r)}else{const r=l(t,e);if(!f(r))return this._loop=!1,h(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return h(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!d(t))return h(RangeError,`invalid status code ${t}`,!0,1002);const r=e.slice(2);if(!f(r))return h(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},57330:(e,t,r)=>{"use strict";const{randomFillSync:n}=r(76417),o=r(75196),{EMPTY_BUFFER:i}=r(41872),{isValidStatusCode:s}=r(6746),{mask:a,toBuffer:c}=r(30977),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let o=t.mask?6:2,i=e.length;e.length>=65536?(o+=8,i=127):e.length>125&&(o+=2,i=126);const s=Buffer.allocUnsafe(r?e.length+o:o);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=i,126===i?s.writeUInt16BE(e.length,2):127===i&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(n(l,0,4),s[1]|=128,s[o-4]=l[0],s[o-3]=l[1],s[o-2]=l[2],s[o-1]=l[3],r?(a(e,l,s,o,e.length),[s]):(a(e,l,e,0,e.length),[s,e])):[s,e]}close(e,t,r,n){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+r),o.writeUInt16BE(e,0),o.write(t,2)}}this._deflating?this.enqueue([this.doClose,o,r,n]):this.doClose(o,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),i=this._extensions[o.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&(a=n.length>=i._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),i){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const i=this._extensions[o.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,i.compress(e,r.fin,((t,o)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];"function"==typeof r&&r(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(o,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},30404:(e,t,r)=>{"use strict";const{Duplex:n}=r(92413);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(o,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",i),c.on("error",s),c}},6746:(e,t,r)=>{"use strict";function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function o(e){const t=e.length;let r=0;for(;r<t;)if(e[r]<128)r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{let t=r(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?o(e):t(e)}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:o}}},39284:(e,t,r)=>{"use strict";const n=r(28614),{createHash:o}=r(76417),{createServer:i,STATUS_CODES:s}=r(98605),a=r(75196),c=r(88762),{format:l,parse:u}=r(51503),{GUID:p,kWebSocket:d}=r(41872),f=/^[+/0-9A-Za-z]{22}==$/;function h(e){e.emit("close")}function g(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||s[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",g),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i(((e,t)=>{const r=s[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close((()=>this.emit("close"))):process.nextTick(h,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",g);const o=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),i=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!o||!f.test(o)||8!==i&&13!==i||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),s[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,((i,a,c,l)=>{if(!i)return m(t,a||401,c,l);this.completeUpgrade(o,s,e,t,r,n)}));if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(o,s,e,t,r,n)}completeUpgrade(e,t,r,n,i,s){if(!n.readable||!n.writable)return n.destroy();if(n[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(e+p).digest("base64")}`],f=new c(null);let h=r.headers["sec-websocket-protocol"];if(h&&(h=h.trim().split(/ *, */),h=this.options.handleProtocols?this.options.handleProtocols(h,r):h[0],h&&(u.push(`Sec-WebSocket-Protocol: ${h}`),f._protocol=h)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push(`Sec-WebSocket-Extensions: ${r}`),f._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",g),f.setSocket(n,i,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",(()=>this.clients.delete(f)))),s(f,r)}}},88762:(e,t,r)=>{"use strict";const n=r(28614),o=r(57211),i=r(98605),s=r(11631),a=r(4016),{randomBytes:c,createHash:l}=r(76417),{URL:u}=r(78835),p=r(75196),d=r(32957),f=r(57330),{BINARY_TYPES:h,EMPTY_BUFFER:g,GUID:m,kStatusCode:y,kWebSocket:v,NOOP:b}=r(41872),{addEventListener:w,removeEventListener:E}=r(10062),{format:_,parse:O}=r(51503),{toBuffer:S}=r(30977),T=["CONNECTING","OPEN","CLOSING","CLOSED"],C=[8,13];class A extends n{constructor(e,t,r){super(),this._binaryType=h[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=A.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),x(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){h.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new d(this.binaryType,this._extensions,this._isServer,r);this._sender=new f(e,this._extensions),this._receiver=n,this._socket=e,n[v]=this,e[v]=this,n.on("conclude",R),n.on("drain",j),n.on("error",D),n.on("message",F),n.on("ping",M),n.on("pong",B),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",U),e.on("data",V),e.on("end",q),e.on("error",G),this._readyState=A.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=A.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=A.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this.readyState!==A.CLOSING?(this._readyState=A.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)):P(this,e,r)}pong(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)):P(this,e,r)}send(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==A.OPEN)return void P(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||g,n,r)}terminate(){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this._socket&&(this._readyState=A.CLOSING,this._socket.destroy())}}}function x(e,t,r,n){const s={protocolVersion:C[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!C.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${C.join(", ")})`);let a;t instanceof u?(a=t,e._url=t.href):(a=new u(t),e._url=t);const d="ws+unix:"===a.protocol;if(!(a.host||d&&a.pathname))throw new Error(`Invalid URL: ${e.url}`);const f="wss:"===a.protocol||"https:"===a.protocol,h=f?443:80,g=c(16).toString("base64"),y=f?o.get:i.get;let v;if(s.createConnection=f?k:I,s.defaultPort=s.defaultPort||h,s.port=a.port||h,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(v=new p(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=_({[p.extensionName]:v.offer()})),r&&(s.headers["Sec-WebSocket-Protocol"]=r),s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),d){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}let b=e._req=y(s);s.timeout&&b.on("timeout",(()=>{N(e,b,"Opening handshake has timed out")})),b.on("error",(t=>{null===b||b.aborted||(b=e._req=null,e._readyState=A.CLOSING,e.emit("error",t),e.emitClose())})),b.on("response",(o=>{const i=o.headers.location,a=o.statusCode;if(i&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void N(e,b,"Maximum redirects exceeded");b.abort();const o=new u(i,t);x(e,o,r,n)}else e.emit("unexpected-response",b,o)||N(e,b,`Unexpected server response: ${o.statusCode}`)})),b.on("upgrade",((t,n,o)=>{if(e.emit("upgrade",t),e.readyState!==A.CONNECTING)return;b=e._req=null;const i=l("sha1").update(g+m).digest("base64");if(t.headers["sec-websocket-accept"]!==i)return void N(e,n,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"],c=(r||"").split(/, */);let u;if(!r&&a?u="Server sent a subprotocol but none was requested":r&&!a?u="Server sent no subprotocol":a&&!c.includes(a)&&(u="Server sent an invalid subprotocol"),u)N(e,n,u);else{if(a&&(e._protocol=a),v)try{const r=O(t.headers["sec-websocket-extensions"]);r[p.extensionName]&&(v.accept(r[p.extensionName]),e._extensions[p.extensionName]=v)}catch(t){return void N(e,n,"Invalid Sec-WebSocket-Extensions header")}e.setSocket(n,o,s.maxPayload)}}))}function I(e){return e.path=e.socketPath,s.connect(e)}function k(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function N(e,t,r){e._readyState=A.CLOSING;const n=new Error(r);Error.captureStackTrace(n,N),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function P(e,t,r){if(t){const r=S(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(new Error(`WebSocket is not open: readyState ${e.readyState} (${T[e.readyState]})`))}function R(e,t){const r=this[v];r._socket.removeListener("data",V),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function j(){this[v]._socket.resume()}function D(e){const t=this[v];t._socket.removeListener("data",V),t._readyState=A.CLOSING,t._closeCode=e[y],t.emit("error",e),t._socket.destroy()}function L(){this[v].emitClose()}function F(e){this[v].emit("message",e)}function M(e){const t=this[v];t.pong(e,!t._isServer,b),t.emit("ping",e)}function B(e){this[v].emit("pong",e)}function U(){const e=this[v];this.removeListener("close",U),this.removeListener("end",q),e._readyState=A.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",V),this[v]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",L),e._receiver.on("finish",L))}function V(e){this[v]._receiver.write(e)||this.pause()}function q(){const e=this[v];e._readyState=A.CLOSING,e._receiver.end(),this.end()}function G(){const e=this[v];this.removeListener("error",G),this.on("error",b),e&&(e._readyState=A.CLOSING,this.destroy())}T.forEach(((e,t)=>{const r={enumerable:!0,value:t};Object.defineProperty(A.prototype,e,r),Object.defineProperty(A,e,r)})),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach((e=>{Object.defineProperty(A.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(A.prototype,`on${e}`,{configurable:!0,enumerable:!0,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})})),A.prototype.addEventListener=w,A.prototype.removeEventListener=E,e.exports=A},20071:(e,t,r)=>{"use strict";const n=r(12087),o=r(85622),i=n.homedir(),{env:s}=process;t.data=s.XDG_DATA_HOME||(i?o.join(i,".local","share"):void 0),t.config=s.XDG_CONFIG_HOME||(i?o.join(i,".config"):void 0),t.cache=s.XDG_CACHE_HOME||(i?o.join(i,".cache"):void 0),t.runtime=s.XDG_RUNTIME_DIR||void 0,t.dataDirs=(s.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),t.data&&t.dataDirs.unshift(t.data),t.configDirs=(s.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),t.config&&t.configDirs.unshift(t.config)},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var s=[];for(n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<r.length;n++)i=o(this,i,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(49602)(n)}catch(e){}},60591:e=>{class t{constructor(e){this.value=e,this.next=void 0}}class r{constructor(){this.clear()}enqueue(e){const r=new t(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}e.exports=r},42357:e=>{"use strict";e.exports=require("assert")},64293:e=>{"use strict";e.exports=require("buffer")},63129:e=>{"use strict";e.exports=require("child_process")},27619:e=>{"use strict";e.exports=require("constants")},76417:e=>{"use strict";e.exports=require("crypto")},40881:e=>{"use strict";e.exports=require("dns")},28614:e=>{"use strict";e.exports=require("events")},35747:e=>{"use strict";e.exports=require("fs")},98605:e=>{"use strict";e.exports=require("http")},97565:e=>{"use strict";e.exports=require("http2")},57211:e=>{"use strict";e.exports=require("https")},11631:e=>{"use strict";e.exports=require("net")},12087:e=>{"use strict";e.exports=require("os")},85622:e=>{"use strict";e.exports=require("path")},94213:e=>{"use strict";e.exports=require("punycode")},71191:e=>{"use strict";e.exports=require("querystring")},92413:e=>{"use strict";e.exports=require("stream")},4016:e=>{"use strict";e.exports=require("tls")},33867:e=>{"use strict";e.exports=require("tty")},78835:e=>{"use strict";e.exports=require("url")},31669:e=>{"use strict";e.exports=require("util")},65013:e=>{"use strict";e.exports=require("worker_threads")},78761:e=>{"use strict";e.exports=require("zlib")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(98605),t=__webpack_require__(62730);const{Server:r,Namespace:n,Socket:o}=t;var i,s=__webpack_require__(29364),a=s.initializeApp({credential:s.credential.cert({type:"service_account",project_id:"licencjat-62707",private_key_id:"2e03d50f2cfdf9a75098b276370ac6fc0a352733",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDCv1Qg7DlTu/BW\nlQpL8V0hKMwkoyZxk4/9/tiBDjHSfSM6X85V8yEfcZ1jxhCFHEVoWcgKAhE8MJLL\n/osKVS52q0XWMfhV2SNaRHGVK9qF5pyY2cP+TXYPKrX4F1hIz4+sf3QFzfBrRiyj\nbnsm4jp38JNa2sNzMluYXrr6qJbcFpSW7QC1lwgkRHSC2DNVJQ0negR+F9j11+De\nNEbjRMx7XldxdjEeiPC5a1ux7OQIraT06wEDBXPaltmhHU03kJZksSvTacmwpAGV\nXiSkkiPVL72EhgoFrybEoSUpS5IT6DSzkcCuN88pj8b+cnoRgV/IqAVCm8YgVZaV\nkD06zq0tAgMBAAECggEAKTgkVxSQnK28dKL2izTivIw9SyriDeuI8F5yljw6JN5a\nKLaS/mOnuNdMFAxdvkLJ2QiZu66M1dPFGlq9tJnra/Ab57ZrZMZBAo/Wh5eA2NMD\nBaIf5vEfwh2M5t4QEFcoRn8ygDECyD3R4GSXudbrv6uikLoZYMZBl0pDop6w0ZOx\n2Vvkn9DypbY4T4h2VlKQ2+zEgjp1kEwxHqBWdtwSSDa8im8WPeYsux3gW9Q77YUn\nROcvMDVfY6cM4AgICldcFyjuBuIGQD0tYIH7rqq+sfFs7V4oln5hopFVNWjr3W4e\n7UWMFElgLid/LgLbCt8nd6+21eMvlsHWF9gdfaWtqQKBgQD5EyjXX5J/mb9tYY3i\nE/7kmW9aT2a5i5bPqINvDO6JII7VaNofL7m3vI8SnMc1px3iR6kdamCJ9l7OzcIe\nuQMkmlXgnXU6LaKmPtfQEoQIp2Y3qYRLGKR95mbr1gWOkcZU7ThMiloJB0XCul6Z\nEpty5Z1uQy7+vYJ47mUmRuOdSQKBgQDIKXt+VVHW2WQzJ8pyWVwZrhBqNOl2NykB\n6dzgSUR+FXpO7pb5HXrt+r2hpq0DyJeYFKG7JzTrbD3A9Mo42HghNYNcmWf2746R\nAfIvXu4mBJjYLNiLe7PnIg+dTGyTbTRA9o9kdxxClBKnRgBAI3WYPBcR5l3c2Jz/\nflTx7SWExQKBgQCjveC/lejtUdnywotP8O1Ew0ndCQ3zNL00Twf43XuDUpAT5BZh\nIjLpg2BbUA32S6Ltu0aGPASzLfAt7D6Ni/tw+LU0MM98K7wdpnqiI0oBlmswdJSv\n+cdJrUpECDMnAtZrxneYeeuuu8U0uuitoPnokuLoNeqTNWqsrax5eWjxYQKBgGVi\n/bakKOwW+XYf9Z+uO8SWMqJZYtgKYK8jckn5UsQ6xNUubTKKCDZ7B4rWDlUYShEy\ngil2VovZK/6M/9GDdHX90SgaXFrsRN6WicIM57xCH9l//b/JTPsKebZHe8fBTPKK\n8V8GJj5jGn+4KXBThcEyzsy2T10KK5wOtaBFavexAoGAZByFSshYe2lG+FroKPO5\nrsDbPH+7wgvMtTTXhwx9b/2pG2hnbfvwOXSqHMHP2e+7jNeThR2IbwmHEyy1Q0lv\nIht7ehMo/WgFn9LVDYXwJm1J8Ww0/TvBUwQWHV6eI5HboLrYuOGKH60elBGXglrj\n6eME1qWhu12pGB4ZW+rbs9g=\n-----END PRIVATE KEY-----\n",client_email:"firebase-adminsdk-w0jj9@licencjat-62707.iam.gserviceaccount.com",client_id:"111410480171579209537",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-w0jj9%40licencjat-62707.iam.gserviceaccount.com"})}).firestore(),c=s,l=__webpack_require__(9568),u=function(e,t,r){return{id:(0,l.Z)(),name:e,category:t,size:20,users:[],messages:[],type:r,avatar:"https://www.unfe.org/wp-content/uploads/2019/04/SM-placeholder-1024x512.png"}},p=function(e,t,r,n){return{id:(0,l.Z)(),author:e,date:new Date(Date.now()).getTime(),msg:t,channel:r,system:n}},d=function(e,t,r){return{id:(0,l.Z)(),type:t,message:r,date:new Date(Date.now()).getTime(),channelId:e}},f=__webpack_require__(54221),h=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},g=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},m=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},b=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},w=[],E=[],_=[],O="";["A.I.","acting","anatomy","animals","animation","anime","architecture","art","baseball","board games","body building","books","boxing","buildings","cars","cartoons","cats","chemistry","chess","cities","clothes","computers","dancing","design","dogs","diseases","drawing","drinks","ecology","emotions","ethics","fishing","fitness","food","football","furniture","gardening","golf","guitar","guns","hacking","health","hiking","history","IT","jewelry","kids","languages","magic","martial arts","mathematics","movies","music","mythology","nature","painting","photography","places","poker","psychology","robotics","school","science","shopping","space","sport","surfing","swimming","tattoos","tea","technology","tennis","traveling","vegetarian","virtual reality","wine","wrestling","yoga"].forEach((function(e){w.push(u(e,e,"public"))})),i=w,f.scheduleJob("0 0 * * *",(function(){return h(void 0,void 0,void 0,(function(){var e;return g(this,(function(t){switch(t.label){case 0:return[4,(r=i,h(void 0,void 0,void 0,(function(){var e,t,n,o,i,s,l,u;return g(this,(function(p){switch(p.label){case 0:return e=r.filter((function(e){return"public"===e.type})),[4,a.collection("cod").doc("categories").get()];case 1:return t=p.sent().data(),n=new Date(Date.now()).getTime(),o=[],e.forEach((function(e){var r=e.category,i=0,s=e.messages.filter((function(e){return n-e.date<864e5}));i+=s.length,i+=10*Array.from(new Set(s.map((function(e){return e.author.email})))).length,i+=25*e.users.length;var a={category:r,score:i+=250*t[r].length};o.push(a)})),(i=o.reduce((function(e,t){return t.score<e[0].score?[t]:t.score===e[0].score?m(m([],e),[t]):e}),[o[0]])).length>0?(l=Math.floor(Math.random()*(i.length-1)),s=i[l]):s[0]=i,[4,a.collection("cod").doc("categories").update((u={},u[s.category]=c.firestore.FieldValue.arrayUnion(n),u)).catch((function(e){return console.log(e.message)}))];case 2:return p.sent(),[4,a.collection("cod").doc("today").set({category:s.category})];case 3:return p.sent(),[2,s.category||"space"]}}))})))];case 1:return e=t.sent(),x(e),[2]}var r}))}))})),a.collection("channels").get().then((function(e){e.forEach((function(e){var t=e.data();t&&w.push(t)}))})),a.collection("users").get().then((function(e){e.forEach((function(e){var t=e.data();t&&E.push(t)}))})),a.collection("cod").doc("today").get().then((function(e){O=e.data().category}));var S=function(e){return w.find((function(t){return t.id===e})).users.map((function(e){var t=E.find((function(t){return t.email===e}));return{email:t.email,name:t.name,avatar:t.avatar,color:t.color}}))},T=function(e,t){return v(void 0,void 0,void 0,(function(){return b(this,(function(r){return[2,new Promise((function(r,n){a.collection("users").doc(e.name).update({notifications:c.firestore.FieldValue.arrayRemove(t)}).then((function(){var r=E.find((function(t){return t.email===e.email})),n=r.notifications.findIndex((function(e){return e.id===t.id}));r.notifications.splice(n,1)})).catch((function(){return n("Couldn't connecto to the database.")}))}))]}))}))},C=function(e,t){var r=E.find((function(t){return t.email===e}));if(!r)throw new Error("Try again.");var n=y(y({},r),{channels:r.channels.map((function(e){return w.find((function(t){return t.id===e}))})).map((function(e){return y(y({},e),{users:S(e.id)})}))}),o=y(y({socketId:t},n),{publicChannels:[]});return _.push(o),{user:n,catOfDay:O}},A=function(e,t){return new Promise((function(r,n){var o=w.find((function(e){return e.id===t})),i=E.find((function(t){return t.email===e.email})),s=p(i,i.name+" has left the channel.",o.id,!0);if("public"===o.type){var l=_.find((function(t){return t.email===e.email})),u=l.publicChannels.findIndex((function(e){return e===o.id}));l.publicChannels.splice(u,1);var d=o.users.findIndex((function(t){return t===e.email}));o.users.splice(d,1),r(s)}"private"===o.type&&a.collection("users").doc(i.name).update({channels:c.firestore.FieldValue.arrayRemove(t)}).then((function(){var l=i.channels.findIndex((function(e){return e===t}));if(i.channels.splice(l,1),1===o.users.length){var u=w.indexOf(o);w.splice(u,1),a.collection("channels").doc(o.id).delete().then((function(){r(null)}))}else{var p=o.users.findIndex((function(t){return t===e.email}));o.users.splice(p,1),a.collection("channels").doc(o.id).update({users:c.firestore.FieldValue.arrayRemove(e.email)}).then((function(){r(s)})).catch((function(){n("Couldn't connect to the database.")}))}})).catch((function(e){return console.log(e)}))}))},x=function(e){O=e};__webpack_require__(59738).config();var I=process.env.PORT||5e3,k=(0,e.createServer)(),N=new r(k,{cors:{origin:"https://valks.netlify.app",methods:["GET","POST"]}});N.on("connection",(function(e){console.log(e.id),e.on("register",(function(t,r){!function(e,t){E.push(e);var r={name:e.name,email:e.email,avatar:e.avatar,color:e.color,blockList:[],notifications:[],socketId:t,publicChannels:[]};_.push(r)}(t,e.id),r(!0)})),e.on("deleteAccount",(function(t){var r;(r=t,new Promise((function(e,t){var n=E.find((function(e){return e.email===r.email})),o=E.indexOf(n),i=_.findIndex((function(e){return e.email===n.email})),s=[];new Promise((function(e){var t=n.channels.length;0===t&&e(!0),n.channels.forEach((function(r,o){return v(void 0,void 0,void 0,(function(){var i;return b(this,(function(a){switch(a.label){case 0:return[4,A(n,r)];case 1:return(i=a.sent())&&s.push(i),o===t-1&&e(!0),[2]}}))}))}))})).then((function(){a.collection("users").doc(r.name).delete(),E.splice(o,1),_.splice(i,1),e(s)})).catch((function(){return t("Couldn't connect to the database.")}))}))).then((function(t){t.forEach((function(t){e.to(t.channel).emit("message",t),e.to(t.channel).emit("userList",{channel:t.channel,users:S(t.channel)}),e.leave(t.channel)}))}))})),e.on("activeUser",(function(t,r){try{var n=C(t,e.id),o=n.user,i=n.catOfDay;o.channels.forEach((function(t){return e.join(t.id)})),r({type:"success",message:"User data successfully fetched!",data:{user:o,catOfDay:i}})}catch(e){console.log(e.message),r({type:"error",message:e.message})}})),e.on("disconnect",(function(){return function(e){var t=_.find((function(t){return t.socketId===e}));if(t){t.publicChannels.forEach((function(e){var r=w.find((function(t){return t.id===e})),n=r.users.indexOf(t.email);r.users.splice(n,1)}));var r=_.findIndex((function(t){return t.socketId===e}));_.splice(r,1)}}(e.id)})),e.on("createRoom",(function(t,r){(function(e){return v(void 0,void 0,void 0,(function(){return b(this,(function(t){return[2,new Promise((function(t,r){""===e.name?r("Name can't be empty."):e.name.match(/[^a-z A-Z0-9]/)?r("Name can't containt any special symbols."):e.name.length>32?r("Name can't be longer than 32 characters."):""===e.category?r("Category can't be empty."):e.category.length>32&&r("Category can't be longer than 32 characters.");var n=u(e.name,e.category,"private");n.users.push(e.user.email);var o=p(e.user,e.user.name+", welcome to the channel "+e.name+"!",n.id,!0);a.collection("channels").doc(n.id).set(n).then((function(){a.collection("users").doc(e.user.name).update({channels:c.firestore.FieldValue.arrayUnion(n.id)}),w.push(n);var r=E.find((function(t){return t.email===e.user.email})),i=y(y({},n),{users:S(n.id)});r.channels.push(n.id),t({room:i,msg:o})})).catch((function(e){r("Couldn't connect to the databse.")}))}))]}))}))})(t).then((function(n){e.join(n.room.id),e.emit("message",n.msg),e.emit("userList",{channel:n.room.id,users:[t.user]}),r({type:"success",message:"Room successfully created!",data:n.room})})).catch((function(e){return r({type:"error",message:e})}))})),e.on("sendMessage",(function(t,r){(function(e){return new Promise((function(t,r){var n,o=p(e.author,e.msg,e.channel,!1),i=w.find((function(t){return t.id===e.channel}));i||r("There is no channel with this id."),"public"===i.type&&(i.messages.push(o),t({msg:o,users:[]}));var s=null===(n=o.msg.match(/@[a-z0-9\d]+/gi))||void 0===n?void 0:n.map((function(e){return e.substring(1)})).filter((function(t){return t!==e.author.name})),l=[];null==s||s.forEach((function(e){var t=_.find((function(t){return t.name===e})),r=d(o.channel,"mention",o.msg);t&&l.push({user:t,notification:r});var n=E.find((function(t){return t.name===e}));n.notifications.push(r),n&&a.collection("users").doc(e).update({notifications:c.firestore.FieldValue.arrayUnion(r)})})),a.collection("channels").doc(e.channel).update({messages:c.firestore.FieldValue.arrayUnion(o)}).then((function(){i.messages.push(o),t({msg:o,users:l})})).catch((function(e){r("Couldn't connect to the database.")}))}))})(t).then((function(t){N.in(t.msg.channel).emit("message",t.msg),t.users.forEach((function(t){e.to(t.user.socketId).emit("notification",t.notification)}))})).catch((function(e){r({type:"error",message:e.message})}))})),e.on("sendInvitation",(function(t,r){(function(e){return v(void 0,void 0,void 0,(function(){return b(this,(function(t){return[2,new Promise((function(t,r){a.collection("users").doc(e.name).get().then((function(n){if(n.exists){e.author.email===n.data().email&&r("You can't invite yourself."),n.data().channels.includes(e.channel.id)&&r("User is already a channel member.");var o=e.author.name+" invited you to channel "+e.channel.name,i=d(e.channel.id,"invitation",o);a.collection("users").doc(e.name).update({notifications:c.firestore.FieldValue.arrayUnion(i)}).then((function(){var r=_.find((function(t){return t.name===e.name})),o=E.findIndex((function(e){return e.email===n.data().email}));E[o].notifications.push(i),t({user:r,invite:i})})).catch((function(e){console.log(e.message),r("Couldn't connect to the databse.")}))}else r("There is no user with this name.")})).catch((function(e){console.log(e.message),r("Couldn't connect to the databse.")}))}))]}))}))})(t).then((function(t){t.user&&e.to(t.user.socketId).emit("notification",t.invite),r({type:"success",message:"Invite successfully sent!",data:t.invite})})).catch((function(e){return r({type:"error",message:e})}))})),e.on("acceptInvitation",(function(t,r){(function(e,t){return v(void 0,void 0,void 0,(function(){return b(this,(function(r){return[2,new Promise((function(r,n){var o=E.find((function(t){return t.email===e.email})),i=w.find((function(e){return e.id===t.channelId}));T(e,t).catch((function(e){return n(e)})),a.collection("channels").doc(i.id).update({users:c.firestore.FieldValue.arrayUnion(e.email)}).then((function(){return a.collection("users").doc(e.name).update({channels:c.firestore.FieldValue.arrayUnion(t.channelId)}).then((function(){var t=p(e,e.name+" has joined the channel!",i.id,!0);o.channels.push(i.id),i.users.push(o.email);var n=y(y({},i),{users:S(i.id)});r({channel:n,message:t})})).catch((function(){return n("Couldn't connect to the database.")}))}))}))]}))}))})(t.user,t.invite).then((function(t){t.channel&&(e.join(t.channel.id),e.to(t.channel.id).emit("message",t.message),e.emit("joinChannel",t.channel),e.broadcast.to(t.channel.id).emit("userList",{channel:t.channel.id,users:S(t.channel.id)}),r({type:"success",message:"Invite successfully accepted!",data:t.channel}))})).catch((function(e){console.log(e.message),r({type:"error",message:e})}))})),e.on("joinPublic",(function(t,r){try{var n=function(e,t){var r=w.find((function(e){return"public"===e.type&&e.category===t}));if(r){var n=_.find((function(t){return t.email===e.email}));if(!n)throw new Error("Session expired. Reload the page and try again.");return r.users.push(e.email),n.publicChannels.push(r.id),{room:y(y({},r),{users:S(r.id)}),m1:p(e,e.name+", welcome the channel!",r.id,!0),m2:p(e,e.name+" has joined the channel!",r.id,!0)}}throw new Error("Invalid category.")}(t.user,t.category),o=n.room,i=n.m1,s=n.m2;e.join(o.id),r({type:"success",message:"Successfully joined!",data:o}),e.emit("message",i),e.broadcast.to(o.id).emit("message",s),N.to(o.id).emit("userList",{channel:o.id,users:S(o.id)})}catch(e){r({type:"error",message:e})}})),e.on("deleteNotification",(function(e,t){T(e,t).catch((function(e){console.log(e)}))})),e.on("publicList",(function(e){e({type:"success",message:"List of public channels successfully fetched!",data:w.filter((function(e){return"public"===e.type})).map((function(e){return{name:e.name,users:e.users.length}}))})})),e.on("leaveChannel",(function(t,r){A(t.user,t.channel).then((function(n){e.leave(t.channel),e.broadcast.to(t.channel).emit("message",n),e.broadcast.to(t.channel).emit("userList",{channel:t.channel,users:S(t.channel)}),r({type:"success",message:"Channel successfully left.",data:t.channel})})).catch((function(e){r({type:"error",message:e})}))})),e.on("blockUser",(function(e){!function(e,t){var r=E.findIndex((function(t){return t.email===e.email}));if(-1!==r)if(E[r].blockList.includes(t)){var n=E[r].blockList.findIndex((function(e){return e===t}));E[r].blockList.splice(n,1),a.collection("users").doc(e.name).update({blocked:c.firestore.FieldValue.arrayRemove(t)})}else E[r].blockList.push(t),a.collection("users").doc(e.name).update({blocked:c.firestore.FieldValue.arrayUnion(t)})}(e.user,e.blocked)})),e.on("changeAvatar",(function(e){var t,r;t=e.user,r=e.url,a.collection("users").doc(t.name).update({avatar:r}).then((function(){E.find((function(e){return e.email===t.email})).avatar=r}))}))})),k.listen(I)})()})();